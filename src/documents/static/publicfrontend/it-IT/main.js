globalThis.$localize=Object.assign(globalThis.$localize || {},{locale:"it-IT"});
"use strict";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length,e=parseInt(val.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;if(i===1&&v===0)return 1;if(e===0&&!(i===0)&&i%1000000===0&&v===0||!(e>=0&&e<=5))return 4;return 5}global.ng.common.locales["it"]=["it",[["m.","p."],["AM","PM"],u],u,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],u,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],u,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",u,"{1} {0}",u],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{"BRL":[u,"R$"],"BYN":[u,"Br"],"EGP":[u,"\xA3E"],"HKD":[u,"$"],"INR":[u,"\u20B9"],"JPY":[u,"\xA5"],"KRW":[u,"\u20A9"],"MXN":[u,"$"],"NOK":[u,"NKr"],"THB":["\u0E3F"],"TWD":[u,"NT$"],"USD":[u,"$"],"VND":[u,"\u20AB"]},"ltr",plural,[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],u,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],u,u],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]]})(globalThis);;
(self.webpackChunkpaperless_ui=self.webpackChunkpaperless_ui||[]).push([[792],{302:(De,I,ge)=>{"use strict";let ne=null,ve=!1,de=1;const Se=Symbol("SIGNAL");function ae(e){const i=ne;return ne=e,i}const f={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(e){if(ve)throw new Error("");if(null===ne)return;ne.consumerOnSignalRead(e);const i=ne.nextProducerIndex++;fe(ne),i<ne.producerNode.length&&ne.producerNode[i]!==e&&ee(ne)&&W(ne.producerNode[i],ne.producerIndexOfThis[i]),ne.producerNode[i]!==e&&(ne.producerNode[i]=e,ne.producerIndexOfThis[i]=ee(ne)?D(e,ne,i):0),ne.producerLastReadVersion[i]=e.version}function g(e){if((!ee(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==de)){if(!e.producerMustRecompute(e)&&!y(e))return e.dirty=!1,void(e.lastCleanEpoch=de);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=de}}function C(e){if(void 0===e.liveConsumerNode)return;const i=ve;ve=!0;try{for(const t of e.liveConsumerNode)t.dirty||A(t)}finally{ve=i}}function S(){return!1!==ne?.consumerAllowSignalWrites}function A(e){e.dirty=!0,C(e),e.consumerMarkedDirty?.(e)}function X(e){return e&&(e.nextProducerIndex=0),ae(e)}function y(e){fe(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],n=e.producerLastReadVersion[i];if(n!==t.version||(g(t),n!==t.version))return!0}return!1}function B(e){if(fe(e),ee(e))for(let i=0;i<e.producerNode.length;i++)W(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function D(e,i,t){if(Q(e),0===e.liveConsumerNode.length&&Te(e))for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=D(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(i)-1}function W(e,i){if(Q(e),1===e.liveConsumerNode.length&&Te(e))for(let n=0;n<e.producerNode.length;n++)W(e.producerNode[n],e.producerIndexOfThis[n]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[i],o=e.liveConsumerNode[i];fe(o),o.producerIndexOfThis[n]=i}}function ee(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function fe(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Q(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Te(e){return void 0!==e.producerNode}let M=function Z(){throw new Error};function N(){M()}let G=null;function P(e,i){S()||N(),e.equal(e.value,i)||(e.value=i,function ue(e){e.version++,function E(){de++}(),C(e),G?.()}(e))}const le={...f,equal:function x(e,i){return Object.is(e,i)},value:void 0};function Ie(e){return"function"==typeof e}function Ze(e){const t=e(n=>{Error.call(n),n.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qe=Ze(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ee(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Ne{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:n}=this;if(Ie(n))try{n()}catch(s){i=s instanceof qe?s.errors:[s]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const s of o)try{dt(s)}catch(r){i=i??[],r instanceof qe?i=[...i,...r.errors]:i.push(r)}}if(i)throw new qe(i)}}add(i){var t;if(i&&i!==this)if(this.closed)dt(i);else{if(i instanceof Ne){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&Ee(t,i)}remove(i){const{_finalizers:t}=this;t&&Ee(t,i),i instanceof Ne&&i._removeParent(this)}}Ne.EMPTY=(()=>{const e=new Ne;return e.closed=!0,e})();const Xe=Ne.EMPTY;function We(e){return e instanceof Ne||e&&"closed"in e&&Ie(e.remove)&&Ie(e.add)&&Ie(e.unsubscribe)}function dt(e){Ie(e)?e():e.unsubscribe()}const lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kt={setTimeout(e,i,...t){const{delegate:n}=kt;return n?.setTimeout?n.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=kt;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function sn(e){kt.setTimeout(()=>{const{onUnhandledError:i}=lt;if(!i)throw e;i(e)})}function yn(){}const qn=rs("C",void 0,void 0);function rs(e,i,t){return{kind:e,value:i,error:t}}let zs=null;function xr(e){if(lt.useDeprecatedSynchronousErrorHandling){const i=!zs;if(i&&(zs={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:n}=zs;if(zs=null,t)throw n}}else e()}class ht extends Ne{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,We(i)&&i.add(this)):this.destination=Rr}static create(i,t,n){return new tn(i,t,n)}next(i){this.isStopped?Vs(function Hi(e){return rs("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?Vs(function Vo(e){return rs("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?Vs(qn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ve(e,i){return He.call(e,i)}class St{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(n){Yn(n)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(n){Yn(n)}else Yn(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Yn(t)}}}class tn extends ht{constructor(i,t,n){let o;if(super(),Ie(i)||!i)o={next:i??void 0,error:t??void 0,complete:n??void 0};else{let s;this&&lt.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),o={next:i.next&&Ve(i.next,s),error:i.error&&Ve(i.error,s),complete:i.complete&&Ve(i.complete,s)}):o=i}this.destination=new St(o)}}function Yn(e){lt.useDeprecatedSynchronousErrorHandling?function S0(e){lt.useDeprecatedSynchronousErrorHandling&&zs&&(zs.errorThrown=!0,zs.error=e)}(e):sn(e)}function Vs(e,i){const{onStoppedNotification:t}=lt;t&&kt.setTimeout(()=>t(e,i))}const Rr={closed:!0,next:yn,error:function Ei(e){throw e},complete:yn},Hs="function"==typeof Symbol&&Symbol.observable||"@@observable";function ei(e){return e}function or(e){return 0===e.length?ei:1===e.length?e[0]:function(t){return e.reduce((n,o)=>o(n),t)}}let mn=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,o){const s=function Bl(e){return e&&e instanceof ht||function xa(e){return e&&Ie(e.next)&&Ie(e.error)&&Ie(e.complete)}(e)&&We(e)}(t)?t:new tn(t,n,o);return xr(()=>{const{operator:r,source:a}=this;s.add(r?r.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return new(n=Pi(n))((o,s)=>{const r=new tn({next:a=>{try{t(a)}catch(l){s(l),r.unsubscribe()}},error:s,complete:o});this.subscribe(r)})}_subscribe(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)}[Hs](){return this}pipe(...t){return or(t)(this)}toPromise(t){return new(t=Pi(t))((n,o)=>{let s;this.subscribe(r=>s=r,r=>o(r),()=>n(s))})}}return e.create=i=>new e(i),e})();function Pi(e){var i;return null!==(i=e??lt.Promise)&&void 0!==i?i:Promise}const od=Ze(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class e extends mn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const n=new Ra(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new od}next(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(t)}})}error(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:n,isStopped:o,observers:s}=this;return n||o?Xe:(this.currentObservers=null,s.push(t),new Ne(()=>{this.currentObservers=null,Ee(s,t)}))}_checkFinalizedStatuses(t){const{hasError:n,thrownError:o,isStopped:s}=this;n?t.error(o):s&&t.complete()}asObservable(){const t=new mn;return t.source=this,t}}return e.create=(i,t)=>new Ra(i,t),e})();class Ra extends et{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,i)}error(i){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==n?n:Xe}}class Bn extends et{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:n}=this;if(i)throw t;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function Fa(e){return Ie(e?.lift)}function ti(e){return i=>{if(Fa(i))return i.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ni(e,i,t,n,o){return new $F(e,i,t,n,o)}class $F extends ht{constructor(i,t,n,o,s,r){super(i),this.onFinalize=s,this.shouldUnsubscribe=r,this._next=t?function(a){try{t(a)}catch(l){i.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){i.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function At(e,i){return ti((t,n)=>{let o=0;t.subscribe(ni(n,s=>{n.next(e.call(i,s,o++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const L9="https://g.co/ng/security#xss";class tt extends Error{constructor(i,t){super(function Gl(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function oa(e){return{toString:e}.toString()}const Zl="__parameters__";function Wl(e,i,t){return oa(()=>{const n=function rf(e){return function(...t){if(e){const n=e(...t);for(const o in n)this[o]=n[o]}}}(i);function o(...s){if(this instanceof o)return n.apply(this,s),this;const r=new o(...s);return a.annotation=r,a;function a(l,u,p){const v=l.hasOwnProperty(Zl)?l[Zl]:Object.defineProperty(l,Zl,{value:[]})[Zl];for(;v.length<=p;)v.push(null);return(v[p]=v[p]||[]).push(r),l}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const di=globalThis;function ii(e){for(let i in e)if(e[i]===ii)return i;throw Error("Could not find renamed property on target object.")}function Bk(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function So(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(So).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function af(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const Gk=ii({__forward_ref__:ii});function Xt(e){return e.__forward_ref__=Xt,e.toString=function(){return So(this())},e}function nn(e){return Au(e)?e():e}function Au(e){return"function"==typeof e&&e.hasOwnProperty(Gk)&&e.__forward_ref__===Xt}function za(e,i,t){e!=i&&function Jt(e,i,t,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${t} ${n} ${i} <=Actual]`))}(t,e,i,"==")}function $e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ou(e){return k9(e,Du)||k9(e,z9)}function k9(e,i){return e.hasOwnProperty(i)?e[i]:null}function yu(e){return e&&(e.hasOwnProperty(lf)||e.hasOwnProperty(Kk))?e[lf]:null}const Du=ii({\u0275prov:ii}),lf=ii({\u0275inj:ii}),z9=ii({ngInjectableDef:ii}),Kk=ii({ngInjectorDef:ii});class ct{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _f(e){return e&&!!e.\u0275providers}const rd=ii({\u0275cmp:ii}),pf=ii({\u0275dir:ii}),gf=ii({\u0275pipe:ii}),H9=ii({\u0275mod:ii}),sa=ii({\u0275fac:ii}),ad=ii({__NG_ELEMENT_ID__:ii}),$9=ii({__NG_ENV_ID__:ii});function un(e){return"string"==typeof e?e:null==e?"":String(e)}function ff(e,i){throw new tt(-201,!1)}var Sn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Sn||{});let mf;function B9(){return mf}function $s(e){const i=mf;return mf=e,i}function G9(e,i,t){const n=Ou(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&Sn.Optional?null:void 0!==i?i:void ff()}const ld={},vf="__NG_DI_FLAG__",Nu="ngTempTokenPath",tz=/\n/gm,U9="__source";let Xl;function Va(e){const i=Xl;return Xl=e,i}function oz(e,i=Sn.Default){if(void 0===Xl)throw new tt(-203,!1);return null===Xl?G9(e,void 0,i):Xl.get(e,i&Sn.Optional?null:void 0,i)}function Ke(e,i=Sn.Default){return(B9()||oz)(nn(e),i)}function _e(e,i=Sn.Default){return Ke(e,Pu(i))}function Pu(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Cf(e){const i=[];for(let t=0;t<e.length;t++){const n=nn(e[t]);if(Array.isArray(n)){if(0===n.length)throw new tt(900,!1);let o,s=Sn.Default;for(let r=0;r<n.length;r++){const a=n[r],l=sz(a);"number"==typeof l?-1===l?o=a.token:s|=l:o=a}i.push(Ke(o,s))}else i.push(Ke(n))}return i}function cd(e,i){return e[vf]=i,e.prototype[vf]=i,e}function sz(e){return e[vf]}const Iu=cd(Wl("Optional"),8),Lu=cd(Wl("SkipSelf"),4);function A0(e,i){return e.hasOwnProperty(sa)?e[sa]:null}function Kl(e,i){e.forEach(t=>Array.isArray(t)?Kl(t,i):i(t))}function j9(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function xu(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function ar(e,i,t){let n=ql(e,i);return n>=0?e[1|n]=t:(n=~n,function W9(e,i,t,n){let o=e.length;if(o==i)e.push(t,n);else if(1===o)e.push(n,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>i;)e[o]=e[o-2],o--;e[i]=t,e[i+1]=n}}(e,n,i,t)),n}function Mf(e,i){const t=ql(e,i);if(t>=0)return e[1|t]}function ql(e,i){return function X9(e,i,t){let n=0,o=e.length>>t;for(;o!==n;){const s=n+(o-n>>1),r=e[s<<t];if(i===r)return s<<t;r>i?o=s:n=s+1}return~(o<<t)}(e,i,1)}const T1={},xn=[],Yr=new ct(""),K9=new ct("",-1),bf=new ct("");class Fu{get(i,t=ld){if(t===ld){const n=new Error(`NullInjectorError: No provider for ${So(i)}!`);throw n.name="NullInjectorError",n}return t}}var ku=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ku||{}),Jr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Jr||{}),Yl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Yl||{});function uz(e,i,t){let n=e.length;for(;;){const o=e.indexOf(i,t);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=i.length;if(o+s===n||e.charCodeAt(o+s)<=32)return o}t=o+1}}function Tf(e,i,t){let n=0;for(;n<t.length;){const o=t[n];if("number"==typeof o){if(0!==o)break;n++;const s=t[n++],r=t[n++],a=t[n++];e.setAttribute(i,r,a,s)}else{const s=o,r=t[++n];Y9(s)?e.setProperty(i,s,r):e.setAttribute(i,s,r),n++}}return n}function q9(e){return 3===e||4===e||6===e}function Y9(e){return 64===e.charCodeAt(0)}function dd(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let n=0;n<i.length;n++){const o=i[n];"number"==typeof o?t=o:0===t||J9(e,t,o,null,-1===t||2===t?i[++n]:null)}}return e}function J9(e,i,t,n,o){let s=0,r=e.length;if(-1===i)r=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===i){r=-1;break}if(a>i){r=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==o&&(e[s+1]=o));if(n===e[s+1])return void(e[s+2]=o)}s++,null!==n&&s++,null!==o&&s++}-1!==r&&(e.splice(r,0,i),s=r+1),e.splice(s++,0,t),null!==n&&e.splice(s++,0,n),null!==o&&e.splice(s++,0,o)}const Q9="ng-template";function _z(e,i,t,n){let o=0;if(n){for(;o<i.length&&"string"==typeof i[o];o+=2)if("class"===i[o]&&-1!==uz(i[o+1].toLowerCase(),t,0))return!0}else if(Sf(e))return!1;if(o=i.indexOf(1,o),o>-1){let s;for(;++o<i.length&&"string"==typeof(s=i[o]);)if(s.toLowerCase()===t)return!0}return!1}function Sf(e){return 4===e.type&&e.value!==Q9}function pz(e,i,t){return i===(4!==e.type||t?e.value:Q9)}function gz(e,i,t){let n=4;const o=e.attrs,s=null!==o?function vz(e){for(let i=0;i<e.length;i++)if(q9(e[i]))return i;return e.length}(o):0;let r=!1;for(let a=0;a<i.length;a++){const l=i[a];if("number"!=typeof l){if(!r)if(4&n){if(n=2|1&n,""!==l&&!pz(e,l,t)||""===l&&1===i.length){if(Qr(n))return!1;r=!0}}else if(8&n){if(null===o||!_z(e,o,l,t)){if(Qr(n))return!1;r=!0}}else{const u=i[++a],p=fz(l,o,Sf(e),t);if(-1===p){if(Qr(n))return!1;r=!0;continue}if(""!==u){let v;if(v=p>s?"":o[p+1].toLowerCase(),2&n&&u!==v){if(Qr(n))return!1;r=!0}}}}else{if(!r&&!Qr(n)&&!Qr(l))return!1;if(r&&Qr(l))continue;r=!1,n=l|1&n}}return Qr(n)||r}function Qr(e){return!(1&e)}function fz(e,i,t,n){if(null===i)return-1;let o=0;if(n||!t){let s=!1;for(;o<i.length;){const r=i[o];if(r===e)return o;if(3===r||6===r)s=!0;else{if(1===r||2===r){let a=i[++o];for(;"string"==typeof a;)a=i[++o];continue}if(4===r)break;if(0===r){o+=4;continue}}o+=s?1:2}return-1}return function Cz(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const n=e[t];if("number"==typeof n)return-1;if(n===i)return t;t++}return-1}(i,e)}function eC(e,i,t=!1){for(let n=0;n<i.length;n++)if(gz(e,i[n],t))return!0;return!1}function wz(e,i){e:for(let t=0;t<i.length;t++){const n=i[t];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function tC(e,i){return e?":not("+i.trim()+")":i}function Mz(e){let i=e[0],t=1,n=2,o="",s=!1;for(;t<e.length;){let r=e[t];if("string"==typeof r)if(2&n){const a=e[++t];o+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+r:4&n&&(o+=" "+r);else""!==o&&!Qr(r)&&(i+=tC(s,o),o=""),n=r,s=s||!Qr(n);t++}return""!==o&&(i+=tC(s,o)),i}function it(e){return oa(()=>{const i=iC(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ku.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Jr.Emulated,styles:e.styles||xn,_:null,schemas:e.schemas||null,tView:null,id:""};oC(t);const n=e.dependencies;return t.directiveDefs=zu(n,!1),t.pipeDefs=zu(n,!0),t.id=function Oz(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of t)i=Math.imul(31,i)+o.charCodeAt(0)|0;return i+=2147483648,"c"+i}(t),t})}function Sz(e){return bn(e)||Eo(e)}function Ez(e){return null!==e}function vn(e){return oa(()=>({type:e.type,bootstrap:e.bootstrap||xn,declarations:e.declarations||xn,imports:e.imports||xn,exports:e.exports||xn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function nC(e,i){if(null==e)return T1;const t={};for(const n in e)if(e.hasOwnProperty(n)){const o=e[n];let s,r,a=Yl.None;Array.isArray(o)?(a=o[0],s=o[1],r=o[2]??s):(s=o,r=o),i?(t[s]=a!==Yl.None?[n,a]:n,i[s]=r):t[s]=n}return t}function st(e){return oa(()=>{const i=iC(e);return oC(i),i})}function Zi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bn(e){return e[rd]||null}function Eo(e){return e[pf]||null}function qo(e){return e[gf]||null}function as(e,i){const t=e[H9]||null;if(!t&&!0===i)throw new Error(`Type ${So(e)} does not have '\u0275mod' property.`);return t}function iC(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||T1,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||xn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nC(e.inputs,i),outputs:nC(e.outputs),debugInfo:null}}function oC(e){e.features?.forEach(i=>i(e))}function zu(e,i){if(!e)return null;const t=i?qo:Sz;return()=>("function"==typeof e?e():e).map(n=>t(n)).filter(Ez)}function yz(...e){return{\u0275providers:Ef(0,e),\u0275fromNgModule:!0}}function Ef(e,...i){const t=[],n=new Set;let o;const s=r=>{t.push(r)};return Kl(i,r=>{const a=r;Vu(a,s,[],n)&&(o||=[],o.push(a))}),void 0!==o&&sC(o,s),t}function sC(e,i){for(let t=0;t<e.length;t++){const{ngModule:n,providers:o}=e[t];Af(o,s=>{i(s,n)})}}function Vu(e,i,t,n){if(!(e=nn(e)))return!1;let o=null,s=yu(e);const r=!s&&bn(e);if(s||r){if(r&&!r.standalone)return!1;o=e}else{const l=e.ngModule;if(s=yu(l),!s)return!1;o=l}const a=n.has(o);if(r){if(a)return!1;if(n.add(o),r.dependencies){const l="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const u of l)Vu(u,i,t,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;n.add(o);try{Kl(s.imports,p=>{Vu(p,i,t,n)&&(u||=[],u.push(p))})}finally{}void 0!==u&&sC(u,i)}if(!a){const u=A0(o)||(()=>new o);i({provide:o,useFactory:u,deps:xn},o),i({provide:bf,useValue:o,multi:!0},o),i({provide:Yr,useValue:()=>Ke(o),multi:!0},o)}const l=s.providers;if(null!=l&&!a){const u=e;Af(l,p=>{i(p,u)})}}}return o!==e&&void 0!==e.providers}function Af(e,i){for(let t of e)_f(t)&&(t=t.\u0275providers),Array.isArray(t)?Af(t,i):i(t)}const Dz=ii({provide:String,useValue:ii});function Of(e){return null!==e&&"object"==typeof e&&Dz in e}function O0(e){return"function"==typeof e}const yf=new ct(""),Hu={},Pz={};let Df;function $u(){return void 0===Df&&(Df=new Fu),Df}class Ao{}class Jl extends Ao{get destroyed(){return this._destroyed}constructor(i,t,n,o){super(),this.parent=t,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pf(i,r=>this.processProvider(r)),this.records.set(K9,Ql(void 0,this)),o.has("environment")&&this.records.set(Ao,Ql(void 0,this));const s=this.records.get(yf);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(bf,xn,Sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=ae(null);try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=Va(this),n=$s(void 0);try{return i()}finally{Va(t),$s(n)}}get(i,t=ld,n=Sn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty($9))return i[$9](this);n=Pu(n);const s=Va(this),r=$s(void 0);try{if(!(n&Sn.SkipSelf)){let l=this.records.get(i);if(void 0===l){const u=function Fz(e){return"function"==typeof e||"object"==typeof e&&e instanceof ct}(i)&&Ou(i);l=u&&this.injectableDefInScope(u)?Ql(Nf(i),Hu):null,this.records.set(i,l)}if(null!=l)return this.hydrate(i,l)}return(n&Sn.Self?$u():this.parent).get(i,t=n&Sn.Optional&&t===ld?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Nu]=a[Nu]||[]).unshift(So(i)),s)throw a;return function rz(e,i,t,n){const o=e[Nu];throw i[U9]&&o.unshift(i[U9]),e.message=function az(e,i,t,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=So(i);if(Array.isArray(i))o=i.map(So).join(" -> ");else if("object"==typeof i){let s=[];for(let r in i)if(i.hasOwnProperty(r)){let a=i[r];s.push(r+":"+("string"==typeof a?JSON.stringify(a):So(a)))}o=`{${s.join(", ")}}`}return`${t}${n?"("+n+")":""}[${o}]: ${e.replace(tz,"\n  ")}`}("\n"+e.message,o,t,n),e.ngTokenPath=o,e[Nu]=null,e}(a,i,"R3InjectorError",this.source)}throw a}finally{$s(r),Va(s)}}resolveInjectorInitializers(){const i=ae(null),t=Va(this),n=$s(void 0);try{const s=this.get(Yr,xn,Sn.Self);for(const r of s)r()}finally{Va(t),$s(n),ae(i)}}toString(){const i=[],t=this.records;for(const n of t.keys())i.push(So(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(i){let t=O0(i=nn(i))?i:nn(i&&i.provide);const n=function Lz(e){return Of(e)?Ql(void 0,e.useValue):Ql(lC(e),Hu)}(i);if(!O0(i)&&!0===i.multi){let o=this.records.get(t);o||(o=Ql(void 0,Hu,!0),o.factory=()=>Cf(o.multi),this.records.set(t,o)),t=i,o.multi.push(i)}this.records.set(t,n)}hydrate(i,t){const n=ae(null);try{return t.value===Hu&&(t.value=Pz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Rz(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ae(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;const t=nn(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Nf(e){const i=Ou(e),t=null!==i?i.factory:A0(e);if(null!==t)return t;if(e instanceof ct)throw new tt(204,!1);if(e instanceof Function)return function Iz(e){if(e.length>0)throw new tt(204,!1);const t=function Xk(e){return e&&(e[Du]||e[z9])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new tt(204,!1)}function lC(e,i,t){let n;if(O0(e)){const o=nn(e);return A0(o)||Nf(o)}if(Of(e))n=()=>nn(e.useValue);else if(function aC(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Cf(e.deps||[]));else if(function rC(e){return!(!e||!e.useExisting)}(e))n=()=>Ke(nn(e.useExisting));else{const o=nn(e&&(e.useClass||e.provide));if(!function xz(e){return!!e.deps}(e))return A0(o)||Nf(o);n=()=>new o(...Cf(e.deps))}return n}function Ql(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function Pf(e,i){for(const t of e)Array.isArray(t)?Pf(t,i):t&&_f(t)?Pf(t.\u0275providers,i):i(t)}function Fr(e,i){e instanceof Jl&&e.assertNotDestroyed();const n=Va(e),o=$s(void 0);try{return i()}finally{Va(n),$s(o)}}function cC(){return void 0!==B9()||null!=function iz(){return Xl}()}function ud(e){if(!cC())throw new tt(-203,!1)}const Ii=0,ft=1,Zt=2,_o=3,e1=4,Yo=5,vs=6,tc=7,gi=8,po=9,S1=10,rn=11,pd=12,hC=13,nc=14,Li=15,y0=16,ic=17,ra=18,oc=19,uC=20,$a=21,Gu=22,kr=23,Vt=25,Lf=1,E1=7,sc=9,Ji=10;var Zu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Zu||{});function Ho(e){return Array.isArray(e)&&"object"==typeof e[Lf]}function ls(e){return Array.isArray(e)&&!0===e[Lf]}function xf(e){return!!(4&e.flags)}function D0(e){return e.componentOffset>-1}function ju(e){return!(1&~e.flags)}function t1(e){return!!e.template}function fd(e){return!!(512&e[Zt])}class Kz{constructor(i,t,n){this.previousValue=i,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function fC(e,i,t,n){null!==i?i.applyValueToInputSignal(i,n):e[t]=n}function Rn(){return mC}function mC(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yz),qz}function qz(){const e=CC(this),i=e?.current;if(i){const t=e.previous;if(t===T1)e.previous=i;else for(let n in i)t[n]=i[n];e.current=null,this.ngOnChanges(i)}}function Yz(e,i,t,n,o){const s=this.declaredInputs[n],r=CC(e)||function Jz(e,i){return e[vC]=i}(e,{previous:T1,current:null}),a=r.current||(r.current={}),l=r.previous,u=l[s];a[s]=new Kz(u&&u.currentValue,t,l===T1),fC(e,i,o,t)}Rn.ngInherit=!0;const vC="__ngSimpleChanges__";function CC(e){return e[vC]||null}const A1=function(e,i,t){},wC="svg";function Fn(e){for(;Array.isArray(e);)e=e[Ii];return e}function md(e,i){return Fn(i[e])}function Cs(e,i){return Fn(i[e.index])}function vd(e,i){return e.data[i]}function N0(e,i){return e[i]}function lr(e,i){const t=i[e];return Ho(t)?t:t[Ii]}function Vf(e){return!(128&~e[Zt])}function zr(e,i){return null==i?null:e[i]}function bC(e){e[ic]=0}function TC(e){1024&e[Zt]||(e[Zt]|=1024,Vf(e)&&Wu(e))}function Cd(e){return!!(9216&e[Zt]||e[kr]?.dirty)}function Hf(e){e[S1].changeDetectionScheduler?.notify(7),64&e[Zt]&&(e[Zt]|=1024),Cd(e)&&Wu(e)}function Wu(e){e[S1].changeDetectionScheduler?.notify(0);let i=aa(e);for(;null!==i&&!(8192&i[Zt])&&(i[Zt]|=8192,Vf(i));)i=aa(i)}function Xu(e,i){if(!(256&~e[Zt]))throw new tt(911,!1);null===e[$a]&&(e[$a]=[]),e[$a].push(i)}function aa(e){const i=e[_o];return ls(i)?i[_o]:i}const an={lFrame:FC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let EC=!1;function AC(){return an.bindingsEnabled}function P0(){return null!==an.skipHydrationRootTNode}function Je(){return an.lFrame.lView}function wn(){return an.lFrame.tView}function H(e){return an.lFrame.contextLView=e,e[gi]}function $(e){return an.lFrame.contextLView=null,e}function oi(){let e=OC();for(;null!==e&&64===e.type;)e=e.parent;return e}function OC(){return an.lFrame.currentTNode}function wd(){const e=an.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}function n1(e,i){const t=an.lFrame;t.currentTNode=e,t.isParent=i}function Gf(){return an.lFrame.isParent}function Uf(){an.lFrame.isParent=!1}function NC(){return EC}function PC(e){EC=e}function ws(){const e=an.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function la(){return an.lFrame.bindingIndex}function o1(){return an.lFrame.bindingIndex++}function ca(e){const i=an.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function LC(e){an.lFrame.inI18n=e}function uV(e,i){const t=an.lFrame;t.bindingIndex=t.bindingRootIndex=e,Zf(i)}function Zf(e){an.lFrame.currentDirectiveIndex=e}function Wf(){return an.lFrame.currentQueryIndex}function qu(e){an.lFrame.currentQueryIndex=e}function pV(e){const i=e[ft];return 2===i.type?i.declTNode:1===i.type?e[Yo]:null}function xC(e,i,t){if(t&Sn.SkipSelf){let o=i,s=e;for(;!(o=o.parent,null!==o||t&Sn.Host||(o=pV(s),null===o||(s=s[nc],10&o.type))););if(null===o)return!1;i=o,e=s}const n=an.lFrame=RC();return n.currentTNode=i,n.lView=e,!0}function Xf(e){const i=RC(),t=e[ft];an.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function RC(){const e=an.lFrame,i=null===e?null:e.child;return null===i?FC(e):i}function FC(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function kC(){const e=an.lFrame;return an.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zC=kC;function Kf(){const e=kC();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Jo(){return an.lFrame.selectedIndex}function I0(e){an.lFrame.selectedIndex=e}function fi(){const e=an.lFrame;return vd(e.tView,e.selectedIndex)}function Md(){an.lFrame.currentNamespace=wC}let $C=!0;function bd(){return $C}function O1(e){$C=e}function Yu(e,i){for(let t=i.directiveStart,n=i.directiveEnd;t<n;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:p}=s;r&&(e.contentHooks??=[]).push(-t,r),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=p&&(e.destroyHooks??=[]).push(t,p)}}function Ju(e,i,t){BC(e,i,3,t)}function Qu(e,i,t,n){(3&e[Zt])===t&&BC(e,i,t,n)}function qf(e,i){let t=e[Zt];(3&t)===i&&(t&=16383,t+=1,e[Zt]=t)}function BC(e,i,t,n){const s=n??-1,r=i.length-1;let a=0;for(let l=void 0!==n?65535&e[ic]:0;l<r;l++)if("number"==typeof i[l+1]){if(a=i[l],null!=n&&a>=n)break}else i[l]<0&&(e[ic]+=65536),(a<s||-1==s)&&(CV(e,t,i,l),e[ic]=(4294901760&e[ic])+l+2),l++}function GC(e,i){A1(4,e,i);const t=ae(null);try{i.call(e)}finally{ae(t),A1(5,e,i)}}function CV(e,i,t,n){const o=t[n]<0,s=t[n+1],a=e[o?-t[n]:t[n]];o?e[Zt]>>14<e[ic]>>16&&(3&e[Zt])===i&&(e[Zt]+=16384,GC(a,s)):GC(a,s)}const rc=-1;class Td{constructor(i,t,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}const Jf={};class L0{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,n){n=Pu(n);const o=this.injector.get(i,Jf,n);return o!==Jf||t===Jf?o:this.parentInjector.get(i,t,n)}}function Qf(e){return e!==rc}function Sd(e){return 32767&e}function Ed(e,i){let t=function TV(e){return e>>16}(e),n=i;for(;t>0;)n=n[nc],t--;return n}let e6=!0;function e_(e){const i=e6;return e6=e,i}const ZC=255,jC=5;let EV=0;const y1={};function t_(e,i){const t=WC(e,i);if(-1!==t)return t;const n=i[ft];n.firstCreatePass&&(e.injectorIndex=i.length,t6(n.data,e),t6(i,null),t6(n.blueprint,null));const o=n_(e,i),s=e.injectorIndex;if(Qf(o)){const r=Sd(o),a=Ed(o,i),l=a[ft].data;for(let u=0;u<8;u++)i[s+u]=a[r+u]|l[r+u]}return i[s+8]=o,s}function t6(e,i){e.push(0,0,0,0,0,0,0,0,i)}function WC(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function n_(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,n=null,o=i;for(;null!==o;){if(n=ew(o),null===n)return rc;if(t++,o=o[nc],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return rc}function n6(e,i,t){!function AV(e,i,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(ad)&&(n=t[ad]),null==n&&(n=t[ad]=EV++);const o=n&ZC;i.data[e+(o>>jC)]|=1<<o}(e,i,t)}function XC(e,i,t){if(t&Sn.Optional||void 0!==e)return e;ff()}function KC(e,i,t,n){if(t&Sn.Optional&&void 0===n&&(n=null),!(t&(Sn.Self|Sn.Host))){const o=e[po],s=$s(void 0);try{return o?o.get(i,n,t&Sn.Optional):G9(i,n,t&Sn.Optional)}finally{$s(s)}}return XC(n,0,t)}function qC(e,i,t,n=Sn.Default,o){if(null!==e){if(2048&i[Zt]&&!(n&Sn.Self)){const r=function PV(e,i,t,n,o){let s=e,r=i;for(;null!==s&&null!==r&&2048&r[Zt]&&!(512&r[Zt]);){const a=YC(s,r,t,n|Sn.Self,y1);if(a!==y1)return a;let l=s.parent;if(!l){const u=r[uC];if(u){const p=u.get(t,y1,n);if(p!==y1)return p}l=ew(r),r=r[nc]}s=l}return o}(e,i,t,n,y1);if(r!==y1)return r}const s=YC(e,i,t,n,y1);if(s!==y1)return s}return KC(i,t,n,o)}function YC(e,i,t,n,o){const s=function DV(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(ad)?e[ad]:void 0;return"number"==typeof i?i>=0?i&ZC:NV:i}(t);if("function"==typeof s){if(!xC(i,e,n))return n&Sn.Host?XC(o,0,n):KC(i,t,n,o);try{let r;if(r=s(n),null!=r||n&Sn.Optional)return r;ff()}finally{zC()}}else if("number"==typeof s){let r=null,a=WC(e,i),l=rc,u=n&Sn.Host?i[Li][Yo]:null;for((-1===a||n&Sn.SkipSelf)&&(l=-1===a?n_(e,i):i[a+8],l!==rc&&QC(n,!1)?(r=i[ft],a=Sd(l),i=Ed(l,i)):a=-1);-1!==a;){const p=i[ft];if(JC(s,a,p.data)){const v=yV(a,i,t,r,n,u);if(v!==y1)return v}l=i[a+8],l!==rc&&QC(n,i[ft].data[a+8]===u)&&JC(s,a,i)?(r=p,a=Sd(l),i=Ed(l,i)):a=-1}}return o}function yV(e,i,t,n,o,s){const r=i[ft],a=r.data[e+8],p=i_(a,r,t,null==n?D0(a)&&e6:n!=r&&!!(3&a.type),o&Sn.Host&&s===a);return null!==p?x0(i,r,p,a):y1}function i_(e,i,t,n,o){const s=e.providerIndexes,r=i.data,a=1048575&s,l=e.directiveStart,p=s>>20,L=o?a+p:e.directiveEnd;for(let z=n?a:a+p;z<L;z++){const ie=r[z];if(z<l&&t===ie||z>=l&&ie.type===t)return z}if(o){const z=r[l];if(z&&t1(z)&&z.type===t)return l}return null}function x0(e,i,t,n){let o=e[t];const s=i.data;if(function wV(e){return e instanceof Td}(o)){const r=o;r.resolving&&function Jk(e,i){throw i&&i.join(" > "),new tt(-200,e)}(function Gn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():un(e)}(s[t]));const a=e_(r.canSeeViewProviders);r.resolving=!0;const u=r.injectImpl?$s(r.injectImpl):null;xC(e,n,Sn.Default);try{o=e[t]=r.factory(void 0,s,e,n),i.firstCreatePass&&t>=n.directiveStart&&function vV(e,i,t){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:s}=i.type.prototype;if(n){const r=mC(i);(t.preOrderHooks??=[]).push(e,r),(t.preOrderCheckHooks??=[]).push(e,r)}o&&(t.preOrderHooks??=[]).push(0-e,o),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],i)}finally{null!==u&&$s(u),e_(a),r.resolving=!1,zC()}}return o}function JC(e,i,t){return!!(t[i+(e>>jC)]&1<<e)}function QC(e,i){return!(e&Sn.Self||e&Sn.Host&&i)}class yo{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,n){return qC(this._tNode,this._lView,i,Pu(n),t)}}function NV(){return new yo(oi(),Je())}function kn(e){return oa(()=>{const i=e.prototype.constructor,t=i[sa]||i6(i),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const s=o[sa]||i6(o);if(s&&s!==t)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function i6(e){return Au(e)?()=>{const i=i6(nn(e));return i&&i()}:A0(e)}function ew(e){const i=e[ft],t=i.type;return 2===t?i.declTNode:1===t?e[Yo]:null}function s1(e){return function OV(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const n=t.length;let o=0;for(;o<n;){const s=t[o];if(q9(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<n&&"string"==typeof t[o];)o++;else{if(s===i)return t[o+1];o+=2}}}return null}(oi(),e)}function sw(e,i=null,t=null,n){const o=rw(e,i,t,n);return o.resolveInjectorInitializers(),o}function rw(e,i=null,t=null,n,o=new Set){const s=[t||xn,yz(e)];return n=n||("object"==typeof e?void 0:So(e)),new Jl(s,i||$u(),n||null,o)}class hi{static#e=this.THROW_IF_NOT_FOUND=ld;static#t=this.NULL=new Fu;static create(i,t){if(Array.isArray(i))return sw({name:""},t,i,"");{const n=i.name??"";return sw({name:n},i.parent,i.providers,n)}}static#n=this.\u0275prov=$e({token:hi,providedIn:"any",factory:()=>Ke(K9)});static#i=this.__NG_ELEMENT_ID__=-1}new ct("").__NG_ELEMENT_ID__=e=>{const i=oi();if(null===i)throw new tt(204,!1);if(2&i.type)return i.value;if(e&Sn.Optional)return null;throw new tt(204,!1)};function s6(e){return e.ngOriginalError}class Vr{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&s6(i);for(;t&&s6(t);)t=s6(t);return t||null}}const lw=new ct("",{providedIn:"root",factory:()=>_e(Vr).handleError.bind(void 0)});let D1=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=$V;static#t=this.__NG_ENV_ID__=t=>t}return e})();class HV extends D1{constructor(i){super(),this._lView=i}onDestroy(i){return Xu(this._lView,i),()=>function $f(e,i){if(null===e[$a])return;const t=e[$a].indexOf(i);-1!==t&&e[$a].splice(t,1)}(this._lView,i)}}function $V(){return new HV(Je())}function BV(){return cc(oi(),Je())}function cc(e,i){return new Qt(Cs(e,i))}let Qt=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=BV}return e})();function dw(e){return e instanceof Qt?e.nativeElement:e}let da=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e})}return e})();const Be=class GV extends et{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,cC()&&(this.destroyRef=_e(D1,{optional:!0})??void 0,this.pendingTasks=_e(da,{optional:!0})??void 0)}emit(i){const t=ae(null);try{super.next(i)}finally{ae(t)}}subscribe(i,t,n){let o=i,s=t||(()=>null),r=n;if(i&&"object"==typeof i){const l=i;o=l.next?.bind(l),s=l.error?.bind(l),r=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),o&&(o=this.wrapInTimeout(o)),r&&(r=this.wrapInTimeout(r)));const a=super.subscribe({next:o,error:s,complete:r});return i instanceof Ne&&i.add(a),a}wrapInTimeout(i){return t=>{const n=this.pendingTasks?.add();setTimeout(()=>{i(t),void 0!==n&&this.pendingTasks?.remove(n)})}}};function UV(){return this._results[Symbol.iterator]()}class Ad{static#e=Symbol.iterator;get changes(){return this._changes??=new Be}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Ad.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UV)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){this.dirty=!1;const n=function Bs(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function hz(e,i,t){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],s=i[n];if(t&&(o=t(o),s=t(s)),s!==o)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function s_(e){return!(128&~e.flags)}const r6=new Map;let jV=0;const a_="__ngContext__";function cs(e,i){Ho(i)?(e[a_]=i[oc],function XV(e){r6.set(e[oc],e)}(i)):e[a_]=i}function ww(e){return bw(e[pd])}function Mw(e){return bw(e[e1])}function bw(e){for(;null!==e&&!ls(e);)e=e[e1];return e}let l6;function Ba(){if(void 0!==l6)return l6;if(typeof document<"u")return document;throw new tt(210,!1)}const hc=new ct("",{providedIn:"root",factory:()=>uH}),uH="ng",Nw=new ct(""),cr=new ct("",{providedIn:"platform",factory:()=>"unknown"}),Pw=new ct("",{providedIn:"root",factory:()=>Ba().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Iw=()=>null;function g6(e,i,t=!1){return Iw(e,i,t)}const Hw=new ct("",{providedIn:"root",factory:()=>!1});let f_,m_;function pc(e){return function w6(){if(void 0===f_&&(f_=null,di.trustedTypes))try{f_=di.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return f_}()?.createHTML(e)||e}function M6(){if(void 0===m_&&(m_=null,di.trustedTypes))try{m_=di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return m_}function Gw(e){return M6()?.createHTML(e)||e}function Zw(e){return M6()?.createScriptURL(e)||e}class R0{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${L9})`}}class AH extends R0{getTypeName(){return"HTML"}}class OH extends R0{getTypeName(){return"Style"}}class yH extends R0{getTypeName(){return"Script"}}class DH extends R0{getTypeName(){return"URL"}}class NH extends R0{getTypeName(){return"ResourceURL"}}function dr(e){return e instanceof R0?e.changingThisBreaksApplicationSecurity:e}function N1(e,i){const t=function PH(e){return e instanceof R0&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${L9})`)}return t===i}function jw(e){const i=new zH(e);return function VH(){try{return!!(new window.DOMParser).parseFromString(pc(""),"text/html")}catch{return!1}}()?new kH(i):i}class kH{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(pc(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class zH{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=pc(i),t}}const HH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function v_(e){return(e=String(e)).match(HH)?e:"unsafe:"+e}function ha(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function xd(...e){const i={};for(const t of e)for(const n in t)t.hasOwnProperty(n)&&(i[n]=!0);return i}const Ww=ha("area,br,col,hr,img,wbr"),Xw=ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kw=ha("rp,rt"),b6=xd(Ww,xd(Xw,ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xd(Kw,ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xd(Kw,Xw)),T6=ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qw=xd(T6,ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$H=ha("script,style,template");class BH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,n=!0,o=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)o.push(t),t=ZH(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=UH(t);if(s){t=s;break}t=o.pop()}return this.buf.join("")}startElement(i){const t=Yw(i).toLowerCase();if(!b6.hasOwnProperty(t))return this.sanitizedSomething=!0,!$H.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=i.attributes;for(let o=0;o<n.length;o++){const s=n.item(o),r=s.name,a=r.toLowerCase();if(!qw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;T6[a]&&(l=v_(l)),this.buf.push(" ",r,'="',Qw(l),'"')}return this.buf.push(">"),!0}endElement(i){const t=Yw(i).toLowerCase();b6.hasOwnProperty(t)&&!Ww.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(Qw(i))}}function UH(e){const i=e.nextSibling;if(i&&e!==i.previousSibling)throw Jw(i);return i}function ZH(e){const i=e.firstChild;if(i&&function GH(e,i){return(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,i))throw Jw(i);return i}function Yw(e){const i=e.nodeName;return"string"==typeof i?i:"FORM"}function Jw(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const jH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WH=/([^\#-~ |!])/g;function Qw(e){return e.replace(/&/g,"&amp;").replace(jH,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(WH,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let C_;function eM(e,i){let t=null;try{C_=C_||jw(e);let n=i?String(i):"";t=C_.getInertBodyElement(n);let o=5,s=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=s,s=t.innerHTML,t=C_.getInertBodyElement(n)}while(n!==s);return pc((new BH).sanitizeChildren(S6(t)||t))}finally{if(t){const n=S6(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function S6(e){return"content"in e&&function XH(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Hr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Hr||{});function Qi(e){const i=Fd();return i?Gw(i.sanitize(Hr.HTML,e)||""):N1(e,"HTML")?Gw(dr(e)):eM(Ba(),un(e))}function E6(e){const i=Fd();return i?i.sanitize(Hr.STYLE,e)||"":N1(e,"Style")?dr(e):un(e)}function $o(e){const i=Fd();return i?i.sanitize(Hr.URL,e)||"":N1(e,"URL")?dr(e):v_(un(e))}function Rd(e){const i=Fd();if(i)return Zw(i.sanitize(Hr.RESOURCE_URL,e)||"");if(N1(e,"ResourceURL"))return Zw(dr(e));throw new tt(904,!1)}function Fd(){const e=Je();return e&&e[S1].sanitizer}const QH=/^>|^->|<!--|-->|--!>|<!-$/g,e$=/(<|>)/g,t$="\u200b$1\u200b";function P1(e){return e.ownerDocument.defaultView}function rM(e){return e.ownerDocument}function hr(e){return e instanceof Function?e():e}var Ga=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ga||{});let y6;function D6(e,i){return y6(e,i)}function fc(e,i,t,n,o){if(null!=n){let s,r=!1;ls(n)?s=n:Ho(n)&&(r=!0,n=n[Ii]);const a=Fn(n);0===e&&null!==t?null==o?gM(i,t,a):F0(i,t,a,o||null,!0):1===e&&null!==t?F0(i,t,a,o||null,!0):2===e?zd(i,a,r):3===e&&i.destroyNode(a),null!=s&&function w$(e,i,t,n,o){const s=t[E1];s!==Fn(t)&&fc(i,e,n,s,o);for(let a=Ji;a<t.length;a++){const l=t[a];A_(l[ft],l,e,i,n,s)}}(i,e,s,t,o)}}function N6(e,i){return e.createText(i)}function hM(e,i,t){e.setValue(i,t)}function P6(e,i){return e.createComment(function nM(e){return e.replace(QH,i=>i.replace(e$,t$))}(i))}function b_(e,i,t){return e.createElement(i,t)}function uM(e,i){i[S1].changeDetectionScheduler?.notify(8),A_(e,i,i[rn],2,null,null)}function _M(e,i){const t=e[sc],n=i[_o];(Ho(n)||i[Li]!==n[_o][Li])&&(e[Zt]|=Zu.HasTransplantedViews),null===t?e[sc]=[i]:t.push(i)}function I6(e,i){const t=e[sc],n=t.indexOf(i);t.splice(n,1)}function kd(e,i){if(e.length<=Ji)return;const t=Ji+i,n=e[t];if(n){const o=n[y0];null!==o&&o!==e&&I6(o,n),i>0&&(e[t-1][e1]=n[e1]);const s=xu(e,Ji+i);!function h$(e,i){uM(e,i),i[Ii]=null,i[Yo]=null}(n[ft],n);const r=s[ra];null!==r&&r.detachView(s[ft]),n[_o]=null,n[e1]=null,n[Zt]&=-129}return n}function T_(e,i){if(!(256&i[Zt])){const t=i[rn];t.destroyNode&&A_(e,i,t,3,null,null),function _$(e){let i=e[pd];if(!i)return L6(e[ft],e);for(;i;){let t=null;if(Ho(i))t=i[pd];else{const n=i[Ji];n&&(t=n)}if(!t){for(;i&&!i[e1]&&i!==e;)Ho(i)&&L6(i[ft],i),i=i[_o];null===i&&(i=e),Ho(i)&&L6(i[ft],i),t=i&&i[e1]}i=t}}(i)}}function L6(e,i){if(256&i[Zt])return;const t=ae(null);try{i[Zt]&=-129,i[Zt]|=256,i[kr]&&B(i[kr]),function f$(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let n=0;n<t.length;n+=2){const o=i[t[n]];if(!(o instanceof Td)){const s=t[n+1];if(Array.isArray(s))for(let r=0;r<s.length;r+=2){const a=o[s[r]],l=s[r+1];A1(4,a,l);try{l.call(a)}finally{A1(5,a,l)}}else{A1(4,o,s);try{s.call(o)}finally{A1(5,o,s)}}}}}(e,i),function g$(e,i){const t=e.cleanup,n=i[tc];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const r=t[s+3];r>=0?n[r]():n[-r].unsubscribe(),s+=2}else t[s].call(n[t[s+1]]);null!==n&&(i[tc]=null);const o=i[$a];if(null!==o){i[$a]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,i),1===i[ft].type&&i[rn].destroy();const n=i[y0];if(null!==n&&ls(i[_o])){n!==i[_o]&&I6(n,i);const o=i[ra];null!==o&&o.detachView(e)}!function KV(e){r6.delete(e[oc])}(i)}finally{ae(t)}}function x6(e,i,t){return pM(e,i.parent,t)}function pM(e,i,t){let n=i;for(;null!==n&&168&n.type;)n=(i=n).parent;if(null===n)return t[Ii];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:s}=e.data[n.directiveStart+o];if(s===Jr.None||s===Jr.Emulated)return null}return Cs(n,t)}}function F0(e,i,t,n,o){e.insertBefore(i,t,n,o)}function gM(e,i,t){e.appendChild(i,t)}function fM(e,i,t,n,o){null!==n?F0(e,i,t,n,o):gM(e,i,t)}function S_(e,i){return e.parentNode(i)}function mM(e,i,t){return CM(e,i,t)}function vM(e,i,t){return 40&e.type?Cs(e,t):null}let R6,CM=vM;function wM(e,i){CM=e,R6=i}function E_(e,i,t,n){const o=x6(e,n,i),s=i[rn],a=mM(n.parent||i[Yo],n,i);if(null!=o)if(Array.isArray(t))for(let l=0;l<t.length;l++)fM(s,o,t[l],a,!1);else fM(s,o,t,a,!1);void 0!==R6&&R6(s,n,i,t,o)}function mc(e,i){if(null!==i){const t=i.type;if(3&t)return Cs(i,e);if(4&t)return F6(-1,e[i.index]);if(8&t){const n=i.child;if(null!==n)return mc(e,n);{const o=e[i.index];return ls(o)?F6(-1,o):Fn(o)}}if(32&t)return D6(i,e)()||Fn(e[i.index]);{const n=MM(e,i);return null!==n?Array.isArray(n)?n[0]:mc(aa(e[Li]),n):mc(e,i.next)}}return null}function MM(e,i){return null!==i?e[Li][Yo].projection[i.projection]:null}function F6(e,i){const t=Ji+e+1;if(t<i.length){const n=i[t],o=n[ft].firstChild;if(null!==o)return mc(n,o)}return i[E1]}function zd(e,i,t){const n=S_(e,i);n&&function m$(e,i,t,n){e.removeChild(i,t,n)}(e,n,i,t)}function k6(e,i,t,n,o,s,r){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=n[t.index],l=t.type;if(r&&0===i&&(a&&cs(Fn(a),n),t.flags|=2),32&~t.flags)if(8&l)k6(e,i,t.child,n,o,s,!1),fc(i,e,o,a,s);else if(32&l){const u=D6(t,n);let p;for(;p=u();)fc(i,e,o,p,s);fc(i,e,o,a,s)}else 16&l?TM(e,i,n,t,o,s):fc(i,e,o,a,s);t=r?t.projectionNext:t.next}}function A_(e,i,t,n,o,s){k6(t,n,e.firstChild,i,o,s,!1)}function TM(e,i,t,n,o,s){const r=t[Li],l=r[Yo].projection[n.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)fc(i,e,o,l[u],s);else{let u=l;const p=r[_o];s_(n)&&(u.flags|=128),k6(e,i,u,p,o,s,!0)}}function SM(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function EM(e,i,t){const{mergedAttrs:n,classes:o,styles:s}=t;null!==n&&Tf(e,i,n),null!==o&&SM(e,i,o),null!==s&&function b$(e,i,t){e.setAttribute(i,"style",t)}(e,i,s)}const _n={};function d(e=1){AM(wn(),Je(),Jo()+e,!1)}function AM(e,i,t,n){if(!n)if(3&~i[Zt]){const s=e.preOrderHooks;null!==s&&Qu(i,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&Ju(i,s,t)}I0(t)}function Y(e,i=Sn.Default){const t=Je();return null===t?Ke(e,i):qC(oi(),t,nn(e),i)}function z6(){throw new Error("invalid")}function OM(e,i,t,n,o,s){const r=ae(null);try{let a=null;o&Yl.SignalBased&&(a=i[n][Se]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),o&Yl.HasDecoratorInputTransform&&(s=e.inputTransforms[n].call(i,s)),null!==e.setInput?e.setInput(i,a,s,t,n):fC(i,a,n,s)}finally{ae(r)}}function O_(e,i,t,n,o,s,r,a,l,u,p){const v=i.blueprint.slice();return v[Ii]=o,v[Zt]=204|n,(null!==u||e&&2048&e[Zt])&&(v[Zt]|=2048),bC(v),v[_o]=v[nc]=e,v[gi]=t,v[S1]=r||e&&e[S1],v[rn]=a||e&&e[rn],v[po]=l||e&&e[po]||null,v[Yo]=s,v[oc]=function WV(){return jV++}(),v[vs]=p,v[uC]=u,v[Li]=2==i.type?e[Li]:v,v}function k0(e,i,t,n,o){let s=e.data[i];if(null===s)s=V6(e,i,t,n,o),function hV(){return an.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=n,s.attrs=o;const r=wd();s.injectorIndex=null===r?-1:r.injectorIndex}return n1(s,!0),s}function V6(e,i,t,n,o){const s=OC(),r=Gf(),l=e.data[i]=function N$(e,i,t,n,o,s){let r=i?i.injectorIndex:-1,a=0;return P0()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?s:s&&s.parent,t,i,n,o);return null===e.firstChild&&(e.firstChild=l),null!==s&&(r?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function Vd(e,i,t,n){if(0===t)return-1;const o=i.length;for(let s=0;s<t;s++)i.push(n),e.blueprint.push(n),e.data.push(null);return o}function yM(e,i,t,n,o){const s=Jo(),r=2&n;try{I0(-1),r&&i.length>Vt&&AM(e,i,Vt,!1),A1(r?2:0,o),t(n,o)}finally{I0(s),A1(r?3:1,o)}}function H6(e,i,t){if(xf(i)){const n=ae(null);try{const s=i.directiveEnd;for(let r=i.directiveStart;r<s;r++){const a=e.data[r];a.contentQueries&&a.contentQueries(1,t[r],r)}}finally{ae(n)}}}function $6(e,i,t){AC()&&(function k$(e,i,t,n){const o=t.directiveStart,s=t.directiveEnd;D0(t)&&function U$(e,i,t){const n=Cs(i,e),o=DM(t);let r=16;t.signals?r=4096:t.onPush&&(r=64);const a=y_(e,O_(e,o,null,r,n,i,null,e[S1].rendererFactory.createRenderer(n,t),null,null,null));e[i.index]=a}(i,t,e.data[o+t.componentOffset]),e.firstCreatePass||t_(t,i),cs(n,i);const r=t.initialInputs;for(let a=o;a<s;a++){const l=e.data[a],u=x0(i,e,a,t);cs(u,i),null!==r&&Z$(0,a-o,u,l,0,r),t1(l)&&(lr(t.index,i)[gi]=x0(i,e,a,t))}}(e,i,t,Cs(t,i)),!(64&~t.flags)&&xM(e,i,t))}function B6(e,i,t=Cs){const n=i.localNames;if(null!==n){let o=i.index+1;for(let s=0;s<n.length;s+=2){const r=n[s+1],a=-1===r?t(i,e):e[r];e[o++]=a}}}function DM(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=G6(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function G6(e,i,t,n,o,s,r,a,l,u,p){const v=Vt+n,L=v+o,z=function S$(e,i){const t=[];for(let n=0;n<i;n++)t.push(n<e?null:_n);return t}(v,L),ie="function"==typeof u?u():u;return z[ft]={type:e,blueprint:z,template:t,queries:null,viewQuery:a,declTNode:i,data:z.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:ie,incompleteFirstPass:!1,ssrId:p}}let NM=()=>null;function PM(e,i,t,n,o){for(let s in i){if(!i.hasOwnProperty(s))continue;const r=i[s];if(void 0===r)continue;n??={};let a,l=Yl.None;Array.isArray(r)?(a=r[0],l=r[1]):a=r;let u=s;if(null!==o){if(!o.hasOwnProperty(s))continue;u=o[s]}0===e?IM(n,t,u,a,l):IM(n,t,u,a)}return n}function IM(e,i,t,n,o){let s;e.hasOwnProperty(t)?(s=e[t]).push(i,n):s=e[t]=[i,n],void 0!==o&&s.push(o)}function Zs(e,i,t,n,o,s,r,a){const l=Cs(i,t);let p,u=i.inputs;!a&&null!=u&&(p=u[n])?(X6(e,t,p,n,o),D0(i)&&function L$(e,i){const t=lr(i,e);16&t[Zt]||(t[Zt]|=64)}(t,i.index)):3&i.type&&(n=function I$(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=r?r(o,i.value||"",n):o,s.setProperty(l,n,o))}function U6(e,i,t,n){if(AC()){const o=null===n?null:{"":-1},s=function V$(e,i){const t=e.directiveRegistry;let n=null,o=null;if(t)for(let s=0;s<t.length;s++){const r=t[s];if(eC(i,r.selectors,!1))if(n||(n=[]),t1(r))if(null!==r.findHostDirectiveDefs){const a=[];o=o||new Map,r.findHostDirectiveDefs(r,a,o),n.unshift(...a,r),Z6(e,i,a.length)}else n.unshift(r),Z6(e,i,0);else o=o||new Map,r.findHostDirectiveDefs?.(r,n,o),n.push(r)}return null===n?null:[n,o]}(e,t);let r,a;null===s?r=a=null:[r,a]=s,null!==r&&LM(e,i,t,r,o,a),o&&function H$(e,i,t){if(i){const n=e.localNames=[];for(let o=0;o<i.length;o+=2){const s=t[i[o+1]];if(null==s)throw new tt(-301,!1);n.push(i[o],s)}}}(t,n,o)}t.mergedAttrs=dd(t.mergedAttrs,t.attrs)}function LM(e,i,t,n,o,s){for(let u=0;u<n.length;u++)n6(t_(t,i),e,n[u].type);!function B$(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,n.length);for(let u=0;u<n.length;u++){const p=n[u];p.providersResolver&&p.providersResolver(p)}let r=!1,a=!1,l=Vd(e,i,n.length,null);for(let u=0;u<n.length;u++){const p=n[u];t.mergedAttrs=dd(t.mergedAttrs,p.hostAttrs),G$(e,t,i,l,p),$$(l,p,o),null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const v=p.type.prototype;!r&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),r=!0),!a&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function P$(e,i,t){const o=i.directiveEnd,s=e.data,r=i.attrs,a=[];let l=null,u=null;for(let p=i.directiveStart;p<o;p++){const v=s[p],L=t?t.get(v):null,ie=L?L.outputs:null;l=PM(0,v.inputs,p,l,L?L.inputs:null),u=PM(1,v.outputs,p,u,ie);const se=null===l||null===r||Sf(i)?null:j$(l,p,r);a.push(se)}null!==l&&(l.hasOwnProperty("class")&&(i.flags|=8),l.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=a,i.inputs=l,i.outputs=u}(e,t,s)}function xM(e,i,t){const n=t.directiveStart,o=t.directiveEnd,s=t.index,r=function _V(){return an.lFrame.currentDirectiveIndex}();try{I0(s);for(let a=n;a<o;a++){const l=e.data[a],u=i[a];Zf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&z$(l,u)}}finally{I0(-1),Zf(r)}}function z$(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function Z6(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function $$(e,i,t){if(t){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)t[i.exportAs[n]]=e;t1(i)&&(t[""]=e)}}function G$(e,i,t,n,o){e.data[n]=o;const s=o.factory||(o.factory=A0(o.type)),r=new Td(s,t1(o),Y);e.blueprint[n]=r,t[n]=r,function R$(e,i,t,n,o){const s=o.hostBindings;if(s){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);const a=~i.index;(function F$(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(r)!=a&&r.push(a),r.push(t,n,s)}}(e,i,n,Vd(e,t,o.hostVars,_n),o)}function I1(e,i,t,n,o,s){const r=Cs(e,i);j6(i[rn],r,s,e.value,t,n,o)}function j6(e,i,t,n,o,s,r){if(null==s)e.removeAttribute(i,o,t);else{const a=null==r?un(s):r(s,n||"",o);e.setAttribute(i,o,a,t)}}function Z$(e,i,t,n,o,s){const r=s[i];if(null!==r)for(let a=0;a<r.length;)OM(n,t,r[a++],r[a++],r[a++],r[a++])}function j$(e,i,t){let n=null,o=0;for(;o<t.length;){const s=t[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);const r=e[s];for(let a=0;a<r.length;a+=3)if(r[a]===i){n.push(s,r[a+1],r[a+2],t[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function RM(e,i,t,n){return[e,!0,0,i,null,n,null,t,null,null]}function FM(e,i){const t=e.contentQueries;if(null!==t){const n=ae(null);try{for(let o=0;o<t.length;o+=2){const r=t[o+1];if(-1!==r){const a=e.data[r];qu(t[o]),a.contentQueries(2,i[r],r)}}}finally{ae(n)}}}function y_(e,i){return e[pd]?e[hC][e1]=i:e[pd]=i,e[hC]=i,i}function W6(e,i,t){qu(0);const n=ae(null);try{i(e,t)}finally{ae(n)}}function kM(e){return e[tc]??=[]}function zM(e){return e.cleanup??=[]}function D_(e,i){const t=e[po],n=t?t.get(Vr,null):null;n&&n.handleError(i)}function X6(e,i,t,n,o){for(let s=0;s<t.length;){const r=t[s++],a=t[s++],l=t[s++];OM(e.data[r],i[r],n,a,l,o)}}function ua(e,i,t){const n=md(i,e);hM(e[rn],n,t)}function W$(e,i){const t=lr(i,e),n=t[ft];!function X$(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(n,t);const o=t[Ii];null!==o&&null===t[vs]&&(t[vs]=g6(o,t[po])),K6(n,t,t[gi])}function K6(e,i,t){Xf(i);try{const n=e.viewQuery;null!==n&&W6(1,n,t);const o=e.template;null!==o&&yM(e,i,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),i[ra]?.finishViewCreation(e),e.staticContentQueries&&FM(e,i),e.staticViewQueries&&W6(2,e.viewQuery,t);const s=e.components;null!==s&&function K$(e,i){for(let t=0;t<i.length;t++)W$(e,i[t])}(i,s)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{i[Zt]&=-5,Kf()}}function vc(e,i,t,n){const o=ae(null);try{const s=i.tView,l=O_(e,s,t,4096&e[Zt]?4096:16,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null);l[y0]=e[i.index];const p=e[ra];return null!==p&&(l[ra]=p.createEmbeddedView(s)),K6(s,l,t),l}finally{ae(o)}}function HM(e,i){const t=Ji+i;if(t<e.length)return e[t]}function z0(e,i){return!i||null===i.firstChild||s_(e)}function Cc(e,i,t,n=!0){const o=i[ft];if(function p$(e,i,t,n){const o=Ji+n,s=t.length;n>0&&(t[o-1][e1]=i),n<s-Ji?(i[e1]=t[o],j9(t,Ji+n,i)):(t.push(i),i[e1]=null),i[_o]=t;const r=i[y0];null!==r&&t!==r&&_M(r,i);const a=i[ra];null!==a&&a.insertView(e),Hf(i),i[Zt]|=128}(o,i,e,t),n){const r=F6(t,e),a=i[rn],l=S_(a,e[E1]);null!==l&&function u$(e,i,t,n,o,s){n[Ii]=o,n[Yo]=i,A_(e,n,t,1,o,s)}(o,e[Yo],a,i,l,r)}const s=i[vs];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function q6(e,i){const t=kd(e,i);return void 0!==t&&T_(t[ft],t),t}function Hd(e,i,t,n,o=!1){for(;null!==t;){if(128===t.type){t=o?t.projectionNext:t.next;continue}const s=i[t.index];null!==s&&n.push(Fn(s)),ls(s)&&$M(s,n);const r=t.type;if(8&r)Hd(e,i,t.child,n);else if(32&r){const a=D6(t,i);let l;for(;l=a();)n.push(l)}else if(16&r){const a=MM(i,t);if(Array.isArray(a))n.push(...a);else{const l=aa(i[Li]);Hd(l[ft],l,a,n,!0)}}t=o?t.projectionNext:t.next}return n}function $M(e,i){for(let t=Ji;t<e.length;t++){const n=e[t],o=n[ft].firstChild;null!==o&&Hd(n[ft],n,o,i)}e[E1]!==e[Ii]&&i.push(e[E1])}let BM=[];const Q$={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Wu(e.lView)},consumerOnSignalRead(){this.lView[kr]=this}},tB={...f,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let i=aa(e.lView);for(;i&&!GM(i[ft]);)i=aa(i);i&&TC(i)},consumerOnSignalRead(){this.lView[kr]=this}};function GM(e){return 2!==e.type}const nB=100;function N_(e,i=!0,t=0){const n=e[S1],o=n.rendererFactory;o.begin?.();try{!function iB(e,i){const t=NC();try{PC(!0),Y6(e,i);let n=0;for(;Cd(e);){if(n===nB)throw new tt(103,!1);n++,Y6(e,1)}}finally{PC(t)}}(e,t)}catch(r){throw i&&D_(e,r),r}finally{o.end?.(),n.inlineEffectRunner?.flush()}}function oB(e,i,t,n){const o=i[Zt];if(!(256&~o))return;i[S1].inlineEffectRunner?.flush(),Xf(i);let a=!0,l=null,u=null;GM(e)?(u=function q$(e){return e[kr]??function Y$(e){const i=BM.pop()??Object.create(Q$);return i.lView=e,i}(e)}(i),l=X(u)):null===function T(){return ne}()?(a=!1,u=function eB(e){const i=e[kr]??Object.create(tB);return i.lView=e,i}(i),l=X(u)):i[kr]&&(B(i[kr]),i[kr]=null);try{bC(i),function IC(e){return an.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&yM(e,i,t,2,n);const p=!(3&~o);if(p){const z=e.preOrderCheckHooks;null!==z&&Ju(i,z,null)}else{const z=e.preOrderHooks;null!==z&&Qu(i,z,0,null),qf(i,0)}if(function sB(e){for(let i=ww(e);null!==i;i=Mw(i)){if(!(i[Zt]&Zu.HasTransplantedViews))continue;const t=i[sc];for(let n=0;n<t.length;n++)TC(t[n])}}(i),ZM(i,0),null!==e.contentQueries&&FM(e,i),p){const z=e.contentCheckHooks;null!==z&&Ju(i,z)}else{const z=e.contentHooks;null!==z&&Qu(i,z,1),qf(i,1)}!function T$(e,i){const t=e.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const o=t[n];if(o<0)I0(~o);else{const s=o,r=t[++n],a=t[++n];uV(r,s),a(2,i[s])}}}finally{I0(-1)}}(e,i);const v=e.components;null!==v&&WM(i,v,0);const L=e.viewQuery;if(null!==L&&W6(2,L,n),p){const z=e.viewCheckHooks;null!==z&&Ju(i,z)}else{const z=e.viewHooks;null!==z&&Qu(i,z,2),qf(i,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Gu]){for(const z of i[Gu])z();i[Gu]=null}i[Zt]&=-73}catch(p){throw Wu(i),p}finally{null!==u&&(function U(e,i){if(ae(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ee(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)W(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(u,l),a&&function J$(e){e.lView[kr]!==e&&(e.lView=null,BM.push(e))}(u)),Kf()}}function ZM(e,i){for(let t=ww(e);null!==t;t=Mw(t))for(let n=Ji;n<t.length;n++)jM(t[n],i)}function rB(e,i,t){jM(lr(i,e),t)}function jM(e,i){Vf(e)&&Y6(e,i)}function Y6(e,i){const n=e[ft],o=e[Zt],s=e[kr];let r=!!(0===i&&16&o);if(r||=!!(64&o&&0===i),r||=!!(1024&o),r||=!(!s?.dirty||!y(s)),r||=!1,s&&(s.dirty=!1),e[Zt]&=-9217,r)oB(n,e,n.template,e[gi]);else if(8192&o){ZM(e,1);const a=n.components;null!==a&&WM(e,a,1)}}function WM(e,i,t){for(let n=0;n<i.length;n++)rB(e,i[n],t)}function $d(e,i){const t=NC()?64:1088;for(e[S1].changeDetectionScheduler?.notify(i);e;){e[Zt]|=t;const n=aa(e);if(fd(e)&&!n)return e;e=n}return null}class Bd{get rootNodes(){const i=this._lView,t=i[ft];return Hd(t,i,t.firstChild,[])}constructor(i,t,n=!0){this._lView=i,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gi]}set context(i){this._lView[gi]=i}get destroyed(){return!(256&~this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[_o];if(ls(i)){const t=i[8],n=t?t.indexOf(this):-1;n>-1&&(kd(i,n),xu(t,n))}this._attachedToViewContainer=!1}T_(this._lView[ft],this._lView)}onDestroy(i){Xu(this._lView,i)}markForCheck(){$d(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Zt]&=-129}reattach(){Hf(this._lView),this._lView[Zt]|=128}detectChanges(){this._lView[Zt]|=1024,N_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=fd(this._lView),t=this._lView[y0];null!==t&&!i&&I6(t,this._lView),uM(this._lView[ft],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=i;const t=fd(this._lView),n=this._lView[y0];null!==n&&!t&&_M(n,this._lView),Hf(this._lView)}}let Kt=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=cB}return e})();const aB=Kt,lB=class extends aB{constructor(i,t,n){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,n){const o=vc(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:t,dehydratedView:n});return new Bd(o)}};function cB(){return P_(oi(),Je())}function P_(e,i){return 4&e.type?new lB(i,e,cc(e,i)):null}function qM(e,i,t){const n=i.insertBeforeIndex,o=Array.isArray(n)?n[0]:n;return null===o?vM(e,0,t):Fn(t[o])}function YM(e,i,t,n,o){const s=i.insertBeforeIndex;if(Array.isArray(s)){let r=n,a=null;if(3&i.type||(a=r,r=o),null!==r&&-1===i.componentOffset)for(let l=1;l<s.length;l++)F0(e,r,t[s[l]],a,!1)}}function JM(e,i){if(e.push(i),e.length>1)for(let t=e.length-2;t>=0;t--){const n=e[t];QM(n)||vB(n,i)&&null===CB(n)&&wB(n,i.index)}}function QM(e){return!(64&e.type)}function vB(e,i){return QM(i)||e.index>i.index}function CB(e){const i=e.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function wB(e,i){const t=e.insertBeforeIndex;Array.isArray(t)?t[0]=i:(wM(qM,YM),e.insertBeforeIndex=i)}function jd(e,i){const t=e.data[i];return null===t||"string"==typeof t?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function TB(e,i,t){const n=V6(e,t,64,null,null);return JM(i,n),n}function L_(e,i){const t=i[e.currentCaseLViewIndex];return null===t?t:t<0?~t:t}function eb(e){return e>>>17}function tb(e){return(131070&e)>>>1}function t4(e,i,t){e.index=0;const n=L_(i,t);e.removes=null!==n?i.remove[n]:xn}function x_(e){if(e.index<e.removes.length){const i=e.removes[e.index++];return i>0?e.lView[i]:(e.stack.push(e.index,e.removes),t4(e,e.lView[ft].data[~i],e.lView),x_(e))}return 0===e.stack.length?null:(e.removes=e.stack.pop(),e.index=e.stack.pop(),x_(e))}function EB(){const e={stack:[],index:-1};return function i(t,n){for(e.lView=n;e.stack.length;)e.stack.pop();return t4(e,t.value,n),x_.bind(null,e)}}let cb=()=>{},hb=()=>{},pb=()=>null;function H0(e,i){return pb(e,i)}class Mc{}const qd=new ct("",{providedIn:"root",factory:()=>!1}),gb=new ct("");class tG{}class fb{}class iG{resolveComponentFactory(i){throw function nG(e){const i=Error(`No component factory found for ${So(e)}.`);return i.ngComponent=e,i}(i)}}class k_{static#e=this.NULL=new iG}class $0{}let $r=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oG(){const e=Je(),t=lr(oi().index,e);return(Ho(t)?t:e)[rn]}()}return e})(),sG=(()=>{class e{static#e=this.\u0275prov=$e({token:e,providedIn:"root",factory:()=>null})}return e})();const vb=new Set;function Ms(e){vb.has(e)||(vb.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Cb(e){let i=!0;return setTimeout(()=>{i&&(i=!1,e())}),"function"==typeof di.requestAnimationFrame&&di.requestAnimationFrame(()=>{i&&(i=!1,e())}),()=>{i=!1}}function wb(e){let i=!0;return queueMicrotask(()=>{i&&e()}),()=>{i=!1}}function Mb(...e){}class jt{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&t,o.shouldCoalesceRunChangeDetection=n,o.callbackScheduled=!1,function lG(e){const i=()=>{!function aG(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{Cb(()=>{e.callbackScheduled=!1,c4(e),e.isCheckStableRunning=!0,l4(e),e.isCheckStableRunning=!1})}),c4(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,o,s,r,a)=>{if(function cG(e){return Sb(e,"__ignore_ng_zone__")}(a))return t.invokeTask(o,s,r,a);try{return bb(e),t.invokeTask(o,s,r,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&i(),Tb(e)}},onInvoke:(t,n,o,s,r,a,l)=>{try{return bb(e),t.invoke(o,s,r,a,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function dG(e){return Sb(e,"__scheduler_tick__")}(a)&&i(),Tb(e)}},onHasTask:(t,n,o,s)=>{t.hasTask(o,s),n===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,c4(e),l4(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,o,s)=>(t.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jt.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(jt.isInAngularZone())throw new tt(909,!1)}run(i,t,n){return this._inner.run(i,t,n)}runTask(i,t,n,o){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+o,i,rG,Mb,Mb);try{return s.runTask(r,t,n)}finally{s.cancelTask(r)}}runGuarded(i,t,n){return this._inner.runGuarded(i,t,n)}runOutsideAngular(i){return this._outer.run(i)}}const rG={};function l4(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function c4(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function bb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tb(e){e._nesting--,l4(e)}class d4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(i,t,n){return i.apply(t,n)}runGuarded(i,t,n){return i.apply(t,n)}runOutsideAngular(i){return i()}runTask(i,t,n,o){return i.apply(t,n)}}function Sb(e,i){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[i]}var _a=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_a||{});const Eb={destroy(){}};function bc(e,i){!i&&ud();const t=i?.injector??_e(hi);if(!function Us(e){return"browser"===(e??_e(hi)).get(cr)}(t))return Eb;Ms("NgAfterNextRender");const n=t.get(Yd),o=n.handler??=new Ob,s=i?.phase??_a.MixedReadWrite,r=()=>{o.unregister(l),a()},a=t.get(D1).onDestroy(r),l=Fr(t,()=>new Ab(s,()=>{r(),e()}));return o.register(l),{destroy:r}}class Ab{constructor(i,t){this.phase=i,this.callbackFn=t,this.zone=_e(jt),this.errorHandler=_e(Vr,{optional:!0}),_e(Mc,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class Ob{constructor(){this.executingCallbacks=!1,this.buckets={[_a.EarlyRead]:new Set,[_a.Write]:new Set,[_a.MixedReadWrite]:new Set,[_a.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const t of i)t.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let Yd=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const n of t)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e})}return e})();function V_(e,i,t){let n=t?e.styles:null,o=t?e.classes:null,s=0;if(null!==i)for(let r=0;r<i.length;r++){const a=i[r];"number"==typeof a?s=a:1==s?o=af(o,a):2==s&&(n=af(n,a+": "+i[++r]+";"))}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=o:e.classesWithoutHost=o}class Nb extends k_{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=bn(i);return new e2(t,this.ngModule)}}function Pb(e){const i=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];void 0!==n&&i.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return i}class e2 extends fb{get inputs(){const i=this.componentDef,t=i.inputTransforms,n=Pb(i.inputs);if(null!==t)for(const o of n)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return n}get outputs(){return Pb(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function bz(e){return e.map(Mz).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,n,o){const s=ae(null);try{let r=(o=o||this.ngModule)instanceof Ao?o:o?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const a=r?new L0(i,r):i,l=a.get($0,null);if(null===l)throw new tt(407,!1);const u=a.get(sG,null),L={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:a.get(Yd,null),changeDetectionScheduler:a.get(Mc,null)},z=l.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",se=n?function E$(e,i,t,n){const s=n.get(Hw,!1)||t===Jr.ShadowDom,r=e.selectRootElement(i,s);return function A$(e){NM(e)}(r),r}(z,n,this.componentDef.encapsulation,a):b_(z,ie,function gG(e){const i=e.toLowerCase();return"svg"===i?wC:"math"===i?"math":null}(ie));let he=512;this.componentDef.signals?he|=4096:this.componentDef.onPush||(he|=16);let be=null;null!==se&&(be=g6(se,a,!0));const we=G6(0,null,null,1,0,null,null,null,null,null,null),Fe=O_(null,we,null,he,null,null,L,z,a,null,be);let Ae,Qe;Xf(Fe);try{const pt=this.componentDef;let gt,Mt=null;pt.findHostDirectiveDefs?(gt=[],Mt=new Map,pt.findHostDirectiveDefs(pt,gt,Mt),gt.push(pt)):gt=[pt];const Pt=function mG(e,i){const t=e[ft],n=Vt;return e[n]=i,k0(t,n,2,"#host",null)}(Fe,se),xt=function vG(e,i,t,n,o,s,r){const a=o[ft];!function CG(e,i,t,n){for(const o of e)i.mergedAttrs=dd(i.mergedAttrs,o.hostAttrs);null!==i.mergedAttrs&&(V_(i,i.mergedAttrs,!0),null!==t&&EM(n,t,i))}(n,e,i,r);let l=null;null!==i&&(l=g6(i,o[po]));const u=s.rendererFactory.createRenderer(i,t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const v=O_(o,DM(t),null,p,o[e.index],e,s,u,null,null,l);return a.firstCreatePass&&Z6(a,e,n.length-1),y_(o,v),o[e.index]=v}(Pt,se,pt,gt,Fe,L,z);Qe=vd(we,Vt),se&&function MG(e,i,t,n){if(n)Tf(e,t,["ng-version","18.0.6"]);else{const{attrs:o,classes:s}=function Tz(e){const i=[],t=[];let n=1,o=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===o?""!==s&&i.push(s,e[++n]):8===o&&t.push(s);else{if(!Qr(o))break;o=s}n++}return{attrs:i,classes:t}}(i.selectors[0]);o&&Tf(e,t,o),s&&s.length>0&&SM(e,t,s.join(" "))}}(z,pt,se,n),void 0!==t&&function bG(e,i,t){const n=e.projection=[];for(let o=0;o<i.length;o++){const s=t[o];n.push(null!=s?Array.from(s):null)}}(Qe,this.ngContentSelectors,t),Ae=function wG(e,i,t,n,o,s){const r=oi(),a=o[ft],l=Cs(r,o);LM(a,o,r,t,null,n);for(let p=0;p<t.length;p++)cs(x0(o,a,r.directiveStart+p,r),o);xM(a,o,r),l&&cs(l,o);const u=x0(o,a,r.directiveStart+r.componentOffset,r);if(e[gi]=o[gi]=u,null!==s)for(const p of s)p(u,i);return H6(a,r,o),u}(xt,pt,gt,Mt,Fe,[TG]),K6(we,Fe,null)}finally{Kf()}return new fG(this.componentType,Ae,cc(Qe,Fe),Fe,Qe)}finally{ae(s)}}}class fG extends tG{constructor(i,t,n,o,s){super(),this.location=n,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Bd(o,void 0,!1),this.componentType=i}setInput(i,t){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const s=this._rootLView;X6(s[ft],s,o,i,t),this.previousInputValues.set(i,t),$d(lr(this._tNode.index,s),1)}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function TG(){const e=oi();Yu(Je()[ft],e)}let Qo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=SG}return e})();function SG(){return xb(oi(),Je())}const EG=Qo,Ib=class extends EG{constructor(i,t,n){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=n}get element(){return cc(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const i=n_(this._hostTNode,this._hostLView);if(Qf(i)){const t=Ed(i,this._hostLView),n=Sd(i);return new yo(t[ft].data[n+8],t)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=Lb(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-Ji}createEmbeddedView(i,t,n){let o,s;"number"==typeof n?o=n:null!=n&&(o=n.index,s=n.injector);const r=H0(this._lContainer,i.ssrId),a=i.createEmbeddedViewImpl(t||{},s,r);return this.insertImpl(a,o,z0(this._hostTNode,r)),a}createComponent(i,t,n,o,s){const r=i&&!function _d(e){return"function"==typeof e}(i);let a;if(r)a=t;else{const ie=t||{};a=ie.index,n=ie.injector,o=ie.projectableNodes,s=ie.environmentInjector||ie.ngModuleRef}const l=r?i:new e2(bn(i)),u=n||this.parentInjector;if(!s&&null==l.ngModule){const se=(r?u:this.parentInjector).get(Ao,null);se&&(s=se)}const p=bn(l.componentType??{}),v=H0(this._lContainer,p?.id??null),z=l.create(u,o,v?.firstChild??null,s);return this.insertImpl(z.hostView,a,z0(this._hostTNode,v)),z}insert(i,t){return this.insertImpl(i,t,!0)}insertImpl(i,t,n){const o=i._lView;if(function nV(e){return ls(e[_o])}(o)){const a=this.indexOf(i);if(-1!==a)this.detach(a);else{const l=o[_o],u=new Ib(l,l[Yo],l[_o]);u.detach(u.indexOf(i))}}const s=this._adjustIndex(t),r=this._lContainer;return Cc(r,o,s,n),i.attachToViewContainerRef(),j9(p4(r),s,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=Lb(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),n=kd(this._lContainer,t);n&&(xu(p4(this._lContainer),t),T_(n[ft],n))}detach(i){const t=this._adjustIndex(i,-1),n=kd(this._lContainer,t);return n&&null!=xu(p4(this._lContainer),t)?new Bd(n):null}_adjustIndex(i,t=0){return i??this.length+t}};function Lb(e){return e[8]}function p4(e){return e[8]||(e[8]=[])}function xb(e,i){let t;const n=i[e.index];return ls(n)?t=n:(t=RM(n,i,null,e),i[e.index]=t,y_(i,t)),Rb(t,i,e,n),new Ib(t,e,i)}let Rb=function kb(e,i,t,n){if(e[E1])return;let o;o=8&t.type?Fn(n):function AG(e,i){const t=e[rn],n=t.createComment(""),o=Cs(i,e);return F0(t,S_(t,o),n,function v$(e,i){return e.nextSibling(i)}(t,o),!1),n}(i,t),e[E1]=o},g4=()=>!1;class f4{constructor(i){this.queryList=i,this.matches=null}clone(){return new f4(this.queryList)}setDirty(){this.queryList.setDirty()}}class m4{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const n=null!==i.contentQueries?i.contentQueries[0]:t.length,o=[];for(let s=0;s<n;s++){const r=t.getByIndex(s);o.push(this.queries[r.indexInDeclarationView].clone())}return new m4(o)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==b4(i,t).matches&&this.queries[t].setDirty()}}class zb{constructor(i,t,n=null){this.flags=t,this.read=n,this.predicate="string"==typeof i?function xG(e){return e.split(",").map(i=>i.trim())}(i):i}}class v4{constructor(i=[]){this.queries=i}elementStart(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let n=0;n<this.length;n++){const o=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(i,o);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new v4(t):null}template(i,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class C4{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new C4(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const s=n[o];this.matchTNodeWithReadOption(i,t,NG(t,s)),this.matchTNodeWithReadOption(i,t,i_(t,i,s,!1,!1))}else n===Kt?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,i_(t,i,n,!1,!1))}matchTNodeWithReadOption(i,t,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===Qt||o===Qo||o===Kt&&4&t.type)this.addMatch(t.index,-2);else{const s=i_(t,i,o,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,n)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function NG(e,i){const t=e.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===i)return t[n+1];return null}function IG(e,i,t,n){return-1===t?function PG(e,i){return 11&e.type?cc(e,i):4&e.type?P_(e,i):null}(i,e):-2===t?function LG(e,i,t){return t===Qt?cc(i,e):t===Kt?P_(i,e):t===Qo?xb(i,e):void 0}(e,i,n):x0(e,e[ft],t,i)}function Vb(e,i,t,n){const o=i[ra].queries[n];if(null===o.matches){const s=e.data,r=t.matches,a=[];for(let l=0;null!==r&&l<r.length;l+=2){const u=r[l];a.push(u<0?null:IG(i,s[u],r[l+1],t.metadata.read))}o.matches=a}return o.matches}function w4(e,i,t,n){const o=e.queries.getByIndex(t),s=o.matches;if(null!==s){const r=Vb(e,i,o,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(r[a/2]);else{const u=s[a+1],p=i[-l];for(let v=Ji;v<p.length;v++){const L=p[v];L[y0]===L[_o]&&w4(L[ft],L,u,n)}if(null!==p[sc]){const v=p[sc];for(let L=0;L<v.length;L++){const z=v[L];w4(z[ft],z,u,n)}}}}}return n}function Hb(e,i,t){const n=new Ad(!(4&~t));return function D$(e,i,t,n){const o=kM(i);o.push(t),e.firstCreatePass&&zM(e).push(n,o.length-1)}(e,i,n,n.destroy),(i[ra]??=new m4).queries.push(new f4(n))-1}function Gb(e,i,t){null===e.queries&&(e.queries=new v4),e.queries.track(new C4(i,t))}function b4(e,i){return e.queries.getByIndex(i)}function Ub(e,i){const t=e[ft],n=b4(t,i);return n.crossesNgTemplate?w4(t,e,i,[]):Vb(t,e,n,i)}function T4(e,i){Ms("NgSignals");const t=function oe(e){const i=Object.create(le);i.value=e;const t=()=>(O(i),i.value);return t[Se]=i,t}(e),n=t[Se];return i?.equal&&(n.equal=i.equal),t.set=o=>P(n,o),t.update=o=>function K(e,i){S()||N(),P(e,i(e.value))}(n,o),t.asReadonly=Zb.bind(t),t}function Zb(){const e=this[Se];if(void 0===e.readonlyFn){const i=()=>this();i[Se]=e,e.readonlyFn=i}return e.readonlyFn}function jb(e){return function H_(e){return"function"==typeof e&&void 0!==e[Se]}(e)&&"function"==typeof e.set}function Ct(e){let i=function iT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const n=[e];for(;i;){let o;if(t1(e))o=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new tt(903,!1);o=i.\u0275dir}if(o){if(t){n.push(o);const r=e;r.inputs=B_(e.inputs),r.inputTransforms=B_(e.inputTransforms),r.declaredInputs=B_(e.declaredInputs),r.outputs=B_(e.outputs);const a=o.hostBindings;a&&KG(e,a);const l=o.viewQuery,u=o.contentQueries;if(l&&WG(e,l),u&&XG(e,u),ZG(e,o),Bk(e.outputs,o.outputs),t1(o)&&o.data.animation){const p=e.data;p.animation=(p.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let r=0;r<s.length;r++){const a=s[r];a&&a.ngInherit&&a(e),a===Ct&&(t=!1)}}i=Object.getPrototypeOf(i)}!function jG(e){let i=0,t=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=i+=o.hostVars,o.hostAttrs=dd(o.hostAttrs,t=dd(t,o.hostAttrs))}}(n)}function ZG(e,i){for(const t in i.inputs){if(!i.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const n=i.inputs[t];if(void 0!==n&&(e.inputs[t]=n,e.declaredInputs[t]=i.declaredInputs[t],null!==i.inputTransforms)){const o=Array.isArray(n)?n[0]:n;if(!i.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=i.inputTransforms[o]}}}function B_(e){return e===T1?{}:e===xn?[]:e}function WG(e,i){const t=e.viewQuery;e.viewQuery=t?(n,o)=>{i(n,o),t(n,o)}:i}function XG(e,i){const t=e.contentQueries;e.contentQueries=t?(n,o,s)=>{i(n,o,s),t(n,o,s)}:i}function KG(e,i){const t=e.hostBindings;e.hostBindings=t?(n,o)=>{i(n,o),t(n,o)}:i}function n2(e){const i=t=>{const n=(Array.isArray(e)?e:e()).map(o=>"function"==typeof o?{directive:nn(o),inputs:T1,outputs:T1}:{directive:nn(o.directive),inputs:sT(o.inputs),outputs:sT(o.outputs)});null===t.hostDirectives?(t.findHostDirectiveDefs=oT,t.hostDirectives=n):t.hostDirectives.unshift(...n)};return i.ngInherit=!0,i}function oT(e,i,t){if(null!==e.hostDirectives)for(const n of e.hostDirectives){const o=Eo(n.directive);QG(o.declaredInputs,n.inputs),oT(o,i,t),t.set(o,n),i.push(o)}}function sT(e){if(void 0===e||0===e.length)return T1;const i={};for(let t=0;t<e.length;t+=2)i[e[t]]=e[t+1];return i}function QG(e,i){for(const t in i)i.hasOwnProperty(t)&&(e[i[t]]=e[t])}function L1(e){const i=e.inputConfig,t={};for(const n in i)if(i.hasOwnProperty(n)){const o=i[n];Array.isArray(o)&&o[3]&&(t[n]=o[3])}e.inputTransforms=t}class B0{}class aT{}class E4 extends B0{constructor(i,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nb(this);const o=as(i);this._bootstrapComponents=hr(o.bootstrap),this._r3Injector=rw(i,t,[{provide:B0,useValue:this},{provide:k_,useValue:this.componentFactoryResolver},...n],So(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class A4 extends aT{constructor(i){super(),this.moduleType=i}create(i){return new E4(this.moduleType,i,[])}}class lT extends B0{constructor(i){super(),this.componentFactoryResolver=new Nb(this),this.instance=null;const t=new Jl([...i.providers,{provide:B0,useValue:this},{provide:k_,useValue:this.componentFactoryResolver}],i.parent||$u(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function G_(e,i,t=null){return new lT({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}function O4(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function x1(e,i,t){return e[i]=t}function eo(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function G0(e,i,t,n){const o=eo(e,i,t);return eo(e,i+1,n)||o}function s2(e,i,t,n,o,s,r,a,l,u){const p=t+Vt,v=i.firstCreatePass?function rU(e,i,t,n,o,s,r,a,l){const u=i.consts,p=k0(i,e,4,r||null,a||null);U6(i,t,p,zr(u,l)),Yu(i,p);const v=p.tView=G6(2,p,n,o,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,u,null);return null!==i.queries&&(i.queries.template(i,p),v.queries=i.queries.embeddedTView(p)),p}(p,i,e,n,o,s,r,a,l):i.data[p];n1(v,!1);const L=cT(i,e,v,t);bd()&&E_(i,e,L,v),cs(L,e);const z=RM(L,e,L,v);return e[p]=z,y_(e,z),function Fb(e,i,t){return g4(e,i,t)}(z,v,e),ju(v)&&$6(i,e,v),null!=l&&B6(e,v,u),v}function q(e,i,t,n,o,s,r,a){const l=Je(),u=wn();return s2(l,u,e,i,t,n,o,zr(u.consts,s),r,a),q}let cT=function dT(e,i,t,n){return O1(!0),i[rn].createComment("")};function Mn(e,i,t,n){const o=Je();return eo(o,o1(),i)&&(wn(),I1(fi(),o,e,i,t,n)),Mn}function Ic(e,i,t,n){return eo(e,o1(),t)?i+un(t)+n:_n}function Lc(e,i,t,n,o,s){const a=G0(e,la(),t,o);return ca(2),a?i+un(t)+n+un(o)+s:_n}function c2(e,i,t,n,o,s){const r=Je(),a=Ic(r,i,t,n);return a!==_n&&I1(fi(),r,e,a,o,s),c2}function Y_(e,i){return e<<17|i<<2}function Wa(e){return e>>17&32767}function z4(e){return 2|e}function Z0(e){return(131068&e)>>2}function V4(e,i){return-131069&e|i<<2}function H4(e){return 1|e}function HT(e,i,t,n){const o=e[t+1],s=null===i;let r=n?Wa(o):Z0(o),a=!1;for(;0!==r&&(!1===a||s);){const u=e[r+1];ZU(e[r],i)&&(a=!0,e[r+1]=n?H4(u):z4(u)),r=n?Wa(u):Z0(u)}a&&(e[t+1]=n?z4(o):H4(o))}function ZU(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&ql(e,i)>=0}const Do={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $T(e){return e.substring(Do.key,Do.keyEnd)}function BT(e,i){const t=Do.textEnd;return t===i?-1:(i=Do.keyEnd=function KU(e,i,t){for(;i<t&&e.charCodeAt(i)>32;)i++;return i}(e,Do.key=i,t),Hc(e,i,t))}function Hc(e,i,t){for(;i<t&&e.charCodeAt(i)<=32;)i++;return i}function w(e,i,t){const n=Je();return eo(n,o1(),i)&&Zs(wn(),fi(),n,e,i,n[rn],t,!1),w}function $4(e,i,t,n,o){const r=o?"class":"style";X6(e,t,i.inputs[r],r,n)}function Gr(e,i,t){return r1(e,i,t,!1),Gr}function Ye(e,i){return r1(e,i,null,!0),Ye}function Ai(e){a1(oZ,F1,e,!0)}function F1(e,i){for(let t=function WU(e){return function UT(e){Do.key=0,Do.keyEnd=0,Do.value=0,Do.valueEnd=0,Do.textEnd=e.length}(e),BT(e,Hc(e,0,Do.textEnd))}(i);t>=0;t=BT(i,t))ar(e,$T(i),!0)}function r1(e,i,t,n){const o=Je(),s=wn(),r=ca(2);s.firstUpdatePass&&XT(s,e,r,n),i!==_n&&eo(o,r,i)&&qT(s,s.data[Jo()],o,o[rn],e,o[r+1]=function rZ(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=So(dr(e)))),e}(i,t),n,r)}function a1(e,i,t,n){const o=wn(),s=ca(2);o.firstUpdatePass&&XT(o,null,s,n);const r=Je();if(t!==_n&&eo(r,s,t)){const a=o.data[Jo()];if(JT(a,n)&&!WT(o,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=af(l,t||"")),$4(o,a,r,t,n)}else!function sZ(e,i,t,n,o,s,r,a){o===_n&&(o=xn);let l=0,u=0,p=0<o.length?o[0]:null,v=0<s.length?s[0]:null;for(;null!==p||null!==v;){const L=l<o.length?o[l+1]:void 0,z=u<s.length?s[u+1]:void 0;let se,ie=null;p===v?(l+=2,u+=2,L!==z&&(ie=v,se=z)):null===v||null!==p&&p<v?(l+=2,ie=p):(u+=2,ie=v,se=z),null!==ie&&qT(e,i,t,n,ie,se,r,a),p=l<o.length?o[l]:null,v=u<s.length?s[u]:null}}(o,a,r,r[rn],r[s+1],r[s+1]=function iZ(e,i,t){if(null==t||""===t)return xn;const n=[],o=dr(t);if(Array.isArray(o))for(let s=0;s<o.length;s++)e(n,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&e(n,s,o[s]);else"string"==typeof o&&i(n,o);return n}(e,i,t),n,s)}}function WT(e,i){return i>=e.expandoStartIndex}function XT(e,i,t,n){const o=e.data;if(null===o[t+1]){const s=o[Jo()],r=WT(e,t);JT(s,n)&&null===i&&!r&&(i=!1),i=function QU(e,i,t,n){const o=function jf(e){const i=an.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}(e);let s=n?i.residualClasses:i.residualStyles;if(null===o)0===(n?i.classBindings:i.styleBindings)&&(t=d2(t=B4(null,e,i,t,n),i.attrs,n),s=null);else{const r=i.directiveStylingLast;if(-1===r||e[r]!==o)if(t=B4(o,e,i,t,n),null===s){let l=function eZ(e,i,t){const n=t?i.classBindings:i.styleBindings;if(0!==Z0(n))return e[Wa(n)]}(e,i,n);void 0!==l&&Array.isArray(l)&&(l=B4(null,e,i,l[1],n),l=d2(l,i.attrs,n),function tZ(e,i,t,n){e[Wa(t?i.classBindings:i.styleBindings)]=n}(e,i,n,l))}else s=function nZ(e,i,t){let n;const o=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<o;s++)n=d2(n,e[s].hostAttrs,t);return d2(n,i.attrs,t)}(e,i,n)}return void 0!==s&&(n?i.residualClasses=s:i.residualStyles=s),t}(o,s,i,n),function GU(e,i,t,n,o,s){let r=s?i.classBindings:i.styleBindings,a=Wa(r),l=Z0(r);e[n]=t;let p,u=!1;if(Array.isArray(t)?(p=t[1],(null===p||ql(t,p)>0)&&(u=!0)):p=t,o)if(0!==l){const L=Wa(e[a+1]);e[n+1]=Y_(L,a),0!==L&&(e[L+1]=V4(e[L+1],n)),e[a+1]=function $U(e,i){return 131071&e|i<<17}(e[a+1],n)}else e[n+1]=Y_(a,0),0!==a&&(e[a+1]=V4(e[a+1],n)),a=n;else e[n+1]=Y_(l,0),0===a?a=n:e[l+1]=V4(e[l+1],n),l=n;u&&(e[n+1]=z4(e[n+1])),HT(e,p,n,!0),HT(e,p,n,!1),function UU(e,i,t,n,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof i&&ql(s,i)>=0&&(t[n+1]=H4(t[n+1]))}(i,p,e,n,s),r=Y_(a,l),s?i.classBindings=r:i.styleBindings=r}(o,s,i,t,r,n)}}function B4(e,i,t,n,o){let s=null;const r=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<r&&(s=i[a],n=d2(n,s.hostAttrs,o),s!==e);)a++;return null!==e&&(t.directiveStylingLast=a),n}function d2(e,i,t){const n=t?1:2;let o=-1;if(null!==i)for(let s=0;s<i.length;s++){const r=i[s];"number"==typeof r?o=r:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ar(e,r,!!t||i[++s]))}return void 0===e?null:e}function oZ(e,i,t){const n=String(i);""!==n&&!n.includes(" ")&&ar(e,n,t)}function qT(e,i,t,n,o,s,r,a){if(!(3&i.type))return;const l=e.data,u=l[a+1],p=function BU(e){return!(1&~e)}(u)?YT(l,i,t,o,Z0(u),r):void 0;J_(p)||(J_(s)||function HU(e){return!(2&~e)}(u)&&(s=YT(l,null,t,o,a,r)),function M$(e,i,t,n,o){if(i)o?e.addClass(t,n):e.removeClass(t,n);else{let s=-1===n.indexOf("-")?void 0:Ga.DashCase;null==o?e.removeStyle(t,n,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Ga.Important),e.setStyle(t,n,o,s))}}(n,r,md(Jo(),t),o,s))}function YT(e,i,t,n,o,s){const r=null===i;let a;for(;o>0;){const l=e[o],u=Array.isArray(l),p=u?l[1]:l,v=null===p;let L=t[o+1];L===_n&&(L=v?xn:void 0);let z=v?Mf(L,n):p===n?L:void 0;if(u&&!J_(z)&&(z=Mf(l,n)),J_(z)&&(a=z,r))return a;const ie=e[o+1];o=r?Wa(ie):Z0(ie)}if(null!==i){let l=s?i.residualClasses:i.residualStyles;null!=l&&(a=Mf(l,n))}return a}function J_(e){return void 0!==e}function JT(e,i){return!!(e.flags&(i?8:16))}function h2(e,i,t){a1(ar,F1,Ic(Je(),e,i,t),!0)}function $c(){return Je()[Li][gi]}class pZ{destroy(i){}updateValue(i,t){}swap(i,t){const n=Math.min(i,t),o=Math.max(i,t),s=this.detach(o);if(o-n>1){const r=this.detach(n);this.attach(n,s),this.attach(o,r)}else this.attach(n,s)}move(i,t){this.attach(t,this.detach(i))}}function G4(e,i,t,n,o){return e===t&&Object.is(i,n)?1:Object.is(o(e,i),o(t,n))?-1:0}function U4(e,i,t,n){return!(void 0===i||!i.has(n)||(e.attach(t,i.get(n)),i.delete(n),0))}function eS(e,i,t,n,o){if(U4(e,i,n,t(n,o)))e.updateValue(n,o);else{const s=e.create(n,o);e.attach(n,s)}}function tS(e,i,t,n){const o=new Set;for(let s=i;s<=t;s++)o.add(n(s,e.at(s)));return o}class nS{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const t=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(i,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,t){if(this.kvMap.has(i)){let n=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const o=this._vMap;for(;o.has(n);)n=o.get(n);o.set(n,t)}else this.kvMap.set(i,t)}forEach(i){for(let[t,n]of this.kvMap)if(i(n,t),void 0!==this._vMap){const o=this._vMap;for(;o.has(n);)n=o.get(n),i(n,t)}}}function J(e,i){Ms("NgControlFlow");const t=Je(),n=o1(),o=t[n]!==_n?t[n]:-1,s=-1!==o?Q_(t,Vt+o):void 0;if(eo(t,n,e)){const a=ae(null);try{if(void 0!==s&&q6(s,0),-1!==e){const l=Vt+e,u=Q_(t,l),p=Z4(t[ft],l),v=H0(u,p.tView.ssrId);Cc(u,vc(t,p,i,{dehydratedView:v}),0,z0(p,v))}}finally{ae(a)}}else if(void 0!==s){const a=HM(s,0);void 0!==a&&(a[gi]=i)}}class fZ{constructor(i,t,n){this.lContainer=i,this.$implicit=t,this.$index=n}get $count(){return this.lContainer.length-Ji}}function u2(e){return e}function Ft(e,i){return i}class mZ{constructor(i,t,n){this.hasEmptyBlock=i,this.trackByFn=t,this.liveCollection=n}}function ut(e,i,t,n,o,s,r,a,l,u,p,v,L){Ms("NgControlFlow");const z=Je(),ie=wn(),se=void 0!==l,he=Je(),be=a?r.bind(he[Li][gi]):r,we=new mZ(se,be);he[Vt+e]=we,s2(z,ie,e+1,i,t,n,o,zr(ie.consts,s)),se&&s2(z,ie,e+2,l,u,p,v,zr(ie.consts,L))}class vZ extends pZ{constructor(i,t,n){super(),this.lContainer=i,this.hostLView=t,this.templateTNode=n,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ji}at(i){return this.getLView(i)[gi].$implicit}attach(i,t){const n=t[vs];this.needsIndexUpdate||=i!==this.length,Cc(this.lContainer,t,i,z0(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function CZ(e,i){return kd(e,i)}(this.lContainer,i)}create(i,t){const n=H0(this.lContainer,this.templateTNode.tView.ssrId),o=vc(this.hostLView,this.templateTNode,new fZ(this.lContainer,t,i),{dehydratedView:n});return this.operationsCounter?.recordCreate(),o}destroy(i){T_(i[ft],i),this.operationsCounter?.recordDestroy()}updateValue(i,t){this.getLView(i)[gi].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[gi].$index=i}getLView(i){return function wZ(e,i){return HM(e,i)}(this.lContainer,i)}}function _t(e){const i=ae(null),t=Jo();try{const n=Je(),o=n[ft],s=n[t],r=t+1,a=Q_(n,r);if(void 0===s.liveCollection){const u=Z4(o,r);s.liveCollection=new vZ(a,n,u)}else s.liveCollection.reset();const l=s.liveCollection;if(function gZ(e,i,t){let n,o,s=0,r=e.length-1;if(Array.isArray(i)){let l=i.length-1;for(;s<=r&&s<=l;){const u=e.at(s),p=i[s],v=G4(s,u,s,p,t);if(0!==v){v<0&&e.updateValue(s,p),s++;continue}const L=e.at(r),z=i[l],ie=G4(r,L,l,z,t);if(0!==ie){ie<0&&e.updateValue(r,z),r--,l--;continue}const se=t(s,u),he=t(r,L),be=t(s,p);if(Object.is(be,he)){const we=t(l,z);Object.is(we,se)?(e.swap(s,r),e.updateValue(r,z),l--,r--):e.move(r,s),e.updateValue(s,p),s++}else if(n??=new nS,o??=tS(e,s,r,t),U4(e,n,s,be))e.updateValue(s,p),s++,r++;else if(o.has(be))n.set(se,e.detach(s)),r--;else{const we=e.create(s,i[s]);e.attach(s,we),s++,r++}}for(;s<=l;)eS(e,n,t,s,i[s]),s++}else if(null!=i){const l=i[Symbol.iterator]();let u=l.next();for(;!u.done&&s<=r;){const p=e.at(s),v=u.value,L=G4(s,p,s,v,t);if(0!==L)L<0&&e.updateValue(s,v),s++,u=l.next();else{n??=new nS,o??=tS(e,s,r,t);const z=t(s,v);if(U4(e,n,s,z))e.updateValue(s,v),s++,r++,u=l.next();else if(o.has(z)){const ie=t(s,p);n.set(ie,e.detach(s)),r--}else e.attach(s,e.create(s,v)),s++,r++,u=l.next()}}for(;!u.done;)eS(e,n,t,e.length,u.value),u=l.next()}for(;s<=r;)e.destroy(e.detach(r--));n?.forEach(l=>{e.destroy(l)})}(l,e,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){const u=o1(),p=0===l.length;if(eo(n,u,p)){const v=t+2,L=Q_(n,v);if(p){const z=Z4(o,v),ie=H0(L,z.tView.ssrId);Cc(L,vc(n,z,void 0,{dehydratedView:ie}),0,z0(z,ie))}else q6(L,0)}}}finally{ae(i)}}function Q_(e,i){return e[i]}function Z4(e,i){return vd(e,i)}function c(e,i,t,n){const o=Je(),s=wn(),r=Vt+e,a=o[rn],l=s.firstCreatePass?function MZ(e,i,t,n,o,s){const r=i.consts,l=k0(i,e,2,n,zr(r,o));return U6(i,t,l,zr(r,s)),null!==l.attrs&&V_(l,l.attrs,!1),null!==l.mergedAttrs&&V_(l,l.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,l),l}(r,s,o,i,t,n):s.data[r],u=iS(s,o,l,a,i,e);o[r]=u;const p=ju(l);return n1(l,!0),EM(a,u,l),!function Sc(e){return!(32&~e.flags)}(l)&&bd()&&E_(s,o,u,l),0===function iV(){return an.lFrame.elementDepthCount}()&&cs(u,o),function oV(){an.lFrame.elementDepthCount++}(),p&&($6(s,o,l),H6(s,l,o)),null!==n&&B6(o,l),c}function h(){let e=oi();Gf()?Uf():(e=e.parent,n1(e,!1));const i=e;(function rV(e){return an.skipHydrationRootTNode===e})(i)&&function dV(){an.skipHydrationRootTNode=null}(),function sV(){an.lFrame.elementDepthCount--}();const t=wn();return t.firstCreatePass&&(Yu(t,e),xf(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function MV(e){return!!(8&e.flags)}(i)&&$4(t,i,Je(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function bV(e){return!!(16&e.flags)}(i)&&$4(t,i,Je(),i.stylesWithoutHost,!1),h}function k(e,i,t,n){return c(e,i,t,n),h(),k}let iS=(e,i,t,n,o,s)=>(O1(!0),b_(n,o,function HC(){return an.lFrame.currentNamespace}()));function ke(e,i,t){const n=Je(),o=wn(),s=e+Vt,r=o.firstCreatePass?function SZ(e,i,t,n,o){const s=i.consts,r=zr(s,n),a=k0(i,e,8,"ng-container",r);return null!==r&&V_(a,r,!0),U6(i,t,a,zr(s,o)),null!==i.queries&&i.queries.elementStart(i,a),a}(s,o,n,i,t):o.data[s];n1(r,!0);const a=oS(o,n,r,e);return n[s]=a,bd()&&E_(o,n,a,r),cs(a,n),ju(r)&&($6(o,n,r),H6(o,r,n)),null!=t&&B6(n,r),ke}function ze(){let e=oi();const i=wn();return Gf()?Uf():(e=e.parent,n1(e,!1)),i.firstCreatePass&&(Yu(i,e),xf(e)&&i.queries.elementEnd(e)),ze}function ri(e,i,t){return ke(e,i,t),ze(),ri}let oS=(e,i,t,n)=>(O1(!0),P6(i[rn],""));function pe(){return Je()}function ds(e,i,t){const n=Je();return eo(n,o1(),i)&&Zs(wn(),fi(),n,e,i,n[rn],t,!0),ds}const j0=void 0;var yZ=["en",[["a","p"],["AM","PM"],j0],[["AM","PM"],j0,j0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],j0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],j0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",j0,"{1} 'at' {0}",j0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OZ(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Bc={};function bs(e){const i=function PZ(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=aS(i);if(t)return t;const n=i.split("-")[0];if(t=aS(n),t)return t;if("en"===n)return yZ;throw new tt(701,!1)}function aS(e){return e in Bc||(Bc[e]=di.ng&&di.ng.common&&di.ng.common.locales&&di.ng.common.locales[e]),Bc[e]}var mi=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(mi||{});const IZ=["zero","one","two","few","many"],Gc="en-US",ep={marker:"element"},tp={marker:"ICU"};var js=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}(js||{});let lS=Gc;let _2=0,p2=0;let g2=(e,i,t,n)=>(O1(!0),function dS(e,i,t){const n=e[rn];switch(t){case Node.COMMENT_NODE:return P6(n,i);case Node.TEXT_NODE:return N6(n,i);case Node.ELEMENT_NODE:return b_(n,i,null)}}(e,t,n));function hS(e,i,t,n){const o=t[rn];let r,s=null;for(let a=0;a<i.length;a++){const l=i[a];if("string"==typeof l){const u=i[++a];null===t[u]&&(t[u]=g2(t,u,l,Node.TEXT_NODE))}else if("number"==typeof l)switch(1&l){case 0:const u=eb(l);let p,v;if(null===s&&(s=u,r=S_(o,n)),u===s?(p=n,v=r):(p=null,v=Fn(t[u])),null!==v){const se=tb(l);F0(o,v,t[se],p,!1);const be=jd(e,se);if(null!==be&&"object"==typeof be){const we=L_(be,t);null!==we&&hS(e,be.create[we],t,t[be.anchorIdx])}}break;case 1:const z=i[++a],ie=i[++a];j6(o,md(l>>>1,t),null,null,z,ie,null)}else switch(l){case tp:const u=i[++a],p=i[++a];null===t[p]&&cs(t[p]=g2(t,p,u,Node.COMMENT_NODE),t);break;case ep:const v=i[++a],L=i[++a];null===t[L]&&cs(t[L]=g2(t,L,v,Node.ELEMENT_NODE),t)}}}function uS(e,i,t,n,o){for(let s=0;s<t.length;s++){const r=t[s],a=t[++s];if(r&o){let l="";for(let u=s+1;u<=s+a;u++){const p=t[u];if("string"==typeof p)l+=p;else if("number"==typeof p)if(p<0)l+=un(i[n-p]);else{const v=p>>>2;switch(3&p){case 1:const L=t[++u],z=t[++u],ie=e.data[v];"string"==typeof ie?j6(i[rn],i[v],null,ie,L,l,z):Zs(e,ie,i,L,l,i[rn],z,!1);break;case 0:const se=i[v];null!==se&&hM(i[rn],se,l);break;case 2:$Z(e,jd(e,v),i,l);break;case 3:_S(e,jd(e,v),n,i)}}}}else{const l=t[s+1];if(l>0&&!(3&~l)){const p=jd(e,l>>>2);i[p.currentCaseLViewIndex]<0&&_S(e,p,n,i)}}s+=a}}function _S(e,i,t,n){let o=n[i.currentCaseLViewIndex];if(null!==o){let s=_2;o<0&&(o=n[i.currentCaseLViewIndex]=~o,s=-1),uS(e,n,i.update[o],t,s)}}function $Z(e,i,t,n){const o=function BZ(e,i){let t=e.cases.indexOf(i);if(-1===t)switch(e.type){case 1:{const n=function LZ(e,i){const t=function rS(e){return bs(e)[mi.PluralCase]}(i)(parseInt(e,10)),n=IZ[t];return void 0!==n?n:"other"}(i,function RZ(){return lS}());t=e.cases.indexOf(n),-1===t&&"other"!==n&&(t=e.cases.indexOf("other"));break}case 0:t=e.cases.indexOf("other")}return-1===t?null:t}(i,n);if(L_(i,t)!==o&&(pS(e,i,t),t[i.currentCaseLViewIndex]=null===o?null:~o,null!==o)){const r=t[i.anchorIdx];r&&hS(e,i.create[o],t,r),function ZB(e,i,t){hb(e,i,t)}(t,i.anchorIdx,o)}}function pS(e,i,t){let n=L_(i,t);if(null!==n){const o=i.remove[n];for(let s=0;s<o.length;s++){const r=o[s];if(r>0){const a=md(r,t);null!==a&&zd(t[rn],a)}else pS(e,jd(e,~r),t)}}}const np=/\ufffd(\d+):?\d*\ufffd/gi,GZ=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,UZ=/\ufffd(\d+)\ufffd/,fS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,f2="\ufffd",ZZ=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,jZ=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,WZ=/\uE500/g;function mS(e,i,t,n,o,s,r){const a=Vd(e,n,1,null);let l=a<<js.SHIFT,u=wd();i===u&&(u=null),null===u&&(l|=js.APPEND_EAGERLY),r&&(l|=js.COMMENT,function d$(e){void 0===y6&&(y6=e())}(EB)),o.push(l,null===s?"":s);const p=V6(e,a,r?32:1,null===s?"":s,null);JM(t,p);const v=p.index;return n1(p,!1),null!==u&&i!==u&&function bB(e,i){let t=e.insertBeforeIndex;null===t?(wM(qM,YM),t=e.insertBeforeIndex=[null,i]):(za(Array.isArray(t),!0,"Expecting array here"),t.push(i))}(u,v),p}function qZ(e,i,t,n,o,s,r,a){const l=a.match(np),p=mS(i,t,n,r,o,l?null:a,!1).index;l&&m2(s,a,p,null,0,null),e.push({kind:0,index:p})}function m2(e,i,t,n,o,s){const r=e.length,a=r+1;e.push(null,null);const l=r+2,u=i.split(np);let p=0;for(let v=0;v<u.length;v++){const L=u[v];if(1&v){const z=o+parseInt(L,10);e.push(-1-z),p|=vS(z)}else""!==L&&e.push(L)}return e.push(t<<2|(n?1:0)),n&&e.push(n,s),e[r]=p,e[a]=e.length-l,p}function JZ(e){let i=0;for(let t=0;t<e.length;t++){const n=e[t];"number"==typeof n&&n<0&&i++}return i}function vS(e){return 1<<Math.min(e,31)}function CS(e){let i,s,t="",n=0,o=!1;for(;null!==(i=ZZ.exec(e));)o?i[0]===`${f2}/*${s}${f2}`&&(n=i.index,o=!1):(t+=e.substring(n,i.index+i[0].length),s=i[1],o=!0);return t+=e.slice(n),t}function wS(e,i,t,n,o,s,r){let a=0;const l={type:s.type,currentCaseLViewIndex:Vd(i,t,1,null),anchorIdx:r,cases:[],create:[],remove:[],update:[]};(function ij(e,i,t){e.push(vS(i.mainBinding),2,-1-i.mainBinding,t<<2|2)})(n,s,r),function MB(e,i,t){const n=e.data[i];null===n?e.data[i]=t:n.value=t}(i,r,l);const u=s.values,p=[];for(let v=0;v<u.length;v++){const L=u[v],z=[];for(let se=0;se<L.length;se++){const he=L[se];if("string"!=typeof he){const be=z.push(he)-1;L[se]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}const ie=[];p.push(ie),a=tj(ie,i,l,t,n,o,s.cases[v],L.join(""),z)|a}a&&function oj(e,i,t){e.push(i,1,t<<2|3)}(n,a,r),e.push({kind:3,index:r,cases:p,currentCaseLViewIndex:l.currentCaseLViewIndex})}function ej(e){const i=[],t=[];let n=1,o=0;const s=j4(e=e.replace(fS,function(r,a,l){return n="select"===l?0:1,o=parseInt(a.slice(1),10),""}));for(let r=0;r<s.length;){let a=s[r++].trim();1===n&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&i.push(a);const l=j4(s[r++]);i.length>t.length&&t.push(l)}return{type:n,mainBinding:o,cases:i,values:t}}function j4(e){if(!e)return[];let i=0;const t=[],n=[],o=/[{}]/g;let s;for(o.lastIndex=0;s=o.exec(e);){const a=s.index;if("}"==s[0]){if(t.pop(),0==t.length){const l=e.substring(i,a);fS.test(l)?n.push(ej(l)):n.push(l),i=a+1}}else{if(0==t.length){const l=e.substring(i,a);n.push(l),i=a+1}t.push("{")}}const r=e.substring(i);return n.push(r),n}function tj(e,i,t,n,o,s,r,a,l){const u=[],p=[],v=[];t.cases.push(r),t.create.push(u),t.remove.push(p),t.update.push(v);const z=jw(Ba()).getInertBodyElement(a),ie=S6(z)||z;return ie?MS(e,i,t,n,o,u,p,v,ie,s,l,0):0}function MS(e,i,t,n,o,s,r,a,l,u,p,v){let L=0,z=l.firstChild;for(;z;){const ie=Vd(i,n,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const se=z,he=se.tagName.toLowerCase();if(b6.hasOwnProperty(he)){W4(s,ep,he,u,ie),i.data[ie]=he;const Ae=se.attributes;for(let pt=0;pt<Ae.length;pt++){const gt=Ae.item(pt),Mt=gt.name.toLowerCase();gt.value.match(np)?qw.hasOwnProperty(Mt)&&m2(a,gt.value,ie,gt.name,0,T6[Mt]?v_:null):sj(s,ie,gt)}const Qe={kind:1,index:ie,children:[]};e.push(Qe),L=MS(Qe.children,i,t,n,o,s,r,a,z,ie,p,v+1)|L,bS(r,ie,v)}break;case Node.TEXT_NODE:const be=z.textContent||"",we=be.match(np);W4(s,null,we?"":be,u,ie),bS(r,ie,v),we&&(L=m2(a,be,ie,null,0,null)|L),e.push({kind:0,index:ie});break;case Node.COMMENT_NODE:const Fe=UZ.exec(z.textContent||"");if(Fe){const Qe=p[parseInt(Fe[1],10)];W4(s,tp,"",u,ie),wS(e,i,n,o,u,Qe,ie),nj(r,ie,v)}}z=z.nextSibling}return L}function bS(e,i,t){0===t&&e.push(i)}function nj(e,i,t){0===t&&(e.push(~i),e.push(i))}function W4(e,i,t,n,o){null!==i&&e.push(i),e.push(t,o,function SB(e,i,t){return e|i<<17|t<<1}(0,n,o))}function sj(e,i,t){e.push(i<<1|1,t.name,t.value)}const rj=/\[(\ufffd.+?\ufffd?)\]/,aj=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,lj=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,cj=/{([A-Z0-9_]+)}/g,dj=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,hj=/\/\*/,uj=/\d+\:(\d+)/;function hs(e,i,t=-1){const n=wn(),o=Je(),s=Vt+e,r=zr(n.consts,i),a=wd();n.firstCreatePass&&function KZ(e,i,t,n,o,s){const r=wd(),a=[],l=[],u=[[]],p=[[]];o=function QZ(e,i){if(function ib(e){return-1===e}(i))return CS(e);{const t=e.indexOf(`:${i}${f2}`)+2+i.toString().length,n=e.search(new RegExp(`${f2}\\/\\*\\d+:${i}${f2}`));return CS(e.substring(t,n))}}(o,s);const v=function XZ(e){return e.replace(WZ," ")}(o).split(jZ);for(let L=0;L<v.length;L++){let z=v[L];if(1&L){const ie=47===z.charCodeAt(0),se=z.charCodeAt(ie?1:0),he=Vt+Number.parseInt(z.substring(ie?2:1));if(ie)u.shift(),p.shift(),n1(wd(),!1);else{const be=TB(e,u[0],he);u.unshift([]),n1(be,!0);const we={kind:2,index:he,children:[],type:35===se?0:1};p[0].push(we),p.unshift(we.children)}}else{const ie=j4(z);for(let se=0;se<ie.length;se++){let he=ie[se];if(1&se){const be=he;if("object"!=typeof be)throw new Error(`Unable to parse ICU expression in "${o}" message.`);const Fe=mS(e,r,u[0],t,a,"",!0).index;wS(p[0],e,t,l,i,be,Fe)}else""!==he&&qZ(p[0],e,r,u[0],a,l,t,he)}}}e.data[n]={create:a,update:l,ast:p[0]}}(n,null===a?0:a.index,o,s,r,t),2===n.type?o[Li][Zt]|=32:o[Zt]|=32;const l=n.data[s],p=pM(n,a===o[Yo]?null:a,o),v=a&&8&a.type?o[a.index]:null;(function RB(e,i,t,n){cb(e,i,t,n)})(o,s,a,t),function HZ(e,i,t,n){const o=e[rn];for(let s=0;s<i.length;s++){const r=i[s++],u=(r&js.APPEND_EAGERLY)===js.APPEND_EAGERLY,p=r>>>js.SHIFT;let v=e[p],L=!1;null===v&&(v=e[p]=g2(e,p,i[s],(r&js.COMMENT)===js.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),L=bd()),u&&null!==t&&L&&F0(o,t,v,n,!1)}}(o,l.create,p,v),LC(!0)}function us(){LC(!1)}function R(e,i,t){hs(e,i,t),us()}function An(e){return function FZ(e){e&&(_2|=1<<Math.min(p2,31)),p2++}(eo(Je(),o1(),e)),An}function Dn(e){!function kZ(e,i,t){if(p2>0){const n=e.data[t];uS(e,i,Array.isArray(n)?n:n.update,la()-p2-1,_2)}_2=0,p2=0}(wn(),Je(),e+Vt)}function Xa(e,i={}){return function _j(e,i={}){let t=e;if(rj.test(e)){const n={},o=[0];t=t.replace(aj,(s,r,a)=>{const l=r||a,u=n[l]||[];if(u.length||(l.split("|").forEach(se=>{const he=se.match(uj),be=he?parseInt(he[1],10):0,we=hj.test(se);u.push([be,we,se])}),n[l]=u),!u.length)throw new Error(`i18n postprocess: unmatched placeholder - ${l}`);const p=o[o.length-1];let v=0;for(let se=0;se<u.length;se++)if(u[se][0]===p){v=se;break}const[L,z,ie]=u[v];return z?o.pop():p!==L&&o.push(L),u.splice(v,1),ie})}return Object.keys(i).length&&(t=t.replace(lj,(n,o,s,r,a,l)=>i.hasOwnProperty(s)?`${o}${i[s]}${l}`:n),t=t.replace(cj,(n,o)=>i.hasOwnProperty(o)?i[o]:n),t=t.replace(dj,(n,o)=>{if(i.hasOwnProperty(o)){const s=i[o];if(!s.length)throw new Error(`i18n postprocess: unmatched ICU - ${n} with key: ${o}`);return s.shift()}return n})),t}(e,i)}let ES=(e,i,t)=>{};function F(e,i,t,n){const o=Je(),s=wn(),r=oi();return K4(s,o,o[rn],r,e,i,n),F}function K4(e,i,t,n,o,s,r){const a=ju(n),u=e.firstCreatePass&&zM(e),p=i[gi],v=kM(i);let L=!0;if(3&n.type||r){const se=Cs(n,i),he=r?r(se):se,be=v.length,we=r?Ae=>r(Fn(Ae[n.index])):n.index;let Fe=null;if(!r&&a&&(Fe=function pj(e,i,t,n){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const r=o[s];if(r===t&&o[s+1]===n){const a=i[tc],l=o[s+2];return a.length>l?a[l]:null}"string"==typeof r&&(s+=2)}return null}(e,i,o,n.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=s,Fe.__ngLastListenerFn__=s,L=!1;else{s=yS(n,i,p,s),ES(se,o,s);const Ae=t.listen(he,o,s);v.push(s,Ae),u&&u.push(o,we,be,be+1)}}else s=yS(n,i,p,s);const z=n.outputs;let ie;if(L&&null!==z&&(ie=z[o])){const se=ie.length;if(se)for(let he=0;he<se;he+=2){const Qe=i[ie[he]][ie[he+1]].subscribe(s),pt=v.length;v.push(s,Qe),u&&u.push(o,n.index,pt,-(pt+1))}}}function OS(e,i,t,n){const o=ae(null);try{return A1(6,i,t),!1!==t(n)}catch(s){return D_(e,s),!1}finally{A1(7,i,t),ae(o)}}function yS(e,i,t,n){return function o(s){if(s===Function)return n;$d(e.componentOffset>-1?lr(e.index,i):i,5);let a=OS(i,t,n,s),l=o.__ngNextListenerFn__;for(;l;)a=OS(i,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function _(e=1){return function gV(e){return(an.lFrame.contextLView=function SC(e,i){for(;e>0;)i=i[nc],e--;return i}(e,an.lFrame.contextLView))[gi]}(e)}function gj(e,i){let t=null;const n=function mz(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let o=0;o<i.length;o++){const s=i[o];if("*"!==s){if(null===n?eC(e,s,!0):wz(n,s))return o}else t=o}return t}function Ws(e){const i=Je()[Li][Yo];if(!i.projection){const n=i.projection=function Ru(e,i){const t=[];for(let n=0;n<e;n++)t.push(i);return t}(e?e.length:1,null),o=n.slice();let s=i.child;for(;null!==s;){if(128!==s.type){const r=e?gj(s,e):0;null!==r&&(o[r]?o[r].projectionNext=s:n[r]=s,o[r]=s)}s=s.next}}}function Xs(e,i=0,t,n,o,s){const r=Je(),a=wn(),l=n?e+1:null;null!==l&&s2(r,a,l,n,o,s,null,t);const u=k0(a,Vt+e,16,null,t||null);null===u.projection&&(u.projection=i),Uf();const v=!r[vs]||P0();null===r[Li][Yo].projection[u.projection]&&null!==l?function fj(e,i,t){const n=Vt+t,o=i.data[n],s=e[n],r=H0(s,o.tView.ssrId);Cc(s,vc(e,o,void 0,{dehydratedView:r}),0,z0(o,r))}(r,a,l):v&&32&~u.flags&&function C$(e,i,t){TM(i[rn],0,i,t,x6(e,t,i),mM(t.parent||i[Yo],t,i))}(a,r,u)}function ui(e,i,t){return ln(e,"",i,"",t),ui}function ln(e,i,t,n,o){const s=Je(),r=Ic(s,i,t,n);return r!==_n&&Zs(wn(),fi(),s,e,r,s[rn],o,!1),ln}function Ks(e,i,t,n,o,s,r){const a=Je(),l=Lc(a,i,t,n,o,s);return l!==_n&&Zs(wn(),fi(),a,e,l,a[rn],r,!1),Ks}function Nn(e,i,t,n){!function Bb(e,i,t,n){const o=wn();if(o.firstCreatePass){const s=oi();Gb(o,new zb(i,t,n),s.index),function RG(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(o,e),!(2&~t)&&(o.staticContentQueries=!0)}return Hb(o,Je(),t)}(e,i,t,n)}function cn(e,i,t){!function $b(e,i,t){const n=wn();return n.firstCreatePass&&(Gb(n,new zb(e,i,t),-1),!(2&~i)&&(n.staticViewQueries=!0)),Hb(n,Je(),i)}(e,i,t)}function Ot(e){const i=Je(),t=wn(),n=Wf();qu(n+1);const o=b4(t,n);if(e.dirty&&function tV(e){return!(4&~e[Zt])}(i)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const s=Ub(i,n);e.reset(s,dw),e.notifyOnChanges()}return!0}return!1}function yt(){return function M4(e,i){return e[ra].queries[i].queryList}(Je(),Wf())}function vt(e){return N0(function yC(){return an.lFrame.contextLView}(),Vt+e)}function j(e,i=""){const t=Je(),n=wn(),o=e+Vt,s=n.firstCreatePass?k0(n,o,1,i,null):n.data[o],r=ZS(n,t,s,i,e);t[o]=r,bd()&&E_(n,t,r,s),n1(s,!1)}let ZS=(e,i,t,n,o)=>(O1(!0),N6(i[rn],n));function Pe(e){return nt("",e,""),Pe}function nt(e,i,t){const n=Je(),o=Ic(n,e,i,t);return o!==_n&&ua(n,Jo(),o),nt}function l1(e,i,t,n,o){const s=Je(),r=Lc(s,e,i,t,n,o);return r!==_n&&ua(s,Jo(),r),l1}function bt(e,i,t){jb(i)&&(i=i());const n=Je();return eo(n,o1(),i)&&Zs(wn(),fi(),n,e,i,n[rn],t,!1),bt}function mt(e,i){const t=jb(e);return t&&e.set(i),t}function Tt(e,i){const t=Je(),n=wn(),o=oi();return K4(n,t,t[rn],o,e,i),Tt}function Y4(e,i,t,n,o){if(e=nn(e),Array.isArray(e))for(let s=0;s<e.length;s++)Y4(e[s],i,t,n,o);else{const s=wn(),r=Je(),a=oi();let l=O0(e)?e:nn(e.provide);const u=lC(e),p=1048575&a.providerIndexes,v=a.directiveStart,L=a.providerIndexes>>20;if(O0(e)||!e.multi){const z=new Td(u,o,Y),ie=Q4(l,i,o?p:p+L,v);-1===ie?(n6(t_(a,r),s,l),J4(s,e,i.length),i.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(z),r.push(z)):(t[ie]=z,r[ie]=z)}else{const z=Q4(l,i,p+L,v),ie=Q4(l,i,p,p+L),he=ie>=0&&t[ie];if(o&&!he||!o&&!(z>=0&&t[z])){n6(t_(a,r),s,l);const be=function Fj(e,i,t,n,o){const s=new Td(e,t,Y);return s.multi=[],s.index=i,s.componentProviders=0,tE(s,o,n&&!t),s}(o?Rj:xj,t.length,o,n,u);!o&&he&&(t[ie].providerFactory=be),J4(s,e,i.length,0),i.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(be),r.push(be)}else J4(s,e,z>-1?z:ie,tE(t[o?ie:z],u,!o&&n));!o&&n&&he&&t[ie].componentProviders++}}}function J4(e,i,t,n){const o=O0(i),s=function Nz(e){return!!e.useClass}(i);if(o||s){const l=(s?nn(i.useClass):i).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&i.multi){const p=u.indexOf(t);-1===p?u.push(t,[n,l]):u[p+1].push(n,l)}else u.push(t,l)}}}function tE(e,i,t){return t&&e.componentProviders++,e.multi.push(i)-1}function Q4(e,i,t,n){for(let o=t;o<n;o++)if(i[o]===e)return o;return-1}function xj(e,i,t,n){return e8(this.multi,[])}function Rj(e,i,t,n){const o=this.multi;let s;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=x0(t,t[ft],this.providerFactory.index,n);s=a.slice(0,r),e8(o,s);for(let l=r;l<a.length;l++)s.push(a[l])}else s=[],e8(o,s);return s}function e8(e,i){for(let t=0;t<e.length;t++)i.push((0,e[t])());return i}function Gt(e,i=[]){return t=>{t.providersResolver=(n,o)=>function Lj(e,i,t){const n=wn();if(n.firstCreatePass){const o=t1(e);Y4(t,n.data,n.blueprint,o,!0),Y4(i,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,i)}}let kj=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const n=Ef(0,t.type),o=n.length>0?G_([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$e({token:e,providedIn:"environment",factory:()=>new e(Ke(Ao))})}return e})();function $i(e){Ms("NgStandalone"),e.getStandaloneInjector=i=>i.get(kj).getOrCreateStandaloneInjector(e)}function v2(e,i,t){const n=ws()+e,o=Je();return o[n]===_n?x1(o,n,t?i.call(t):i()):function o2(e,i){return e[i]}(o,n)}function No(e,i,t,n){return oE(Je(),ws(),e,i,t,n)}function rt(e,i,t,n,o){return sE(Je(),ws(),e,i,t,n,o)}function W0(e,i,t,n,o,s){return rE(Je(),ws(),e,i,t,n,o,s)}function t8(e,i,t,n,o,s,r){return aE(Je(),ws(),e,i,t,n,o,s,r)}function C2(e,i){const t=e[i];return t===_n?void 0:t}function oE(e,i,t,n,o,s){const r=i+t;return eo(e,r,o)?x1(e,r+1,s?n.call(s,o):n(o)):C2(e,r+1)}function sE(e,i,t,n,o,s,r){const a=i+t;return G0(e,a,o,s)?x1(e,a+2,r?n.call(r,o,s):n(o,s)):C2(e,a+2)}function rE(e,i,t,n,o,s,r,a){const l=i+t;return function Z_(e,i,t,n,o){const s=G0(e,i,t,n);return eo(e,i+2,o)||s}(e,l,o,s,r)?x1(e,l+3,a?n.call(a,o,s,r):n(o,s,r)):C2(e,l+3)}function aE(e,i,t,n,o,s,r,a,l){const u=i+t;return function Br(e,i,t,n,o,s){const r=G0(e,i,t,n);return G0(e,i+2,o,s)||r}(e,u,o,s,r,a)?x1(e,u+4,l?n.call(l,o,s,r,a):n(o,s,r,a)):C2(e,u+4)}function ot(e,i){const t=wn();let n;const o=e+Vt;t.firstCreatePass?(n=function jj(e,i){if(i)for(let t=i.length-1;t>=0;t--){const n=i[t];if(e===n.name)return n}}(i,t.pipeRegistry),t.data[o]=n,n.onDestroy&&(t.destroyHooks??=[]).push(o,n.onDestroy)):n=t.data[o];const s=n.factory||(n.factory=A0(n.type)),a=$s(Y);try{const l=e_(!1),u=s();return e_(l),function q4(e,i,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),i[t]=n}(t,Je(),o,u),u}finally{$s(a)}}function Et(e,i,t){const n=e+Vt,o=Je(),s=N0(o,n);return M2(o,n)?oE(o,ws(),i,s.transform,t,s):s.transform(t)}function io(e,i,t,n){const o=e+Vt,s=Je(),r=N0(s,o);return M2(s,o)?sE(s,ws(),i,r.transform,t,n,r):r.transform(t,n)}function sp(e,i,t,n,o){const s=e+Vt,r=Je(),a=N0(r,s);return M2(r,s)?rE(r,ws(),i,a.transform,t,n,o,a):a.transform(t,n,o)}function w2(e,i,t,n,o,s){const r=e+Vt,a=Je(),l=N0(a,r);return M2(a,r)?aE(a,ws(),i,l.transform,t,n,o,s,l):l.transform(t,n,o,s)}function M2(e,i){return e[ft].data[i].pure}function on(e,i){return P_(e,i)}let SE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const DE=new ct(""),lp=new ct("");let c8,a8=(()=>{class e{constructor(t,n,o){this._ngZone=t,this.registry=n,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,c8||(function HW(e){c8=e}(o),o.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,o){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==s),t()},n)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:o})}whenStable(t,n,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,o),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,o){return[]}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(jt),Ke(l8),Ke(lp))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),l8=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return c8?.findTestabilityInTree(this,t,n)??null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function E2(e){return!!e&&"function"==typeof e.then}function NE(e){return!!e&&"function"==typeof e.subscribe}const cp=new ct("");let d8=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=_e(cp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const s=o();if(E2(s))t.push(s);else if(NE(s)){const r=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(r)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(o=>{this.reject(o)}),0===t.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const dp=new ct("");function LE(e,i){return Array.isArray(i)?i.reduce(LE,e):{...e,...i}}let qs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_e(lw),this.afterRenderEffectManager=_e(Yd),this.zonelessEnabled=_e(qd),this.externalTestViews=new Set,this.beforeRender=new et,this.afterTick=new et,this.componentTypes=[],this.components=[],this.isStable=_e(da).hasPendingTasks.pipe(At(t=>!t)),this._injector=_e(Ao)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){const o=t instanceof fb;if(!this._injector.get(d8).done)throw!o&&function Ha(e){const i=bn(e)||Eo(e)||qo(e);return null!==i&&i.standalone}(t),new tt(405,!1);let r;r=o?t:this._injector.get(k_).resolveComponentFactory(t),this.componentTypes.push(r.componentType);const a=function $W(e){return e.isBoundToModule}(r)?void 0:this._injector.get(B0),u=r.create(hi.NULL,[],n||r.selector,a),p=u.location.nativeElement,v=u.injector.get(DE,null);return v?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),hp(this.components,u),v?.unregisterApplication(p)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new tt(101,!1);const n=ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,ae(n),this.afterTick.next()}}detectChangesInAttachedViews(t){let n=null;this._injector.destroyed||(n=this._injector.get($0,null,{optional:!0}));let o=0;const s=this.afterRenderEffectManager;for(;o<10;){const r=0===o;if(t||!r){this.beforeRender.next(r);for(let{_lView:a,notifyErrorHandler:l}of this._views)GW(a,l,r,this.zonelessEnabled)}else n?.begin?.(),n?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:a})=>Cd(a))&&(s.execute(),!this.allViews.some(({_lView:a})=>Cd(a))))break}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;hp(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const n=this._injector.get(dp,[]);[...this._bootstrapListeners,...n].forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new tt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hp(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function GW(e,i,t,n){(t||Cd(e))&&N_(e,i,t&&!n?0:1)}class UW{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let RE=(()=>{class e{compileModuleSync(t){return new A4(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const n=this.compileModuleSync(t),s=hr(as(t).declarations).reduce((r,a)=>{const l=bn(a);return l&&r.push(new e2(l)),r},[]);return new UW(n,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WW=(()=>{class e{constructor(){this.zone=_e(jt),this.changeDetectionScheduler=_e(Mc),this.applicationRef=_e(qs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function h8({ngZoneFactory:e,ignoreChangesOutsideZone:i}){return e??=()=>new jt(u8()),[{provide:jt,useFactory:e},{provide:Yr,multi:!0,useFactory:()=>{const t=_e(WW,{optional:!0});return()=>t.initialize()}},{provide:Yr,multi:!0,useFactory:()=>{const t=_e(qW);return()=>{t.initialize()}}},{provide:lw,useFactory:KW},!0===i?{provide:gb,useValue:!0}:[]]}function KW(){const e=_e(jt),i=_e(Vr);return t=>e.runOutsideAngular(()=>i.handleError(t))}function u8(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let qW=(()=>{class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=_e(jt),this.pendingTasks=_e(da)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{jt.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{jt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),A2=(()=>{class e{constructor(){this.appRef=_e(qs),this.taskService=_e(da),this.ngZone=_e(jt),this.zonelessEnabled=_e(qd),this.disableScheduling=_e(gb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof d4||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const n=this.useMicrotaskScheduler?wb:Cb;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=n(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=n(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&jt.isInAngularZone())}tick(t){if(this.runningTick||this.appRef.destroyed)return;const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(t)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(n),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ss=new ct("",{providedIn:"root",factory:()=>_e(Ss,Sn.Optional|Sn.SkipSelf)||function YW(){return typeof $localize<"u"&&$localize.locale||Gc}()}),JW=new ct("",{providedIn:"root",factory:()=>"USD"}),p8=new ct("");let VE=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const o=function hG(e="zone.js",i){return"noop"===e?new d4:"zone.js"===e?new jt(i):e}(n?.ngZone,u8({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return o.run(()=>{const s=n?.ignoreChangesOutsideZone,r=function tU(e,i,t){return new E4(e,i,t)}(t.moduleType,this.injector,[...h8({ngZoneFactory:()=>o,ignoreChangesOutsideZone:s}),{provide:Mc,useExisting:A2}]),a=r.injector.get(Vr,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});r.onDestroy(()=>{hp(this._modules,r),l.unsubscribe()})}),function IE(e,i,t){try{const n=t();return E2(n)?n.catch(o=>{throw i.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw i.runOutsideAngular(()=>e.handleError(n)),n}}(a,o,()=>{const l=r.injector.get(d8);return l.runInitializers(),l.donePromise.then(()=>(function cS(e){"string"==typeof e&&(lS=e.toLowerCase().replace(/_/g,"-"))}(r.injector.get(Ss,Gc)||Gc),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,n=[]){const o=LE({},n);return function jW(e,i,t){const n=new A4(t);return Promise.resolve(n)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(t){const n=t.injector.get(qs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>n.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new tt(-403,!1);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const t=this._injector.get(p8,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(hi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ka=null;const HE=new ct("");function $E(e,i,t=[]){const n=`Platform: ${i}`,o=new ct(n);return(s=[])=>{let r=g8();if(!r||r.injector.get(HE,!1)){const a=[...t,...s,{provide:o,useValue:!0}];e?e(a):function eX(e){if(Ka&&!Ka.get(HE,!1))throw new tt(400,!1);(function PE(){!function V(e){M=e}(()=>{throw new tt(600,!1)})})(),Ka=e;const i=e.get(VE);(function GE(e){e.get(Nw,null)?.forEach(t=>t())})(e)}(function BE(e=[],i){return hi.create({name:i,providers:[{provide:yf,useValue:"platform"},{provide:p8,useValue:new Set([()=>Ka=null])},...e]})}(a,n))}return function tX(e){const i=g8();if(!i)throw new tt(401,!1);return i}()}}function g8(){return Ka?.get(VE)??null}let Po=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=oX}return e})();function oX(e){return function sX(e,i,t){if(D0(e)&&!t){const n=lr(e.index,i);return new Bd(n,n)}return 175&e.type?new Bd(i[Li],i):null}(oi(),Je(),!(16&~e))}class YE{constructor(){}supports(i){return i instanceof Map||O4(i)}create(){return new _X}}class _X{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||O4(i)))throw new tt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(o,n);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const n=i._prev;return t._next=i,t._prev=n,i._prev=t,n&&(n._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const o=this._records.get(i);this._maybeAddToChanges(o,t);const s=o._prev,r=o._next;return s&&(s._next=r),r&&(r._prev=s),o._next=null,o._prev=null,o}const n=new pX(i);return this._records.set(i,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(n=>t(i[n],n))}}class pX{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QE(){return new gp([new YE])}let gp=(()=>{class e{static#e=this.\u0275prov=$e({token:e,providedIn:"root",factory:QE});constructor(t){this.factories=t}static create(t,n){if(n){const o=n.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||QE()),deps:[[e,new Lu,new Iu]]}}find(t){const n=this.factories.find(o=>o.supports(t));if(n)return n;throw new tt(901,!1)}}return e})();const mX=$E(null,"core",[]);let vX=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(qs))};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();const fA=new ct("");function Un(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function bp(e,i=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?i:Number(e)}function OA(e){const i=ae(null);try{return e()}finally{ae(i)}}function Tp(e,i){const t=bn(e),n=i.elementInjector||$u();return new e2(t).create(n,i.projectableNodes,i.hostElement,i.environmentInjector)}let DA=null;function pa(){return DA}class aK{}const gn=new ct("");let S8=(()=>{class e{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>_e(cK),providedIn:"platform"})}return e})();const lK=new ct("");let cK=(()=>{class e extends S8{constructor(){super(),this._doc=_e(gn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pa().getBaseHref(this._doc)}onPopState(t){const n=pa().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){const n=pa().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,o){this._history.pushState(t,n,o)}replaceState(t,n,o){this._history.replaceState(t,n,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function E8(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function NA(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function ga(e){return e&&"?"!==e[0]?"?"+e:e}let K0=(()=>{class e{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>_e(IA),providedIn:"root"})}return e})();const PA=new ct("");let IA=(()=>{class e extends K0{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??_e(gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return E8(this._baseHref,t)}path(t=!1){const n=this._platformLocation.pathname+ga(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${n}${o}`:n}pushState(t,n,o,s){const r=this.prepareExternalUrl(o+ga(s));this._platformLocation.pushState(t,n,r)}replaceState(t,n,o,s){const r=this.prepareExternalUrl(o+ga(s));this._platformLocation.replaceState(t,n,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(S8),Ke(PA,8))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dK=(()=>{class e extends K0{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){const n=E8(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,o,s){let r=this.prepareExternalUrl(o+ga(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,n,r)}replaceState(t,n,o,s){let r=this.prepareExternalUrl(o+ga(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(S8),Ke(PA,8))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),N2=(()=>{class e{constructor(t){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const n=this._locationStrategy.getBaseHref();this._basePath=function _K(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(NA(LA(n))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+ga(n))}normalize(t){return e.stripTrailingSlash(function uK(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,LA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",o=null){this._locationStrategy.pushState(o,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ga(n)),o)}replaceState(t,n="",o=null){this._locationStrategy.replaceState(o,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ga(n)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(o=>o(t,n))}subscribe(t,n,o){return this._subject.subscribe({next:t,error:n,complete:o})}static#e=this.normalizeQueryParams=ga;static#t=this.joinWithSlash=E8;static#n=this.stripTrailingSlash=NA;static#i=this.\u0275fac=function(n){return new(n||e)(Ke(K0))};static#a=this.\u0275prov=$e({token:e,factory:()=>function hK(){return new N2(Ke(K0))}(),providedIn:"root"})}return e})();function LA(e){return e.replace(/\/index.html$/,"")}const xA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Sp=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Sp||{}),Es=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Es||{}),_i=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(_i||{}),_r=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(_r||{});const go={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ep(e,i){return Zr(bs(e)[mi.DateFormat],i)}function Ap(e,i){return Zr(bs(e)[mi.TimeFormat],i)}function Op(e,i){return Zr(bs(e)[mi.DateTimeFormat],i)}function Ur(e,i){const t=bs(e),n=t[mi.NumberSymbols][i];if(typeof n>"u"){if(i===go.CurrencyDecimal)return t[mi.NumberSymbols][go.Decimal];if(i===go.CurrencyGroup)return t[mi.NumberSymbols][go.Group]}return n}function A8(e,i){return bs(e)[mi.NumberFormats][i]}function RA(e){return function NZ(e){return bs(e)[mi.CurrencyCode]||null}(e)}function FA(e){if(!e[mi.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[mi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zr(e,i){for(let t=i;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function O8(e){const[i,t]=e.split(":");return{hours:+i,minutes:+t}}const OK=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yp={},yK=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var fa=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(fa||{}),Zn=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Zn||{}),jn=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(jn||{});function kA(e,i,t,n){let o=function kK(e){if(HA(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[o,s=1,r=1]=e.split("-").map(a=>+a);return Dp(o,s-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(OK))return function zK(e){const i=new Date(0);let t=0,n=0;const o=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),o.call(i,Number(e[1]),Number(e[2])-1,Number(e[3]));const r=Number(e[4]||0)-t,a=Number(e[5]||0)-n,l=Number(e[6]||0),u=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,r,a,l,u),i}(n)}const i=new Date(e);if(!HA(i))throw new Error(`Unable to convert "${e}" into a date`);return i}(e);i=ma(t,i)||i;let a,r=[];for(;i;){if(a=yK.exec(i),!a){r.push(i);break}{r=r.concat(a.slice(1));const p=r.pop();if(!p)break;i=p}}let l=o.getTimezoneOffset();n&&(l=VA(n,l),o=function FK(e,i,t){const n=t?-1:1,o=e.getTimezoneOffset();return function RK(e,i){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+i),e}(e,n*(VA(i,o)-o))}(o,n,!0));let u="";return r.forEach(p=>{const v=function xK(e){if(D8[e])return D8[e];let i;switch(e){case"G":case"GG":case"GGG":i=vi(jn.Eras,_i.Abbreviated);break;case"GGGG":i=vi(jn.Eras,_i.Wide);break;case"GGGGG":i=vi(jn.Eras,_i.Narrow);break;case"y":i=fo(Zn.FullYear,1,0,!1,!0);break;case"yy":i=fo(Zn.FullYear,2,0,!0,!0);break;case"yyy":i=fo(Zn.FullYear,3,0,!1,!0);break;case"yyyy":i=fo(Zn.FullYear,4,0,!1,!0);break;case"Y":i=Lp(1);break;case"YY":i=Lp(2,!0);break;case"YYY":i=Lp(3);break;case"YYYY":i=Lp(4);break;case"M":case"L":i=fo(Zn.Month,1,1);break;case"MM":case"LL":i=fo(Zn.Month,2,1);break;case"MMM":i=vi(jn.Months,_i.Abbreviated);break;case"MMMM":i=vi(jn.Months,_i.Wide);break;case"MMMMM":i=vi(jn.Months,_i.Narrow);break;case"LLL":i=vi(jn.Months,_i.Abbreviated,Es.Standalone);break;case"LLLL":i=vi(jn.Months,_i.Wide,Es.Standalone);break;case"LLLLL":i=vi(jn.Months,_i.Narrow,Es.Standalone);break;case"w":i=y8(1);break;case"ww":i=y8(2);break;case"W":i=y8(1,!0);break;case"d":i=fo(Zn.Date,1);break;case"dd":i=fo(Zn.Date,2);break;case"c":case"cc":i=fo(Zn.Day,1);break;case"ccc":i=vi(jn.Days,_i.Abbreviated,Es.Standalone);break;case"cccc":i=vi(jn.Days,_i.Wide,Es.Standalone);break;case"ccccc":i=vi(jn.Days,_i.Narrow,Es.Standalone);break;case"cccccc":i=vi(jn.Days,_i.Short,Es.Standalone);break;case"E":case"EE":case"EEE":i=vi(jn.Days,_i.Abbreviated);break;case"EEEE":i=vi(jn.Days,_i.Wide);break;case"EEEEE":i=vi(jn.Days,_i.Narrow);break;case"EEEEEE":i=vi(jn.Days,_i.Short);break;case"a":case"aa":case"aaa":i=vi(jn.DayPeriods,_i.Abbreviated);break;case"aaaa":i=vi(jn.DayPeriods,_i.Wide);break;case"aaaaa":i=vi(jn.DayPeriods,_i.Narrow);break;case"b":case"bb":case"bbb":i=vi(jn.DayPeriods,_i.Abbreviated,Es.Standalone,!0);break;case"bbbb":i=vi(jn.DayPeriods,_i.Wide,Es.Standalone,!0);break;case"bbbbb":i=vi(jn.DayPeriods,_i.Narrow,Es.Standalone,!0);break;case"B":case"BB":case"BBB":i=vi(jn.DayPeriods,_i.Abbreviated,Es.Format,!0);break;case"BBBB":i=vi(jn.DayPeriods,_i.Wide,Es.Format,!0);break;case"BBBBB":i=vi(jn.DayPeriods,_i.Narrow,Es.Format,!0);break;case"h":i=fo(Zn.Hours,1,-12);break;case"hh":i=fo(Zn.Hours,2,-12);break;case"H":i=fo(Zn.Hours,1);break;case"HH":i=fo(Zn.Hours,2);break;case"m":i=fo(Zn.Minutes,1);break;case"mm":i=fo(Zn.Minutes,2);break;case"s":i=fo(Zn.Seconds,1);break;case"ss":i=fo(Zn.Seconds,2);break;case"S":i=fo(Zn.FractionalSeconds,1);break;case"SS":i=fo(Zn.FractionalSeconds,2);break;case"SSS":i=fo(Zn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=Pp(fa.Short);break;case"ZZZZZ":i=Pp(fa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=Pp(fa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=Pp(fa.Long);break;default:return null}return D8[e]=i,i}(p);u+=v?v(o,t,l):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Dp(e,i,t){const n=new Date(0);return n.setFullYear(e,i,t),n.setHours(0,0,0),n}function ma(e,i){const t=function gK(e){return bs(e)[mi.LocaleId]}(e);if(yp[t]??={},yp[t][i])return yp[t][i];let n="";switch(i){case"shortDate":n=Ep(e,_r.Short);break;case"mediumDate":n=Ep(e,_r.Medium);break;case"longDate":n=Ep(e,_r.Long);break;case"fullDate":n=Ep(e,_r.Full);break;case"shortTime":n=Ap(e,_r.Short);break;case"mediumTime":n=Ap(e,_r.Medium);break;case"longTime":n=Ap(e,_r.Long);break;case"fullTime":n=Ap(e,_r.Full);break;case"short":const o=ma(e,"shortTime"),s=ma(e,"shortDate");n=Np(Op(e,_r.Short),[o,s]);break;case"medium":const r=ma(e,"mediumTime"),a=ma(e,"mediumDate");n=Np(Op(e,_r.Medium),[r,a]);break;case"long":const l=ma(e,"longTime"),u=ma(e,"longDate");n=Np(Op(e,_r.Long),[l,u]);break;case"full":const p=ma(e,"fullTime"),v=ma(e,"fullDate");n=Np(Op(e,_r.Full),[p,v])}return n&&(yp[t][i]=n),n}function Np(e,i){return i&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return null!=i&&n in i?i[n]:t})),e}function c1(e,i,t="-",n,o){let s="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,s=t));let r=String(e);for(;r.length<i;)r="0"+r;return n&&(r=r.slice(r.length-i)),s+r}function fo(e,i,t=0,n=!1,o=!1){return function(s,r){let a=function NK(e,i){switch(e){case Zn.FullYear:return i.getFullYear();case Zn.Month:return i.getMonth();case Zn.Date:return i.getDate();case Zn.Hours:return i.getHours();case Zn.Minutes:return i.getMinutes();case Zn.Seconds:return i.getSeconds();case Zn.FractionalSeconds:return i.getMilliseconds();case Zn.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((t>0||a>-t)&&(a+=t),e===Zn.Hours)0===a&&-12===t&&(a=12);else if(e===Zn.FractionalSeconds)return function DK(e,i){return c1(e,3).substring(0,i)}(a,i);const l=Ur(r,go.MinusSign);return c1(a,i,l,n,o)}}function vi(e,i,t=Es.Format,n=!1){return function(o,s){return function PK(e,i,t,n,o,s){switch(t){case jn.Months:return function vK(e,i,t){const n=bs(e),s=Zr([n[mi.MonthsFormat],n[mi.MonthsStandalone]],i);return Zr(s,t)}(i,o,n)[e.getMonth()];case jn.Days:return function mK(e,i,t){const n=bs(e),s=Zr([n[mi.DaysFormat],n[mi.DaysStandalone]],i);return Zr(s,t)}(i,o,n)[e.getDay()];case jn.DayPeriods:const r=e.getHours(),a=e.getMinutes();if(s){const u=function bK(e){const i=bs(e);return FA(i),(i[mi.ExtraData][2]||[]).map(n=>"string"==typeof n?O8(n):[O8(n[0]),O8(n[1])])}(i),p=function TK(e,i,t){const n=bs(e);FA(n);const s=Zr([n[mi.ExtraData][0],n[mi.ExtraData][1]],i)||[];return Zr(s,t)||[]}(i,o,n),v=u.findIndex(L=>{if(Array.isArray(L)){const[z,ie]=L,se=r>=z.hours&&a>=z.minutes,he=r<ie.hours||r===ie.hours&&a<ie.minutes;if(z.hours<ie.hours){if(se&&he)return!0}else if(se||he)return!0}else if(L.hours===r&&L.minutes===a)return!0;return!1});if(-1!==v)return p[v]}return function fK(e,i,t){const n=bs(e),s=Zr([n[mi.DayPeriodsFormat],n[mi.DayPeriodsStandalone]],i);return Zr(s,t)}(i,o,n)[r<12?0:1];case jn.Eras:return function CK(e,i){return Zr(bs(e)[mi.Eras],i)}(i,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,s,e,i,t,n)}}function Pp(e){return function(i,t,n){const o=-1*n,s=Ur(t,go.MinusSign),r=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case fa.Short:return(o>=0?"+":"")+c1(r,2,s)+c1(Math.abs(o%60),2,s);case fa.ShortGMT:return"GMT"+(o>=0?"+":"")+c1(r,1,s);case fa.Long:return"GMT"+(o>=0?"+":"")+c1(r,2,s)+":"+c1(Math.abs(o%60),2,s);case fa.Extended:return 0===n?"Z":(o>=0?"+":"")+c1(r,2,s)+":"+c1(Math.abs(o%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}const IK=0,Ip=4;function zA(e){const i=e.getDay(),t=0===i?-3:Ip-i;return Dp(e.getFullYear(),e.getMonth(),e.getDate()+t)}function y8(e,i=!1){return function(t,n){let o;if(i){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,r=t.getDate();o=1+Math.floor((r+s)/7)}else{const s=zA(t),r=function LK(e){const i=Dp(e,IK,1).getDay();return Dp(e,0,1+(i<=Ip?Ip:Ip+7)-i)}(s.getFullYear()),a=s.getTime()-r.getTime();o=1+Math.round(a/6048e5)}return c1(o,e,Ur(n,go.MinusSign))}}function Lp(e,i=!1){return function(t,n){return c1(zA(t).getFullYear(),e,Ur(n,go.MinusSign),i)}}const D8={};function VA(e,i){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?i:t}function HA(e){return e instanceof Date&&!isNaN(e.valueOf())}const VK=/^(\d+)?\.((\d+)(-(\d+))?)?$/,$A=22,xp=".",P2="0",HK=";",$K=",",N8="#";function P8(e,i,t,n,o,s,r=!1){let a="",l=!1;if(isFinite(e)){let u=function WK(e){let n,o,s,r,a,i=Math.abs(e)+"",t=0;for((o=i.indexOf(xp))>-1&&(i=i.replace(xp,"")),(s=i.search(/e/i))>0?(o<0&&(o=s),o+=+i.slice(s+1),i=i.substring(0,s)):o<0&&(o=i.length),s=0;i.charAt(s)===P2;s++);if(s===(a=i.length))n=[0],o=1;else{for(a--;i.charAt(a)===P2;)a--;for(o-=s,n=[],r=0;s<=a;s++,r++)n[r]=Number(i.charAt(s))}return o>$A&&(n=n.splice(0,$A-1),t=o-1,o=1),{digits:n,exponent:t,integerLen:o}}(e);r&&(u=function jK(e){if(0===e.digits[0])return e;const i=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===i?e.digits.push(0,0):1===i&&e.digits.push(0),e.integerLen+=2),e}(u));let p=i.minInt,v=i.minFrac,L=i.maxFrac;if(s){const we=s.match(VK);if(null===we)throw new Error(`${s} is not a valid digit info`);const Fe=we[1],Ae=we[3],Qe=we[5];null!=Fe&&(p=L8(Fe)),null!=Ae&&(v=L8(Ae)),null!=Qe?L=L8(Qe):null!=Ae&&v>L&&(L=v)}!function XK(e,i,t){if(i>t)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${t}).`);let n=e.digits,o=n.length-e.integerLen;const s=Math.min(Math.max(i,o),t);let r=s+e.integerLen,a=n[r];if(r>0){n.splice(Math.max(e.integerLen,r));for(let v=r;v<n.length;v++)n[v]=0}else{o=Math.max(0,o),e.integerLen=1,n.length=Math.max(1,r=s+1),n[0]=0;for(let v=1;v<r;v++)n[v]=0}if(a>=5)if(r-1<0){for(let v=0;v>r;v--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[r-1]++;for(;o<Math.max(0,s);o++)n.push(0);let l=0!==s;const u=i+e.integerLen,p=n.reduceRight(function(v,L,z,ie){return ie[z]=(L+=v)<10?L:L-10,l&&(0===ie[z]&&z>=u?ie.pop():l=!1),L>=10?1:0},0);p&&(n.unshift(p),e.integerLen++)}(u,v,L);let z=u.digits,ie=u.integerLen;const se=u.exponent;let he=[];for(l=z.every(we=>!we);ie<p;ie++)z.unshift(0);for(;ie<0;ie++)z.unshift(0);ie>0?he=z.splice(ie,z.length):(he=z,z=[0]);const be=[];for(z.length>=i.lgSize&&be.unshift(z.splice(-i.lgSize,z.length).join(""));z.length>i.gSize;)be.unshift(z.splice(-i.gSize,z.length).join(""));z.length&&be.unshift(z.join("")),a=be.join(Ur(t,n)),he.length&&(a+=Ur(t,o)+he.join("")),se&&(a+=Ur(t,go.Exponential)+"+"+se)}else a=Ur(t,go.Infinity);return a=e<0&&!l?i.negPre+a+i.negSuf:i.posPre+a+i.posSuf,a}function I8(e,i="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(HK),o=n[0],s=n[1],r=-1!==o.indexOf(xp)?o.split(xp):[o.substring(0,o.lastIndexOf(P2)+1),o.substring(o.lastIndexOf(P2)+1)],a=r[0],l=r[1]||"";t.posPre=a.substring(0,a.indexOf(N8));for(let p=0;p<l.length;p++){const v=l.charAt(p);v===P2?t.minFrac=t.maxFrac=p+1:v===N8?t.maxFrac=p+1:t.posSuf+=v}const u=a.split($K);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const p=o.length-t.posPre.length-t.posSuf.length,v=s.indexOf(N8);t.negPre=s.substring(0,v).replace(/'/g,""),t.negSuf=s.slice(v+p).replace(/'/g,"")}else t.negPre=i+t.posPre,t.negSuf=t.posSuf;return t}function L8(e){const i=parseInt(e);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+e);return i}function Wn(e,i,t){return function DZ(e,i,t){"string"!=typeof i&&(t=i,i=e[mi.LocaleId]),i=i.toLowerCase().replace(/_/g,"-"),Bc[i]=e,t&&(Bc[i][mi.ExtraData]=t)}(e,i,t)}function UA(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const n=t.indexOf("="),[o,s]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(o.trim()===i)return decodeURIComponent(s)}return null}const R8=/\s+/,ZA=[];let va=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=ZA,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(R8):ZA}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(R8):t}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const n of t)this._updateState(n,!0);else if(null!=t)for(const n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==n&&(o.changed=!0,o.enabled=n),o.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const n=t[0],o=t[1];o.changed?(this._toggleClass(n,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),o.touched=!1}}_toggleClass(t,n){(t=t.trim()).length>0&&t.split(R8).forEach(o=>{n?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y($r))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})(),F8=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new QK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qo),Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class QK{constructor(){this.$implicit=null,this.ngIf=null}}function XA(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${So(i)}'.`)}let V8=(()=>{class e{constructor(t,n,o){this._ngEl=t,this._differs=n,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[o,s]=t.split("."),r=-1===o.indexOf("-")?void 0:Ga.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${n}${s}`:n,r):this._renderer.removeStyle(this._ngEl.nativeElement,o,r)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y(gp),Y($r))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})(),es=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,o),get:(t,n,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,o)}})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qo))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Rn]})}return e})();function d1(e,i){return new tt(2100,!1)}class iq{createSubscription(i,t){return OA(()=>i.subscribe({next:t,error:n=>{throw n}}))}dispose(i){OA(()=>i.unsubscribe())}}class oq{createSubscription(i,t){return i.then(t,n=>{throw n})}dispose(i){}}const sq=new oq,rq=new iq;let k1=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(E2(t))return sq;if(NE(t))return rq;throw d1()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Po,16))};static#t=this.\u0275pipe=Zi({name:"async",type:e,pure:!1,standalone:!0})}return e})();const lq=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Wc=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw d1();return t.replace(lq,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275pipe=Zi({name:"titlecase",type:e,pure:!0,standalone:!0})}return e})();const hq=new ct(""),uq=new ct("");let Rp=(()=>{class e{constructor(t,n,o){this.locale=t,this.defaultTimezone=n,this.defaultOptions=o}transform(t,n,o,s){if(null==t||""===t||t!=t)return null;try{return kA(t,n??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(r){throw d1()}}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ss,16),Y(hq,24),Y(uq,24))};static#t=this.\u0275pipe=Zi({name:"date",type:e,pure:!0,standalone:!0})}return e})(),H8=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=qA}transform(t,n=qA){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ??=this.differs.find(t).create();const o=this.differ.diff(t),s=n!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(r=>{this.keyValues.push(function mq(e,i){return{key:e,value:i}}(r.key,r.currentValue))})),(o||s)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static#e=this.\u0275fac=function(n){return new(n||e)(Y(gp,16))};static#t=this.\u0275pipe=Zi({name:"keyvalue",type:e,pure:!1,standalone:!0})}return e})();function qA(e,i){const t=e.key,n=i.key;if(t===n)return 0;if(void 0===t)return 1;if(void 0===n)return-1;if(null===t)return 1;if(null===n)return-1;if("string"==typeof t&&"string"==typeof n)return t<n?-1:1;if("number"==typeof t&&"number"==typeof n)return t-n;if("boolean"==typeof t&&"boolean"==typeof n)return t<n?-1:1;const o=String(t),s=String(n);return o==s?0:o<s?-1:1}let $8=(()=>{class e{constructor(t){this._locale=t}transform(t,n,o){if(!G8(t))return null;o||=this._locale;try{return function ZK(e,i,t){return P8(e,I8(A8(i,Sp.Decimal),Ur(i,go.MinusSign)),i,go.Group,go.Decimal,t)}(U8(t),o,n)}catch(s){throw d1()}}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ss,16))};static#t=this.\u0275pipe=Zi({name:"number",type:e,pure:!0,standalone:!0})}return e})(),YA=(()=>{class e{constructor(t){this._locale=t}transform(t,n,o){if(!G8(t))return null;o||=this._locale;try{return function UK(e,i,t){return P8(e,I8(A8(i,Sp.Percent),Ur(i,go.MinusSign)),i,go.Group,go.Decimal,t,!0).replace(new RegExp("%","g"),Ur(i,go.PercentSign))}(U8(t),o,n)}catch(s){throw d1()}}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ss,16))};static#t=this.\u0275pipe=Zi({name:"percent",type:e,pure:!0,standalone:!0})}return e})(),B8=(()=>{class e{constructor(t,n="USD"){this._locale=t,this._defaultCurrencyCode=n}transform(t,n=this._defaultCurrencyCode,o="symbol",s,r){if(!G8(t))return null;r||=this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==o&&(a="symbol"===o||"symbol-narrow"===o?function SK(e,i,t="en"){const n=function wK(e){return bs(e)[mi.Currencies]}(t)[e]||xA[e]||[],o=n[1];return"narrow"===i&&"string"==typeof o?o:n[0]||e}(a,"symbol"===o?"wide":"narrow",r):o);try{return function GK(e,i,t,n,o){const r=I8(A8(i,Sp.Currency),Ur(i,go.MinusSign));return r.minFrac=function AK(e){let i;const t=xA[e];return t&&(i=t[2]),"number"==typeof i?i:2}(n),r.maxFrac=r.minFrac,P8(e,r,i,go.CurrencyGroup,go.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}(U8(t),r,a,n,s)}catch(l){throw d1()}}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ss,16),Y(JW,16))};static#t=this.\u0275pipe=Zi({name:"currency",type:e,pure:!0,standalone:!0})}return e})();function G8(e){return!(null==e||""===e||e!=e)}function U8(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let JA=(()=>{class e{transform(t,n,o){if(null==t)return null;if(!this.supports(t))throw d1();return t.slice(n,o)}supports(t){return"string"==typeof t||Array.isArray(t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275pipe=Zi({name:"slice",type:e,pure:!1,standalone:!0})}return e})(),q0=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();const QA="browser";function Xc(e){return e===QA}function eO(e){return"server"===e}let tO=(()=>{class e{static#e=this.\u0275prov=$e({token:e,providedIn:"root",factory:()=>Xc(_e(cr))?new Cq(_e(gn),window):new Mq})}return e})();class Cq{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const t=function wq(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const s=o.shadowRoot;if(s){const r=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(r)return r}o=n.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const t=i.getBoundingClientRect(),n=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],o-s[1])}}class Mq{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class nO{}class Kq extends aK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class j8 extends Kq{static makeCurrent(){!function rK(e){DA??=e}(new j8)}onAndCancel(i,t,n){return i.addEventListener(t,n),()=>{i.removeEventListener(t,n)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function qq(){return x2=x2||document.querySelector("base"),x2?x2.getAttribute("href"):null}();return null==t?null:function Yq(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){x2=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return UA(document.cookie,i)}}let x2=null,Qq=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const Vp=new ct("");let W8=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,o){return this._findPluginFor(n).addEventListener(t,n,o)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(s=>s.supports(t)),!n)throw new tt(5101,!1);return this._eventNameToPlugin.set(t,n),n}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Vp),Ke(jt))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();class X8{constructor(i){this._doc=i}}const K8="ng-app-id";let hO=(()=>{class e{constructor(t,n,o,s={}){this.doc=t,this.appId=n,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=eO(s),this.resetHostNodes()}addStyles(t){for(const n of t)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(t){for(const n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){const n=this.styleRef;n.get(t)?.elements?.forEach(o=>o.remove()),n.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${K8}="${this.appId}"]`);if(t?.length){const n=new Map;return t.forEach(o=>{null!=o.textContent&&n.set(o.textContent,o)}),n}return null}changeUsageCount(t,n){const o=this.styleRef;if(o.has(t)){const s=o.get(t);return s.usage+=n,s.usage}return o.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){const o=this.styleNodesInDOM,s=o?.get(n);if(s?.parentNode===t)return o.delete(n),s.removeAttribute(K8),s;{const r=this.doc.createElement("style");return this.nonce&&r.setAttribute("nonce",this.nonce),r.textContent=n,this.platformIsServer&&r.setAttribute(K8,this.appId),t.appendChild(r),r}}addStyleToHost(t,n){const o=this.getStyleElement(t,n),s=this.styleRef,r=s.get(n)?.elements;r?r.push(o):s.set(n,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn),Ke(hc),Ke(Pw,8),Ke(cr))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const q8={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Y8=/%COMP%/g,iY=new ct("",{providedIn:"root",factory:()=>!0});function _O(e,i){return i.map(t=>t.replace(Y8,e))}let pO=(()=>{class e{constructor(t,n,o,s,r,a,l,u=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=r,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=eO(a),this.defaultRenderer=new J8(t,r,l,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Jr.ShadowDom&&(n={...n,encapsulation:Jr.Emulated});const o=this.getOrCreateRenderer(t,n);return o instanceof fO?o.applyToHost(t):o instanceof Q8&&o.applyStyles(),o}getOrCreateRenderer(t,n){const o=this.rendererByCompId;let s=o.get(n.id);if(!s){const r=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,v=this.platformIsServer;switch(n.encapsulation){case Jr.Emulated:s=new fO(l,u,n,this.appId,p,r,a,v);break;case Jr.ShadowDom:return new aY(l,u,t,n,r,a,this.nonce,v);default:s=new Q8(l,u,n,p,r,a,v)}o.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(W8),Ke(hO),Ke(hc),Ke(iY),Ke(gn),Ke(cr),Ke(jt),Ke(Pw))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();class J8{constructor(i,t,n,o){this.eventManager=i,this.doc=t,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(q8[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(gO(i)?i.content:i).appendChild(t)}insertBefore(i,t,n){i&&(gO(i)?i.content:i).insertBefore(t,n)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new tt(-5104,!1);return t||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,n,o){if(o){t=o+":"+t;const s=q8[o];s?i.setAttributeNS(s,t,n):i.setAttribute(t,n)}else i.setAttribute(t,n)}removeAttribute(i,t,n){if(n){const o=q8[n];o?i.removeAttributeNS(o,t):i.removeAttribute(`${n}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,n,o){o&(Ga.DashCase|Ga.Important)?i.style.setProperty(t,n,o&Ga.Important?"important":""):i.style[t]=n}removeStyle(i,t,n){n&Ga.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,n){null!=i&&(i[t]=n)}setValue(i,t){i.nodeValue=t}listen(i,t,n){if("string"==typeof i&&!(i=pa().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(n))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function gO(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class aY extends J8{constructor(i,t,n,o,s,r,a,l){super(i,s,r,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=_O(o.id,o.styles);for(const p of u){const v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=p,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,n){return super.insertBefore(this.nodeOrShadowRoot(i),t,n)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Q8 extends J8{constructor(i,t,n,o,s,r,a,l){super(i,s,r,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=l?_O(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fO extends Q8{constructor(i,t,n,o,s,r,a,l){const u=o+"-"+n.id;super(i,t,n,s,r,a,l,u),this.contentAttr=function oY(e){return"_ngcontent-%COMP%".replace(Y8,e)}(u),this.hostAttr=function sY(e){return"_nghost-%COMP%".replace(Y8,e)}(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const n=super.createElement(i,t);return super.setAttribute(n,this.contentAttr,""),n}}let lY=(()=>{class e extends X8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,o){return t.addEventListener(n,o,!1),()=>this.removeEventListener(t,n,o)}removeEventListener(t,n,o){return t.removeEventListener(n,o)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),cY=(()=>{class e extends X8{constructor(t){super(t),this.delegate=_e(fA,{optional:!0})}supports(t){return!!this.delegate&&this.delegate.supports(t)}addEventListener(t,n,o){return this.delegate.addEventListener(t,n,o)}removeEventListener(t,n,o){return this.delegate.removeEventListener(t,n,o)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const mO=["alt","control","meta","shift"],dY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hY={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let uY=(()=>{class e extends X8{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,o){const s=e.parseEventName(n),r=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pa().onAndCancel(t,s.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(n.pop());let r="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),r="code."),mO.forEach(u=>{const p=n.indexOf(u);p>-1&&(n.splice(p,1),r+=u+".")}),r+=s,0!=n.length||0===s.length)return null;const l={};return l.domEventName=o,l.fullKey=r,l}static matchEventFullKeyCode(t,n){let o=dY[t.key]||t.key,s="";return n.indexOf("code.")>-1&&(o=t.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),mO.forEach(r=>{r!==o&&(0,hY[r])(t)&&(s+=r+".")}),s+=o,s===n)}static eventCallback(t,n,o){return s=>{e.matchEventFullKeyCode(s,t)&&o.runGuarded(()=>n(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const CO=[{provide:cr,useValue:QA},{provide:Nw,useValue:function _Y(){j8.makeCurrent()},multi:!0},{provide:gn,useFactory:function gY(){return function hH(e){l6=e}(document),document},deps:[]}],fY=$E(mX,"browser",CO),mY=new ct(""),wO=[{provide:lp,useClass:class Jq{addToWindow(i){di.getAngularTestability=(n,o=!0)=>{const s=i.findTestabilityInTree(n,o);if(null==s)throw new tt(5103,!1);return s},di.getAllAngularTestabilities=()=>i.getAllTestabilities(),di.getAllAngularRootElements=()=>i.getAllRootElements(),di.frameworkStabilizers||(di.frameworkStabilizers=[]),di.frameworkStabilizers.push(n=>{const o=di.getAllAngularTestabilities();let s=o.length;const r=function(){s--,0==s&&n()};o.forEach(a=>{a.whenStable(r)})})}findTestabilityInTree(i,t,n){return null==t?null:i.getTestability(t)??(n?pa().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:DE,useClass:a8,deps:[jt,l8,lp]},{provide:a8,useClass:a8,deps:[jt,l8,lp]}],MO=[{provide:yf,useValue:"root"},{provide:Vr,useFactory:function pY(){return new Vr},deps:[]},{provide:Vp,useClass:lY,multi:!0,deps:[gn,jt,cr]},{provide:Vp,useClass:uY,multi:!0,deps:[gn]},{provide:Vp,useClass:cY,multi:!0},pO,hO,W8,{provide:$0,useExisting:pO},{provide:nO,useClass:Qq,deps:[]},[]];let vY=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:hc,useValue:t.appId}]}}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(mY,12))};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({providers:[...MO,...wO],imports:[q0,vX]})}return e})(),bO=(()=>{class e{constructor(t){this._doc=t,this._dom=pa()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((o,s)=>(s&&o.push(this._getOrCreateElement(s,n)),o),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);const o=this.getTag(n);return o?this._setMetaElementAttributes(t,o):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){const r=this._parseSelector(t),a=this.getTags(r).filter(l=>this._containsAttributes(t,l))[0];if(void 0!==a)return a}const o=this._dom.createElement("meta");return this._setMetaElementAttributes(t,o),this._doc.getElementsByTagName("head")[0].appendChild(o),o}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(o=>n.setAttribute(this._getMetaKeyMap(o),t[o])),n}_parseSelector(t){const n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(o=>n.getAttribute(this._getMetaKeyMap(o))===t[o])}_getMetaKeyMap(t){return CY[t]||t}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const CY={httpEquiv:"http-equiv"};let TO=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),e7=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new(n||e):Ke(TY),o},providedIn:"root"})}return e})(),TY=(()=>{class e extends e7{constructor(t){super(),this._doc=t}sanitize(t,n){if(null==n)return null;switch(t){case Hr.NONE:return n;case Hr.HTML:return N1(n,"HTML")?dr(n):eM(this._doc,String(n)).toString();case Hr.STYLE:return N1(n,"Style")?dr(n):n;case Hr.SCRIPT:if(N1(n,"Script"))return dr(n);throw new tt(5200,!1);case Hr.URL:return N1(n,"URL")?dr(n):v_(String(n));case Hr.RESOURCE_URL:if(N1(n,"ResourceURL"))return dr(n);throw new tt(5201,!1);default:throw new tt(5202,!1)}}bypassSecurityTrustHtml(t){return function IH(e){return new AH(e)}(t)}bypassSecurityTrustStyle(t){return function LH(e){return new OH(e)}(t)}bypassSecurityTrustScript(t){return function xH(e){return new yH(e)}(t)}bypassSecurityTrustUrl(t){return function RH(e){return new DH(e)}(t)}bypassSecurityTrustResourceUrl(t){return function FH(e){return new NH(e)}(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function AO(e,i,t,n,o,s,r){try{var a=e[s](r),l=a.value}catch(u){return void t(u)}a.done?i(l):Promise.resolve(l).then(n,o)}function Kc(e){return function(){var i=this,t=arguments;return new Promise(function(n,o){var s=e.apply(i,t);function r(l){AO(s,n,o,r,a,"next",l)}function a(l){AO(s,n,o,r,a,"throw",l)}r(void 0)})}}function qa(e){return this instanceof qa?(this.v=e,this):new qa(e)}function NO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=function o7(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(r){return new Promise(function(a,l){!function o(s,r,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},r)}(a,l,(r=e[s](r)).done,r.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const s7=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function PO(e){return Ie(e?.then)}function IO(e){return Ie(e[Hs])}function LO(e){return Symbol.asyncIterator&&Ie(e?.[Symbol.asyncIterator])}function xO(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RO=function jY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function FO(e){return Ie(e?.[RO])}function kO(e){return function DO(e,i,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=t.apply(e,i||[]),s=[];return o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o;function r(L){n[L]&&(o[L]=function(z){return new Promise(function(ie,se){s.push([L,z,ie,se])>1||a(L,z)})})}function a(L,z){try{!function l(L){L.value instanceof qa?Promise.resolve(L.value.v).then(u,p):v(s[0][2],L)}(n[L](z))}catch(ie){v(s[0][3],ie)}}function u(L){a("next",L)}function p(L){a("throw",L)}function v(L,z){L(z),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:n,done:o}=yield qa(t.read());if(o)return yield qa(void 0);yield yield qa(n)}}finally{t.releaseLock()}})}function zO(e){return Ie(e?.getReader)}function ji(e){if(e instanceof mn)return e;if(null!=e){if(IO(e))return function WY(e){return new mn(i=>{const t=e[Hs]();if(Ie(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(s7(e))return function XY(e){return new mn(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(PO(e))return function KY(e){return new mn(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,sn)})}(e);if(LO(e))return VO(e);if(FO(e))return function qY(e){return new mn(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(zO(e))return function YY(e){return VO(kO(e))}(e)}throw xO(e)}function VO(e){return new mn(i=>{(function JY(e,i){var t,n,o,s;return function OO(e,i,t,n){return new(t||(t=Promise))(function(s,r){function a(p){try{u(n.next(p))}catch(v){r(v)}}function l(p){try{u(n.throw(p))}catch(v){r(v)}}function u(p){p.done?s(p.value):function o(s){return s instanceof t?s:new t(function(r){r(s)})}(p.value).then(a,l)}u((n=n.apply(e,i||[])).next())})}(this,void 0,void 0,function*(){try{for(t=NO(e);!(n=yield t.next()).done;)if(i.next(n.value),i.closed)return}catch(r){o={error:r}}finally{try{n&&!n.done&&(s=t.return)&&(yield s.call(t))}finally{if(o)throw o.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function z1(e,i,t,n=0,o=!1){const s=i.schedule(function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!o)return s}function HO(e,i=0){return ti((t,n)=>{t.subscribe(ni(n,o=>z1(n,e,()=>n.next(o),i),()=>z1(n,e,()=>n.complete(),i),o=>z1(n,e,()=>n.error(o),i)))})}function $O(e,i=0){return ti((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),i))})}function BO(e,i){if(!e)throw new Error("Iterable cannot be null");return new mn(t=>{z1(t,i,()=>{const n=e[Symbol.asyncIterator]();z1(t,i,()=>{n.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function xi(e,i){return i?function oJ(e,i){if(null!=e){if(IO(e))return function QY(e,i){return ji(e).pipe($O(i),HO(i))}(e,i);if(s7(e))return function tJ(e,i){return new mn(t=>{let n=0;return i.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}(e,i);if(PO(e))return function eJ(e,i){return ji(e).pipe($O(i),HO(i))}(e,i);if(LO(e))return BO(e,i);if(FO(e))return function nJ(e,i){return new mn(t=>{let n;return z1(t,i,()=>{n=e[RO](),z1(t,i,()=>{let o,s;try{({value:o,done:s}=n.next())}catch(r){return void t.error(r)}s?t.complete():t.next(o)},0,!0)}),()=>Ie(n?.return)&&n.return()})}(e,i);if(zO(e))return function iJ(e,i){return BO(kO(e),i)}(e,i)}throw xO(e)}(e,i):ji(e)}function GO(e){return e&&Ie(e.schedule)}function r7(e){return e[e.length-1]}function $p(e){return Ie(r7(e))?e.pop():void 0}function R2(e){return GO(r7(e))?e.pop():void 0}function Rt(...e){return xi(e,R2(e))}const{isArray:rJ}=Array,{getPrototypeOf:aJ,prototype:lJ,keys:cJ}=Object;function UO(e){if(1===e.length){const i=e[0];if(rJ(i))return{args:i,keys:null};if(function dJ(e){return e&&"object"==typeof e&&aJ(e)===lJ}(i)){const t=cJ(i);return{args:t.map(n=>i[n]),keys:t}}}return{args:e,keys:null}}const{isArray:hJ}=Array;function a7(e){return At(i=>function uJ(e,i){return hJ(i)?e(...i):e(i)}(e,i))}function ZO(e,i){return e.reduce((t,n,o)=>(t[n]=i[o],t),{})}function J0(...e){const i=R2(e),t=$p(e),{args:n,keys:o}=UO(e);if(0===n.length)return xi([],i);const s=new mn(function _J(e,i,t=ei){return n=>{jO(i,()=>{const{length:o}=e,s=new Array(o);let r=o,a=o;for(let l=0;l<o;l++)jO(i,()=>{const u=xi(e[l],i);let p=!1;u.subscribe(ni(n,v=>{s[l]=v,p||(p=!0,a--),a||n.next(t(s.slice()))},()=>{--r||n.complete()}))},n)},n)}}(n,i,o?r=>ZO(o,r):ei));return t?s.pipe(a7(t)):s}function jO(e,i,t){e?z1(t,e,i):i()}const F2=Ze(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Lo(e,i,t=1/0){return Ie(i)?Lo((n,o)=>At((s,r)=>i(n,s,o,r))(ji(e(n,o))),t):("number"==typeof i&&(t=i),ti((n,o)=>function pJ(e,i,t,n,o,s,r,a){const l=[];let u=0,p=0,v=!1;const L=()=>{v&&!l.length&&!u&&i.complete()},z=se=>u<n?ie(se):l.push(se),ie=se=>{s&&i.next(se),u++;let he=!1;ji(t(se,p++)).subscribe(ni(i,be=>{o?.(be),s?z(be):i.next(be)},()=>{he=!0},void 0,()=>{if(he)try{for(u--;l.length&&u<n;){const be=l.shift();r?z1(i,r,()=>ie(be)):ie(be)}L()}catch(be){i.error(be)}}))};return e.subscribe(ni(i,z,()=>{v=!0,L()})),()=>{a?.()}}(n,o,e,t)))}function qc(e=1/0){return Lo(ei,e)}function Yc(...e){return function gJ(){return qc(1)}()(xi(e,R2(e)))}function Bp(e){return new mn(i=>{ji(e()).subscribe(i)})}function Gp(e,i){const t=Ie(e)?e:()=>e,n=o=>o.error(t());return new mn(i?o=>i.schedule(n,0,o):n)}const pr=new mn(e=>e.complete());function Up(){return ti((e,i)=>{let t=null;e._refCount++;const n=ni(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const o=e._connection,s=t;t=null,o&&(!s||o===s)&&o.unsubscribe(),i.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}class l7 extends mn{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fa(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Ne;const t=this.getSubject();i.add(this.source.subscribe(ni(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Ne.EMPTY)}return i}refCount(){return Up()(this)}}function zn(e,i){return ti((t,n)=>{let o=null,s=0,r=!1;const a=()=>r&&!o&&n.complete();t.subscribe(ni(n,l=>{o?.unsubscribe();let u=0;const p=s++;ji(e(l,p)).subscribe(o=ni(n,v=>n.next(i?i(l,v,p,u++):v),()=>{o=null,a()}))},()=>{r=!0,a()}))})}function oo(e){return e<=0?()=>pr:ti((i,t)=>{let n=0;i.subscribe(ni(t,o=>{++n<=e&&(t.next(o),e<=n&&t.complete())}))})}function Jc(...e){const i=R2(e);return ti((t,n)=>{(i?Yc(e,t,i):Yc(e,t)).subscribe(n)})}function $n(e,i){return ti((t,n)=>{let o=0;t.subscribe(ni(n,s=>e.call(i,s,o++)&&n.next(s)))})}function Zp(e){return ti((i,t)=>{let n=!1;i.subscribe(ni(t,o=>{n=!0,t.next(o)},()=>{n||t.next(e),t.complete()}))})}function WO(e=mJ){return ti((i,t)=>{let n=!1;i.subscribe(ni(t,o=>{n=!0,t.next(o)},()=>n?t.complete():t.error(e())))})}function mJ(){return new F2}function wt(e,i){const t=arguments.length>=2;return n=>n.pipe(e?$n((o,s)=>e(o,s,n)):ei,oo(1),t?Zp(i):WO(()=>new F2))}function Qc(e,i){return Ie(i)?Lo(e,i,1):Lo(e,1)}function dn(e,i,t){const n=Ie(e)||i||t?{next:e,error:i,complete:t}:e;return n?ti((o,s)=>{var r;null===(r=n.subscribe)||void 0===r||r.call(n);let a=!0;o.subscribe(ni(s,l=>{var u;null===(u=n.next)||void 0===u||u.call(n,l),s.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),s.complete()},l=>{var u;a=!1,null===(u=n.error)||void 0===u||u.call(n,l),s.error(l)},()=>{var l,u;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(u=n.finalize)||void 0===u||u.call(n)}))}):ei}function Ya(e){return ti((i,t)=>{let s,n=null,o=!1;n=i.subscribe(ni(t,void 0,void 0,r=>{s=ji(e(r,Ya(e)(i))),n?(n.unsubscribe(),n=null,s.subscribe(t)):o=!0})),o&&(n.unsubscribe(),n=null,s.subscribe(t))})}function c7(e){return e<=0?()=>pr:ti((i,t)=>{let n=[];i.subscribe(ni(t,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)t.next(o);t.complete()},void 0,()=>{n=null}))})}function XO(e){return At(()=>e)}function k2(e){return ti((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function je(e){return ti((i,t)=>{ji(e).subscribe(ni(t,()=>t.complete(),yn)),!t.closed&&i.subscribe(t)})}const Cn="primary",z2=Symbol("RouteTitle");class MJ{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Q0(e){return new MJ(e)}function bJ(e,i,t){const n=t.path.split("/");if(n.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||n.length<e.length))return null;const o={};for(let s=0;s<n.length;s++){const r=n[s],a=e[s];if(":"===r[0])o[r.substring(1)]=a;else if(r!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function V1(e,i){const t=e?d7(e):void 0,n=i?d7(i):void 0;if(!t||!n||t.length!=n.length)return!1;let o;for(let s=0;s<t.length;s++)if(o=t[s],!KO(e[o],i[o]))return!1;return!0}function d7(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function KO(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),n=[...i].sort();return t.every((o,s)=>n[s]===o)}return e===i}function qO(e){return e.length>0?e[e.length-1]:null}function Ja(e){return function SY(e){return!!e&&(e instanceof mn||Ie(e.lift)&&Ie(e.subscribe))}(e)?e:E2(e)?xi(Promise.resolve(e)):Rt(e)}const SJ={exact:function QO(e,i,t){if(!el(e.segments,i.segments)||!jp(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!e.children[n]||!QO(e.children[n],i.children[n],t))return!1;return!0},subset:ey},YO={exact:function EJ(e,i){return V1(e,i)},subset:function AJ(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>KO(e[t],i[t]))},ignored:()=>!0};function JO(e,i,t){return SJ[t.paths](e.root,i.root,t.matrixParams)&&YO[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function ey(e,i,t){return ty(e,i,i.segments,t)}function ty(e,i,t,n){if(e.segments.length>t.length){const o=e.segments.slice(0,t.length);return!(!el(o,t)||i.hasChildren()||!jp(o,t,n))}if(e.segments.length===t.length){if(!el(e.segments,t)||!jp(e.segments,t,n))return!1;for(const o in i.children)if(!e.children[o]||!ey(e.children[o],i.children[o],n))return!1;return!0}{const o=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(el(e.segments,o)&&jp(e.segments,o,n)&&e.children[Cn])&&ty(e.children[Cn],i,s,n)}}function jp(e,i,t){return i.every((n,o)=>YO[t](e[o].parameters,n.parameters))}class e5{constructor(i=new ai([],{}),t={},n=null){this.root=i,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Q0(this.queryParams),this._queryParamMap}toString(){return DJ.serialize(this)}}class ai{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xp(this)}}class V2{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap??=Q0(this.parameters),this._parameterMap}toString(){return oy(this)}}function el(e,i){return e.length===i.length&&e.every((t,n)=>t.path===i[n].path)}let t5=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>new Wp,providedIn:"root"})}return e})();class Wp{parse(i){const t=new HJ(i);return new e5(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${H2(i.root,!0)}`,n=function IJ(e){const i=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(o=>`${Kp(t)}=${Kp(o)}`).join("&"):`${Kp(t)}=${Kp(n)}`).filter(t=>t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${n}${"string"==typeof i.fragment?`#${function NJ(e){return encodeURI(e)}(i.fragment)}`:""}`}}const DJ=new Wp;function Xp(e){return e.segments.map(i=>oy(i)).join("/")}function H2(e,i){if(!e.hasChildren())return Xp(e);if(i){const t=e.children[Cn]?H2(e.children[Cn],!1):"",n=[];return Object.entries(e.children).forEach(([o,s])=>{o!==Cn&&n.push(`${o}:${H2(s,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function yJ(e,i){let t=[];return Object.entries(e.children).forEach(([n,o])=>{n===Cn&&(t=t.concat(i(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==Cn&&(t=t.concat(i(o,n)))}),t}(e,(n,o)=>o===Cn?[H2(e.children[Cn],!1)]:[`${o}:${H2(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Cn]?`${Xp(e)}/${t[0]}`:`${Xp(e)}/(${t.join("//")})`}}function ny(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kp(e){return ny(e).replace(/%3B/gi,";")}function h7(e){return ny(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qp(e){return decodeURIComponent(e)}function iy(e){return qp(e.replace(/\+/g,"%20"))}function oy(e){return`${h7(e.path)}${function PJ(e){return Object.entries(e).map(([i,t])=>`;${h7(i)}=${h7(t)}`).join("")}(e.parameters)}`}const LJ=/^[^\/()?;#]+/;function u7(e){const i=e.match(LJ);return i?i[0]:""}const xJ=/^[^\/()?;=#]+/,FJ=/^[^=?&#]+/,zJ=/^[^&#]+/;class HJ{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ai([],{}):new ai([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(n[Cn]=new ai(i,t)),n}parseSegment(){const i=u7(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new tt(4009,!1);return this.capture(i),new V2(qp(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function RJ(e){const i=e.match(xJ);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const o=u7(this.remaining);o&&(n=o,this.capture(n))}i[qp(t)]=qp(n)}parseQueryParam(i){const t=function kJ(e){const i=e.match(FJ);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const r=function VJ(e){const i=e.match(zJ);return i?i[0]:""}(this.remaining);r&&(n=r,this.capture(n))}const o=iy(t),s=iy(n);if(i.hasOwnProperty(o)){let r=i[o];Array.isArray(r)||(r=[r],i[o]=r),r.push(s)}else i[o]=s}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=u7(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new tt(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=Cn);const r=this.parseChildren();t[s]=1===Object.keys(r).length?r[Cn]:new ai([],r),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new tt(4011,!1)}}function sy(e){return e.segments.length>0?new ai([],{[Cn]:e}):e}function ry(e){const i={};for(const[n,o]of Object.entries(e.children)){const s=ry(o);if(n===Cn&&0===s.segments.length&&s.hasChildren())for(const[r,a]of Object.entries(s.children))i[r]=a;else(s.segments.length>0||s.hasChildren())&&(i[n]=s)}return function $J(e){if(1===e.numberOfChildren&&e.children[Cn]){const i=e.children[Cn];return new ai(e.segments.concat(i.segments),i.children)}return e}(new ai(e.segments,i))}function $2(e){return e instanceof e5}function ay(e){let i;const o=sy(function t(s){const r={};for(const l of s.children){const u=t(l);r[l.outlet]=u}const a=new ai(s.url,r);return s===e&&(i=a),a}(e.root));return i??o}function ly(e,i,t,n){let o=e;for(;o.parent;)o=o.parent;if(0===i.length)return _7(o,o,o,t,n);const s=function GJ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dy(!0,0,e);let i=0,t=!1;const n=e.reduce((o,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===r?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?i++:""!=a&&o.push(a))}),o):[...o,s]},[]);return new dy(t,i,n)}(i);if(s.toRoot())return _7(o,o,new ai([],{}),t,n);const r=function UJ(e,i,t){if(e.isAbsolute)return new Jp(i,!0,0);if(!t)return new Jp(i,!1,NaN);if(null===t.parent)return new Jp(t,!0,0);const n=Yp(e.commands[0])?0:1;return function ZJ(e,i,t){let n=e,o=i,s=t;for(;s>o;){if(s-=o,n=n.parent,!n)throw new tt(4005,!1);o=n.segments.length}return new Jp(n,!1,o-s)}(t,t.segments.length-1+n,e.numberOfDoubleDots)}(s,o,e),a=r.processChildren?G2(r.segmentGroup,r.index,s.commands):hy(r.segmentGroup,r.index,s.commands);return _7(o,r.segmentGroup,a,t,n)}function Yp(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function B2(e){return"object"==typeof e&&null!=e&&e.outlets}function _7(e,i,t,n,o){let r,s={};n&&Object.entries(n).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),r=e===i?t:cy(e,i,t);const a=sy(ry(r));return new e5(a,s,o)}function cy(e,i,t){const n={};return Object.entries(e.children).forEach(([o,s])=>{n[o]=s===i?t:cy(s,i,t)}),new ai(e.segments,n)}class dy{constructor(i,t,n){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=n,i&&n.length>0&&Yp(n[0]))throw new tt(4003,!1);const o=n.find(B2);if(o&&o!==qO(n))throw new tt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jp{constructor(i,t,n){this.segmentGroup=i,this.processChildren=t,this.index=n}}function hy(e,i,t){if(e??=new ai([],{}),0===e.segments.length&&e.hasChildren())return G2(e,i,t);const n=function WJ(e,i,t){let n=0,o=i;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=t.length)return s;const r=e.segments[o],a=t[n];if(B2(a))break;const l=`${a}`,u=n<t.length-1?t[n+1]:null;if(o>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!_y(l,u,r))return s;n+=2}else{if(!_y(l,{},r))return s;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,i,t),o=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const s=new ai(e.segments.slice(0,n.pathIndex),{});return s.children[Cn]=new ai(e.segments.slice(n.pathIndex),e.children),G2(s,0,o)}return n.match&&0===o.length?new ai(e.segments,{}):n.match&&!e.hasChildren()?p7(e,i,t):n.match?G2(e,0,o):p7(e,i,t)}function G2(e,i,t){if(0===t.length)return new ai(e.segments,{});{const n=function jJ(e){return B2(e[0])?e[0].outlets:{[Cn]:e}}(t),o={};if(Object.keys(n).some(s=>s!==Cn)&&e.children[Cn]&&1===e.numberOfChildren&&0===e.children[Cn].segments.length){const s=G2(e.children[Cn],i,t);return new ai(e.segments,s.children)}return Object.entries(n).forEach(([s,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(o[s]=hy(e.children[s],i,r))}),Object.entries(e.children).forEach(([s,r])=>{void 0===n[s]&&(o[s]=r)}),new ai(e.segments,o)}}function p7(e,i,t){const n=e.segments.slice(0,i);let o=0;for(;o<t.length;){const s=t[o];if(B2(s)){const l=XJ(s.outlets);return new ai(n,l)}if(0===o&&Yp(t[0])){n.push(new V2(e.segments[i].path,uy(t[0]))),o++;continue}const r=B2(s)?s.outlets[Cn]:`${s}`,a=o<t.length-1?t[o+1]:null;r&&a&&Yp(a)?(n.push(new V2(r,uy(a))),o+=2):(n.push(new V2(r,{})),o++)}return new ai(n,{})}function XJ(e){const i={};return Object.entries(e).forEach(([t,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[t]=p7(new ai([],{}),0,n))}),i}function uy(e){const i={};return Object.entries(e).forEach(([t,n])=>i[t]=`${n}`),i}function _y(e,i,t){return e==t.path&&V1(i,t.parameters)}const U2="imperative";var On=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(On||{});class H1{constructor(i,t){this.id=i,this.url=t}}class Z2 extends H1{constructor(i,t,n="imperative",o=null){super(i,t),this.type=On.NavigationStart,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ca extends H1{constructor(i,t,n){super(i,t),this.urlAfterRedirects=n,this.type=On.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var gr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(gr||{}),Qp=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Qp||{});class tl extends H1{constructor(i,t,n,o){super(i,t),this.reason=n,this.code=o,this.type=On.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class n5 extends H1{constructor(i,t,n,o){super(i,t),this.reason=n,this.code=o,this.type=On.NavigationSkipped}}class g7 extends H1{constructor(i,t,n,o){super(i,t),this.error=n,this.target=o,this.type=On.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class py extends H1{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=On.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KJ extends H1{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=On.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qJ extends H1{constructor(i,t,n,o,s){super(i,t),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=s,this.type=On.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YJ extends H1{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=On.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JJ extends H1{constructor(i,t,n,o){super(i,t),this.urlAfterRedirects=n,this.state=o,this.type=On.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QJ{constructor(i){this.route=i,this.type=On.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eQ{constructor(i){this.route=i,this.type=On.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tQ{constructor(i){this.snapshot=i,this.type=On.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nQ{constructor(i){this.snapshot=i,this.type=On.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iQ{constructor(i){this.snapshot=i,this.type=On.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oQ{constructor(i){this.snapshot=i,this.type=On.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gy{constructor(i,t,n){this.routerEvent=i,this.position=t,this.anchor=n,this.type=On.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class f7{}class eg{constructor(i,t){this.url=i,this.navigationBehaviorOptions=t}}function h1(e){return e.outlet||Cn}function j2(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dQ{get injector(){return j2(this.route?.snapshot)??this.rootInjector}set injector(i){}constructor(i){this.rootInjector=i,this.outlet=null,this.route=null,this.children=new W2(this.rootInjector),this.attachRef=null}}let W2=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,n){const o=this.getOrCreateContext(t);o.outlet=n,this.contexts.set(t,o)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new dQ(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Ao))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class fy{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=m7(i,this._root);return t?t.children.map(n=>n.value):[]}firstChild(i){const t=m7(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=v7(i,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return v7(i,this._root).map(t=>t.value)}}function m7(e,i){if(e===i.value)return i;for(const t of i.children){const n=m7(e,t);if(n)return n}return null}function v7(e,i){if(e===i.value)return[i];for(const t of i.children){const n=v7(e,t);if(n.length)return n.unshift(i),n}return[]}class u1{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function i5(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class my extends fy{constructor(i,t){super(i),this.snapshot=t,C7(this,i)}toString(){return this.snapshot.toString()}}function vy(e){const i=function hQ(e){const s=new ng([],{},{},"",{},Cn,e,null,{});return new Cy("",new u1(s,[]))}(e),t=new Bn([new V2("",{})]),n=new Bn({}),o=new Bn({}),s=new Bn({}),r=new Bn(""),a=new _1(t,n,s,r,o,Cn,e,i.root);return a.snapshot=i.root,new my(new u1(a,[]),i)}class _1{constructor(i,t,n,o,s,r,a,l){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=s,this.outlet=r,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(At(u=>u[z2]))??Rt(void 0),this.url=i,this.params=t,this.queryParams=n,this.fragment=o,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(At(i=>Q0(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(At(i=>Q0(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tg(e,i,t="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===i||"always"!==t&&""!==o?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...i.params,...e.params},data:{...i.data,...e.data},resolve:{...e.data,...i.data,...o?.data,...e._resolvedData}},o&&My(o)&&(n.resolve[z2]=o.title),n}class ng{get title(){return this.data?.[z2]}constructor(i,t,n,o,s,r,a,l,u){this.url=i,this.params=t,this.queryParams=n,this.fragment=o,this.data=s,this.outlet=r,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Q0(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Q0(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cy extends fy{constructor(i,t){super(t),this.url=i,C7(this,t)}toString(){return wy(this._root)}}function C7(e,i){i.value._routerState=e,i.children.forEach(t=>C7(e,t))}function wy(e){const i=e.children.length>0?` { ${e.children.map(wy).join(", ")} } `:"";return`${e.value}${i}`}function w7(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,V1(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),V1(i.params,t.params)||e.paramsSubject.next(t.params),function TJ(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!V1(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),V1(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function M7(e,i){const t=V1(e.params,i.params)&&function OJ(e,i){return el(e,i)&&e.every((t,n)=>V1(t.parameters,i[n].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||M7(e.parent,i.parent))}function My(e){return"string"==typeof e.title||null===e.title}let ig=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Cn,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=_e(W2),this.location=_e(Qo),this.changeDetector=_e(Po),this.inputBinder=_e(og,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:n,previousValue:o}=t.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new tt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new tt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new tt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new tt(4013,!1);this._activatedRoute=t;const o=this.location,r=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new b7(t,a,o.injector);this.activated=o.createComponent(r,{index:o.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]})}return e})();class b7{__ngOutletInjector(i){return new b7(this.route,this.childContexts,i)}constructor(i,t,n){this.route=i,this.childContexts=t,this.parent=n}get(i,t){return i===_1?this.route:i===W2?this.childContexts:this.parent.get(i,t)}}const og=new ct("");let by=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:n}=t,o=J0([n.queryParams,n.params,n.data]).pipe(zn(([s,r,a],l)=>(a={...s,...r,...a},0===l?Rt(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(t);const r=function sK(e){const i=bn(e);if(!i)return null;const t=new e2(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(r)for(const{templateName:a}of r.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();function X2(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const n=t.value;n._futureSnapshot=i.value;const o=function _Q(e,i,t){return i.children.map(n=>{for(const o of t.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return X2(e,n,o);return X2(e,n)})}(e,i,t);return new u1(n,o)}{if(e.shouldAttach(i.value)){const s=e.retrieve(i.value);if(null!==s){const r=s.route;return r.value._futureSnapshot=i.value,r.children=i.children.map(a=>X2(e,a)),r}}const n=function pQ(e){return new _1(new Bn(e.url),new Bn(e.params),new Bn(e.queryParams),new Bn(e.fragment),new Bn(e.data),e.outlet,e.component,e)}(i.value),o=i.children.map(s=>X2(e,s));return new u1(n,o)}}class T7{constructor(i,t){this.redirectTo=i,this.navigationBehaviorOptions=t}}const Ty="ngNavigationCancelingError";function sg(e,i){const{redirectTo:t,navigationBehaviorOptions:n}=$2(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,o=Sy(!1,gr.Redirect);return o.url=t,o.navigationBehaviorOptions=n,o}function Sy(e,i){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[Ty]=!0,t.cancellationCode=i,t}function Ey(e){return!!e&&e[Ty]}class mQ{constructor(i,t,n,o,s){this.routeReuseStrategy=i,this.futureState=t,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=s}activate(i){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,i),w7(this.futureState.root),this.activateChildRoutes(t,n,i)}deactivateChildRoutes(i,t,n){const o=i5(t);i.children.forEach(s=>{const r=s.value.outlet;this.deactivateRoutes(s,o[r],n),delete o[r]}),Object.values(o).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(i,t,n){const o=i.value,s=t?t.value:null;if(o===s)if(o.component){const r=n.getContext(o.outlet);r&&this.deactivateChildRoutes(i,t,r.children)}else this.deactivateChildRoutes(i,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const n=t.getContext(i.value.outlet),o=n&&i.value.component?n.children:t,s=i5(i);for(const r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);if(n&&n.outlet){const r=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:r,route:i,contexts:a})}}deactivateRouteAndOutlet(i,t){const n=t.getContext(i.value.outlet),o=n&&i.value.component?n.children:t,s=i5(i);for(const r of Object.values(s))this.deactivateRouteAndItsChildren(r,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,t,n){const o=i5(t);i.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],n),this.forwardEvent(new oQ(s.value.snapshot))}),i.children.length&&this.forwardEvent(new nQ(i.value.snapshot))}activateRoutes(i,t,n){const o=i.value,s=t?t.value:null;if(w7(o),o===s)if(o.component){const r=n.getOrCreateContext(o.outlet);this.activateChildRoutes(i,t,r.children)}else this.activateChildRoutes(i,t,n);else if(o.component){const r=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),r.children.onOutletReAttached(a.contexts),r.attachRef=a.componentRef,r.route=a.route.value,r.outlet&&r.outlet.attach(a.componentRef,a.route.value),w7(a.route.value),this.activateChildRoutes(i,null,r.children)}else r.attachRef=null,r.route=o,r.outlet&&r.outlet.activateWith(o,r.injector),this.activateChildRoutes(i,null,r.children)}else this.activateChildRoutes(i,null,n)}}class Ay{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class rg{constructor(i,t){this.component=i,this.route=t}}function vQ(e,i,t){const n=e._root;return K2(n,i?i._root:null,t,[n.value])}function o5(e,i){const t=Symbol(),n=i.get(e,t);return n===t?"function"!=typeof e||function Wk(e){return null!==Ou(e)}(e)?i.get(e):e:n}function K2(e,i,t,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=i5(i);return e.children.forEach(r=>{(function wQ(e,i,t,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,r=i?i.value:null,a=t?t.getContext(e.value.outlet):null;if(r&&s.routeConfig===r.routeConfig){const l=function MQ(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!el(e.url,i.url);case"pathParamsOrQueryParamsChange":return!el(e.url,i.url)||!V1(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M7(e,i)||!V1(e.queryParams,i.queryParams);default:return!M7(e,i)}}(r,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Ay(n)):(s.data=r.data,s._resolvedData=r._resolvedData),K2(e,i,s.component?a?a.children:null:t,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new rg(a.outlet.component,r))}else r&&q2(i,a,o),o.canActivateChecks.push(new Ay(n)),K2(e,null,s.component?a?a.children:null:t,n,o)})(r,s[r.value.outlet],t,n.concat([r.value]),o),delete s[r.value.outlet]}),Object.entries(s).forEach(([r,a])=>q2(a,t.getContext(r),o)),o}function q2(e,i,t){const n=i5(e),o=e.value;Object.entries(n).forEach(([s,r])=>{q2(r,o.component?i?i.children.getContext(s):null:i,t)}),t.canDeactivateChecks.push(new rg(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}function Y2(e){return"function"==typeof e}function Oy(e){return e instanceof F2||"EmptyError"===e?.name}const ag=Symbol("INITIAL_VALUE");function s5(){return zn(e=>J0(e.map(i=>i.pipe(oo(1),Jc(ag)))).pipe(At(i=>{for(const t of i)if(!0!==t){if(t===ag)return ag;if(!1===t||yQ(t))return t}return!0}),$n(i=>i!==ag),oo(1)))}function yQ(e){return $2(e)||e instanceof T7}function yy(e){return function b1(...e){return or(e)}(dn(i=>{if("boolean"!=typeof i)throw sg(0,i)}),At(i=>!0===i))}class S7{constructor(i){this.segmentGroup=i||null}}class lg extends Error{constructor(i){super(),this.urlTree=i}}function r5(e){return Gp(new S7(e))}class $Q{constructor(i,t){this.urlSerializer=i,this.urlTree=t}lineralizeSegments(i,t){let n=[],o=t.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Rt(n);if(o.numberOfChildren>1||!o.children[Cn])return Gp(new tt(4e3,!1));o=o.children[Cn]}}applyRedirectCommands(i,t,n,o,s){if("string"!=typeof t){const a=t,{queryParams:l,fragment:u,routeConfig:p,url:v,outlet:L,params:z,data:ie,title:se}=o,he=Fr(s,()=>a({params:z,data:ie,queryParams:l,fragment:u,routeConfig:p,url:v,outlet:L,title:se}));if(he instanceof e5)throw new lg(he);t=he}const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,n);if("/"===t[0])throw new lg(r);return r}applyRedirectCreateUrlTree(i,t,n,o){const s=this.createSegmentGroup(i,t.root,n,o);return new e5(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const n={};return Object.entries(i).forEach(([o,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);n[o]=t[a]}else n[o]=s}),n}createSegmentGroup(i,t,n,o){const s=this.createSegments(i,t.segments,n,o);let r={};return Object.entries(t.children).forEach(([a,l])=>{r[a]=this.createSegmentGroup(i,l,n,o)}),new ai(s,r)}createSegments(i,t,n,o){return t.map(s=>":"===s.path[0]?this.findPosParam(i,s,o):this.findOrReturn(s,n))}findPosParam(i,t,n){const o=n[t.path.substring(1)];if(!o)throw new tt(4001,!1);return o}findOrReturn(i,t){let n=0;for(const o of t){if(o.path===i.path)return t.splice(n),o;n++}return i}}const E7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BQ(e,i,t,n,o){const s=A7(e,i,t);return s.matched?(n=function sQ(e,i){return e.providers&&!e._injector&&(e._injector=G_(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,n),function zQ(e,i,t,n){const o=i.canMatch;return o&&0!==o.length?Rt(o.map(r=>{const a=o5(r,e);return Ja(function OQ(e){return e&&Y2(e.canMatch)}(a)?a.canMatch(i,t):Fr(e,()=>a(i,t)))})).pipe(s5(),yy()):Rt(!0)}(n,i,t).pipe(At(r=>!0===r?s:{...E7}))):Rt(s)}function A7(e,i,t){if("**"===i.path)return function GQ(e){return{matched:!0,parameters:e.length>0?qO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...E7}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(i.matcher||bJ)(t,e,i);if(!o)return{...E7};const s={};Object.entries(o.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const r=o.consumed.length>0?{...s,...o.consumed[o.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:r,positionalParamSegments:o.posParams??{}}}function Dy(e,i,t,n){return t.length>0&&function jQ(e,i,t){return t.some(n=>cg(e,i,n)&&h1(n)!==Cn)}(e,t,n)?{segmentGroup:new ai(i,ZQ(n,new ai(t,e.children))),slicedSegments:[]}:0===t.length&&function WQ(e,i,t){return t.some(n=>cg(e,i,n))}(e,t,n)?{segmentGroup:new ai(e.segments,UQ(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new ai(e.segments,e.children),slicedSegments:t}}function UQ(e,i,t,n){const o={};for(const s of t)if(cg(e,i,s)&&!n[h1(s)]){const r=new ai([],{});o[h1(s)]=r}return{...n,...o}}function ZQ(e,i){const t={};t[Cn]=i;for(const n of e)if(""===n.path&&h1(n)!==Cn){const o=new ai([],{});t[h1(n)]=o}return t}function cg(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class qQ{}class QQ{constructor(i,t,n,o,s,r,a){this.injector=i,this.configLoader=t,this.rootComponentType=n,this.config=o,this.urlTree=s,this.paramsInheritanceStrategy=r,this.urlSerializer=a,this.applyRedirects=new $Q(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new tt(4002,`'${i.segmentGroup}'`)}recognize(){const i=Dy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(At(({children:t,rootSnapshot:n})=>{const o=new u1(n,t),s=new Cy("",o),r=function BJ(e,i,t=null,n=null){return ly(ay(e),i,t,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(r),{state:s,tree:r}}))}match(i){const t=new ng([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Cn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Cn,t).pipe(At(n=>({children:n,rootSnapshot:t})),Ya(n=>{if(n instanceof lg)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof S7?this.noMatchError(n):n}))}processSegmentGroup(i,t,n,o,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,t,n,s):this.processSegment(i,t,n,n.segments,o,!0,s).pipe(At(r=>r instanceof u1?[r]:[]))}processChildren(i,t,n,o){const s=[];for(const r of Object.keys(n.children))"primary"===r?s.unshift(r):s.push(r);return xi(s).pipe(Qc(r=>{const a=n.children[r],l=function cQ(e,i){const t=e.filter(n=>h1(n)===i);return t.push(...e.filter(n=>h1(n)!==i)),t}(t,r);return this.processSegmentGroup(i,l,a,r,o)}),function CJ(e,i){return ti(function vJ(e,i,t,n,o){return(s,r)=>{let a=t,l=i,u=0;s.subscribe(ni(r,p=>{const v=u++;l=a?e(l,p,v):(a=!0,p),n&&r.next(l)},o&&(()=>{a&&r.next(l),r.complete()})))}}(e,i,arguments.length>=2,!0))}((r,a)=>(r.push(...a),r)),Zp(null),function wJ(e,i){const t=arguments.length>=2;return n=>n.pipe(e?$n((o,s)=>e(o,s,n)):ei,c7(1),t?Zp(i):WO(()=>new F2))}(),Lo(r=>{if(null===r)return r5(n);const a=Ny(r);return function eee(e){e.sort((i,t)=>i.value.outlet===Cn?-1:t.value.outlet===Cn?1:i.value.outlet.localeCompare(t.value.outlet))}(a),Rt(a)}))}processSegment(i,t,n,o,s,r,a){return xi(t).pipe(Qc(l=>this.processSegmentAgainstRoute(l._injector??i,t,l,n,o,s,r,a).pipe(Ya(u=>{if(u instanceof S7)return Rt(null);throw u}))),wt(l=>!!l),Ya(l=>{if(Oy(l))return function KQ(e,i,t){return 0===i.length&&!e.children[t]}(n,o,s)?Rt(new qQ):r5(n);throw l}))}processSegmentAgainstRoute(i,t,n,o,s,r,a,l){return function XQ(e,i,t,n){return!!(h1(e)===n||n!==Cn&&cg(i,t,e))&&A7(i,e,t).matched}(n,o,s,r)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,o,n,s,r,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(i,o,t,n,s,r,l):r5(o):r5(o)}expandSegmentAgainstRouteUsingRedirect(i,t,n,o,s,r,a){const{matched:l,parameters:u,consumedSegments:p,positionalParamSegments:v,remainingSegments:L}=A7(t,o,s);if(!l)return r5(t);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const z=new ng(s,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Py(o),h1(o),o.component??o._loadedComponent??null,o,Iy(o)),ie=tg(z,a,this.paramsInheritanceStrategy);z.params=Object.freeze(ie.params),z.data=Object.freeze(ie.data);const se=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,v,z,i);return this.applyRedirects.lineralizeSegments(o,se).pipe(Lo(he=>this.processSegment(i,n,t,he.concat(L),r,!1,a)))}matchSegmentAgainstRoute(i,t,n,o,s,r){const a=BQ(t,n,o,i);return"**"===n.path&&(t.children={}),a.pipe(zn(l=>l.matched?this.getChildConfig(i=n._injector??i,n,o).pipe(zn(({routes:u})=>{const p=n._loadedInjector??i,{parameters:v,consumedSegments:L,remainingSegments:z}=l,ie=new ng(L,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Py(n),h1(n),n.component??n._loadedComponent??null,n,Iy(n)),se=tg(ie,r,this.paramsInheritanceStrategy);ie.params=Object.freeze(se.params),ie.data=Object.freeze(se.data);const{segmentGroup:he,slicedSegments:be}=Dy(t,L,z,u);if(0===be.length&&he.hasChildren())return this.processChildren(p,u,he,ie).pipe(At(Fe=>new u1(ie,Fe)));if(0===u.length&&0===be.length)return Rt(new u1(ie,[]));const we=h1(n)===s;return this.processSegment(p,u,he,be,we?Cn:s,!0,ie).pipe(At(Fe=>new u1(ie,Fe instanceof u1?[Fe]:[])))})):r5(t)))}getChildConfig(i,t,n){return t.children?Rt({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?Rt({routes:t._loadedRoutes,injector:t._loadedInjector}):function kQ(e,i,t,n){const o=i.canLoad;return void 0===o||0===o.length?Rt(!0):Rt(o.map(r=>{const a=o5(r,e);return Ja(function TQ(e){return e&&Y2(e.canLoad)}(a)?a.canLoad(i,t):Fr(e,()=>a(i,t)))})).pipe(s5(),yy())}(i,t,n).pipe(Lo(o=>o?this.configLoader.loadChildren(i,t).pipe(dn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function HQ(e){return Gp(Sy(!1,gr.GuardRejected))}())):Rt({routes:[],injector:i})}}function tee(e){const i=e.value.routeConfig;return i&&""===i.path}function Ny(e){const i=[],t=new Set;for(const n of e){if(!tee(n)){i.push(n);continue}const o=i.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...n.children),t.add(o)):i.push(n)}for(const n of t){const o=Ny(n.children);i.push(new u1(n.value,o))}return i.filter(n=>!t.has(n))}function Py(e){return e.data||{}}function Iy(e){return e.resolve||{}}function Ly(e){const i=e.children.map(t=>Ly(t)).flat();return[e,...i]}function O7(e){return zn(i=>{const t=e(i);return t?xi(t).pipe(At(()=>i)):Rt(i)})}let xy=(()=>{class e{buildTitle(t){let n,o=t.root;for(;void 0!==o;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(s=>s.outlet===Cn);return n}getResolvedTitleForRoute(t){return t.data[z2]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>_e(aee),providedIn:"root"})}return e})(),aee=(()=>{class e extends xy{constructor(t){super(),this.title=t}updateTitle(t){const n=this.buildTitle(t);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(TO))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const a5=new ct("",{providedIn:"root",factory:()=>({})});let Ry=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ng-component"]],standalone:!0,features:[$i],decls:1,vars:0,template:function(n,o){1&n&&k(0,"router-outlet")},dependencies:[ig],encapsulation:2})}return e})();function y7(e){const i=e.children&&e.children.map(y7),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Cn&&(t.component=Ry),t}const l5=new ct("");let D7=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_e(RE)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Rt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const n=Ja(t.loadComponent()).pipe(At(Fy),dn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),k2(()=>{this.componentLoaders.delete(t)})),o=new l7(n,()=>new et).pipe(Up());return this.componentLoaders.set(t,o),o}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Rt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function lee(e,i,t,n){return Ja(e.loadChildren()).pipe(At(Fy),Lo(o=>o instanceof aT||Array.isArray(o)?Rt(o):xi(i.compileModuleAsync(o))),At(o=>{n&&n(e);let s,r,a=!1;return Array.isArray(o)?(r=o,!0):(s=o.create(t).injector,r=s.get(l5,[],{optional:!0,self:!0}).flat()),{routes:r.map(y7),injector:s}}))}(n,this.compiler,t,this.onLoadEndListener).pipe(k2(()=>{this.childrenLoaders.delete(n)})),r=new l7(s,()=>new et).pipe(Up());return this.childrenLoaders.set(n,r),r}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fy(e){return function cee(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let N7=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>_e(dee),providedIn:"root"})}return e})(),dee=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ky=new ct(""),zy=new ct("");function hee(e,i,t){const n=e.get(zy),o=e.get(gn);return e.get(jt).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s;const r=new Promise(u=>{s=u}),a=o.startViewTransition(()=>(s(),function uee(e){return new Promise(i=>{bc(()=>setTimeout(i),{injector:e,phase:_a.Read})})}(e))),{onViewTransitionCreated:l}=n;return l&&Fr(e,()=>l({transition:a,from:i,to:t})),r})}const Vy=new ct("");let dg=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=_e(D7),this.environmentInjector=_e(Ao),this.urlSerializer=_e(t5),this.rootContexts=_e(W2),this.location=_e(N2),this.inputBindingEnabled=null!==_e(og,{optional:!0}),this.titleStrategy=_e(xy),this.options=_e(a5,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_e(N7),this.createViewTransition=_e(ky,{optional:!0}),this.navigationErrorHandler=_e(Vy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Rt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new eQ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new QJ(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:n})}setupNavigations(t,n,o){return this.transitions=new Bn({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:U2,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($n(s=>0!==s.id),At(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),zn(s=>{let r=!1,a=!1;return Rt(s).pipe(zn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",gr.SupersededByNewNavigation),pr;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const v="";return this.events.next(new n5(l.id,this.urlSerializer.serialize(l.rawUrl),v,Qp.IgnoredSameUrlNavigation)),l.resolve(!1),pr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Rt(l).pipe(zn(v=>{const L=this.transitions?.getValue();return this.events.next(new Z2(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),L!==this.transitions?.getValue()?pr:Promise.resolve(v)}),function nee(e,i,t,n,o,s){return Lo(r=>function YQ(e,i,t,n,o,s,r="emptyOnly"){return new QQ(e,i,t,n,o,r,s).recognize()}(e,i,t,n,r.extractedUrl,o,s).pipe(At(({state:a,tree:l})=>({...r,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),dn(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const L=new py(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(L)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:v,extractedUrl:L,source:z,restoredState:ie,extras:se}=l,he=new Z2(v,this.urlSerializer.serialize(L),z,ie);this.events.next(he);const be=vy(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:be,urlAfterRedirects:L,extras:{...se,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=L,Rt(s)}{const v="";return this.events.next(new n5(l.id,this.urlSerializer.serialize(l.extractedUrl),v,Qp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),pr}}),dn(l=>{const u=new KJ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),At(l=>(this.currentTransition=s={...l,guards:vQ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function DQ(e,i){return Lo(t=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:r}}=t;return 0===r.length&&0===s.length?Rt({...t,guardsResult:!0}):function NQ(e,i,t,n){return xi(e).pipe(Lo(o=>function FQ(e,i,t,n,o){const s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return s&&0!==s.length?Rt(s.map(a=>{const l=j2(i)??o,u=o5(a,l);return Ja(function AQ(e){return e&&Y2(e.canDeactivate)}(u)?u.canDeactivate(e,i,t,n):Fr(l,()=>u(e,i,t,n))).pipe(wt())})).pipe(s5()):Rt(!0)}(o.component,o.route,t,i,n)),wt(o=>!0!==o,!0))}(r,n,o,e).pipe(Lo(a=>a&&function bQ(e){return"boolean"==typeof e}(a)?function PQ(e,i,t,n){return xi(i).pipe(Qc(o=>Yc(function LQ(e,i){return null!==e&&i&&i(new tQ(e)),Rt(!0)}(o.route.parent,n),function IQ(e,i){return null!==e&&i&&i(new iQ(e)),Rt(!0)}(o.route,n),function RQ(e,i,t){const n=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(r=>function CQ(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(r)).filter(r=>null!==r).map(r=>Bp(()=>Rt(r.guards.map(l=>{const u=j2(r.node)??t,p=o5(l,u);return Ja(function EQ(e){return e&&Y2(e.canActivateChild)}(p)?p.canActivateChild(n,e):Fr(u,()=>p(n,e))).pipe(wt())})).pipe(s5())));return Rt(s).pipe(s5())}(e,o.path,t),function xQ(e,i,t){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return Rt(!0);const o=n.map(s=>Bp(()=>{const r=j2(i)??t,a=o5(s,r);return Ja(function SQ(e){return e&&Y2(e.canActivate)}(a)?a.canActivate(i,e):Fr(r,()=>a(i,e))).pipe(wt())}));return Rt(o).pipe(s5())}(e,o.route,t))),wt(o=>!0!==o,!0))}(n,s,e,i):Rt(a)),At(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),dn(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&"boolean"!=typeof l.guardsResult)throw sg(0,l.guardsResult);const u=new qJ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),$n(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",gr.GuardRejected),!1)),O7(l=>{if(l.guards.canActivateChecks.length)return Rt(l).pipe(dn(u=>{const p=new YJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),zn(u=>{let p=!1;return Rt(u).pipe(function iee(e,i){return Lo(t=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=t;if(!o.length)return Rt(t);const s=new Set(o.map(l=>l.route)),r=new Set;for(const l of s)if(!r.has(l))for(const u of Ly(l))r.add(u);let a=0;return xi(r).pipe(Qc(l=>s.has(l)?function oee(e,i,t,n){const o=e.routeConfig,s=e._resolve;return void 0!==o?.title&&!My(o)&&(s[z2]=o.title),function see(e,i,t,n){const o=d7(e);if(0===o.length)return Rt({});const s={};return xi(o).pipe(Lo(r=>function ree(e,i,t,n){const o=j2(i)??n,s=o5(e,o);return Ja(s.resolve?s.resolve(i,t):Fr(o,()=>s(i,t)))}(e[r],i,t,n).pipe(wt(),dn(a=>{if(a instanceof T7)throw sg(new Wp,a);s[r]=a}))),c7(1),XO(s),Ya(r=>Oy(r)?pr:Gp(r)))}(s,e,i,n).pipe(At(r=>(e._resolvedData=r,e.data=tg(e,e.parent,t).resolve,null)))}(l,n,e,i):(l.data=tg(l,l.parent,e).resolve,Rt(void 0))),dn(()=>a++),c7(1),Lo(l=>a===r.size?Rt(t):pr))})}(this.paramsInheritanceStrategy,this.environmentInjector),dn({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(u,"",gr.NoDataFromResolver)}}))}),dn(u=>{const p=new JJ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}))}),O7(l=>{const u=p=>{const v=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(p.routeConfig).pipe(dn(L=>{p.component=L}),At(()=>{})));for(const L of p.children)v.push(...u(L));return v};return J0(u(l.targetSnapshot.root)).pipe(Zp(null),oo(1))}),O7(()=>this.afterPreactivation()),zn(()=>{const{currentSnapshot:l,targetSnapshot:u}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return p?xi(p).pipe(At(()=>s)):Rt(s)}),At(l=>{const u=function uQ(e,i,t){const n=X2(e,i._root,t?t._root:void 0);return new my(n,i)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},this.currentNavigation.targetRouterState=u,s}),dn(()=>{this.events.next(new f7)}),((e,i,t,n)=>At(o=>(new mQ(i,o.targetRouterState,o.currentRouterState,t,n).activate(e),o)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),oo(1),dn({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ca(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),je(this.transitionAbortSubject.pipe(dn(l=>{throw l}))),k2(()=>{!r&&!a&&this.cancelNavigationTransition(s,"",gr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ya(l=>{if(a=!0,Ey(l))this.events.next(new tl(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function gQ(e){return Ey(e)&&$2(e.url)}(l)?this.events.next(new eg(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{const u=new g7(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{const p=Fr(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(p instanceof T7){const{message:v,cancellationCode:L}=sg(0,p);this.events.next(new tl(s.id,this.urlSerializer.serialize(s.extractedUrl),v,L)),this.events.next(new eg(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(u);const v=t.errorHandler(l);s.resolve(!!v)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return pr}))}))}cancelNavigationTransition(t,n,o){const s=new tl(t.id,this.urlSerializer.serialize(t.extractedUrl),n,o);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _ee(e){return e!==U2}let pee=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>_e(fee),providedIn:"root"})}return e})();class gee{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let fee=(()=>{class e extends gee{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hy=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>_e(mee),providedIn:"root"})}return e})(),mee=(()=>{class e extends Hy{constructor(){super(...arguments),this.location=_e(N2),this.urlSerializer=_e(t5),this.options=_e(a5,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_e(N7),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new e5,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{"popstate"===n.type&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof Z2)this.stateMemento=this.createStateMemento();else if(t instanceof n5)this.rawUrlTree=n.initialUrl;else if(t instanceof py){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else t instanceof f7?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof tl&&(t.code===gr.GuardRejected||t.code===gr.NoDataFromResolver)?this.restoreHistory(n):t instanceof g7?this.restoreHistory(n,!0):t instanceof Ca&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){const r={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(o,"",r)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(t,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var J2=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(J2||{});function $y(e,i){e.events.pipe($n(t=>t instanceof Ca||t instanceof tl||t instanceof g7||t instanceof n5),At(t=>t instanceof Ca||t instanceof n5?J2.COMPLETE:t instanceof tl&&(t.code===gr.Redirect||t.code===gr.SupersededByNewNavigation)?J2.REDIRECTING:J2.FAILED),$n(t=>t!==J2.REDIRECTING),oo(1)).subscribe(()=>{i()})}function vee(e){throw e}const Cee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let so=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_e(SE),this.stateManager=_e(Hy),this.options=_e(a5,{optional:!0})||{},this.pendingTasks=_e(da),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_e(dg),this.urlSerializer=_e(t5),this.location=_e(N2),this.urlHandlingStrategy=_e(N7),this._events=new et,this.errorHandler=this.options.errorHandler||vee,this.navigated=!1,this.routeReuseStrategy=_e(pee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_e(l5,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_e(og,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(n=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(n,s),n instanceof tl&&n.code!==gr.Redirect&&n.code!==gr.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ca)this.navigated=!0;else if(n instanceof eg){const r=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||_ee(o.source),...r};this.scheduleNavigation(a,U2,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function bee(e){return!(e instanceof f7||e instanceof eg)})(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),U2,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,o){const s={replaceUrl:!0},r=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,n,r,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(y7),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){const{relativeTo:o,queryParams:s,fragment:r,queryParamsHandling:a,preserveFragment:l}=n,u=l?this.currentUrlTree.fragment:r;let v,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{v=ay(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),v=this.currentUrlTree.root}return ly(v,t,p,u??null)}navigateByUrl(t,n={skipLocationChange:!1}){const o=$2(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,U2,null,n)}navigate(t,n={skipLocationChange:!1}){return function Mee(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new tt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let o;if(o=!0===n?{...Cee}:!1===n?{...wee}:n,$2(t))return JO(this.currentUrlTree,t,o);const s=this.parseUrl(t);return JO(this.currentUrlTree,s,o)}removeEmptyProps(t){return Object.entries(t).reduce((n,[o,s])=>(null!=s&&(n[o]=s),n),{})}scheduleNavigation(t,n,o,s,r){if(this.disposed)return Promise.resolve(!1);let a,l,u;r?(a=r.resolve,l=r.reject,u=r.promise):u=new Promise((v,L)=>{a=v,l=L});const p=this.pendingTasks.add();return $y(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(v=>Promise.reject(v))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fr=(()=>{class e{constructor(t,n,o,s,r,a){this.router=t,this.route=n,this.tabIndexAttribute=o,this.renderer=s,this.el=r,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Ca&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,n,o,s,r){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||n||o||s||r||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const n=null===this.href?null:function tM(e,i,t){return function JH(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?Rd:$o}(i,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){const o=this.renderer,s=this.el.nativeElement;null!==n?o.setAttribute(s,t,n):o.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(so),Y(_1),s1("tabindex"),Y($r),Y(Qt),Y(K0))};static#t=this.\u0275dir=st({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){1&n&&F("click",function(r){return o.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&n&&Mn("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Un],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Un],replaceUrl:[2,"replaceUrl","replaceUrl",Un],routerLink:"routerLink"},standalone:!0,features:[L1,Rn]})}return e})(),By=(()=>{class e{get isActive(){return this._isActive}constructor(t,n,o,s,r){this.router=t,this.element=n,this.renderer=o,this.cdr=s,this.link=r,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ca&&this.update()})}ngAfterContentInit(){Rt(this.links.changes,Rt(null)).pipe(qc()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=xi(t).pipe(qc()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){const n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){const n=function Tee(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{const s=o.urlTree;return!!s&&t.isActive(s,n)}}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(so),Y(Qt),Y($r),Y(Po),Y(fr,8))};static#t=this.\u0275dir=st({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,o,s){if(1&n&&Nn(s,fr,5),2&n){let r;Ot(r=yt())&&(o.links=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rn]})}return e})();class Gy{}let See=(()=>{class e{constructor(t,n,o,s,r){this.router=t,this.injector=o,this.preloadingStrategy=s,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe($n(t=>t instanceof Ca),Qc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){const o=[];for(const s of n){s.providers&&!s._injector&&(s._injector=G_(s.providers,t,`Route: ${s.path}`));const r=s._injector??t,a=s._loadedInjector??r;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(r,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(a,s.children??s._loadedRoutes))}return xi(o).pipe(qc())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let o;o=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(t,n):Rt(null);const s=o.pipe(Lo(r=>null===r?Rt(void 0):(n._loadedRoutes=r.routes,n._loadedInjector=r.injector,this.processRoutes(r.injector??t,r.routes))));return n.loadComponent&&!n._loadedComponent?xi([s,this.loader.loadComponent(n)]).pipe(qc()):s})}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(so),Ke(RE),Ke(Ao),Ke(Gy),Ke(D7))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const P7=new ct("");let Uy=(()=>{class e{constructor(t,n,o,s,r={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=o,this.zone=s,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=_e(Ao),r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Z2?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ca?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof n5&&t.code===Qp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){var o=this;this.zone.runOutsideAngular(Kc(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),bc(()=>{s()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new gy(t,"popstate"===o.lastSource?o.store[o.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){z6()};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();function $1(e,i){return{\u0275kind:e,\u0275providers:i}}function jy(){const e=_e(hi);return i=>{const t=e.get(qs);if(i!==t.components[0])return;const n=e.get(so),o=e.get(Wy);1===e.get(I7)&&n.initialNavigation(),e.get(Xy,null,Sn.Optional)?.setUpPreloading(),e.get(P7,null,Sn.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Wy=new ct("",{factory:()=>new et}),I7=new ct("",{providedIn:"root",factory:()=>1}),Xy=new ct("");function yee(e){return $1(0,[{provide:Xy,useExisting:See},{provide:Gy,useExisting:e}])}function Nee(e){return $1(9,[{provide:ky,useValue:hee},{provide:zy,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const Ky=new ct("ROUTER_FORROOT_GUARD"),Pee=[N2,{provide:t5,useClass:Wp},so,W2,{provide:_1,useFactory:function Zy(e){return e.routerState.root},deps:[so]},D7,[]];let qy=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[Pee,[],{provide:l5,multi:!0,useValue:t},{provide:Ky,useFactory:Ree,deps:[[so,new Iu,new Lu]]},{provide:a5,useValue:n||{}},n?.useHash?{provide:K0,useClass:dK}:{provide:K0,useClass:IA},{provide:P7,useFactory:()=>{const e=_e(tO),i=_e(jt),t=_e(a5),n=_e(dg),o=_e(t5);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Uy(o,n,e,i,t)}},n?.preloadingStrategy?yee(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?Fee(n):[],n?.bindToComponentInputs?$1(8,[by,{provide:og,useExisting:by}]).\u0275providers:[],n?.enableViewTransitions?Nee().\u0275providers:[],[{provide:Yy,useFactory:jy},{provide:dp,multi:!0,useExisting:Yy}]]}}static forChild(t){return{ngModule:e,providers:[{provide:l5,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Ky,8))};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();function Ree(e){return"guarded"}function Fee(e){return["disabled"===e.initialNavigation?$1(3,[{provide:cp,multi:!0,useFactory:()=>{const i=_e(so);return()=>{i.setUpLocationChangeListener()}}},{provide:I7,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?$1(2,[{provide:I7,useValue:0},{provide:cp,multi:!0,deps:[hi],useFactory:i=>{const t=i.get(lK,Promise.resolve());return()=>t.then(()=>new Promise(n=>{const o=i.get(so),s=i.get(Wy);$y(o,()=>{n(!0)}),i.get(dg).afterPreactivation=()=>(n(!0),s.closed?Rt(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const Yy=new ct("");var c5=function(e){return e.DEBUG="debug",e.INFO="info",e.SUCCESS="success",e.WARNING="warning",e.ERROR="error",e}(c5||{});let zee=(()=>{class e{constructor(){}get(){return window.DJANGO_MESSAGES??[]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vee=new URL(document.baseURI),wi={production:!0,apiBaseUrl:document.baseURI+"api/",apiVersion:"5",appTitle:"Paperless-ngx",version:"2.11.1",webSocketHost:window.location.host,webSocketProtocol:"https:"==window.location.protocol?"wss:":"ws:",webSocketBaseUrl:Vee.pathname+"ws/"};let Jy=(()=>{class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y($r),Y(Qt))};static#t=this.\u0275dir=st({type:e})}return e})(),nl=(()=>{class e extends Jy{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,features:[Ct]})}return e})();const Pn=new ct(""),$ee={provide:Pn,useExisting:Xt(()=>ts),multi:!0};let ts=(()=>{class e extends nl{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,o){1&n&&F("change",function(r){return o.onChange(r.target.checked)})("blur",function(){return o.onTouched()})},features:[Gt([$ee]),Ct]})}return e})();const Bee={provide:Pn,useExisting:Xt(()=>si),multi:!0},Uee=new ct("");let si=(()=>{class e extends Jy{constructor(t,n,o){super(t,n),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gee(){const e=pa()?pa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y($r),Y(Qt),Y(Uee,8))};static#t=this.\u0275dir=st({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&F("input",function(r){return o._handleInput(r.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(r){return o._compositionEnd(r.target.value)})},features:[Gt([Bee]),Ct]})}return e})();function Qa(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const ns=new ct(""),e0=new ct("");function nD(e){return Qa(e.value)?{required:!0}:null}function hg(e){return null}function lD(e){return null!=e}function cD(e){return E2(e)?xi(e):e}function dD(e){let i={};return e.forEach(t=>{i=null!=t?{...i,...t}:i}),0===Object.keys(i).length?null:i}function hD(e,i){return i.map(t=>t(e))}function uD(e){return e.map(i=>function jee(e){return!e.validate}(i)?i:t=>i.validate(t))}function L7(e){return null!=e?function _D(e){if(!e)return null;const i=e.filter(lD);return 0==i.length?null:function(t){return dD(hD(t,i))}}(uD(e)):null}function x7(e){return null!=e?function pD(e){if(!e)return null;const i=e.filter(lD);return 0==i.length?null:function(t){return function Hee(...e){const i=$p(e),{args:t,keys:n}=UO(e),o=new mn(s=>{const{length:r}=t;if(!r)return void s.complete();const a=new Array(r);let l=r,u=r;for(let p=0;p<r;p++){let v=!1;ji(t[p]).subscribe(ni(s,L=>{v||(v=!0,u--),a[p]=L},()=>l--,void 0,()=>{(!l||!v)&&(u||s.next(n?ZO(n,a):a),s.complete())}))}});return i?o.pipe(a7(i)):o}(hD(t,i).map(cD)).pipe(At(dD))}}(uD(e)):null}function gD(e,i){return null===e?[i]:Array.isArray(e)?[...e,i]:[e,i]}function fD(e){return e._rawValidators}function mD(e){return e._rawAsyncValidators}function R7(e){return e?Array.isArray(e)?e:[e]:[]}function ug(e,i){return Array.isArray(e)?e.includes(i):e===i}function vD(e,i){const t=R7(i);return R7(e).forEach(o=>{ug(t,o)||t.push(o)}),t}function CD(e,i){return R7(i).filter(t=>!ug(e,t))}class wD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=L7(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=x7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class As extends wD{get formDirective(){return null}get path(){return null}}class t0 extends wD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MD{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yt=(()=>{class e extends MD{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(t0,2))};static#t=this.\u0275dir=st({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Ye("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ct]})}return e})(),Wi=(()=>{class e extends MD{constructor(t){super(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(As,10))};static#t=this.\u0275dir=st({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Ye("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ct]})}return e})();const Q2="VALID",pg="INVALID",d5="PENDING",eh="DISABLED";class h5{}class TD extends h5{constructor(i,t){super(),this.value=i,this.source=t}}class z7 extends h5{constructor(i,t){super(),this.pristine=i,this.source=t}}class V7 extends h5{constructor(i,t){super(),this.touched=i,this.source=t}}class gg extends h5{constructor(i,t){super(),this.status=i,this.source=t}}class Yee extends h5{constructor(i){super(),this.source=i}}class Jee extends h5{constructor(i){super(),this.source=i}}function H7(e){return(fg(e)?e.validators:e)||null}function $7(e,i){return(fg(i)?i.asyncValidators:e)||null}function fg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function SD(e,i,t){const n=e.controls;if(!(i?Object.keys(n):n).length)throw new tt(1e3,"");if(!n[t])throw new tt(1001,"")}function ED(e,i,t){e._forEachChild((n,o)=>{if(void 0===t[o])throw new tt(1002,"")})}class B7{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new et,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Q2}get invalid(){return this.status===pg}get pending(){return this.status==d5}get disabled(){return this.status===eh}get enabled(){return this.status!==eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(vD(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(vD(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(CD(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(CD(i,this._rawAsyncValidators))}hasValidator(i){return ug(this._rawValidators,i)}hasAsyncValidator(i){return ug(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){const t=!1===this.touched;this.touched=!0;const n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched({...i,sourceControl:n}),t&&!1!==i.emitEvent&&this._events.next(new V7(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(i))}markAsUntouched(i={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const n=i.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),t&&!1!==i.emitEvent&&this._events.next(new V7(!1,n))}markAsDirty(i={}){const t=!0===this.pristine;this.pristine=!1;const n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty({...i,sourceControl:n}),t&&!1!==i.emitEvent&&this._events.next(new z7(!1,n))}markAsPristine(i={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const n=i.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),t&&!1!==i.emitEvent&&this._events.next(new z7(!0,n))}markAsPending(i={}){this.status=d5;const t=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new gg(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending({...i,sourceControl:t})}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=eh,this.errors=null,this._forEachChild(o=>{o.disable({...i,onlySelf:!0})}),this._updateValue();const n=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new TD(this.value,n)),this._events.next(new gg(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:t},this),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Q2,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:t},this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,t){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q2||this.status===d5)&&this._runAsyncValidator(n,i.emitEvent)}const t=i.sourceControl??this;!1!==i.emitEvent&&(this._events.next(new TD(this.value,t)),this._events.next(new gg(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity({...i,sourceControl:t})}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eh:Q2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,t){if(this.asyncValidator){this.status=d5,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const n=cD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(i){let t=i;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,o)=>n&&n._find(o),this)}getError(i,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,t,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new gg(this.status,t)),this._parent&&this._parent._updateControlsErrors(i,t,n)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?eh:this.errors?pg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(d5)?d5:this._anyControlsHaveStatus(pg)?pg:Q2}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,t){const n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,t),o&&this._events.next(new z7(this.pristine,t))}_updateTouched(i={},t){this.touched=this._anyControlsTouched(),this._events.next(new V7(this.touched,t)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,t)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){fg(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function Qee(e){return Array.isArray(e)?L7(e):e||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function ete(e){return Array.isArray(e)?x7(e):e||null}(this._rawAsyncValidators)}}class In extends B7{constructor(i,t,n){super(H7(t),$7(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,n={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){ED(this,0,i),Object.keys(i).forEach(n=>{SD(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(n=>{const o=this.controls[n];o&&o.patchValue(i[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((n,o)=>{n.reset(i?i[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,n)=>(i[n]=t.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,n)=>!!n._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&i(n,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[t,n]of Object.entries(this.controls))if(this.contains(t)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,n,o)=>((n.enabled||this.disabled)&&(t[o]=n.value),t))}_reduceChildren(i,t){let n=i;return this._forEachChild((o,s)=>{n=t(n,o,s)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}const il=new ct("CallSetDisabledState",{providedIn:"root",factory:()=>th}),th="always";function mg(e,i){return[...i.path,e]}function nh(e,i,t=th){G7(e,i),i.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&i.valueAccessor.setDisabledState?.(e.disabled),function ite(e,i){i.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&AD(e,i)})}(e,i),function ste(e,i){const t=(n,o)=>{i.valueAccessor.writeValue(n),o&&i.viewToModelUpdate(n)};e.registerOnChange(t),i._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,i),function ote(e,i){i.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&AD(e,i),"submit"!==e.updateOn&&e.markAsTouched()})}(e,i),function nte(e,i){if(i.valueAccessor.setDisabledState){const t=n=>{i.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(t),i._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,i)}function vg(e,i,t=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),wg(e,i),e&&(i._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Cg(e,i){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function G7(e,i){const t=fD(e);null!==i.validator?e.setValidators(gD(t,i.validator)):"function"==typeof t&&e.setValidators([t]);const n=mD(e);null!==i.asyncValidator?e.setAsyncValidators(gD(n,i.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Cg(i._rawValidators,o),Cg(i._rawAsyncValidators,o)}function wg(e,i){let t=!1;if(null!==e){if(null!==i.validator){const o=fD(e);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==i.validator);s.length!==o.length&&(t=!0,e.setValidators(s))}}if(null!==i.asyncValidator){const o=mD(e);if(Array.isArray(o)&&o.length>0){const s=o.filter(r=>r!==i.asyncValidator);s.length!==o.length&&(t=!0,e.setAsyncValidators(s))}}}const n=()=>{};return Cg(i._rawValidators,n),Cg(i._rawAsyncValidators,n),t}function AD(e,i){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OD(e,i){G7(e,i)}function Z7(e,i){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}function yD(e,i){e._syncPendingControls(),i.forEach(t=>{const n=t.control;"submit"===n.updateOn&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function j7(e,i){if(!i)return null;let t,n,o;return Array.isArray(i),i.forEach(s=>{s.constructor===si?t=s:function lte(e){return Object.getPrototypeOf(e.constructor)===nl}(s)?n=s:o=s}),o||n||t||null}const dte={provide:As,useExisting:Xt(()=>oh)},ih=Promise.resolve();let oh=(()=>{class e extends As{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Be,this.form=new In({},L7(t),x7(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ih.then(()=>{const n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),nh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ih.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ih.then(()=>{const n=this._findContainer(t.path),o=new In({});OD(o,t),n.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ih.then(()=>{const n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){ih.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yD(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(n){return new(n||e)(Y(ns,10),Y(e0,10),Y(il,8))};static#t=this.\u0275dir=st({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){1&n&&F("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([dte]),Ct]})}return e})();function DD(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}function ND(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Re=class extends B7{constructor(i=null,t,n){super(H7(t),$7(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ND(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){DD(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){DD(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){ND(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};let PD=(()=>{class e extends As{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return mg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,features:[Ct]})}return e})();const _te={provide:t0,useExisting:Xt(()=>Ln)},LD=Promise.resolve();let Ln=(()=>{class e extends t0{constructor(t,n,o,s,r,a){super(),this._changeDetectorRef=r,this.callSetDisabledState=a,this.control=new Re,this._registered=!1,this.name="",this.update=new Be,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=j7(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Z7(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,o=0!==n&&Un(n);LD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?mg(t,this._parent):[t]}static#e=this.\u0275fac=function(n){return new(n||e)(Y(As,9),Y(ns,10),Y(e0,10),Y(Pn,10),Y(Po,8),Y(il,8))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([_te]),Ct,Rn]})}return e})(),ro=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const pte={provide:Pn,useExisting:Xt(()=>ol),multi:!0};let ol=(()=>{class e extends nl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=n=>{t(""==n?null:parseFloat(n))}}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,o){1&n&&F("input",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},features:[Gt([pte]),Ct]})}return e})();const gte={provide:Pn,useExisting:Xt(()=>sh),multi:!0};let fte=(()=>{class e{constructor(){this._accessors=[]}add(t,n){this._accessors.push([t,n])}remove(t){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===t)return void this._accessors.splice(n,1)}select(t){this._accessors.forEach(n=>{this._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}_isSameGroup(t,n){return!!t[0].control&&t[0]._parent===n._control._parent&&t[1].name===n.name}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sh=(()=>{class e extends nl{constructor(t,n,o,s){super(t,n),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=_e(il,{optional:!0})??th}ngOnInit(){this._control=this._injector.get(t0),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(n){return new(n||e)(Y($r),Y(Qt),Y(fte),Y(hi))};static#t=this.\u0275dir=st({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,o){1&n&&F("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Gt([gte]),Ct]})}return e})();const W7=new ct(""),vte={provide:t0,useExisting:Xt(()=>X7)};let X7=(()=>{class e extends t0{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,n,o,s,r){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=r,this.update=new Be,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=j7(0,o)}ngOnChanges(t){if(this._isControlChanged(t)){const n=t.form.previousValue;n&&vg(n,this,!1),nh(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Z7(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(n){return new(n||e)(Y(ns,10),Y(e0,10),Y(Pn,10),Y(W7,8),Y(il,8))};static#n=this.\u0275dir=st({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Gt([vte]),Ct,Rn]})}return e})();const Cte={provide:As,useExisting:Xt(()=>Bi)};let Bi=(()=>{class e extends As{constructor(t,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const n=this.form.get(t.path);return nh(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){vg(t.control||null,t,!1),function cte(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this.submitted=!0,yD(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Yee(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1,this.form._events.next(new Jee(this.form))}_updateDomValue(){this.directives.forEach(t=>{const n=t.control,o=this.form.get(t.path);n!==o&&(vg(n||null,t),(e=>e instanceof Re)(o)&&(nh(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const n=this.form.get(t.path);OD(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const n=this.form.get(t.path);n&&function rte(e,i){return wg(e,i)}(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G7(this.form,this),this._oldForm&&wg(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||e)(Y(ns,10),Y(e0,10),Y(il,8))};static#t=this.\u0275dir=st({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&F("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([Cte]),Ct,Rn]})}return e})();const wte={provide:As,useExisting:Xt(()=>u5)};let u5=(()=>{class e extends PD{constructor(t,n,o){super(),this.name=null,this._parent=t,this._setValidators(n),this._setAsyncValidators(o)}_checkParentType(){RD(this._parent)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(As,13),Y(ns,10),Y(e0,10))};static#t=this.\u0275dir=st({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Gt([wte]),Ct]})}return e})();const Mte={provide:As,useExisting:Xt(()=>Mg)};let Mg=(()=>{class e extends As{constructor(t,n,o){super(),this.name=null,this._parent=t,this._setValidators(n),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return mg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){RD(this._parent)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(As,13),Y(ns,10),Y(e0,10))};static#t=this.\u0275dir=st({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Gt([Mte]),Ct]})}return e})();function RD(e){return!(e instanceof u5||e instanceof Bi||e instanceof Mg)}const bte={provide:t0,useExisting:Xt(()=>Xi)};let Xi=(()=>{class e extends t0{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,n,o,s,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.name=null,this.update=new Be,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=j7(0,s)}ngOnChanges(t){this._added||this._setUpControl(),Z7(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return mg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||e)(Y(As,13),Y(ns,10),Y(e0,10),Y(Pn,10),Y(W7,8))};static#n=this.\u0275dir=st({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gt([bte]),Ct,Rn]})}return e})();const Tte={provide:Pn,useExisting:Xt(()=>sl),multi:!0};function FD(e,i){return null==e?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${e}: ${i}`.slice(0,50))}let sl=(()=>{class e extends nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=FD(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){const n=function Ste(e){return e.split(":")[0]}(t);return this._optionMap.has(n)?this._optionMap.get(n):t}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,o){1&n&&F("change",function(r){return o.onChange(r.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Gt([Tte]),Ct]})}return e})(),_5=(()=>{class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(FD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y($r),Y(sl,9))};static#t=this.\u0275dir=st({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const Ete={provide:Pn,useExisting:Xt(()=>K7),multi:!0};function kD(e,i){return null==e?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${e}: ${i}`.slice(0,50))}let K7=(()=>{class e extends nl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let n;if(this.value=t,Array.isArray(t)){const o=t.map(s=>this._getOptionId(s));n=(s,r)=>{s._setSelected(o.indexOf(r.toString())>-1)}}else n=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{const o=[],s=n.selectedOptions;if(void 0!==s){const r=s;for(let a=0;a<r.length;a++){const u=this._getOptionValue(r[a].value);o.push(u)}}else{const r=n.options;for(let a=0;a<r.length;a++){const l=r[a];if(l.selected){const u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,t(o)}}_registerOption(t){const n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(const n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){const n=function Ate(e){return e.split(":")[0]}(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,o){1&n&&F("change",function(r){return o.onChange(r.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Gt([Ete]),Ct]})}return e})(),p5=(()=>{class e{constructor(t,n,o){this._element=t,this._renderer=n,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y($r),Y(K7,9))};static#t=this.\u0275dir=st({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();function VD(e){return"number"==typeof e?e:parseFloat(e)}let rl=(()=>{class e{constructor(){this._validator=hg}ngOnChanges(t){if(this.inputName in t){const n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):hg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,features:[Rn]})}return e})();const Ote={provide:ns,useExisting:Xt(()=>q7),multi:!0};let q7=(()=>{class e extends rl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>VD(t),this.createValidator=t=>function tD(e){return i=>{if(Qa(i.value)||Qa(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t>e?{max:{max:e,actual:i.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Mn("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[Gt([Ote]),Ct]})}return e})();const yte={provide:ns,useExisting:Xt(()=>rh),multi:!0};let rh=(()=>{class e extends rl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>VD(t),this.createValidator=t=>function eD(e){return i=>{if(Qa(i.value)||Qa(e))return null;const t=parseFloat(i.value);return!isNaN(t)&&t<e?{min:{min:e,actual:i.value}}:null}}(t)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Mn("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[Gt([yte]),Ct]})}return e})();const Dte={provide:ns,useExisting:Xt(()=>bg),multi:!0};let bg=(()=>{class e extends rl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Un,this.createValidator=t=>nD}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,o){2&n&&Mn("required",o._enabled?"":null)},inputs:{required:"required"},features:[Gt([Dte]),Ct]})}return e})();const Lte={provide:ns,useExisting:Xt(()=>ah),multi:!0};let ah=(()=>{class e extends rl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function zD(e){return"number"==typeof e?e:parseInt(e,10)}(t),this.createValidator=t=>function rD(e){return i=>function Qy(e){return null!=e&&"number"==typeof e.length}(i.value)&&i.value.length>e?{maxlength:{requiredLength:e,actualLength:i.value.length}}:null}(t)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Mn("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Gt([Lte]),Ct]})}return e})(),UD=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();class g5 extends B7{constructor(i,t,n){super(H7(t),$7(n,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,n={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,t={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,n={}){let o=this._adjustIndex(i);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){ED(this,0,i),i.forEach((n,o)=>{SD(this,!1,o),this.at(o).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((n,o)=>{this.at(o)&&this.at(o).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((n,o)=>{n.reset(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((t,n)=>!!n._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,n)=>{i(t,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}}let Rte=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:il,useValue:t.callSetDisabledState??th}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({imports:[UD]})}return e})(),Fte=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:W7,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:il,useValue:t.callSetDisabledState??th}]}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({imports:[UD]})}return e})();function wa(e){e||(ud(),e=_e(D1));const i=new mn(t=>e.onDestroy(t.next.bind(t)));return t=>t.pipe(je(i))}const Hte=["addListener","removeListener"],$te=["addEventListener","removeEventListener"],Bte=["on","off"];function hn(e,i,t,n){if(Ie(t)&&(n=t,t=void 0),n)return hn(e,i,t).pipe(a7(n));const[o,s]=function Zte(e){return Ie(e.addEventListener)&&Ie(e.removeEventListener)}(e)?$te.map(r=>a=>e[r](i,a,t)):function Gte(e){return Ie(e.addListener)&&Ie(e.removeListener)}(e)?Hte.map(ZD(e,i)):function Ute(e){return Ie(e.on)&&Ie(e.off)}(e)?Bte.map(ZD(e,i)):[];if(!o&&s7(e))return Lo(r=>hn(r,i,t))(ji(e));if(!o)throw new TypeError("Invalid event target");return new mn(r=>{const a=(...l)=>r.next(1<l.length?l:l[0]);return o(a),()=>s(a)})}function ZD(e,i){return t=>n=>e[t](i,n)}class jte extends Ne{constructor(i,t){super()}schedule(i,t=0){return this}}const Tg={setInterval(e,i,...t){const{delegate:n}=Tg;return n?.setInterval?n.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=Tg;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class Y7 extends jte{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var n;if(this.closed)return this;this.state=i;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,n=0){return Tg.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&Tg.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let o,n=!1;try{this.work(i)}catch(s){n=!0,o=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ee(n,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}const J7={now:()=>(J7.delegate||Date).now(),delegate:void 0};class lh{constructor(i,t=lh.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,n){return new this.schedulerActionCtor(this,i).schedule(n,t)}}lh.now=J7.now;class Q7 extends lh{constructor(i,t=lh.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,n){for(;i=t.shift();)i.unsubscribe();throw n}}}const f5=new Q7(Y7),Wte=f5;function jD(e){return e instanceof Date&&!isNaN(e)}function ch(e=0,i,t=Wte){let n=-1;return null!=i&&(GO(i)?t=i:n=i),new mn(o=>{let s=jD(e)?+e-t.now():e;s<0&&(s=0);let r=0;return t.schedule(function(){o.closed||(o.next(r++),0<=n?this.schedule(void 0,n):o.complete())},s)})}const{isArray:Xte}=Array;function WD(e){return 1===e.length&&Xte(e[0])?e[0]:e}function XD(...e){return 1===(e=WD(e)).length?ji(e[0]):new mn(function Kte(e){return i=>{let t=[];for(let n=0;t&&!i.closed&&n<e.length;n++)t.push(ji(e[n]).subscribe(ni(i,o=>{if(t){for(let s=0;s<t.length;s++)s!==n&&t[s].unsubscribe();t=null}i.next(o)})))}}(e))}function B1(...e){const i=R2(e),t=function sJ(e,i){return"number"==typeof r7(e)?e.pop():i}(e,1/0),n=e;return n.length?1===n.length?ji(n[0]):qc(t)(xi(n,i)):pr}function em(...e){const i=$p(e),t=WD(e);return t.length?new mn(n=>{let o=t.map(()=>[]),s=t.map(()=>!1);n.add(()=>{o=s=null});for(let r=0;!n.closed&&r<t.length;r++)ji(t[r]).subscribe(ni(n,a=>{if(o[r].push(a),o.every(l=>l.length)){const l=o.map(u=>u.shift());n.next(i?i(...l):l),o.some((u,p)=>!u.length&&s[p])&&n.complete()}},()=>{s[r]=!0,!o[r].length&&n.complete()}));return()=>{o=s=null}}):pr}function Sg(...e){const i=$p(e);return ti((t,n)=>{const o=e.length,s=new Array(o);let r=e.map(()=>!1),a=!1;for(let l=0;l<o;l++)ji(e[l]).subscribe(ni(n,u=>{s[l]=u,!a&&!r[l]&&(r[l]=!0,(a=r.every(ei))&&(r=null))},yn));t.subscribe(ni(n,l=>{if(a){const u=[l,...s];n.next(i?i(...u):u)}}))})}function KD(e,i){return i?t=>Yc(i.pipe(oo(1),function Yte(){return ti((e,i)=>{e.subscribe(ni(i,yn))})}()),t.pipe(KD(e))):Lo((t,n)=>ji(e(t,n)).pipe(oo(1),XO(t)))}function qD(e,i=f5){const t=ch(e,i);return KD(()=>t)}function Ma(e,i=ei){return e=e??Jte,ti((t,n)=>{let o,s=!0;t.subscribe(ni(n,r=>{const a=i(r);(s||!e(o,a))&&(s=!1,o=a,n.next(r))}))})}function Jte(e,i){return e===i}var ene={left:"right",right:"left",bottom:"top",top:"bottom"};function Eg(e){return e.replace(/left|right|bottom|top/g,function(i){return ene[i]})}function G1(e){return e.split("-")[0]}var tne={start:"end",end:"start"};function YD(e){return e.replace(/start|end/g,function(i){return tne[i]})}var mr="top",p1="bottom",g1="right",vr="left",tm="auto",dh=[mr,p1,g1,vr],m5="start",hh="end",JD="viewport",uh="popper",QD=dh.reduce(function(e,i){return e.concat([i+"-"+m5,i+"-"+hh])},[]),eN=[].concat(dh,[tm]).reduce(function(e,i){return e.concat([i,i+"-"+m5,i+"-"+hh])},[]),_ne=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Cr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var i=e.ownerDocument;return i&&i.defaultView||window}return e}function al(e){return e instanceof Cr(e).Element||e instanceof Element}function jr(e){return e instanceof Cr(e).HTMLElement||e instanceof HTMLElement}function nm(e){return!(typeof ShadowRoot>"u")&&(e instanceof Cr(e).ShadowRoot||e instanceof ShadowRoot)}function n0(e){return((al(e)?e.ownerDocument:e.document)||window.document).documentElement}var ll=Math.max,Ag=Math.min,v5=Math.round;function im(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function tN(){return!/^((?!chrome|android).)*safari/i.test(im())}function C5(e,i,t){void 0===i&&(i=!1),void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,s=1;i&&jr(e)&&(o=e.offsetWidth>0&&v5(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&v5(n.height)/e.offsetHeight||1);var a=(al(e)?Cr(e):window).visualViewport,l=!tN()&&t,u=(n.left+(l&&a?a.offsetLeft:0))/o,p=(n.top+(l&&a?a.offsetTop:0))/s,v=n.width/o,L=n.height/s;return{width:v,height:L,top:p,right:u+v,bottom:p+L,left:u,x:u,y:p}}function om(e){var i=Cr(e);return{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function sm(e){return C5(n0(e)).left+om(e).scrollLeft}function ba(e){return Cr(e).getComputedStyle(e)}function U1(e){return e?(e.nodeName||"").toLowerCase():null}function Og(e){return"html"===U1(e)?e:e.assignedSlot||e.parentNode||(nm(e)?e.host:null)||n0(e)}function rm(e){var i=ba(e);return/auto|scroll|overlay|hidden/.test(i.overflow+i.overflowY+i.overflowX)}function nN(e){return["html","body","#document"].indexOf(U1(e))>=0?e.ownerDocument.body:jr(e)&&rm(e)?e:nN(Og(e))}function _h(e,i){var t;void 0===i&&(i=[]);var n=nN(e),o=n===(null==(t=e.ownerDocument)?void 0:t.body),s=Cr(n),r=o?[s].concat(s.visualViewport||[],rm(n)?n:[]):n,a=i.concat(r);return o?a:a.concat(_h(Og(r)))}function fne(e){return["table","td","th"].indexOf(U1(e))>=0}function iN(e){return jr(e)&&"fixed"!==ba(e).position?e.offsetParent:null}function ph(e){for(var i=Cr(e),t=iN(e);t&&fne(t)&&"static"===ba(t).position;)t=iN(t);return t&&("html"===U1(t)||"body"===U1(t)&&"static"===ba(t).position)?i:t||function mne(e){var i=/firefox/i.test(im());if(/Trident/i.test(im())&&jr(e)&&"fixed"===ba(e).position)return null;var o=Og(e);for(nm(o)&&(o=o.host);jr(o)&&["html","body"].indexOf(U1(o))<0;){var s=ba(o);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||i&&"filter"===s.willChange||i&&s.filter&&"none"!==s.filter)return o;o=o.parentNode}return null}(e)||i}function oN(e,i){var t=i.getRootNode&&i.getRootNode();if(e.contains(i))return!0;if(t&&nm(t)){var n=i;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function am(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sN(e,i,t){return i===JD?am(function pne(e,i){var t=Cr(e),n=n0(e),o=t.visualViewport,s=n.clientWidth,r=n.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;var u=tN();(u||!u&&"fixed"===i)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a+sm(e),y:l}}(e,t)):al(i)?function vne(e,i){var t=C5(e,!1,"fixed"===i);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(i,t):am(function gne(e){var i,t=n0(e),n=om(e),o=null==(i=e.ownerDocument)?void 0:i.body,s=ll(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=ll(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+sm(e),l=-n.scrollTop;return"rtl"===ba(o||t).direction&&(a+=ll(t.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:a,y:l}}(n0(e)))}function w5(e){return e.split("-")[1]}function lm(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function rN(e){var l,i=e.reference,t=e.element,n=e.placement,o=n?G1(n):null,s=n?w5(n):null,r=i.x+i.width/2-t.width/2,a=i.y+i.height/2-t.height/2;switch(o){case mr:l={x:r,y:i.y-t.height};break;case p1:l={x:r,y:i.y+i.height};break;case g1:l={x:i.x+i.width,y:a};break;case vr:l={x:i.x-t.width,y:a};break;default:l={x:i.x,y:i.y}}var u=o?lm(o):null;if(null!=u){var p="y"===u?"height":"width";switch(s){case m5:l[u]=l[u]-(i[p]/2-t[p]/2);break;case hh:l[u]=l[u]+(i[p]/2-t[p]/2)}}return l}function lN(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function cN(e,i){return i.reduce(function(t,n){return t[n]=e,t},{})}function cm(e,i){void 0===i&&(i={});var n=i.placement,o=void 0===n?e.placement:n,s=i.strategy,r=void 0===s?e.strategy:s,a=i.boundary,l=void 0===a?"clippingParents":a,u=i.rootBoundary,p=void 0===u?JD:u,v=i.elementContext,L=void 0===v?uh:v,z=i.altBoundary,ie=void 0!==z&&z,se=i.padding,he=void 0===se?0:se,be=lN("number"!=typeof he?he:cN(he,dh)),Fe=e.rects.popper,Ae=e.elements[ie?L===uh?"reference":uh:L],Qe=function wne(e,i,t,n){var o="clippingParents"===i?function Cne(e){var i=_h(Og(e)),n=["absolute","fixed"].indexOf(ba(e).position)>=0&&jr(e)?ph(e):e;return al(n)?i.filter(function(o){return al(o)&&oN(o,n)&&"body"!==U1(o)}):[]}(e):[].concat(i),s=[].concat(o,[t]),a=s.reduce(function(l,u){var p=sN(e,u,n);return l.top=ll(p.top,l.top),l.right=Ag(p.right,l.right),l.bottom=Ag(p.bottom,l.bottom),l.left=ll(p.left,l.left),l},sN(e,s[0],n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(al(Ae)?Ae:Ae.contextElement||n0(e.elements.popper),l,p,r),pt=C5(e.elements.reference),gt=rN({reference:pt,element:Fe,strategy:"absolute",placement:o}),Mt=am(Object.assign({},Fe,gt)),Pt=L===uh?Mt:pt,xt={top:Qe.top-Pt.top+be.top,bottom:Pt.bottom-Qe.bottom+be.bottom,left:Qe.left-Pt.left+be.left,right:Pt.right-Qe.right+be.right},En=e.modifiersData.offset;if(L===uh&&En){var Ut=En[o];Object.keys(xt).forEach(function(Hn){var Ni=[g1,p1].indexOf(Hn)>=0?1:-1,en=[mr,p1].indexOf(Hn)>=0?"y":"x";xt[Hn]+=Ut[en]*Ni})}return xt}const Sne={name:"flip",enabled:!0,phase:"main",fn:function Tne(e){var i=e.state,t=e.options,n=e.name;if(!i.modifiersData[n]._skip){for(var o=t.mainAxis,s=void 0===o||o,r=t.altAxis,a=void 0===r||r,l=t.fallbackPlacements,u=t.padding,p=t.boundary,v=t.rootBoundary,L=t.altBoundary,z=t.flipVariations,ie=void 0===z||z,se=t.allowedAutoPlacements,he=i.options.placement,be=G1(he),Fe=l||(be!==he&&ie?function bne(e){if(G1(e)===tm)return[];var i=Eg(e);return[YD(e),i,YD(i)]}(he):[Eg(he)]),Ae=[he].concat(Fe).reduce(function(Yi,Vi){return Yi.concat(G1(Vi)===tm?function Mne(e,i){void 0===i&&(i={});var o=i.boundary,s=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,u=void 0===l?eN:l,p=w5(i.placement),v=p?a?QD:QD.filter(function(ie){return w5(ie)===p}):dh,L=v.filter(function(ie){return u.indexOf(ie)>=0});0===L.length&&(L=v);var z=L.reduce(function(ie,se){return ie[se]=cm(e,{placement:se,boundary:o,rootBoundary:s,padding:r})[G1(se)],ie},{});return Object.keys(z).sort(function(ie,se){return z[ie]-z[se]})}(i,{placement:Vi,boundary:p,rootBoundary:v,padding:u,flipVariations:ie,allowedAutoPlacements:se}):Vi)},[]),Qe=i.rects.reference,pt=i.rects.popper,gt=new Map,Mt=!0,Pt=Ae[0],xt=0;xt<Ae.length;xt++){var En=Ae[xt],Ut=G1(En),Hn=w5(En)===m5,Ni=[mr,p1].indexOf(Ut)>=0,en=Ni?"width":"height",ci=cm(i,{placement:En,boundary:p,rootBoundary:v,altBoundary:L,padding:u}),Si=Ni?Hn?g1:vr:Hn?p1:mr;Qe[en]>pt[en]&&(Si=Eg(Si));var Ro=Eg(Si),qi=[];if(s&&qi.push(ci[Ut]<=0),a&&qi.push(ci[Si]<=0,ci[Ro]<=0),qi.every(function(Yi){return Yi})){Pt=En,Mt=!1;break}gt.set(En,qi)}if(Mt)for(var ko=function(Vi){var To=Ae.find(function(zo){var zt=gt.get(zo);if(zt)return zt.slice(0,Vi).every(function(Fs){return Fs})});if(To)return Pt=To,"break"},Mo=ie?3:1;Mo>0&&"break"!==ko(Mo);Mo--);i.placement!==Pt&&(i.modifiersData[n]._skip=!0,i.placement=Pt,i.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gh(e,i,t){return ll(e,Ag(i,t))}function dm(e){var i=C5(e),t=e.offsetWidth,n=e.offsetHeight;return Math.abs(i.width-t)<=1&&(t=i.width),Math.abs(i.height-n)<=1&&(n=i.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:n}}const yne={name:"preventOverflow",enabled:!0,phase:"main",fn:function One(e){var i=e.state,t=e.options,n=e.name,o=t.mainAxis,s=void 0===o||o,r=t.altAxis,a=void 0!==r&&r,L=t.tether,z=void 0===L||L,ie=t.tetherOffset,se=void 0===ie?0:ie,he=cm(i,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),be=G1(i.placement),we=w5(i.placement),Fe=!we,Ae=lm(be),Qe=function Ene(e){return"x"===e?"y":"x"}(Ae),pt=i.modifiersData.popperOffsets,gt=i.rects.reference,Mt=i.rects.popper,Pt="function"==typeof se?se(Object.assign({},i.rects,{placement:i.placement})):se,xt="number"==typeof Pt?{mainAxis:Pt,altAxis:Pt}:Object.assign({mainAxis:0,altAxis:0},Pt),En=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,Ut={x:0,y:0};if(pt){if(s){var Hn,Ni="y"===Ae?mr:vr,en="y"===Ae?p1:g1,ci="y"===Ae?"height":"width",Si=pt[Ae],Ro=Si+he[Ni],qi=Si-he[en],Fo=z?-Mt[ci]/2:0,ko=we===m5?gt[ci]:Mt[ci],Mo=we===m5?-Mt[ci]:-gt[ci],bo=i.elements.arrow,Yi=z&&bo?dm(bo):{width:0,height:0},Vi=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},To=Vi[Ni],zo=Vi[en],zt=gh(0,gt[ci],Yi[ci]),Fs=Fe?gt[ci]/2-Fo-zt-To-xt.mainAxis:ko-zt-To-xt.mainAxis,Pr=Fe?-gt[ci]/2+Fo+zt+zo+xt.mainAxis:Mo+zt+zo+xt.mainAxis,ks=i.elements.arrow&&ph(i.elements.arrow),Ir=ks?"y"===Ae?ks.clientTop||0:ks.clientLeft||0:0,$t=null!=(Hn=En?.[Ae])?Hn:0,na=Si+Pr-$t,Bt=gh(z?Ag(Ro,Si+Fs-$t-Ir):Ro,Si,z?ll(qi,na):qi);pt[Ae]=Bt,Ut[Ae]=Bt-Si}if(a){var m0,Lr=pt[Qe],ia="y"===Qe?"height":"width",v0=Lr+he["x"===Ae?mr:vr],C0=Lr-he["x"===Ae?p1:g1],La=-1!==[mr,vr].indexOf(be),w0=null!=(m0=En?.[Qe])?m0:0,M0=La?v0:Lr-gt[ia]-Mt[ia]-w0+xt.altAxis,b0=La?Lr+gt[ia]+Mt[ia]-w0-xt.altAxis:C0,T0=z&&La?function Ane(e,i,t){var n=gh(e,i,t);return n>t?t:n}(M0,Lr,b0):gh(z?M0:v0,Lr,z?b0:C0);pt[Qe]=T0,Ut[Qe]=T0-Lr}i.modifiersData[n]=Ut}},requiresIfExists:["offset"]},Ine={name:"arrow",enabled:!0,phase:"main",fn:function Nne(e){var i,t=e.state,n=e.name,o=e.options,s=t.elements.arrow,r=t.modifiersData.popperOffsets,a=G1(t.placement),l=lm(a),p=[vr,g1].indexOf(a)>=0?"height":"width";if(s&&r){var v=function(i,t){return lN("number"!=typeof(i="function"==typeof i?i(Object.assign({},t.rects,{placement:t.placement})):i)?i:cN(i,dh))}(o.padding,t),L=dm(s),z="y"===l?mr:vr,ie="y"===l?p1:g1,se=t.rects.reference[p]+t.rects.reference[l]-r[l]-t.rects.popper[p],he=r[l]-t.rects.reference[l],be=ph(s),we=be?"y"===l?be.clientHeight||0:be.clientWidth||0:0,pt=we/2-L[p]/2+(se/2-he/2),gt=gh(v[z],pt,we-L[p]-v[ie]);t.modifiersData[n]=((i={})[l]=gt,i.centerOffset=gt-pt,i)}},effect:function Pne(e){var i=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"==typeof o&&!(o=i.elements.popper.querySelector(o))||oN(i.elements.popper,o)&&(i.elements.arrow=o))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fne(e,i,t){void 0===t&&(t=!1);var n=jr(i),o=jr(i)&&function Rne(e){var i=e.getBoundingClientRect(),t=v5(i.width)/e.offsetWidth||1,n=v5(i.height)/e.offsetHeight||1;return 1!==t||1!==n}(i),s=n0(i),r=C5(e,o,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&(("body"!==U1(i)||rm(s))&&(a=function xne(e){return e!==Cr(e)&&jr(e)?function Lne(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):om(e)}(i)),jr(i)?((l=C5(i,!0)).x+=i.clientLeft,l.y+=i.clientTop):s&&(l.x=sm(s))),{x:r.left+a.scrollLeft-l.x,y:r.top+a.scrollTop-l.y,width:r.width,height:r.height}}function kne(e){var i=new Map,t=new Set,n=[];function o(s){t.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var l=i.get(a);l&&o(l)}}),n.push(s)}return e.forEach(function(s){i.set(s.name,s)}),e.forEach(function(s){t.has(s.name)||o(s)}),n}function Vne(e){var i;return function(){return i||(i=new Promise(function(t){Promise.resolve().then(function(){i=void 0,t(e())})})),i}}var dN={placement:"bottom",modifiers:[],strategy:"absolute"};function hN(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return!i.some(function(n){return!(n&&"function"==typeof n.getBoundingClientRect)})}function $ne(e){void 0===e&&(e={});var t=e.defaultModifiers,n=void 0===t?[]:t,o=e.defaultOptions,s=void 0===o?dN:o;return function(a,l,u){void 0===u&&(u=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},dN,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},v=[],L=!1,z={state:p,setOptions:function(be){var we="function"==typeof be?be(p.options):be;se(),p.options=Object.assign({},s,p.options,we),p.scrollParents={reference:al(a)?_h(a):a.contextElement?_h(a.contextElement):[],popper:_h(l)};var Fe=function zne(e){var i=kne(e);return _ne.reduce(function(t,n){return t.concat(i.filter(function(o){return o.phase===n}))},[])}(function Hne(e){var i=e.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(i).map(function(t){return i[t]})}([].concat(n,p.options.modifiers)));return p.orderedModifiers=Fe.filter(function(Ae){return Ae.enabled}),function ie(){p.orderedModifiers.forEach(function(he){var we=he.options,Ae=he.effect;if("function"==typeof Ae){var Qe=Ae({state:p,name:he.name,instance:z,options:void 0===we?{}:we});v.push(Qe||function(){})}})}(),z.update()},forceUpdate:function(){if(!L){var be=p.elements,we=be.reference,Fe=be.popper;if(hN(we,Fe)){p.rects={reference:Fne(we,ph(Fe),"fixed"===p.options.strategy),popper:dm(Fe)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(xt){return p.modifiersData[xt.name]=Object.assign({},xt.data)});for(var Ae=0;Ae<p.orderedModifiers.length;Ae++)if(!0!==p.reset){var Qe=p.orderedModifiers[Ae],pt=Qe.fn,gt=Qe.options;"function"==typeof pt&&(p=pt({state:p,options:void 0===gt?{}:gt,name:Qe.name,instance:z})||p)}else p.reset=!1,Ae=-1}}},update:Vne(function(){return new Promise(function(he){z.forceUpdate(),he(p)})}),destroy:function(){se(),L=!0}};if(!hN(a,l))return z;function se(){v.forEach(function(he){return he()}),v=[]}return z.setOptions(u).then(function(he){!L&&u.onFirstUpdate&&u.onFirstUpdate(he)}),z}}var yg={passive:!0};const Gne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Bne(e){var i=e.state,t=e.instance,n=e.options,o=n.scroll,s=void 0===o||o,r=n.resize,a=void 0===r||r,l=Cr(i.elements.popper),u=[].concat(i.scrollParents.reference,i.scrollParents.popper);return s&&u.forEach(function(p){p.addEventListener("scroll",t.update,yg)}),a&&l.addEventListener("resize",t.update,yg),function(){s&&u.forEach(function(p){p.removeEventListener("scroll",t.update,yg)}),a&&l.removeEventListener("resize",t.update,yg)}},data:{}},Zne={name:"popperOffsets",enabled:!0,phase:"read",fn:function Une(e){var i=e.state;i.modifiersData[e.name]=rN({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})},data:{}};var jne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uN(e){var i,t=e.popper,n=e.popperRect,o=e.placement,s=e.variation,r=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,p=e.roundOffsets,v=e.isFixed,L=r.x,z=void 0===L?0:L,ie=r.y,se=void 0===ie?0:ie,he="function"==typeof p?p({x:z,y:se}):{x:z,y:se};z=he.x,se=he.y;var be=r.hasOwnProperty("x"),we=r.hasOwnProperty("y"),Fe=vr,Ae=mr,Qe=window;if(u){var pt=ph(t),gt="clientHeight",Mt="clientWidth";pt===Cr(t)&&"static"!==ba(pt=n0(t)).position&&"absolute"===a&&(gt="scrollHeight",Mt="scrollWidth"),(o===mr||(o===vr||o===g1)&&s===hh)&&(Ae=p1,se-=(v&&pt===Qe&&Qe.visualViewport?Qe.visualViewport.height:pt[gt])-n.height,se*=l?1:-1),o!==vr&&(o!==mr&&o!==p1||s!==hh)||(Fe=g1,z-=(v&&pt===Qe&&Qe.visualViewport?Qe.visualViewport.width:pt[Mt])-n.width,z*=l?1:-1)}var Hn,En=Object.assign({position:a},u&&jne),Ut=!0===p?function Wne(e,i){var n=e.y,o=i.devicePixelRatio||1;return{x:v5(e.x*o)/o||0,y:v5(n*o)/o||0}}({x:z,y:se},Cr(t)):{x:z,y:se};return z=Ut.x,se=Ut.y,Object.assign({},En,l?((Hn={})[Ae]=we?"0":"",Hn[Fe]=be?"0":"",Hn.transform=(Qe.devicePixelRatio||1)<=1?"translate("+z+"px, "+se+"px)":"translate3d("+z+"px, "+se+"px, 0)",Hn):((i={})[Ae]=we?se+"px":"",i[Fe]=be?z+"px":"",i.transform="",i))}const Kne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Xne(e){var i=e.state,t=e.options,n=t.gpuAcceleration,o=void 0===n||n,s=t.adaptive,r=void 0===s||s,a=t.roundOffsets,l=void 0===a||a,u={placement:G1(i.placement),variation:w5(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:o,isFixed:"fixed"===i.options.strategy};null!=i.modifiersData.popperOffsets&&(i.styles.popper=Object.assign({},i.styles.popper,uN(Object.assign({},u,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:r,roundOffsets:l})))),null!=i.modifiersData.arrow&&(i.styles.arrow=Object.assign({},i.styles.arrow,uN(Object.assign({},u,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})},data:{}};var Jne=[Gne,Zne,Kne,{name:"applyStyles",enabled:!0,phase:"write",fn:function qne(e){var i=e.state;Object.keys(i.elements).forEach(function(t){var n=i.styles[t]||{},o=i.attributes[t]||{},s=i.elements[t];!jr(s)||!U1(s)||(Object.assign(s.style,n),Object.keys(o).forEach(function(r){var a=o[r];!1===a?s.removeAttribute(r):s.setAttribute(r,!0===a?"":a)}))})},effect:function Yne(e){var i=e.state,t={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,t.popper),i.styles=t,i.elements.arrow&&Object.assign(i.elements.arrow.style,t.arrow),function(){Object.keys(i.elements).forEach(function(n){var o=i.elements[n],s=i.attributes[n]||{},a=Object.keys(i.styles.hasOwnProperty(n)?i.styles[n]:t[n]).reduce(function(l,u){return l[u]="",l},{});!jr(o)||!U1(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(l){o.removeAttribute(l)}))})}},requires:["computeStyles"]}],Qne=$ne({defaultModifiers:Jne});const nie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function tie(e){var i=e.state,n=e.name,o=e.options.offset,s=void 0===o?[0,0]:o,r=eN.reduce(function(p,v){return p[v]=function eie(e,i,t){var n=G1(e),o=[vr,mr].indexOf(n)>=0?-1:1,s="function"==typeof t?t(Object.assign({},i,{placement:e})):t,r=s[0],a=s[1];return r=r||0,a=(a||0)*o,[vr,g1].indexOf(n)>=0?{x:a,y:r}:{x:r,y:a}}(v,i.rects,s),p},{}),a=r[i.placement],u=a.y;null!=i.modifiersData.popperOffsets&&(i.modifiersData.popperOffsets.x+=a.x,i.modifiersData.popperOffsets.y+=u),i.modifiersData[n]=r}},cl=["*"];function iie(e,i){if(1&e){const t=pe();c(0,"button",1),F("click",function(){return H(t),$(_().close())}),h()}}const sie=["ngbDatepickerDayView",""],rie=["month"],aie=["year"];function lie(e,i){if(1&e&&(c(0,"option",3),j(1),h()),2&e){const t=i.$implicit,n=_();w("value",t),Mn("aria-label",n.i18n.getMonthFullName(t,n.date.year)),d(),Pe(n.i18n.getMonthShortName(t,n.date.year))}}function cie(e,i){if(1&e&&(c(0,"option",3),j(1),h()),2&e){const t=i.$implicit,n=_();w("value",t),d(),Pe(n.i18n.getYearNumerals(t))}}function die(e,i){if(1&e){const t=pe();c(0,"ngb-datepicker-navigation-select",6),F("select",function(o){return H(t),$(_().select.emit(o))}),h()}if(2&e){const t=_();w("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function hie(e,i){1&e&&k(0,"div",7)}function uie(e,i){1&e&&k(0,"div",7)}function _ie(e,i){if(1&e&&(q(0,hie,1,0,"div",7),c(1,"div",8),j(2),h(),q(3,uie,1,0,"div",7)),2&e){const t=i.$implicit,n=i.$index,o=_(2);J(n>0?0:-1),d(2),nt(" ",o.i18n.getMonthLabel(t.firstDate)," "),d(),J(n!==o.months.length-1?3:-1)}}function pie(e,i){1&e&&ut(0,_ie,4,3,null,null,Ft),2&e&&_t(_().months)}function gie(e,i){if(1&e&&(c(0,"div",1),j(1),h()),2&e){const t=_(2);d(),Pe(t.i18n.getWeekLabel())}}function fie(e,i){if(1&e&&(c(0,"div",2),j(1),h()),2&e){const t=i.$implicit;d(),Pe(t)}}function mie(e,i){if(1&e&&(c(0,"div",0),q(1,gie,2,1,"div",1),ut(2,fie,2,1,"div",2,u2),h()),2&e){const t=_();d(),J(t.datepicker.showWeekNumbers?1:-1),d(),_t(t.viewModel.weekdays)}}function vie(e,i){if(1&e&&(c(0,"div",4),j(1),h()),2&e){const t=_(2).$implicit,n=_();d(),Pe(n.i18n.getWeekNumerals(t.number))}}function Cie(e,i){}function wie(e,i){if(1&e&&q(0,Cie,0,0,"ng-template",7),2&e){const t=_().$implicit;w("ngTemplateOutlet",_(3).datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Mie(e,i){if(1&e){const t=pe();c(0,"div",6),F("click",function(o){const s=H(t).$implicit;return _(3).doSelect(s),$(o.preventDefault())}),q(1,wie,1,2,null,7),h()}if(2&e){const t=i.$implicit;Ye("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),w("tabindex",t.tabindex),Mn("aria-label",t.ariaLabel),d(),J(t.hidden?-1:1)}}function bie(e,i){if(1&e&&(c(0,"div",3),q(1,vie,2,1,"div",4),ut(2,Mie,2,9,"div",5,Ft),h()),2&e){const t=_().$implicit,n=_();d(),J(n.datepicker.showWeekNumbers?1:-1),d(),_t(t.days)}}function Tie(e,i){1&e&&q(0,bie,4,1,"div",3),2&e&&J(i.$implicit.collapsed?-1:0)}const Sie=["defaultDayTemplate"],Eie=["content"],_N=e=>({$implicit:e});function Aie(e,i){if(1&e&&k(0,"div",8),2&e){const n=i.currentMonth,o=i.selected,s=i.disabled,r=i.focused;w("date",i.date)("currentMonth",n)("selected",o)("disabled",s)("focused",r)}}function Oie(e,i){if(1&e&&(c(0,"div",10),j(1),h()),2&e){const t=_().$implicit,n=_(2);d(),nt(" ",n.i18n.getMonthLabel(t.firstDate)," ")}}function yie(e,i){if(1&e&&(c(0,"div",9),q(1,Oie,2,1,"div",10),k(2,"ngb-datepicker-month",11),h()),2&e){const t=i.$implicit,n=_(2);d(),J("none"===n.navigation||n.displayMonths>1&&"select"===n.navigation?1:-1),d(),w("month",t.firstDate)}}function Die(e,i){1&e&&ut(0,yie,3,2,"div",9,Ft),2&e&&_t(_().model.months)}function Nie(e,i){if(1&e){const t=pe();c(0,"ngb-datepicker-navigation",12),F("navigate",function(o){return H(t),$(_().onNavigateEvent(o))})("select",function(o){return H(t),$(_().onNavigateDateSelect(o))}),h()}if(2&e){const t=_();w("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function Pie(e,i){}function Iie(e,i){}const Lie=["dialog"],xie=["ngbNavOutlet",""];function Rie(e,i){}function Fie(e,i){if(1&e&&(c(0,"div",0),q(1,Rie,0,0,"ng-template",1),h()),2&e){const t=_().$implicit,n=_();w("item",t)("nav",n.nav)("role",n.paneRole),d(),w("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",No(5,_N,t.active||n.isPanelTransitioning(t)))}}function kie(e,i){if(1&e&&q(0,Fie,2,7,"div",0),2&e){const t=i.$implicit,n=_();J(t.isPanelInDom()||n.isPanelTransitioning(t)?0:-1)}}const zie=(e,i,t)=>({$implicit:e,pages:i,disabled:t}),Vie=e=>({disabled:!0,currentPage:e}),Hie=(e,i,t)=>({disabled:e,$implicit:i,currentPage:t}),hm=(e,i)=>({disabled:e,currentPage:i}),$ie=e=>({disabled:e});function Bie(e,i){1&e&&(c(0,"span",13),R(1,7),h())}function Gie(e,i){1&e&&(c(0,"span",13),R(1,8),h())}function Uie(e,i){1&e&&(c(0,"span",13),R(1,9),h())}function Zie(e,i){1&e&&(c(0,"span",13),R(1,10),h())}function jie(e,i){1&e&&j(0,"...")}function Wie(e,i){1&e&&j(0),2&e&&Pe(i.$implicit)}function Xie(e,i){}function Kie(e,i){if(1&e&&(c(0,"a",16),q(1,Xie,0,0,"ng-template",12),h()),2&e){const t=_(2).$implicit,n=_(),o=vt(9);d(),w("ngTemplateOutlet",(null==n.tplEllipsis?null:n.tplEllipsis.templateRef)||o)("ngTemplateOutletContext",No(2,Vie,t))}}function qie(e,i){}function Yie(e,i){if(1&e){const t=pe();c(0,"a",18),F("click",function(o){H(t);const s=_().$implicit;return _(2).selectPage(s),$(o.preventDefault())}),q(1,qie,0,0,"ng-template",12),h()}if(2&e){const t=_().$implicit,n=_(),o=n.$implicit,s=n.disabled,r=_(),a=vt(11);Mn("tabindex",s?"-1":null)("aria-disabled",s?"true":null),d(),w("ngTemplateOutlet",(null==r.tplNumber?null:r.tplNumber.templateRef)||a)("ngTemplateOutletContext",W0(4,Hie,s,t,o))}}function Jie(e,i){if(1&e&&(c(0,"li",15),q(1,Kie,2,4,"a",16)(2,Yie,2,8,"a",17),h()),2&e){const t=i.$implicit,n=_(),o=n.$implicit,s=n.disabled,r=_();Ye("active",t===o)("disabled",r.isEllipsis(t)||s),Mn("aria-current",t===o?"page":null),d(),J(r.isEllipsis(t)?1:2)}}function Qie(e,i){1&e&&ut(0,Jie,3,6,"li",14,u2),2&e&&_t(i.pages)}function eoe(e,i){}function toe(e,i){if(1&e){const t=pe();c(0,"li",15)(1,"a",19),F("click",function(o){return H(t),_().selectPage(1),$(o.preventDefault())}),q(2,eoe,0,0,"ng-template",12),h()()}if(2&e){const t=_(),n=vt(1);Ye("disabled",t.previousDisabled()),d(),Mn("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),d(),w("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||n)("ngTemplateOutletContext",rt(6,hm,t.previousDisabled(),t.page))}}function noe(e,i){}function ioe(e,i){if(1&e){const t=pe();c(0,"li",15)(1,"a",20),F("click",function(o){H(t);const s=_();return s.selectPage(s.page-1),$(o.preventDefault())}),q(2,noe,0,0,"ng-template",12),h()()}if(2&e){const t=_(),n=vt(3);Ye("disabled",t.previousDisabled()),d(),Mn("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),d(),w("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||n)("ngTemplateOutletContext",No(6,$ie,t.previousDisabled()))}}function ooe(e,i){}function soe(e,i){}function roe(e,i){if(1&e){const t=pe();c(0,"li",15)(1,"a",21),F("click",function(o){H(t);const s=_();return s.selectPage(s.page+1),$(o.preventDefault())}),q(2,soe,0,0,"ng-template",12),h()()}if(2&e){const t=_(),n=vt(5);Ye("disabled",t.nextDisabled()),d(),Mn("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),d(),w("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||n)("ngTemplateOutletContext",rt(6,hm,t.nextDisabled(),t.page))}}function aoe(e,i){}function loe(e,i){if(1&e){const t=pe();c(0,"li",15)(1,"a",22),F("click",function(o){H(t);const s=_();return s.selectPage(s.pageCount),$(o.preventDefault())}),q(2,aoe,0,0,"ng-template",12),h()()}if(2&e){const t=_(),n=vt(7);Ye("disabled",t.nextDisabled()),d(),Mn("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),d(),w("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||n)("ngTemplateOutletContext",rt(6,hm,t.nextDisabled(),t.page))}}function coe(e,i){1&e&&j(0),2&e&&Pe(_(2).title)}function doe(e,i){}function hoe(e,i){if(1&e&&(c(0,"h3",2),q(1,coe,1,1,"ng-template",null,0,on)(3,doe,0,0,"ng-template",4),h()),2&e){const t=vt(2),n=_();d(3),w("ngTemplateOutlet",n.isTitleTemplate()?n.title:t)("ngTemplateOutletContext",n.context)}}function uoe(e,i){if(1&e&&(c(0,"span"),R(1,0),ot(2,"percent"),h()),2&e){const t=_();d(2),An(Et(2,1,t.getValue()/t.max)),Dn(1)}}function voe(e,i){if(1&e&&(c(0,"strong",3),j(1),h()),2&e){const t=_();d(),Pe(t.header)}}function Coe(e,i){}function woe(e,i){if(1&e){const t=pe();c(0,"div",1),q(1,Coe,0,0,"ng-template",4),c(2,"button",5),F("click",function(){return H(t),$(_().hide())}),h()()}if(2&e){const t=_(),n=vt(1);d(),w("ngTemplateOutlet",t.contentHeaderTpl||n)}}function Moe(e,i){if(1&e&&(c(0,"span"),j(1),h()),2&e){const t=_().$implicit;Ai(_().highlightClass),d(),Pe(t)}}function boe(e,i){if(1&e&&(ke(0),j(1),ze()),2&e){const t=_().$implicit;d(),Pe(t)}}function Toe(e,i){1&e&&q(0,Moe,2,4,"span",0)(1,boe,2,1,"ng-container"),2&e&&J(i.$index%2!=0?0:1)}const Soe=(e,i,t)=>({result:e,term:i,formatter:t});function Eoe(e,i){if(1&e&&k(0,"ngb-highlight",2),2&e){const n=i.term;w("result",(0,i.formatter)(i.result))("term",n)}}function Aoe(e,i){}function Ooe(e,i){if(1&e){const t=pe();c(0,"button",3),F("mouseenter",function(){const o=H(t).$index;return $(_().markActive(o))})("click",function(){const o=H(t).$implicit;return $(_().select(o))}),q(1,Aoe,0,0,"ng-template",4),h()}if(2&e){const t=i.$implicit,n=i.$index,o=_(),s=vt(1);Ye("active",n===o.activeIdx),w("id",o.id+"-"+n),d(),w("ngTemplateOutlet",o.resultTemplate||s)("ngTemplateOutletContext",W0(5,Soe,t,o.term,o.formatter))}}const pN={animation:!0,transitionTimerDelayMs:5};let o0=(()=>{class e{constructor(){this.animation=pN.animation}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yoe=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.closeOthers=!1,this.destroyOnHide=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ys(e){return parseInt(`${e}`,10)}function fh(e){return null!=e?`${e}`:""}function gN(e,i,t=0){return Math.max(Math.min(e,i),t)}function s0(e){return"string"==typeof e}function Bo(e){return!isNaN(Ys(e))}function Js(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function r0(e){return null!=e}function mN(e){return Bo(e)?`0${e}`.slice(-2):""}function M5(e){return(e||document.body).getBoundingClientRect()}function vN(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function CN(e=document){const i=e?.activeElement;return i?i.shadowRoot?CN(i.shadowRoot):i:null}const Loe=()=>{},{transitionTimerDelayMs:xoe}=pN,mh=new Map,Os=(e,i,t,n)=>{let o=n.context||{};const s=mh.get(i);if(s)switch(n.runningTransition){case"continue":return pr;case"stop":e.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),mh.delete(i)}const r=t(i,n.animation,o)||Loe;if(!n.animation||"none"===window.getComputedStyle(i).transitionProperty)return e.run(()=>r()),Rt(void 0).pipe(function Ioe(e){return i=>new mn(t=>i.subscribe({next:r=>e.run(()=>t.next(r)),error:r=>e.run(()=>t.error(r)),complete:()=>e.run(()=>t.complete())}))}(e));const a=new et,l=new et,u=a.pipe(function qte(...e){return i=>Yc(i,Rt(...e))}(!0));mh.set(i,{transition$:a,complete:()=>{l.next(),l.complete()},context:o});const p=function Doe(e){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(e);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return e.runOutsideAngular(()=>{const v=hn(i,"transitionend").pipe(je(u),$n(({target:z})=>z===i));XD(ch(p+xoe).pipe(je(u)),v,l).pipe(je(u)).subscribe(()=>{mh.delete(i),e.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()},Foe=(e,i,t)=>{let{direction:n,maxSize:o,dimension:s}=t;const{classList:r}=e;function a(){r.add("collapse"),"show"===n?r.add("show"):r.remove("show")}if(i)return o||(o=function Roe(e,i){if(typeof navigator>"u")return"0px";const{classList:t}=e,n=t.contains("show");n||t.add("show"),e.style[i]="";const o=e.getBoundingClientRect()[i]+"px";return n||t.remove("show"),o}(e,s),t.maxSize=o,e.style[s]="show"!==n?o:"0px",r.remove("collapse","collapsing","show"),M5(e),r.add("collapsing")),e.style[s]="show"===n?o:"0px",()=>{a(),r.remove("collapsing"),e.style[s]=""};a()};let koe=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vh=(()=>{class e{constructor(){this._config=_e(koe),this._element=_e(Qt),this._zone=_e(jt),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Be,this.horizontal=this._config.horizontal,this.shown=new Be,this.hidden=new Be}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,n){return Os(this._zone,this._element.nativeElement,Foe,{animation:n,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,n){this._runTransition(t,n).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(n,o){2&n&&Ye("collapse-horizontal",o.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return e})(),zoe=0,Dg=(()=>{class e{constructor(){this._vcr=_e(Qo),this._element=_e(Qt).nativeElement,this._item=_e(Z1),this._viewRef=null}ngAfterContentChecked(){this._bodyTpl&&(this._item._shouldBeInDOM?this._createViewIfNotExists():this._destroyViewIfExists())}ngOnDestroy(){this._destroyViewIfExists()}_destroyViewIfExists(){this._viewRef?.destroy(),this._viewRef=null}_createViewIfNotExists(){if(!this._viewRef){this._viewRef=this._vcr.createEmbeddedView(this._bodyTpl),this._viewRef.detectChanges();for(const t of this._viewRef.rootNodes)this._element.appendChild(t)}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbAccordionBody",""]],contentQueries:function(n,o,s){if(1&n&&Nn(s,Kt,7),2&n){let r;Ot(r=yt())&&(o._bodyTpl=r.first)}},hostAttrs:[1,"accordion-body"],standalone:!0})}return e})(),Ch=(()=>{class e{constructor(){this.item=_e(Z1),this.ngbCollapse=_e(vh)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region",1,"accordion-collapse"],hostVars:2,hostBindings:function(n,o){2&n&&(ds("id",o.item.collapseId),Mn("aria-labelledby",o.item.toggleId))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[n2([vh])]})}return e})(),wN=(()=>{class e{constructor(){this.item=_e(Z1),this.accordion=_e(b5)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbAccordionToggle",""]],hostVars:5,hostBindings:function(n,o){1&n&&F("click",function(){return!o.item.disabled&&o.accordion.toggle(o.item.id)}),2&n&&(ds("id",o.item.toggleId),Mn("aria-controls",o.item.collapseId)("aria-expanded",!o.item.collapsed),Ye("collapsed",o.item.collapsed))},standalone:!0})}return e})(),um=(()=>{class e{constructor(){this.item=_e(Z1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["button","ngbAccordionButton",""]],hostAttrs:["type","button",1,"accordion-button"],hostVars:1,hostBindings:function(n,o){2&n&&ds("disabled",o.item.disabled)},standalone:!0,features:[n2([wN])]})}return e})(),_m=(()=>{class e{constructor(){this.item=_e(Z1)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbAccordionHeader",""]],hostAttrs:["role","heading",1,"accordion-header"],hostVars:2,hostBindings:function(n,o){2&n&&Ye("collapsed",o.item.collapsed)},standalone:!0})}return e})(),Z1=(()=>{class e{constructor(){this._accordion=_e(b5),this._cd=_e(Po),this._destroyRef=_e(D1),this._collapsed=!0,this._id="ngb-accordion-item-"+zoe++,this._collapseAnimationRunning=!1,this.disabled=!1,this.show=new Be,this.shown=new Be,this.hide=new Be,this.hidden=new Be}set id(t){s0(t)&&""!==t&&(this._id=t)}set destroyOnHide(t){this._destroyOnHide=t}get destroyOnHide(){return void 0===this._destroyOnHide?this._accordion.destroyOnHide:this._destroyOnHide}set collapsed(t){t?this.collapse():this.expand()}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}get _shouldBeInDOM(){return!this.collapsed||this._collapseAnimationRunning||!this.destroyOnHide}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,t.hidden.pipe(wa(this._destroyRef)).subscribe(()=>{this._collapseAnimationRunning=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.pipe(wa(this._destroyRef)).subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)})}toggle(){this.collapsed=!this.collapsed}expand(){if(this.collapsed){if(!this._accordion._ensureCanExpand(this))return;this._collapsed=!1,this._cd.markForCheck(),this._cd.detectChanges(),this.show.emit(),this._accordion.show.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!1}}collapse(){this.collapsed||(this._collapsed=!0,this._collapseAnimationRunning=!0,this._cd.markForCheck(),this.hide.emit(),this._accordion.hide.emit(this.id),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=!0)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbAccordionItem",""]],contentQueries:function(n,o,s){if(1&n&&Nn(s,Ch,7),2&n){let r;Ot(r=yt())&&(o._collapse=r.first)}},hostAttrs:[1,"accordion-item"],hostVars:1,hostBindings:function(n,o){2&n&&ds("id",o.id)},inputs:{id:[0,"ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0})}return e})(),b5=(()=>{class e{constructor(){this._config=_e(yoe),this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=this._config.animation,this.closeOthers=this._config.closeOthers,this.destroyOnHide=this._config.destroyOnHide,this.show=new Be,this.shown=new Be,this.hide=new Be,this.hidden=new Be}toggle(t){this._getItem(t)?.toggle()}expand(t){this._getItem(t)?.expand()}expandAll(){this._items&&(this.closeOthers?this._items.find(t=>!t.collapsed)||this._items.first.expand():this._items.forEach(t=>t.expand()))}collapse(t){this._getItem(t)?.collapse()}collapseAll(){this._items?.forEach(t=>t.collapse())}isExpanded(t){const n=this._getItem(t);return!!n&&!n.collapsed}_ensureCanExpand(t){return!(this.closeOthers&&(this._items?(this._items.find(n=>!n.collapsed&&t!==n)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(t){return this._items?.find(n=>n.id===t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbAccordion",""]],contentQueries:function(n,o,s){if(1&n&&Nn(s,Z1,4),2&n){let r;Ot(r=yt())&&(o._items=r)}},hostAttrs:[1,"accordion"],inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{show:"show",shown:"shown",hide:"hide",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0})}return e})(),MN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),Voe=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Hoe=({classList:e})=>{e.remove("show")};let $oe=(()=>{class e{constructor(){this._config=_e(Voe),this._elementRef=_e(Qt),this._zone=_e(jt),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Be}close(){const t=Os(this._zone,this._elementRef.nativeElement,Hoe,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(n,o){2&n&&(Ai("alert show"+(o.type?" alert-"+o.type:"")),Ye("fade",o.animation)("alert-dismissible",o.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[$i],ngContentSelectors:cl,decls:2,vars:1,consts:()=>{let t;return t="Chiudi",[["type","button","aria-label",t,1,"btn-close"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(n,o){1&n&&(Ws(),Xs(0),q(1,iie,1,0,"button",0)),2&n&&(d(),J(o.dismissible?1:-1))},styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0})}return e})(),bN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),EN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),AN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();class mo{static from(i){return i instanceof mo?i:i?new mo(i.year,i.month,i.day):null}constructor(i,t,n){this.year=Js(i)?i:null,this.month=Js(t)?t:null,this.day=Js(n)?n:null}equals(i){return null!=i&&this.year===i.year&&this.month===i.month&&this.day===i.day}before(i){return!!i&&(this.year===i.year?this.month===i.month?this.day!==i.day&&this.day<i.day:this.month<i.month:this.year<i.year)}after(i){return!!i&&(this.year===i.year?this.month===i.month?this.day!==i.day&&this.day>i.day:this.month>i.month:this.year>i.year)}}function ON(e){return new mo(e.getFullYear(),e.getMonth()+1,e.getDate())}function Pg(e){const i=new Date(e.year,e.month-1,e.day,12);return isNaN(i.getTime())||i.setFullYear(e.year),i}let Ig=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>function Goe(){return new Uoe}(),providedIn:"root"})}return e})(),Uoe=(()=>{class e extends Ig{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,n="d",o=1){let s=Pg(t),r=!0,a=s.getMonth();switch(n){case"y":s.setFullYear(s.getFullYear()+o);break;case"m":a+=o,s.setMonth(a),a%=12,a<0&&(a+=12);break;case"d":s.setDate(s.getDate()+o),r=!1;break;default:return t}return r&&s.getMonth()!==a&&s.setDate(0),ON(s)}getPrev(t,n="d",o=1){return this.getNext(t,n,-o)}getWeekday(t){let o=Pg(t).getDay();return 0===o?7:o}getWeekNumber(t,n){7===n&&(n=0);const r=Pg(t[(11-n)%7]);r.setDate(r.getDate()+4-(r.getDay()||7));const a=r.getTime();return r.setMonth(0),r.setDate(1),Math.floor(Math.round((a-r.getTime())/864e5)/7)+1}getToday(){return ON(new Date)}isValid(t){if(!(t&&Js(t.year)&&Js(t.month)&&Js(t.day)&&0!==t.year))return!1;const n=Pg(t);return!isNaN(n.getTime())&&n.getFullYear()===t.year&&n.getMonth()+1===t.month&&n.getDate()===t.day}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();function T5(e,i){return!function Zoe(e,i){return!e&&!i||!!e&&!!i&&e.equals(i)}(e,i)}function yN(e,i){return!(!e&&!i||e&&i&&e.year===i.year&&e.month===i.month)}function Lg(e,i,t){return e&&i&&e.before(i)?i:e&&t&&e.after(t)?t:e||null}function gm(e,i){const{minDate:t,maxDate:n,disabled:o,markDisabled:s}=i;return!(null==e||o||s&&s(e,{year:e.year,month:e.month})||t&&e.before(t)||n&&e.after(n))}let dl=(()=>{class e{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>new ese,providedIn:"root"})}return e})(),ese=(()=>{class e extends dl{constructor(){super(...arguments),this._locale=_e(Ss),this._monthsShort=[...Array(12).keys()].map(t=>Intl.DateTimeFormat(this._locale,{month:"short"}).format(new Date(2e3,t))),this._monthsFull=[...Array(12).keys()].map(t=>Intl.DateTimeFormat(this._locale,{month:"long"}).format(new Date(2e3,t)))}getWeekdayLabel(t,n="narrow"){const o=[...Array(7).keys()].map(r=>Intl.DateTimeFormat(this._locale,{weekday:n}).format(new Date(Date.UTC(2021,5,r-1))));return o.map((r,a)=>o[(a+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return kA(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),fm=(()=>{class e{constructor(){this._VALIDATORS={dayTemplateData:t=>{if(this._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:t=>{if(Js(t=Ys(t))&&t>0&&this._state.displayMonths!==t)return{displayMonths:t}},disabled:t=>{if(this._state.disabled!==t)return{disabled:t}},firstDayOfWeek:t=>{if(Js(t=Ys(t))&&t>=0&&this._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:t=>{if(this._state.focusVisible!==t&&!this._state.disabled)return{focusVisible:t}},markDisabled:t=>{if(this._state.markDisabled!==t)return{markDisabled:t}},maxDate:t=>{const n=this.toValidDate(t,null);if(T5(this._state.maxDate,n))return{maxDate:n}},minDate:t=>{const n=this.toValidDate(t,null);if(T5(this._state.minDate,n))return{minDate:n}},navigation:t=>{if(this._state.navigation!==t)return{navigation:t}},outsideDays:t=>{if(this._state.outsideDays!==t)return{outsideDays:t}},weekdays:t=>{const n=!0===t||!1===t?"narrow":t,o=!0!==t&&!1!==t||t;if(this._state.weekdayWidth!==n||this._state.weekdaysVisible!==o)return{weekdayWidth:n,weekdaysVisible:o}}},this._calendar=_e(Ig),this._i18n=_e(dl),this._model$=new et,this._dateSelect$=new et,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:"narrow",weekdaysVisible:!0}}get model$(){return this._model$.pipe($n(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe($n(t=>null!==t))}set(t){let n=Object.keys(t).map(o=>this._VALIDATORS[o](t[o])).reduce((o,s)=>({...o,...s}),{});Object.keys(n).length>0&&this._nextState(n)}focus(t){const n=this.toValidDate(t,null);null!=n&&!this._state.disabled&&T5(this._state.focusDate,n)&&this._nextState({focusDate:t})}focusSelect(){gm(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const n=this.toValidDate(t,this._calendar.getToday());null!=n&&!this._state.disabled&&(!this._state.firstDate||yN(this._state.firstDate,n))&&this._nextState({firstDate:n})}select(t,n={}){const o=this.toValidDate(t,null);null!=o&&!this._state.disabled&&(T5(this._state.selectedDate,o)&&this._nextState({selectedDate:o}),n.emitEvent&&gm(o,this._state)&&this._dateSelect$.next(o))}toValidDate(t,n){const o=mo.from(t);return void 0===n&&(n=this._calendar.getToday()),this._calendar.isValid(o)?o:n}getMonth(t){for(let n of this._state.months)if(t.month===n.number&&t.year===n.year)return n;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const n=this._updateState(t);this._patchContexts(n),this._state=n,this._model$.next(this._state)}_patchContexts(t){const{months:n,displayMonths:o,selectedDate:s,focusDate:r,focusVisible:a,disabled:l,outsideDays:u}=t;t.months.forEach(p=>{p.weeks.forEach(v=>{v.days.forEach(L=>{r&&(L.context.focused=r.equals(L.date)&&a),L.tabindex=!l&&r&&L.date.equals(r)&&r.month===p.number?0:-1,!0===l&&(L.context.disabled=!0),void 0!==s&&(L.context.selected=null!==s&&s.equals(L.date)),p.number!==L.date.month&&(L.hidden="hidden"===u||"collapsed"===u||o>1&&L.date.after(n[0].firstDate)&&L.date.before(n[o-1].lastDate))})})})}_updateState(t){const n=Object.assign({},this._state,t);let o=n.firstDate;if(("minDate"in t||"maxDate"in t)&&(function joe(e,i){if(i&&e&&i.before(e))throw new Error(`'maxDate' ${i} should be greater than 'minDate' ${e}`)}(n.minDate,n.maxDate),n.focusDate=Lg(n.focusDate,n.minDate,n.maxDate),n.firstDate=Lg(n.firstDate,n.minDate,n.maxDate),o=n.focusDate),"disabled"in t&&(n.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(o=n.selectedDate),"focusVisible"in t||"focusDate"in t&&(n.focusDate=Lg(n.focusDate,n.minDate,n.maxDate),o=n.focusDate,0!==n.months.length&&n.focusDate&&!n.focusDate.before(n.firstDate)&&!n.focusDate.after(n.lastDate)))return n;if("firstDate"in t&&(n.firstDate=Lg(n.firstDate,n.minDate,n.maxDate),o=n.firstDate),o){const r=function Yoe(e,i,t,n,o){const{displayMonths:s,months:r}=t,a=r.splice(0,r.length);return Array.from({length:s},(u,p)=>{const v=Object.assign(e.getNext(i,"m",p),{day:1});if(r[p]=null,!o){const L=a.findIndex(z=>z.firstDate.equals(v));-1!==L&&(r[p]=a.splice(L,1)[0])}return v}).forEach((u,p)=>{null===r[p]&&(r[p]=function Joe(e,i,t,n,o={}){const{dayTemplateData:s,minDate:r,maxDate:a,firstDayOfWeek:l,markDisabled:u,outsideDays:p,weekdayWidth:v,weekdaysVisible:L}=t,z=e.getToday();o.firstDate=null,o.lastDate=null,o.number=i.month,o.year=i.year,o.weeks=o.weeks||[],o.weekdays=o.weekdays||[],i=function Qoe(e,i,t){const n=e.getDaysPerWeek(),o=new mo(i.year,i.month,1),s=e.getWeekday(o)%n;return e.getPrev(o,"d",(n+s-t)%n)}(e,i,l),L||(o.weekdays.length=0);for(let ie=0;ie<e.getWeeksPerMonth();ie++){let se=o.weeks[ie];se||(se=o.weeks[ie]={number:0,days:[],collapsed:!0});const he=se.days;for(let be=0;be<e.getDaysPerWeek();be++){0===ie&&L&&(o.weekdays[be]=n.getWeekdayLabel(e.getWeekday(i),v));const we=new mo(i.year,i.month,i.day),Fe=e.getNext(we),Ae=n.getDayAriaLabel(we);let Qe=!!(r&&we.before(r)||a&&we.after(a));!Qe&&u&&(Qe=u(we,{month:o.number,year:o.year}));let pt=we.equals(z),gt=s?s(we,{month:o.number,year:o.year}):void 0;null===o.firstDate&&we.month===o.number&&(o.firstDate=we),we.month===o.number&&Fe.month!==o.number&&(o.lastDate=we);let Mt=he[be];Mt||(Mt=he[be]={}),Mt.date=we,Mt.context=Object.assign(Mt.context||{},{$implicit:we,date:we,data:gt,currentMonth:o.number,currentYear:o.year,disabled:Qe,focused:!1,selected:!1,today:pt}),Mt.tabindex=-1,Mt.ariaLabel=Ae,Mt.hidden=!1,i=Fe}se.number=e.getWeekNumber(he.map(be=>be.date),l),se.collapsed="collapsed"===p&&he[0].date.month!==o.number&&he[he.length-1].date.month!==o.number}return o}(e,u,t,n,a.shift()||{}))}),r}(this._calendar,o,n,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);n.months=r,n.firstDate=r[0].firstDate,n.lastDate=r[r.length-1].lastDate,"selectedDate"in t&&!gm(n.selectedDate,n)&&(n.selectedDate=null),"firstDate"in t&&(!n.focusDate||n.focusDate.before(n.firstDate)||n.focusDate.after(n.lastDate))&&(n.focusDate=o);const a=!this._state.firstDate||this._state.firstDate.year!==n.firstDate.year,l=!this._state.firstDate||this._state.firstDate.month!==n.firstDate.month;"select"===n.navigation?(("minDate"in t||"maxDate"in t||0===n.selectBoxes.years.length||a)&&(n.selectBoxes.years=function Xoe(e,i,t){if(!e)return[];const n=i?Math.max(i.year,e.year-500):e.year-10,s=(t?Math.min(t.year,e.year+500):e.year+10)-n+1,r=Array(s);for(let a=0;a<s;a++)r[a]=n+a;return r}(n.firstDate,n.minDate,n.maxDate)),("minDate"in t||"maxDate"in t||0===n.selectBoxes.months.length||a)&&(n.selectBoxes.months=function Woe(e,i,t,n){if(!i)return[];let o=e.getMonths(i.year);if(t&&i.year===t.year){const s=o.findIndex(r=>r===t.month);o=o.slice(s)}if(n&&i.year===n.year){const s=o.findIndex(r=>r===n.month);o=o.slice(0,s+1)}return o}(this._calendar,n.firstDate,n.minDate,n.maxDate))):n.selectBoxes={years:[],months:[]},("arrows"===n.navigation||"select"===n.navigation)&&(l||a||"minDate"in t||"maxDate"in t||"disabled"in t)&&(n.prevDisabled=n.disabled||function qoe(e,i,t){const n=Object.assign(e.getPrev(i,"m"),{day:1});return null!=t&&(n.year===t.year&&n.month<t.month||n.year<t.year&&1===t.month)}(this._calendar,n.firstDate,n.minDate),n.nextDisabled=n.disabled||function Koe(e,i,t){const n=Object.assign(e.getNext(i,"m"),{day:1});return null!=t&&n.after(t)}(this._calendar,n.lastDate,n.maxDate))}return n}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();var xg=function(e){return e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e}(xg||{});let mm=(()=>{class e{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays="narrow"}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hl=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>function tse(){return new nse}(),providedIn:"root"})}return e})(),nse=(()=>{class e extends hl{fromModel(t){return t&&Js(t.year)&&Js(t.month)&&Js(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Js(t.year)&&Js(t.month)&&Js(t.day)?{year:t.year,month:t.month,day:t.day}:null}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),ise=(()=>{class e{processKey(t,n){const{state:o,calendar:s}=n;switch(t.key){case"PageUp":n.focusDate(s.getPrev(o.focusedDate,t.shiftKey?"y":"m",1));break;case"PageDown":n.focusDate(s.getNext(o.focusedDate,t.shiftKey?"y":"m",1));break;case"End":n.focusDate(t.shiftKey?o.maxDate:o.lastDate);break;case"Home":n.focusDate(t.shiftKey?o.minDate:o.firstDate);break;case"ArrowLeft":n.focusDate(s.getPrev(o.focusedDate,"d",1));break;case"ArrowUp":n.focusDate(s.getPrev(o.focusedDate,"d",s.getDaysPerWeek()));break;case"ArrowRight":n.focusDate(s.getNext(o.focusedDate,"d",1));break;case"ArrowDown":n.focusDate(s.getNext(o.focusedDate,"d",s.getDaysPerWeek()));break;case"Enter":case" ":n.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ose=(()=>{class e{constructor(){this.i18n=_e(dl)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(n,o){2&n&&Ye("bg-primary",o.selected)("text-white",o.selected)("text-muted",o.isMuted())("outside",o.isMuted())("active",o.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[$i],attrs:sie,decls:1,vars:1,template:function(n,o){1&n&&j(0),2&n&&Pe(o.i18n.getDayNumerals(o.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0})}return e})(),sse=(()=>{class e{constructor(){this._month=-1,this._year=-1,this.i18n=_e(dl),this.select=new Be}changeMonth(t){this.select.emit(new mo(this.date.year,Ys(t),1))}changeYear(t){this.select.emit(new mo(Ys(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(n,o){if(1&n&&(cn(rie,7,Qt),cn(aie,7,Qt)),2&n){let s;Ot(s=yt())&&(o.monthSelect=s.first),Ot(s=yt())&&(o.yearSelect=s.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[$i],decls:8,vars:2,consts:()=>{let t,n,o,s;return t="Seleziona il mese",n="Seleziona il mese",o="Seleziona anno",s="Seleziona anno",[["month",""],["year",""],["aria-label",t,"title",n,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",o,"title",s,1,"form-select",3,"change","disabled"]]},template:function(n,o){if(1&n){const s=pe();c(0,"select",2,0),F("change",function(a){return H(s),$(o.changeMonth(a.target.value))}),ut(2,lie,2,3,"option",3,Ft),h(),c(4,"select",4,1),F("change",function(a){return H(s),$(o.changeYear(a.target.value))}),ut(6,cie,2,2,"option",3,Ft),h()}2&n&&(w("disabled",o.disabled),d(2),_t(o.months),d(2),w("disabled",o.disabled),d(2),_t(o.years))},styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0})}return e})(),rse=(()=>{class e{constructor(){this.navigation=xg,this.i18n=_e(dl),this.months=[],this.navigate=new Be,this.select=new Be}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[$i],decls:8,vars:4,consts:()=>{let t,n,o,s;return t="Mese precedente",n="Mese precedente",o="Mese successivo",s="Mese successivo",[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",t,"title",n,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",o,"title",s,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(n,o){1&n&&(c(0,"div",0)(1,"button",1),F("click",function(r){return o.onClickPrev(r)}),k(2,"span",2),h()(),q(3,die,1,4,"ngb-datepicker-navigation-select",3)(4,pie,2,0),c(5,"div",4)(6,"button",5),F("click",function(r){return o.onClickNext(r)}),k(7,"span",2),h()()),2&n&&(d(),w("disabled",o.prevDisabled),d(2),J(o.showSelect?3:-1),d(),J(o.showSelect?-1:4),d(2),w("disabled",o.nextDisabled))},dependencies:[sse],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0})}return e})(),DN=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0})}return e})(),NN=(()=>{class e{constructor(){this._keyboardService=_e(ise),this._service=_e(fm),this.i18n=_e(dl),this.datepicker=_e(vm)}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(n,o){1&n&&F("keydown",function(r){return o.onKeyDown(r)})},inputs:{month:"month"},standalone:!0,features:[$i],decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){1&n&&(q(0,mie,4,1,"div",0),ut(1,Tie,1,1,null,null,Ft)),2&n&&(J(o.viewModel.weekdays.length>0?0:-1),d(),_t(o.viewModel.weeks))},dependencies:[es],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2})}return e})(),vm=(()=>{class e{constructor(){this.injector=_e(hi),this._service=_e(fm),this._calendar=_e(Ig),this._i18n=_e(dl),this._config=_e(mm),this._nativeElement=_e(Qt).nativeElement,this._ngbDateAdapter=_e(hl),this._ngZone=_e(jt),this._destroyRef=_e(D1),this._controlValue=null,this._publicState={},this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new Be,this.dateSelect=new Be,this.onChange=n=>{},this.onTouched=()=>{};const t=_e(Po);this._service.dateSelect$.pipe(wa()).subscribe(n=>{this.dateSelect.emit(n)}),this._service.model$.pipe(wa()).subscribe(n=>{const o=n.firstDate,s=this.model?this.model.firstDate:null;this._publicState={maxDate:n.maxDate,minDate:n.minDate,firstDate:n.firstDate,lastDate:n.lastDate,focusedDate:n.focusDate,months:n.months.map(p=>p.firstDate)};let r=!1;if(!o.equals(s)&&(this.navigate.emit({current:s?{year:s.year,month:s.month}:null,next:{year:o.year,month:o.month},preventDefault:()=>r=!0}),r&&null!==s))return void this._service.open(s);const a=n.selectedDate,l=n.focusDate,u=this.model?this.model.focusDate:null;this.model=n,T5(a,this._controlValue)&&(this._controlValue=a,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(a))),T5(l,u)&&u&&n.focusVisible&&this.focus(),t.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(t){this._service.focus(mo.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(oo(1)).subscribe(()=>this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus())}navigateTo(t){this._service.open(mo.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{B1(hn(this._contentEl.nativeElement,"focusin"),hn(this._contentEl.nativeElement,"focusout")).pipe($n(o=>{const s=o.target,r=o.relatedTarget;return!(s?.classList.contains("ngb-dp-day")&&r?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(s)&&this._nativeElement.contains(r))}),wa(this._destroyRef)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(n=>t[n]=this[n]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const n={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(o=>o in t).forEach(o=>n[o]=this[o]),this._service.set(n),"startDate"in t){const{currentValue:o,previousValue:s}=t.startDate;yN(s,o)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case xg.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case xg.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=mo.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-datepicker"]],contentQueries:function(n,o,s){if(1&n&&Nn(s,DN,7),2&n){let r;Ot(r=yt())&&(o.contentTemplateFromContent=r.first)}},viewQuery:function(n,o){if(1&n&&(cn(Sie,7),cn(Eie,7)),2&n){let s;Ot(s=yt())&&(o._defaultDayTemplate=s.first),Ot(s=yt())&&(o._contentEl=s.first)}},hostVars:2,hostBindings:function(n,o){2&n&&Ye("disabled",o.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0},fm]),Rn,$i],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(n,o){if(1&n&&(q(0,Aie,1,5,"ng-template",null,0,on)(2,Die,2,0,"ng-template",null,1,on),c(4,"div",3),q(5,Nie,1,7,"ngb-datepicker-navigation",4),h(),c(6,"div",5,2),q(8,Pie,0,0,"ng-template",6),h(),q(9,Iie,0,0,"ng-template",7)),2&n){const s=vt(3);d(5),J("none"!==o.navigation?5:-1),d(),Ye("ngb-dp-months",!o.contentTemplate),d(2),w("ngTemplateOutlet",o.contentTemplate||(null==o.contentTemplateFromContent?null:o.contentTemplateFromContent.templateRef)||s)("ngTemplateOutletContext",No(7,_N,o))("ngTemplateOutletInjector",o.injector),d(),w("ngTemplateOutlet",o.footerTemplate)}},dependencies:[es,ose,NN,rse],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0})}return e})();const Rg=(e,i)=>!!i&&i.some(t=>t.contains(e)),PN=(e,i)=>!i||null!=function Poe(e,i){return!i||typeof e.closest>"u"?null:e.closest(i)}(e,i),ase=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function wh(e,i,t,n,o,s,r,a){t&&e.runOutsideAngular((e=>ase?()=>setTimeout(()=>e(),100):e)(()=>{const u=hn(i,"keydown").pipe(je(o),$n(L=>"Escape"===L.key),dn(L=>L.preventDefault())),p=hn(i,"mousedown").pipe(At(L=>{const z=L.target;return 2!==L.button&&!Rg(z,r)&&("inside"===t?Rg(z,s)&&PN(z,a):"outside"===t?!Rg(z,s):PN(z,a)||!Rg(z,s))}),je(o)),v=hn(i,"mouseup").pipe(Sg(p),$n(([L,z])=>z),qD(0),je(o));XD([u.pipe(At(L=>0)),v.pipe(At(L=>1))]).subscribe(L=>e.run(()=>n(L)))}))}const IN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function LN(e){const i=Array.from(e.querySelectorAll(IN)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}const xN=(e,i,t,n=!1)=>{e.runOutsideAngular(()=>{const o=hn(i,"focusin").pipe(je(t),At(s=>s.target));hn(i,"keydown").pipe(je(t),$n(s=>"Tab"===s.key),Sg(o)).subscribe(([s,r])=>{const[a,l]=LN(i);(r===a||r===i)&&s.shiftKey&&(l.focus(),s.preventDefault()),r===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),n&&hn(i,"click").pipe(je(t),Sg(o),At(s=>s[1])).subscribe(s=>s.focus())})};let cse=(()=>{class e{constructor(){this._element=_e(gn).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const dse=/\s+/,hse=/  +/gi,use={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},pse=/^left/,gse=/^right/,fse=/^start/,mse=/^end/;function RN({placement:e,baseClass:i},t){let n=Array.isArray(e)?e:e.split(dse),s=n.findIndex(u=>"auto"===u);s>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(u){null==n.find(p=>-1!==p.search("^"+u))&&n.splice(s++,1,u)});const r=n.map(u=>function _se(e,i){const[t,n]=use[e];return i&&n||t}(u,t.isRTL()));return{placement:r.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!i,phase:"write",fn({state:u}){const p=new RegExp(i+"(-[a-z]+)*","gi"),v=u.elements.popper,L=u.placement;let z=v.className;z=z.replace(p,""),z+=` ${function vse(e,i){let[t,n]=i.split("-");const o=t.replace(pse,"start").replace(gse,"end");let s=[o];if(n){let r=n;("left"===t||"right"===t)&&(r=r.replace(fse,"top").replace(mse,"bottom")),s.push(`${o}-${r}`)}return e&&(s=s.map(r=>`${e}-${r}`)),s.join(" ")}(i,L)}`,z=z.trim().replace(hse," "),v.className=z}},Sne,yne,Ine,{enabled:!0,name:"flip",options:{fallbackPlacements:r}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function FN(e){return e}function Mh(){const e=_e(cse);let i=null;return{createPopper(t){if(!i){let o=(t.updatePopperOptions||FN)(RN(t,e));i=Qne(t.hostElement,t.targetElement,o)}},update(){i&&i.update()},setOptions(t){if(i){let o=(t.updatePopperOptions||FN)(RN(t,e));i.setOptions(o)}},destroy(){i&&(i.destroy(),i=null)}}}let bh=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:()=>function Cse(){return new wse}(),providedIn:"root"})}return e})(),wse=(()=>{class e extends bh{parse(t){if(null!=t){const n=t.trim().split("-");if(1===n.length&&Bo(n[0]))return{year:Ys(n[0]),month:null,day:null};if(2===n.length&&Bo(n[0])&&Bo(n[1]))return{year:Ys(n[0]),month:Ys(n[1]),day:null};if(3===n.length&&Bo(n[0])&&Bo(n[1])&&Bo(n[2]))return{year:Ys(n[0]),month:Ys(n[1]),day:Ys(n[2])}}return null}format(t){return t?`${t.year}-${Bo(t.month)?mN(t.month):""}-${Bo(t.day)?mN(t.day):""}`:""}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),kN=(()=>{class e extends mm{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.restoreFocus=!0}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Th(e){return i=>(i.modifiers.push(nie,{name:"offset",options:{offset:()=>e}}),i)}let Cm=(()=>{class e{constructor(){this._parserFormatter=_e(bh),this._elRef=_e(Qt),this._vcRef=_e(Qo),this._ngZone=_e(jt),this._calendar=_e(Ig),this._dateAdapter=_e(hl),this._document=_e(gn),this._changeDetector=_e(Po),this._config=_e(kN),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=Mh(),this._destroyCloseHandlers$=new et,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new Be,this.navigate=new Be,this.closed=new Be,this._onChange=t=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:n}=t;if(null!=n){const o=this._fromDateStruct(this._dateAdapter.fromModel(n));if(!o)return{ngbDate:{invalid:n}};if(this.minDate&&o.before(mo.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:n}}};if(this.maxDate&&o.after(mo.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:n}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,n=!1){const o=t!==this._inputValue;o&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(o||!n)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),n&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){let t;if(this._cRef=this._vcRef.createComponent(vm),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(n=>{this.writeValue(n),this._onChange(n),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,xN(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus()),t=s0(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&t&&(this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,updatePopperOptions:n=>this.popperOptions(Th([0,2])(n))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._cRef?.destroy(),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;s0(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&this._cRef.setInput("minDate",this.minDate),t.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),t.datepickerClass){const{currentValue:n,previousValue:o}=t.datepickerClass;this._applyPopupClass(n,o)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(t){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(n=>{void 0!==this[n]&&t.setInput(n,this[n])}),t.setInput("startDate",this.startDate||this._model)}_applyPopupClass(t,n){const o=this._cRef?.location.nativeElement;o&&(t&&o.classList.add(t),n&&o.classList.remove(n))}_applyPopupStyling(t){t.classList.add("dropdown-menu","show"),"body"===this.container&&t.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(n=>this.navigate.emit(n)),t.dateSelect.subscribe(n=>{this.dateSelect.emit(n),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(t){const n=this._parserFormatter.format(t);this._inputValue=n,this._elRef.nativeElement.value=n,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const n=t?new mo(t.year,t.month,t.day):null;return this._calendar.isValid(n)?n:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),wh(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(n,o){1&n&&F("input",function(r){return o.manualDateChange(r.target.value)})("change",function(r){return o.manualDateChange(r.target.value,!0)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()}),2&n&&ds("disabled",o.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0},{provide:ns,useExisting:Xt(()=>e),multi:!0},{provide:mm,useExisting:kN}]),Rn]})}return e})();new Date(1882,10,12),new Date(2174,10,25);let jN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),Lse=(()=>{class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.container=null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wr=(()=>{class e{constructor(){this._disabled=!1,this.nativeElement=_e(Qt).nativeElement,this.tabindex=0}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(n,o){2&n&&(ds("tabIndex",o.disabled?-1:o.tabindex),Ye("disabled",o.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}return e})(),j1=(()=>{class e{constructor(){this.item=_e(wr)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(n,o){2&n&&ds("disabled",o.item.disabled)},standalone:!0})}return e})(),is=(()=>{class e{constructor(){this.dropdown=_e(Go),this.nativeElement=_e(Qt).nativeElement}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(n,o,s){if(1&n&&Nn(s,wr,4),2&n){let r;Ot(r=yt())&&(o.menuItems=r)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(n,o){1&n&&F("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Enter",function(r){return o.dropdown.onKeyDown(r)})("keydown.Space",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),2&n&&Ye("show",o.dropdown.isOpen())},standalone:!0})}return e})(),Ah=(()=>{class e{constructor(){this.dropdown=_e(Go),this.nativeElement=_e(Qt).nativeElement}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(n,o){2&n&&(Mn("aria-expanded",o.dropdown.isOpen()),Ye("show",o.dropdown.isOpen()))},standalone:!0})}return e})(),ys=(()=>{class e extends Ah{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(n,o){1&n&&F("click",function(){return o.dropdown.toggle()})("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),2&n&&(Mn("aria-expanded",o.dropdown.isOpen()),Ye("show",o.dropdown.isOpen()))},standalone:!0,features:[Gt([{provide:Ah,useExisting:Xt(()=>e)}]),Ct]})}return e})(),Go=(()=>{class e{constructor(){this._changeDetector=_e(Po),this._config=_e(Lse),this._document=_e(gn),this._ngZone=_e(jt),this._nativeElement=_e(Qt).nativeElement,this._destroyCloseHandlers$=new et,this._bodyContainer=null,this._positioning=Mh(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new Be}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(oo(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:n,previousValue:o}=t.dropdownClass;this._applyCustomDropdownClass(n,o)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:t=>this.popperOptions(Th([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),wh(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const{key:n}=t,o=this._getMenuElements();let s=-1,r=null;const a=this._isEventFromToggle(t);if(!a&&o.length&&o.forEach((l,u)=>{l.contains(t.target)&&(r=l),l===CN(this._document)&&(s=u)})," "!==n&&"Enter"!==n){if("Tab"!==n){if(a||r){if(this.open(),o.length){switch(n){case"ArrowDown":s=Math.min(s+1,o.length-1);break;case"ArrowUp":if(this._isDropup()&&-1===s){s=o.length-1;break}s=Math.max(s-1,0);break;case"Home":s=0;break;case"End":s=o.length-1}o[s].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(IN);t.shiftKey&&t.target===l[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else hn(t.target,"focusout").pipe(oo(1)).subscribe(({relatedTarget:l})=>{this._nativeElement.contains(l)||this.close()})}}else r&&(!0===this.autoClose||"inside"===this.autoClose)&&hn(r,"click").pipe(oo(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:t})=>!t).map(({nativeElement:t})=>t):[]}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const n=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||this._document.createElement("div");o.style.position="absolute",n.style.position="static",o.style.zIndex="1055",o.appendChild(n),this._document.body.appendChild(o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,n){const o="body"===this.container?this._bodyContainer:this._nativeElement;o&&(n&&o.classList.remove(n),t&&o.classList.add(t))}_applyPlacementClasses(t){if(this._menu){t||(t=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const n=-1!==t.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(n),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(n))}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(n,o,s){if(1&n&&(Nn(s,is,5),Nn(s,Ah,5)),2&n){let r;Ot(r=yt())&&(o._menu=r.first),Ot(r=yt())&&(o._anchor=r.first)}},hostVars:2,hostBindings:function(n,o){2&n&&Ye("show",o.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[Rn]})}return e})(),WN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),xse=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class pl{constructor(i,t,n){this.nodes=i,this.viewRef=t,this.componentRef=n}}class Sm{constructor(i){this._componentType=i,this._windowRef=null,this._contentRef=null,this._document=_e(gn),this._applicationRef=_e(qs),this._injector=_e(hi),this._viewContainerRef=_e(Qo),this._ngZone=_e(jt)}open(i,t,n=!1){this._windowRef||(this._contentRef=this._getContentRef(i,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:o}=this._windowRef.location,s=this._ngZone.onStable.pipe(oo(1),Lo(()=>Os(this._ngZone,o,({classList:r})=>r.add("show"),{animation:n,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:s}}close(i=!1){return this._windowRef?Os(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:i,runningTransition:"stop"}).pipe(dn(()=>{this._windowRef?.destroy(),this._contentRef?.viewRef?.destroy(),this._windowRef=null,this._contentRef=null})):Rt(void 0)}_getContentRef(i,t){if(i){if(i instanceof Kt){const n=i.createEmbeddedView(t);return this._applicationRef.attachView(n),new pl([n.rootNodes],n)}return new pl([[this._document.createTextNode(`${i}`)]])}return new pl([])}}let Rse=(()=>{class e{constructor(){this._document=_e(gn)}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:s,paddingRight:r}=o;if(t>0){const a=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${a+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=r),o.overflow=s}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fse=(()=>{class e{constructor(){this._nativeElement=_e(Qt).nativeElement,this._zone=_e(jt)}ngOnInit(){this._zone.onStable.asObservable().pipe(oo(1)).subscribe(()=>{Os(this._zone,this._nativeElement,(t,n)=>{n&&M5(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Os(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){2&n&&(Ai("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),Ye("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[$i],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return e})();class Gi{update(i){}close(i){}dismiss(i){}}const kse=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],zse=["animation","backdropClass"];class Vse{_applyWindowOptions(i,t){kse.forEach(n=>{r0(t[n])&&(i[n]=t[n])})}_applyBackdropOptions(i,t){zse.forEach(n=>{r0(t[n])&&(i[n]=t[n])})}update(i){this._applyWindowOptions(this._windowCmptRef.instance,i),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,i)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(je(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(je(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(i,t,n,o){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new et,this._dismissed=new et,this._hidden=new et,i.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,r)=>{this._resolve=s,this._reject=r}),this.result.then(null,()=>{})}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function fN(e){return e&&e.then}(t)?!1!==t&&this._dismiss(i):t.then(n=>{!1!==n&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Rt(void 0);i.subscribe(()=>{const{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),em(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Em=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(Em||{});let Hse=(()=>{class e{constructor(){this._document=_e(gn),this._elRef=_e(Qt),this._zone=_e(jt),this._closed$=new et,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Be,this.shown=new et,this.hidden=new et}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":s0(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(oo(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,n={animation:this.animation,runningTransition:"stop"},r=em(Os(this._zone,t,()=>t.classList.remove("show"),n),Os(this._zone,this._dialogEl.nativeElement,()=>{},n));return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){const t={animation:this.animation,runningTransition:"continue"};em(Os(this._zone,this._elRef.nativeElement,(s,r)=>{r&&M5(s),s.classList.add("show")},t),Os(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{hn(t,"keydown").pipe(je(this._closed$),$n(o=>"Escape"===o.key)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Em.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let n=!1;hn(this._dialogEl.nativeElement,"mousedown").pipe(je(this._closed$),dn(()=>n=!1),zn(()=>hn(t,"mouseup").pipe(je(this._closed$),oo(1))),$n(({target:o})=>t===o)).subscribe(()=>{n=!0}),hn(t,"click").pipe(je(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!n&&this._zone.run(()=>this.dismiss(Em.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const n=t.querySelector("[ngbAutofocus]"),o=LN(t)[0];(n||o||t).focus()}}_restoreFocus(){const t=this._document.body,n=this._elWithFocus;let o;o=n&&n.focus&&t.contains(n)?n:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Os(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(1&n&&cn(Lie,7),2&n){let s;Ot(s=yt())&&(o._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(n,o){2&n&&(Mn("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Ai("modal d-block"+(o.windowClass?" "+o.windowClass:"")),Ye("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[$i],ngContentSelectors:cl,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,o){1&n&&(Ws(),c(0,"div",1,0)(2,"div",2),Xs(3),h()()),2&n&&Ai("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return e})(),$se=(()=>{class e{constructor(){this._applicationRef=_e(qs),this._injector=_e(hi),this._environmentInjector=_e(Ao),this._document=_e(gn),this._scrollBar=_e(Rse),this._activeWindowCmptHasChanged=new et,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Be;const t=_e(jt);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const n=this._windowCmpts[this._windowCmpts.length-1];xN(t,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,n,o){const s=o.container instanceof HTMLElement?o.container:r0(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const r=new Gi,a=(t=o.injector||t).get(Ao,null)||this._environmentInjector,l=this._getContentRef(t,a,n,r,o);let u=!1!==o.backdrop?this._attachBackdrop(s):void 0,p=this._attachWindowComponent(s,l.nodes),v=new Vse(p,l,u,o.beforeDismiss);return this._registerModalRef(v),this._registerWindowCmpt(p),v.hidden.pipe(oo(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=L=>{v.close(L)},r.dismiss=L=>{v.dismiss(L)},r.update=L=>{v.update(L)},v.update(o),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),u&&u.instance&&u.changeDetectorRef.detectChanges(),p.changeDetectorRef.detectChanges(),v}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(n=>n.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let n=Tp(Fse,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,n){let o=Tp(Hse,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_getContentRef(t,n,o,s,r){return o?o instanceof Kt?this._createFromTemplateRef(o,s):s0(o)?this._createFromString(o):this._createFromComponent(t,n,o,s,r):new pl([])}_createFromTemplateRef(t,n){const s=t.createEmbeddedView({$implicit:n,close(r){n.close(r)},dismiss(r){n.dismiss(r)}});return this._applicationRef.attachView(s),new pl([s.rootNodes],s)}_createFromString(t){const n=this._document.createTextNode(`${t}`);return new pl([[n]])}_createFromComponent(t,n,o,s,r){const l=Tp(o,{environmentInjector:n,elementInjector:hi.create({providers:[{provide:Gi,useValue:s}],parent:t})}),u=l.location.nativeElement;return r.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new pl([[u]],l.hostView,l)}_setAriaHidden(t){const n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,n)=>{t?n.setAttribute("aria-hidden",t):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const n=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const n=this._windowCmpts.indexOf(t);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ki=(()=>{class e{constructor(){this._injector=_e(hi),this._modalStack=_e($se),this._config=_e(xse)}open(t,n={}){const o={...this._config,animation:this._config.animation,...n};return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),XN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({providers:[Ki]})}return e})(),Bse=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const KN=e=>r0(e)&&""!==e;let Gse=0,E5=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}return e})(),A5=(()=>{class e{constructor(t){this.role=t,this.nav=_e(W1)}static#e=this.\u0275fac=function(n){return new(n||e)(s1("role"))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(n,o){2&n&&Mn("role",o.role?o.role:o.nav.roles?"presentation":void 0)},standalone:!0})}return e})(),a0=(()=>{class e{constructor(){this._nav=_e(W1),this._nativeElement=_e(Qt).nativeElement,this.disabled=!1,this.shown=new Be,this.hidden=new Be}ngOnInit(){r0(this.domId)||(this.domId="ngb-nav-"+Gse++)}get active(){return this._nav.activeId===this.id}get id(){return KN(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(r0(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(n,o,s){if(1&n&&Nn(s,E5,4),2&n){let r;Ot(r=yt())&&(o.contentTpl=r.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}return e})(),W1=(()=>{class e{constructor(t){this.role=t,this._config=_e(Bse),this._cd=_e(Po),this._document=_e(gn),this._nativeElement=_e(Qt).nativeElement,this.destroyRef=_e(D1),this._navigatingWithKeyboard=!1,this.activeIdChange=new Be,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Be,this.hidden=new Be,this.navItemChange$=new et,this.navChange=new Be}click(t){t.disabled||this._updateActiveId(t.id)}onFocusout({relatedTarget:t}){this._nativeElement.contains(t)||(this._navigatingWithKeyboard=!1)}onKeyDown(t){if("tablist"!==this.roles||!this.keyboard)return;const n=this.links.filter(r=>!r.navItem.disabled),{length:o}=n;let s=-1;if(n.forEach((r,a)=>{r.nativeElement===this._document.activeElement&&(s=a)}),o){switch(t.key){case"ArrowUp":case"ArrowLeft":s=(s-1+o)%o;break;case"ArrowRight":case"ArrowDown":s=(s+1)%o;break;case"Home":s=0;break;case"End":s=o-1}"changeWithArrows"===this.keyboard&&this.select(n[s].navItem.id),n[s].nativeElement.focus(),this._navigatingWithKeyboard=!0,t.preventDefault()}}select(t){this._updateActiveId(t,!1)}ngAfterContentInit(){if(!r0(this.activeId)){const t=this.items.first?this.items.first.id:null;KN(t)&&(this._updateActiveId(t,!1),this._cd.detectChanges())}this.items.changes.pipe(wa(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:t}){t&&!t.firstChange&&this._notifyItemChanged(t.currentValue)}_updateActiveId(t,n=!0){if(this.activeId!==t){let o=!1;n&&this.navChange.emit({activeId:this.activeId,nextId:t,preventDefault:()=>{o=!0}}),o||(this.activeId=t,this.activeIdChange.emit(t),this._notifyItemChanged(t))}}_notifyItemChanged(t){this.navItemChange$.next(this._getItemById(t))}_getItemById(t){return this.items&&this.items.find(n=>n.id===t)||null}static#e=this.\u0275fac=function(n){return new(n||e)(s1("role"))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbNav",""]],contentQueries:function(n,o,s){if(1&n&&(Nn(s,a0,4),Nn(s,Ta,5)),2&n){let r;Ot(r=yt())&&(o.items=r),Ot(r=yt())&&(o.links=r)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(n,o){1&n&&F("keydown.arrowLeft",function(r){return o.onKeyDown(r)})("keydown.arrowRight",function(r){return o.onKeyDown(r)})("keydown.arrowDown",function(r){return o.onKeyDown(r)})("keydown.arrowUp",function(r){return o.onKeyDown(r)})("keydown.Home",function(r){return o.onKeyDown(r)})("keydown.End",function(r){return o.onKeyDown(r)})("focusout",function(r){return o.onFocusout(r)}),2&n&&(Mn("aria-orientation","vertical"===o.orientation&&"tablist"===o.roles?"vertical":void 0)("role",o.role?o.role:o.roles?"tablist":void 0),Ye("flex-column","vertical"===o.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[Rn]})}return e})(),Ta=(()=>{class e{constructor(t){this.role=t,this.navItem=_e(a0),this.nav=_e(W1),this.nativeElement=_e(Qt).nativeElement}get tabindex(){return!1===this.nav.keyboard?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static#e=this.\u0275fac=function(n){return new(n||e)(s1("role"))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(n,o){2&n&&(ds("id",o.navItem.domId),Mn("role",o.role?o.role:o.nav.roles?"tab":void 0)("tabindex",o.tabindex)("aria-controls",o.navItem.isPanelInDom()?o.navItem.panelDomId:null)("aria-selected",o.navItem.active)("aria-disabled",o.navItem.disabled),Ye("nav-item",o.navItem.isNgContainer())("active",o.navItem.active)("disabled",o.navItem.disabled))},standalone:!0})}return e})(),O5=(()=>{class e extends Ta{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275dir=st({type:e,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(n,o){1&n&&F("click",function(r){return o.nav.click(o.navItem),r.preventDefault()})},standalone:!0,features:[Ct]})}return e})();const Zse=({classList:e})=>(e.remove("show"),()=>e.remove("active")),jse=(e,i)=>{i&&M5(e),e.classList.add("show")};let Am=(()=>{class e{constructor(){this.nativeElement=_e(Qt).nativeElement}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(n,o){2&n&&(ds("id",o.item.panelDomId),Mn("role",o.role?o.role:o.nav.roles?"tabpanel":void 0)("aria-labelledby",o.item.domId),Ye("fade",o.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}return e})(),y5=(()=>{class e{constructor(){this._cd=_e(Po),this._ngZone=_e(jt),this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(wa(this.nav.destroyRef),Jc(this._activePane?.item||null),Ma(),function Qte(e){return $n((i,t)=>e<=t)}(1)).subscribe(t=>{const n={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Os(this._ngZone,this._activePane.nativeElement,Zse,n).subscribe(()=>{const o=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),Os(this._ngZone,this._activePane.nativeElement,jse,n).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(t){return this._panes&&this._panes.find(n=>n.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(n,o){if(1&n&&cn(Am,5),2&n){let s;Ot(s=yt())&&(o._panes=s)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},standalone:!0,features:[$i],attrs:xie,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){1&n&&ut(0,kie,1,1,null,null,Ft),2&n&&_t(o.nav.items)},dependencies:[Am,es],encapsulation:2,changeDetection:0})}return e})(),qN=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),Wse=(()=>{class e{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),YN=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}return e})(),JN=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}return e})(),QN=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}return e})(),eP=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}return e})(),tP=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}return e})(),nP=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}return e})(),iP=(()=>{class e{constructor(){this.templateRef=_e(Kt)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}return e})(),gl=(()=>{class e{constructor(){this._config=_e(Wse),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new Be(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,n){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),n<this.pageCount&&(n<this.pageCount-2?this.pages.push(-1):n===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,n=this.pageCount,o=Math.floor(this.maxSize/2);return this.page<=o?n=this.maxSize:this.pageCount-this.page<o?t=this.pageCount-this.maxSize:(t=this.page-o-1,n=this.page+(this.maxSize%2==0?o-1:o)),[t,n]}_applyPagination(){let n=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[n,n+this.maxSize]}_setPageInRange(t){const n=this.page;this.page=gN(t,this.pageCount,1),this.page!==n&&Bo(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Bo(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let n=1;n<=this.pageCount;n++)this.pages.push(n);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let n=0,o=this.pageCount;[n,o]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(n,o),this._applyEllipses(n,o)}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-pagination"]],contentQueries:function(n,o,s){if(1&n&&(Nn(s,YN,5),Nn(s,JN,5),Nn(s,QN,5),Nn(s,eP,5),Nn(s,tP,5),Nn(s,nP,5),Nn(s,iP,5)),2&n){let r;Ot(r=yt())&&(o.tplEllipsis=r.first),Ot(r=yt())&&(o.tplFirst=r.first),Ot(r=yt())&&(o.tplLast=r.first),Ot(r=yt())&&(o.tplNext=r.first),Ot(r=yt())&&(o.tplNumber=r.first),Ot(r=yt())&&(o.tplPrevious=r.first),Ot(r=yt())&&(o.tplPages=r.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Rn,$i],decls:20,vars:12,consts:()=>{let t,n,o,s,r,a,l,u;return t="\xAB\xAB",n="\xAB",o="\xBB",s="\xBB\xBB",r="Primo",a="Precedente",l="Successivo",u="Ultimo",[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,n,o,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",r,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",u,"href","",1,"page-link",3,"click"]]},template:function(n,o){if(1&n&&(q(0,Bie,2,0,"ng-template",null,0,on)(2,Gie,2,0,"ng-template",null,1,on)(4,Uie,2,0,"ng-template",null,2,on)(6,Zie,2,0,"ng-template",null,3,on)(8,jie,1,0,"ng-template",null,4,on)(10,Wie,1,1,"ng-template",null,5,on)(12,Qie,2,0,"ng-template",null,6,on),c(14,"ul"),q(15,toe,3,9,"li",11)(16,ioe,3,8,"li",11)(17,ooe,0,0,"ng-template",12)(18,roe,3,9,"li",11)(19,loe,3,9,"li",11),h()),2&n){const s=vt(13);d(14),Ai("pagination"+(o.size?" pagination-"+o.size:"")),d(),J(o.boundaryLinks?15:-1),d(),J(o.directionLinks?16:-1),d(),w("ngTemplateOutlet",(null==o.tplPages?null:o.tplPages.templateRef)||s)("ngTemplateOutletContext",W0(8,zie,o.page,o.pages,o.disabled)),d(),J(o.directionLinks?18:-1),d(),J(o.boundaryLinks?19:-1)}},dependencies:[es],encapsulation:2,changeDetection:0})}return e})(),oP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();const Xse={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function sP(e,i,t,n,o,s=0,r=0){const a=function Kse(e){const i=(e||"").trim();if(0===i.length)return[];const t=i.split(/\s+/).map(o=>o.split(":")).map(o=>Xse[o[0]]||o),n=t.filter(o=>o.includes("manual"));if(n.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===n.length&&t.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return n.length?[]:t}(i);if(0===a.length)return()=>{};const l=new Set,u=[];let p;function v(z,ie){e.addEventListener(z,ie),u.push(()=>e.removeEventListener(z,ie))}function L(z,ie){clearTimeout(p),ie>0?p=setTimeout(z,ie):z()}for(const[z,ie]of a)ie?(v(z,()=>{l.add(z),L(()=>l.size>0&&n(),s)}),v(ie,()=>{l.delete(z),L(()=>0===l.size&&o(),r)})):v(z,()=>t()?L(o,r):L(n,s));return()=>u.forEach(z=>z())}let qse=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yse=0,Jse=(()=>{class e{isTitleTemplate(){return this.title instanceof Kt}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(n,o){2&n&&(ds("id",o.id),Ai("popover"+(o.popoverClass?" "+o.popoverClass:"")),Ye("fade",o.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[$i],ngContentSelectors:cl,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){1&n&&(Ws(),k(0,"div",1),q(1,hoe,4,2,"h3",2),c(2,"div",3),Xs(3),h()),2&n&&(d(),J(o.title?1:-1))},dependencies:[es],encapsulation:2,changeDetection:0})}return e})(),Wr=(()=>{class e{constructor(){this._config=_e(qse),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Be,this.hidden=new Be,this._nativeElement=_e(Qt).nativeElement,this._ngZone=_e(jt),this._document=_e(gn),this._changeDetector=_e(Po),this._ngbPopoverWindowId="ngb-popover-"+Yse++,this._popupService=new Sm(Jse),this._windowRef=null,this._positioning=Mh()}open(t){if(!this._windowRef&&!this._isDisabled()){const{windowRef:n,transition$:o}=this._popupService.open(this.ngbPopover,t??this.popoverContext,this.animation);this._windowRef=n,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",t??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-popover",updatePopperOptions:s=>this.popperOptions(Th([0,8])(s))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),wh(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),o.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=sP(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:n,disablePopover:o,popoverClass:s}){s&&this.isOpen()&&this._windowRef.setInput("popoverClass",s.currentValue),(t||n||o)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(s0(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[Rn]})}return e})(),rP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),Qse=(()=>{class e{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Oh=(()=>{class e{set max(t){this._max=!Bo(t)||t<=0?100:t}get max(){return this._max}constructor(){this._config=_e(Qse),this.stacked=_e(ere,{optional:!0}),this.animated=this._config.animated,this.ariaLabel=this._config.ariaLabel,this.striped=this._config.striped,this.showValue=this._config.showValue,this.textType=this._config.textType,this.type=this._config.type,this.value=0,this.height=this._config.height,this.max=this._config.max}getValue(){return gN(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:7,hostBindings:function(n,o){2&n&&(Mn("aria-valuenow",o.getValue())("aria-valuemax",o.max)("aria-label",o.ariaLabel),Gr("width",o.stacked?o.getPercentValue():null,"%")("height",o.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[$i],ngContentSelectors:cl,decls:3,vars:11,consts:()=>{let t;return t="\n          " + "\ufffd0\ufffd" + "\n        ",[t]},template:function(n,o){1&n&&(Ws(),c(0,"div"),q(1,uoe,3,3,"span"),Xs(2),h()),2&n&&(function QT(e,i,t,n,o){a1(ar,F1,Lc(Je(),e,i,t,n,o),!0)}("progress-bar",o.type?o.textType?" bg-"+o.type:" text-bg-"+o.type:"","",o.textType?" text-"+o.textType:"",""),Gr("width",o.stacked?null:o.getPercentValue(),"%"),Ye("progress-bar-animated",o.animated)("progress-bar-striped",o.striped),d(),J(o.showValue?1:-1))},dependencies:[YA],encapsulation:2,changeDetection:0})}return e})(),ere=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-progressbar-stacked"]],hostAttrs:[1,"progress-stacked"],standalone:!0,features:[$i],ngContentSelectors:cl,decls:1,vars:0,template:function(n,o){1&n&&(Ws(),Xs(0))},encapsulation:2,changeDetection:0})}return e})(),aP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),lP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),cP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),dP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),ore=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const sre=(e,i)=>{const{classList:t}=e;if(i)return t.add("fade"),M5(e),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},rre=({classList:e})=>(e.add("showing"),()=>{e.remove("show","showing")});let are=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbToastHeader",""]],standalone:!0})}return e})(),lre=(()=>{class e{constructor(t){this.ariaLive=t,this._config=_e(ore),this._zone=_e(jt),this._element=_e(Qt),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new Be,this.hidden=new Be,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(oo(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Os(this._zone,this._element.nativeElement,rre,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Os(this._zone,this._element.nativeElement,sre,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static#e=this.\u0275fac=function(n){return new(n||e)(s1("aria-live"))};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-toast"]],contentQueries:function(n,o,s){if(1&n&&Nn(s,are,7,Kt),2&n){let r;Ot(r=yt())&&(o.contentHeaderTpl=r.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(n,o){2&n&&(Mn("aria-live",o.ariaLive),Ye("fade",o.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[Rn,$i],ngContentSelectors:cl,decls:5,vars:1,consts:()=>{let t;return t="Chiudi",[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",t,1,"btn-close",3,"click"]]},template:function(n,o){1&n&&(Ws(),q(0,voe,2,1,"ng-template",null,0,on)(2,woe,3,1,"div",1),c(3,"div",2),Xs(4),h()),2&n&&(d(2),J(o.contentHeaderTpl||o.header?2:-1))},dependencies:[es],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2})}return e})(),hP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),cre=(()=>{class e{constructor(){this._ngbConfig=_e(o0),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dre=0,hre=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(n,o){2&n&&(ds("id",o.id),Ai("tooltip"+(o.tooltipClass?" "+o.tooltipClass:"")),Ye("fade",o.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[$i],ngContentSelectors:cl,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(n,o){1&n&&(Ws(),k(0,"div",0),c(1,"div",1),Xs(2),h())},styles:["ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}\n"],encapsulation:2,changeDetection:0})}return e})(),yh=(()=>{class e{constructor(){this._config=_e(cre),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new Be,this.hidden=new Be,this._nativeElement=_e(Qt).nativeElement,this._ngZone=_e(jt),this._document=_e(gn),this._changeDetector=_e(Po),this._ngbTooltipWindowId="ngb-tooltip-"+dre++,this._popupService=new Sm(hre),this._windowRef=null,this._positioning=Mh()}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:n,transition$:o}=this._popupService.open(this._ngbTooltip,t??this.tooltipContext,this.animation);this._windowRef=n,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,baseClass:"bs-tooltip",updatePopperOptions:s=>this.popperOptions(Th([0,6])(s))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),wh(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),o.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=sP(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&this._windowRef.setInput("tooltipClass",t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(s0(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Rn]})}return e})(),uP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),ure=(()=>{class e{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const n=fh(this.result),o=Array.isArray(this.term)?this.term:[this.term],s=u=>this.accentSensitive?u:vN(u),r=o.map(u=>function Noe(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(fh(u)))).filter(u=>u),a=this.accentSensitive?n:vN(n),l=r.length?a.split(new RegExp(`(${r.join("|")})`,"gmi")):[n];if(this.accentSensitive)this.parts=l;else{let u=0;this.parts=l.map(p=>n.substring(u,u+=p.length))}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[Rn,$i],decls:2,vars:0,consts:[[3,"class"]],template:function(n,o){1&n&&ut(0,Toe,2,1,null,null,u2),2&n&&_t(o.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}return e})();const _re=new ct("live announcer delay",{providedIn:"root",factory:()=>100});function _P(e,i=!1){let t=e.body.querySelector("#ngb-live");return null==t&&i&&(t=e.createElement("div"),t.setAttribute("id","ngb-live"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.classList.add("visually-hidden"),e.body.appendChild(t)),t}let pre=(()=>{class e{constructor(){this._document=_e(gn),this._delay=_e(_re)}ngOnDestroy(){const t=_P(this._document);t&&t.parentElement.removeChild(t)}say(t){const n=_P(this._document,!0),o=this._delay;if(null!=n){n.textContent="";const s=()=>n.textContent=t;null===o?s():setTimeout(s,o)}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gre=(()=>{class e{constructor(){this.editable=!0,this.focusFirst=!0,this.selectOnExact=!1,this.showHint=!1,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fre=(()=>{class e{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=fh,this.selectEvent=new Be,this.activeChangeEvent=new Be}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(t){this.activeIdx=t,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(t){this.selectEvent.emit(t)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(n,o){1&n&&F("mousedown",function(r){return r.preventDefault()}),2&n&&(ds("id",o.id),Ai("dropdown-menu show"+(o.popupClass?" "+o.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],standalone:!0,features:[$i],decls:4,vars:0,consts:[["rt",""],["type","button","role","option",1,"dropdown-item",3,"id","active"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){1&n&&(q(0,Eoe,1,2,"ng-template",null,0,on),ut(2,Ooe,2,9,"button",1,u2)),2&n&&(d(2),_t(o.results))},dependencies:[ure,es],encapsulation:2})}return e})(),mre=0,vre=(()=>{class e{constructor(){this._nativeElement=_e(Qt).nativeElement,this._config=_e(gre),this._live=_e(pre),this._document=_e(gn),this._ngZone=_e(jt),this._changeDetector=_e(Po),this._popupService=new Sm(fre),this._positioning=Mh(),this._subscription=null,this._closed$=new et,this._inputValueBackup=null,this._inputValueForSelectOnExact=null,this._valueChanges$=hn(this._nativeElement,"input").pipe(At(t=>t.target.value)),this._resubscribeTypeahead$=new Bn(null),this._windowRef=null,this.autocomplete="off",this.container=this._config.container,this.editable=this._config.editable,this.focusFirst=this._config.focusFirst,this.selectOnExact=this._config.selectOnExact,this.showHint=this._config.showHint,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.selectItem=new Be,this.activeDescendant=null,this.popupId="ngb-typeahead-"+mre++,this._onTouched=()=>{},this._onChange=t=>{}}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:t}){t&&!t.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}writeValue(t){this._writeInputValue(this._formatItemForInput(t)),this.showHint&&(this._inputValueBackup=t)}setDisabledState(t){this._nativeElement.disabled=t}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead$.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead$.next(null),this._onTouched()}handleKeyDown(t){if(this.isPopupOpen())switch(t.key){case"ArrowDown":t.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case"ArrowUp":t.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case"Enter":case"Tab":{const n=this._windowRef.instance.getActive();r0(n)&&(t.preventDefault(),t.stopPropagation(),this._selectResult(n)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._nativeElement.value;const{windowRef:t}=this._popupService.open();this._windowRef=t,this._windowRef.setInput("id",this.popupId),this._windowRef.setInput("popupClass",this.popupClass),this._windowRef.instance.selectEvent.subscribe(n=>this._selectResultClosePopup(n)),this._windowRef.instance.activeChangeEvent.subscribe(n=>this.activeDescendant=n),"body"===this.container&&(this._windowRef.location.nativeElement.style.zIndex="1055",this._document.body.appendChild(this._windowRef.location.nativeElement)),this._changeDetector.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._windowRef&&(this._positioning.createPopper({hostElement:this._nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,updatePopperOptions:n=>this.popperOptions(Th([0,2])(n))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),wh(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(t){let n=!1;this.selectItem.emit({item:t,preventDefault:()=>{n=!0}}),this._resubscribeTypeahead$.next(null),n||(this.writeValue(t),this._onChange(t))}_selectResultClosePopup(t){this._selectResult(t),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const t=this._inputValueBackup.toLowerCase(),n=this._formatItemForInput(this._windowRef.instance.getActive());t===n.substring(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+n.substring(this._inputValueBackup.length)),this._nativeElement.setSelectionRange.apply(this._nativeElement,[this._inputValueBackup.length,n.length])):this._writeInputValue(n)}}_formatItemForInput(t){return null!=t&&this.inputFormatter?this.inputFormatter(t):fh(t)}_writeInputValue(t){this._nativeElement.value=fh(t)}_subscribeToUserInput(){const t=this._valueChanges$.pipe(dn(n=>{this._inputValueBackup=this.showHint?n:null,this._inputValueForSelectOnExact=this.selectOnExact?n:null,this._onChange(this.editable?n:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>Rt([]));this._subscription=this._resubscribeTypeahead$.pipe(zn(()=>t)).subscribe(n=>{n&&0!==n.length?this.selectOnExact&&1===n.length&&this._formatItemForInput(n[0])===this._inputValueForSelectOnExact?(this._selectResult(n[0]),this._closePopup()):(this._openPopup(),this._windowRef.setInput("focusFirst",this.focusFirst),this._windowRef.setInput("results",n),this._windowRef.setInput("term",this._nativeElement.value),this.resultFormatter&&this._windowRef.setInput("formatter",this.resultFormatter),this.resultTemplate&&this._windowRef.setInput("resultTemplate",this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const o=n?n.length:0;this._live.say(0===o?"No results available":`${o} result${1===o?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox"],hostVars:7,hostBindings:function(n,o){1&n&&F("blur",function(){return o.handleBlur()})("keydown",function(r){return o.handleKeyDown(r)}),2&n&&(ds("autocomplete",o.autocomplete),Mn("aria-autocomplete",o.showHint?"both":"list")("aria-activedescendant",o.activeDescendant)("aria-owns",o.isPopupOpen()?o.popupId:null)("aria-expanded",o.isPopupOpen()),Ye("open",o.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",selectOnExact:"selectOnExact",showHint:"showHint",placement:"placement",popperOptions:"popperOptions",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],standalone:!0,features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Rn]})}return e})(),pP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})(),gP=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();const wre=[MN,bN,EN,AN,jN,WN,XN,qN,gP,oP,rP,aP,lP,cP,dP,hP,uP,pP];let Mre=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({imports:[wre,MN,bN,EN,AN,jN,WN,XN,qN,gP,oP,rP,aP,lP,cP,dP,hP,uP,pP]})}return e})(),m1=(()=>{class e{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(e7,16))};static#t=this.\u0275pipe=Zi({name:"safeHtml",type:e,pure:!0})}return e})();function bre(e,i){if(1&e&&(c(0,"p")(1,"b"),j(2),h()()),2&e){const t=_();d(2),Pe(t.messageBold)}}function Tre(e,i){1&e&&(k(0,"p",4),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().message),Qi)}function Sre(e,i){if(1&e&&k(0,"ngb-progressbar",9),2&e){const t=_();w("max",t.secondsTotal)("value",t.seconds)}}function Ere(e,i){if(1&e){const t=pe();c(0,"button",6),F("click",function(){return H(t),$(_().alternative())}),j(1),h()}if(2&e){const t=_();Ai(t.alternativeBtnClass),w("disabled",!t.alternativeButtonEnabled||!t.buttonsEnabled),d(),nt(" ",t.alternativeBtnCaption," ")}}let pi=(()=>{class e{constructor(t){this.activeModal=t,this.confirmClicked=new Be,this.alternativeClicked=new Be,this.title="Conferma",this.btnClass="btn-primary",this.btnCaption="Conferma",this.alternativeBtnClass="btn-secondary",this.cancelBtnClass="btn-outline-secondary",this.cancelBtnCaption="Annulla",this.buttonsEnabled=!0,this.confirmButtonEnabled=!0,this.alternativeButtonEnabled=!0,this.seconds=0,this.secondsTotal=0}cancel(){this.confirmSubject?.next(!1),this.confirmSubject?.complete(),this.activeModal.close()}confirm(){this.confirmClicked.emit(),this.confirmSubject?.next(!0),this.confirmSubject?.complete()}alternative(){this.alternativeClicked.emit(),this.alternativeSubject?.next(!0),this.alternativeSubject?.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-confirm-dialog"]],inputs:{title:"title",messageBold:"messageBold",message:"message",btnClass:"btnClass",btnCaption:"btnCaption",alternativeBtnClass:"alternativeBtnClass",alternativeBtnCaption:"alternativeBtnCaption",cancelBtnClass:"cancelBtnClass",cancelBtnCaption:"cancelBtnCaption",buttonsEnabled:"buttonsEnabled"},outputs:{confirmClicked:"confirmClicked",alternativeClicked:"alternativeClicked"},decls:19,vars:17,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"visually-hidden"],["type","dark",2,"height","1px",3,"max","value"],["type","button",1,"btn",3,"class","disabled"]],template:function(n,o){1&n&&(c(0,"div",0)(1,"h4",1),j(2),h(),c(3,"button",2),F("click",function(){return o.cancel()}),h()(),c(4,"div",3),q(5,bre,3,1,"p")(6,Tre,2,3,"p",4),h(),c(7,"div",5)(8,"button",6),F("click",function(){return o.cancel()}),c(9,"span",7),j(10),h()(),c(11,"button",6),F("click",function(){return o.confirm()}),c(12,"span"),j(13),c(14,"span",8),j(15),ot(16,"number"),h()(),q(17,Sre,1,2,"ngb-progressbar",9),h(),q(18,Ere,2,4,"button",10),h()),2&n&&(d(2),Pe(o.title),d(3),J(o.messageBold?5:-1),d(),J(o.message?6:-1),d(2),Ai(o.cancelBtnClass),w("disabled",!o.buttonsEnabled),d(2),Pe(o.cancelBtnCaption),d(),Ai(o.btnClass),w("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),d(2),nt(" ",o.btnCaption," "),d(2),nt("",io(16,14,o.seconds,"1.0-0")," seconds"),d(2),J(o.confirmButtonEnabled?-1:17),d(),J(o.alternativeBtnCaption?18:-1))},dependencies:[Oh,$8,m1]})}return e})();const Om=[{id:6,shortName:"Automatico",name:"Automatico: apprende l'assegnazione automaticamente"},{id:1,shortName:"Qualsiasi parola",name:"Qualsiasi: il documento contiene una qualunque di queste parole (separate dallo spazio)"},{id:2,shortName:"Tutte le parole",name:"Tutto: il documento contiene tutte queste parole (separate dallo spazio)"},{id:3,shortName:"Corrispondenza esatta",name:"Puntuale: il documento contiene questa stringa"},{id:4,shortName:"Espressione regolare",name:"Espressione regolare: il documento corrisponde a questa espressione regolare"},{id:5,shortName:"Parola fuzzy",name:"Fuzzy: il documento contiene una parola simile a questa "},{id:0,shortName:"Niente",name:"Niente: disabilita la corrispondenza"}];var $g=function(e){return e.ADVANCED="advanced",e.TITLE_CONTENT="title-content",e}($g||{});const Ue={LANGUAGE:"language",APP_LOGO:"app_logo",APP_TITLE:"app_title",BULK_EDIT_CONFIRMATION_DIALOGS:"general-settings:bulk-edit:confirmation-dialogs",BULK_EDIT_APPLY_ON_CLOSE:"general-settings:bulk-edit:apply-on-close",DOCUMENT_LIST_SIZE:"general-settings:documentListSize",DARK_MODE_USE_SYSTEM:"general-settings:dark-mode:use-system",DARK_MODE_ENABLED:"general-settings:dark-mode:enabled",DARK_MODE_THUMB_INVERTED:"general-settings:dark-mode:thumb-inverted",THEME_COLOR:"general-settings:theme:color",USE_NATIVE_PDF_VIEWER:"general-settings:document-details:native-pdf-viewer",DATE_LOCALE:"general-settings:date-display:date-locale",DATE_FORMAT:"general-settings:date-display:date-format",NOTIFICATIONS_CONSUMER_NEW_DOCUMENT:"general-settings:notifications:consumer-new-documents",NOTIFICATIONS_CONSUMER_SUCCESS:"general-settings:notifications:consumer-success",NOTIFICATIONS_CONSUMER_FAILED:"general-settings:notifications:consumer-failed",NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD:"general-settings:notifications:consumer-suppress-on-dashboard",NOTES_ENABLED:"general-settings:notes-enabled",AUDITLOG_ENABLED:"general-settings:auditlog-enabled",SLIM_SIDEBAR:"general-settings:slim-sidebar",UPDATE_CHECKING_ENABLED:"general-settings:update-checking:enabled",UPDATE_CHECKING_BACKEND_SETTING:"general-settings:update-checking:backend-setting",SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE:"general-settings:saved-views:warn-on-unsaved-change",DASHBOARD_VIEWS_SORT_ORDER:"general-settings:saved-views:dashboard-views-sort-order",SIDEBAR_VIEWS_SORT_ORDER:"general-settings:saved-views:sidebar-views-sort-order",TOUR_COMPLETE:"general-settings:tour-complete",DEFAULT_PERMS_OWNER:"general-settings:permissions:default-owner",DEFAULT_PERMS_VIEW_USERS:"general-settings:permissions:default-view-users",DEFAULT_PERMS_VIEW_GROUPS:"general-settings:permissions:default-view-groups",DEFAULT_PERMS_EDIT_USERS:"general-settings:permissions:default-edit-users",DEFAULT_PERMS_EDIT_GROUPS:"general-settings:permissions:default-edit-groups",DOCUMENT_EDITING_REMOVE_INBOX_TAGS:"general-settings:document-editing:remove-inbox-tags",SEARCH_DB_ONLY:"general-settings:search:db-only",SEARCH_FULL_TYPE:"general-settings:search:more-link",EMPTY_TRASH_DELAY:"trash_delay"},Pre=[{key:Ue.LANGUAGE,type:"string",default:""},{key:Ue.BULK_EDIT_CONFIRMATION_DIALOGS,type:"boolean",default:!0},{key:Ue.BULK_EDIT_APPLY_ON_CLOSE,type:"boolean",default:!1},{key:Ue.SLIM_SIDEBAR,type:"boolean",default:!1},{key:Ue.DOCUMENT_LIST_SIZE,type:"number",default:50},{key:Ue.DARK_MODE_USE_SYSTEM,type:"boolean",default:!0},{key:Ue.DARK_MODE_ENABLED,type:"boolean",default:!1},{key:Ue.DARK_MODE_THUMB_INVERTED,type:"boolean",default:!0},{key:Ue.THEME_COLOR,type:"string",default:""},{key:Ue.USE_NATIVE_PDF_VIEWER,type:"boolean",default:!1},{key:Ue.DATE_LOCALE,type:"string",default:""},{key:Ue.DATE_FORMAT,type:"string",default:"mediumDate"},{key:Ue.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,type:"boolean",default:!0},{key:Ue.NOTIFICATIONS_CONSUMER_SUCCESS,type:"boolean",default:!0},{key:Ue.NOTIFICATIONS_CONSUMER_FAILED,type:"boolean",default:!0},{key:Ue.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,type:"boolean",default:!0},{key:Ue.NOTES_ENABLED,type:"boolean",default:!0},{key:Ue.AUDITLOG_ENABLED,type:"boolean",default:!0},{key:Ue.UPDATE_CHECKING_ENABLED,type:"boolean",default:!1},{key:Ue.UPDATE_CHECKING_BACKEND_SETTING,type:"string",default:""},{key:Ue.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,type:"boolean",default:!0},{key:Ue.TOUR_COMPLETE,type:"boolean",default:!1},{key:Ue.DEFAULT_PERMS_OWNER,type:"number",default:void 0},{key:Ue.DEFAULT_PERMS_VIEW_USERS,type:"array",default:[]},{key:Ue.DEFAULT_PERMS_VIEW_GROUPS,type:"array",default:[]},{key:Ue.DEFAULT_PERMS_EDIT_USERS,type:"array",default:[]},{key:Ue.DEFAULT_PERMS_EDIT_GROUPS,type:"array",default:[]},{key:Ue.DASHBOARD_VIEWS_SORT_ORDER,type:"array",default:[]},{key:Ue.SIDEBAR_VIEWS_SORT_ORDER,type:"array",default:[]},{key:Ue.APP_LOGO,type:"string",default:""},{key:Ue.APP_TITLE,type:"string",default:""},{key:Ue.DOCUMENT_EDITING_REMOVE_INBOX_TAGS,type:"boolean",default:!1},{key:Ue.SEARCH_DB_ONLY,type:"boolean",default:!1},{key:Ue.SEARCH_FULL_TYPE,type:"string",default:$g.TITLE_CONTENT},{key:Ue.EMPTY_TRASH_DELAY,type:"number",default:30}];class Bg{}class Gg{}class Xr{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const o=t.slice(0,n),s=o.toLowerCase(),r=t.slice(n+1).trim();this.maybeSetNormalizedName(o,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof Xr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new Xr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,t);const o=("a"===i.op?this.headers.get(t):void 0)||[];o.push(...n),this.headers.set(t,o);break;case"d":const s=i.value;if(s){let r=this.headers.get(t);if(!r)return;r=r.filter(a=>-1===s.indexOf(a)),0===r.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const n=(Array.isArray(t)?t:[t]).map(s=>s.toString()),o=i.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class Ire{encodeKey(i){return fP(i)}encodeValue(i){return fP(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const xre=/%(\d[a-f0-9])/gi,Rre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fP(e){return encodeURIComponent(e).replace(xre,(i,t)=>Rre[t]??i)}function Ug(e){return`${e}`}class Mr{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Ire,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Lre(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const s=o.indexOf("="),[r,a]=-1==s?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,s)),i.decodeValue(o.slice(s+1))],l=t.get(r)||[];l.push(a),t.set(r,l)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const n=i.fromObject[t],o=Array.isArray(n)?n.map(Ug):[Ug(n)];this.map.set(t,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(n=>{const o=i[n];Array.isArray(o)?o.forEach(s=>{t.push({param:n,value:s,op:"a"})}):t.push({param:n,value:o,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Mr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(Ug(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const o=n.indexOf(Ug(i.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Fre{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function mP(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function vP(e){return typeof Blob<"u"&&e instanceof Blob}function CP(e){return typeof FormData<"u"&&e instanceof FormData}class Nh{constructor(i,t,n,o){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function kre(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,s=o):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Xr,this.context??=new Fre,this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+r}}else this.params=new Mr,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||mP(this.body)||vP(this.body)||CP(this.body)||function zre(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Mr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CP(this.body)?null:vP(this.body)?this.body.type||null:mP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,n=i.url||this.url,o=i.responseType||this.responseType,s=i.transferCache??this.transferCache,r=void 0!==i.body?i.body:this.body,a=i.withCredentials??this.withCredentials,l=i.reportProgress??this.reportProgress;let u=i.headers||this.headers,p=i.params||this.params;const v=i.context??this.context;return void 0!==i.setHeaders&&(u=Object.keys(i.setHeaders).reduce((L,z)=>L.set(z,i.setHeaders[z]),u)),i.setParams&&(p=Object.keys(i.setParams).reduce((L,z)=>L.set(z,i.setParams[z]),p)),new Nh(t,n,r,{params:p,headers:u,context:v,reportProgress:l,responseType:o,withCredentials:a,transferCache:s})}}var X1=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(X1||{});class ym{constructor(i,t=200,n="OK"){this.headers=i.headers||new Xr,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class Zg extends ym{constructor(i={}){super(i),this.type=X1.ResponseHeader}clone(i={}){return new Zg({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class fl extends ym{constructor(i={}){super(i),this.type=X1.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new fl({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class D5 extends ym{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Dm(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Fi=(()=>{class e{constructor(t){this.handler=t}request(t,n,o={}){let s;if(t instanceof Nh)s=t;else{let l,u;l=o.headers instanceof Xr?o.headers:new Xr(o.headers),o.params&&(u=o.params instanceof Mr?o.params:new Mr({fromObject:o.params})),s=new Nh(t,n,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const r=Rt(s).pipe(Qc(l=>this.handler.handle(l)));if(t instanceof Nh||"events"===o.observe)return r;const a=r.pipe($n(l=>l instanceof fl));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(At(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(At(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(At(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(At(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Mr).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,o={}){return this.request("PATCH",t,Dm(o,n))}post(t,n,o={}){return this.request("POST",t,Dm(o,n))}put(t,n,o={}){return this.request("PUT",t,Dm(o,n))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Bg))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const $re=/^\)\]\}',?\n/;function MP(e){if(e.url)return e.url;const i="X-Request-URL".toLocaleLowerCase();return e.headers.get(i)}let Nm=(()=>{class e{constructor(){this.fetchImpl=_e(Gre,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=_e(jt)}handle(t){return new mn(n=>{const o=new AbortController;return this.doRequest(t,o.signal,n).then(Pm,s=>n.error(new D5({error:s}))),()=>o.abort()})}doRequest(t,n,o){var s=this;return Kc(function*(){const r=s.createRequestInit(t);let a;try{const ie=s.fetchImpl(t.urlWithParams,{signal:n,...r});(function Ure(e){e.then(Pm,Pm)})(ie),o.next({type:X1.Sent}),a=yield ie}catch(ie){return void o.error(new D5({error:ie,status:ie.status??0,statusText:ie.statusText,url:t.urlWithParams,headers:ie.headers}))}const l=new Xr(a.headers),u=a.statusText,p=MP(a)??t.urlWithParams;let v=a.status,L=null;if(t.reportProgress&&o.next(new Zg({headers:l,status:v,statusText:u,url:p})),a.body){const ie=a.headers.get("content-length"),se=[],he=a.body.getReader();let we,Fe,be=0;const Ae=typeof Zone<"u"&&Zone.current;yield s.ngZone.runOutsideAngular(Kc(function*(){for(;;){const{done:pt,value:gt}=yield he.read();if(pt)break;if(se.push(gt),be+=gt.length,t.reportProgress){Fe="text"===t.responseType?(Fe??"")+(we??=new TextDecoder).decode(gt,{stream:!0}):void 0;const Mt=()=>o.next({type:X1.DownloadProgress,total:ie?+ie:void 0,loaded:be,partialText:Fe});Ae?Ae.run(Mt):Mt()}}}));const Qe=s.concatChunks(se,be);try{const pt=a.headers.get("Content-Type")??"";L=s.parseBody(t,Qe,pt)}catch(pt){return void o.error(new D5({error:pt,headers:new Xr(a.headers),status:a.status,statusText:a.statusText,url:MP(a)??t.urlWithParams}))}}0===v&&(v=L?200:0),v>=200&&v<300?(o.next(new fl({body:L,headers:l,status:v,statusText:u,url:p})),o.complete()):o.error(new D5({error:L,headers:l,status:v,statusText:u,url:p}))})()}parseBody(t,n,o){switch(t.responseType){case"json":const s=(new TextDecoder).decode(n).replace($re,"");return""===s?null:JSON.parse(s);case"text":return(new TextDecoder).decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(t){const n={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((s,r)=>n[s]=r.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){const s=t.detectContentTypeHeader();null!==s&&(n["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:o}}concatChunks(t,n){const o=new Uint8Array(n);let s=0;for(const r of t)o.set(r,s),s+=r.length;return o}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();class Gre{}function Pm(){}function bP(e,i){return i(e)}function Zre(e,i){return(t,n)=>i.intercept(t,{handle:o=>e(o,n)})}const Im=new ct(""),Ph=new ct(""),TP=new ct(""),SP=new ct("",{providedIn:"root",factory:()=>!0});function Wre(){let e=null;return(i,t)=>{null===e&&(e=(_e(Im,{optional:!0})??[]).reduceRight(Zre,bP));const n=_e(da);if(_e(SP)){const s=n.add();return e(i,t).pipe(k2(()=>n.remove(s)))}return e(i,t)}}let EP=(()=>{class e extends Bg{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=_e(da),this.contributeToStability=_e(SP)}handle(t){if(null===this.chain){const n=Array.from(new Set([...this.injector.get(Ph),...this.injector.get(TP,[])]));this.chain=n.reduceRight((o,s)=>function jre(e,i,t){return(n,o)=>Fr(t,()=>i(n,s=>e(s,o)))}(o,s,this.injector),bP)}if(this.contributeToStability){const n=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(k2(()=>this.pendingTasks.remove(n)))}return this.chain(t,n=>this.backend.handle(n))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Gg),Ke(Ao))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const Jre=/^\)\]\}',?\n/;let OP=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new tt(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?xi(n.\u0275loadImpl()):Rt(null)).pipe(zn(()=>new mn(s=>{const r=n.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((se,he)=>r.setRequestHeader(se,he.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const se=t.detectContentTypeHeader();null!==se&&r.setRequestHeader("Content-Type",se)}if(t.responseType){const se=t.responseType.toLowerCase();r.responseType="json"!==se?se:"text"}const a=t.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const se=r.statusText||"OK",he=new Xr(r.getAllResponseHeaders()),be=function Qre(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||t.url;return l=new Zg({headers:he,status:r.status,statusText:se,url:be}),l},p=()=>{let{headers:se,status:he,statusText:be,url:we}=u(),Fe=null;204!==he&&(Fe=typeof r.response>"u"?r.responseText:r.response),0===he&&(he=Fe?200:0);let Ae=he>=200&&he<300;if("json"===t.responseType&&"string"==typeof Fe){const Qe=Fe;Fe=Fe.replace(Jre,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(pt){Fe=Qe,Ae&&(Ae=!1,Fe={error:pt,text:Fe})}}Ae?(s.next(new fl({body:Fe,headers:se,status:he,statusText:be,url:we||void 0})),s.complete()):s.error(new D5({error:Fe,headers:se,status:he,statusText:be,url:we||void 0}))},v=se=>{const{url:he}=u(),be=new D5({error:se,status:r.status||0,statusText:r.statusText||"Unknown Error",url:he||void 0});s.error(be)};let L=!1;const z=se=>{L||(s.next(u()),L=!0);let he={type:X1.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(he.total=se.total),"text"===t.responseType&&r.responseText&&(he.partialText=r.responseText),s.next(he)},ie=se=>{let he={type:X1.UploadProgress,loaded:se.loaded};se.lengthComputable&&(he.total=se.total),s.next(he)};return r.addEventListener("load",p),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),t.reportProgress&&(r.addEventListener("progress",z),null!==a&&r.upload&&r.upload.addEventListener("progress",ie)),r.send(a),s.next({type:X1.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",p),r.removeEventListener("timeout",v),t.reportProgress&&(r.removeEventListener("progress",z),null!==a&&r.upload&&r.upload.removeEventListener("progress",ie)),r.readyState!==r.DONE&&r.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(nO))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const Lm=new ct(""),yP=new ct("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),DP=new ct("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class NP{}let n1e=(()=>{class e{constructor(t,n,o){this.doc=t,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=UA(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn),Ke(cr),Ke(yP))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();function i1e(e,i){const t=e.url.toLowerCase();if(!_e(Lm)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return i(e);const n=_e(NP).getToken(),o=_e(DP);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),i(e)}var l0=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(l0||{});function o1e(...e){const i=[Fi,OP,EP,{provide:Bg,useExisting:EP},{provide:Gg,useFactory:()=>_e(Nm,{optional:!0})??_e(OP)},{provide:Ph,useValue:i1e,multi:!0},{provide:Lm,useValue:!0},{provide:NP,useClass:n1e}];for(const t of e)i.push(...t.\u0275providers);return function hd(e){return{\u0275providers:e}}(i)}const PP=new ct("");function s1e(){return function ml(e,i){return{\u0275kind:e,\u0275providers:i}}(l0.LegacyInterceptors,[{provide:PP,useFactory:Wre},{provide:Ph,useExisting:PP,multi:!0}])}class VP extends et{constructor(i=1/0,t=1/0,n=J7){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:r}=this;t||(n.push(i),!o&&n.push(s.now()+r)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:o}=this,s=o.slice();for(let r=0;r<s.length&&!i.closed;r+=n?1:2)i.next(s[r]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:o}=this,s=(o?1:2)*i;if(i<1/0&&s<n.length&&n.splice(0,n.length-s),!o){const r=t.now();let a=0;for(let l=1;l<n.length&&n[l]<=r;l+=2)a=l;a&&n.splice(0,a+1)}}}const g1e={connector:()=>new et};function v1e(e,i,t,n){t&&!Ie(t)&&(n=t);const o=Ie(t)?t:void 0;return s=>function m1e(e,i){const t=Ie(e)?e:()=>e;return Ie(i)?function f1e(e,i=g1e){const{connector:t}=i;return ti((n,o)=>{const s=t();ji(e(function p1e(e){return new mn(i=>e.subscribe(i))}(s))).subscribe(o),o.add(n.subscribe(s))})}(i,{connector:t}):n=>new l7(n,t)}(new VP(e,i,n),o)(s)}class Sa{constructor(i,t){this.http=i,this.resourceName=t,this.baseUrl=wi.apiBaseUrl}getResourceUrl(i=null,t=null){let n=`${this.baseUrl}${this.resourceName}/`;return null!==i&&(n+=`${i}/`),t&&(n+=`${t}/`),n}getOrderingQueryParam(i,t){return i?(t?"-":"")+i:null}list(i,t,n,o,s){let r=new Mr;i&&(r=r.set("page",i.toString())),t&&(r=r.set("page_size",t.toString()));let a=this.getOrderingQueryParam(n,o);a&&(r=r.set("ordering",a));for(let l in s)null!=s[l]&&(r=r.set(l,s[l]));return this.http.get(this.getResourceUrl(),{params:r})}listAll(i,t,n){return this._listAll||(this._listAll=this.list(1,1e5,i,t,n).pipe(v1e(1),Up())),this._listAll}getCached(i){return this.listAll().pipe(At(t=>t.results.find(n=>n.id==i)))}getCachedMany(i){return this.listAll().pipe(At(t=>i.map(n=>t.results.find(o=>o.id==n))))}getFew(i,t){let n=new Mr;n=n.set("id__in",i.join(",")),n=n.set("ordering","-id");for(let o in t)null!=t[o]&&(n=n.set(o,t[o]));return this.http.get(this.getResourceUrl(),{params:n})}clearCache(){this._listAll=null}get(i){return this.http.get(this.getResourceUrl(i))}create(i){return this.clearCache(),this.http.post(this.getResourceUrl(),i)}delete(i){return this.clearCache(),this.http.delete(this.getResourceUrl(i.id))}update(i){return this.clearCache(),this.http.put(this.getResourceUrl(i.id),i)}patch(i){return this.clearCache(),this.http.patch(this.getResourceUrl(i.id),i)}}var Wg=function(e){return e.SetPermissions="set_permissions",e.Delete="delete",e}(Wg||{});class vl extends Sa{listFiltered(i,t,n,o,s,r,a){let l=a??{};return s&&(l.name__icontains=s),r&&(l.full_perms=!0),this.list(i,t,n,o,l)}bulk_edit_objects(i,t,n=null,o=null){const s={objects:i,object_type:this.resourceName,operation:t};return t===Wg.SetPermissions&&(s.owner=n?.owner,s.permissions=n?.set_permissions,s.merge=o),this.http.post(`${this.baseUrl}bulk_edit_objects/`,s)}}var Nt=function(e){return e.Add="add",e.View="view",e.Change="change",e.Delete="delete",e}(Nt||{}),It=function(e){return e.Document="%s_document",e.Tag="%s_tag",e.Correspondent="%s_correspondent",e.DocumentType="%s_documenttype",e.StoragePath="%s_storagepath",e.SavedView="%s_savedview",e.PaperlessTask="%s_paperlesstask",e.AppConfig="%s_applicationconfiguration",e.UISettings="%s_uisettings",e.History="%s_logentry",e.Note="%s_note",e.MailAccount="%s_mailaccount",e.MailRule="%s_mailrule",e.User="%s_user",e.Group="%s_group",e.ShareLink="%s_sharelink",e.CustomField="%s_customfield",e.Workflow="%s_workflow",e}(It||{});let Xn=(()=>{class e{initialize(t,n){this.permissions=t,this.currentUser=n}currentUserCan(t,n){return this.currentUser?.is_superuser||this.permissions?.includes(this.getPermissionCode(t,n))}isAdmin(){return this.currentUser?.is_staff}currentUserOwnsObject(t){return!t||!t.owner||this.currentUser.is_superuser||t.owner===this.currentUser.id}currentUserHasObjectPermissions(t,n){return t===Nt.View?this.currentUserOwnsObject(n)||n.permissions?.view.users.includes(this.currentUser.id)||n.permissions?.view.groups.filter(o=>this.currentUser.groups.includes(o)).length>0:t===Nt.Change?this.currentUserOwnsObject(n)||n.user_can_change||n.permissions?.change.users.includes(this.currentUser.id)||n.permissions?.change.groups.filter(o=>this.currentUser.groups.includes(o)).length>0:void 0}getPermissionCode(t,n){return n.replace("%s",t)}getPermissionKeys(t){const n=t.match(/(.+)_/);let o,s;if(n?.length>0){const r=n[1],a=Object.values(Nt).indexOf(r);a>-1&&(s=Object.keys(Nt)[a]);const l=Object.values(It).indexOf(t.replace(r,"%s"));l>-1&&(o=Object.keys(It)[l])}return{actionKey:s,typeKey:o}}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vo=(()=>{class e extends vl{constructor(t,n){super(t,"users"),this.permissionService=n}update(t){return this.getCached(t.id).pipe(zn(n=>(n.user_permissions?.forEach(o=>{const{typeKey:s,actionKey:r}=this.permissionService.getPermissionKeys(o);(!s||!r)&&t.user_permissions.push(o)}),super.update(t))))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi),Ke(Xn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Rm(e){var i=Math.floor(e).toString(16);return 1==i.length?"0"+i:i}function HP(e){let i=(e=e.replace("#","")).match(/.{1,2}/g);return{r:parseInt(i[0],16),g:parseInt(i[1],16),b:parseInt(i[2],16)}}function $P(){let e=function C1e(e,i,t){var n,o,s;if(0==i)n=o=s=t;else{let l=function(u,p,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?u+6*(p-u)*v:v<.5?p:v<2/3?u+(p-u)*(2/3-v)*6:u};var r=t<.5?t*(1+i):t+i-t*i,a=2*t-r;n=l(a,r,e+1/3),o=l(a,r,e),s=l(a,r,e-1/3)}return[255*n,255*o,255*s]}(Math.random(),.6,.4*Math.random()+.4);return`#${Rm(e[0])}${Rm(e[1])}${Rm(e[2])}`}var N5=function(e){return e.TABLE="table",e.SMALL_CARDS="smallCards",e.LARGE_CARDS="largeCards",e}(N5||{}),Jn=function(e){return e.TITLE="title",e.CREATED="created",e.ADDED="added",e.TAGS="tag",e.CORRESPONDENT="correspondent",e.DOCUMENT_TYPE="documenttype",e.STORAGE_PATH="storagepath",e.CUSTOM_FIELD="custom_field_",e.NOTES="note",e.OWNER="owner",e.SHARED="shared",e.ASN="asn",e}(Jn||{});const Ih=[{id:Jn.TITLE,name:"Titolo"},{id:Jn.CREATED,name:"Creato"},{id:Jn.ADDED,name:"Aggiunto"},{id:Jn.TAGS,name:"Etichette"},{id:Jn.CORRESPONDENT,name:"Corrispondente"},{id:Jn.DOCUMENT_TYPE,name:"Tipo di documento"},{id:Jn.STORAGE_PATH,name:"Percorso archiviazione"},{id:Jn.NOTES,name:"Note"},{id:Jn.OWNER,name:"Proprietario"},{id:Jn.SHARED,name:"Condiviso"},{id:Jn.ASN,name:"ASN"}],S1e=[{field:"archive_serial_number",name:"ASN"},{field:"correspondent__name",name:"Corrispondente"},{field:"title",name:"Titolo"},{field:"document_type__name",name:"Tipo di documento"},{field:"created",name:"Creato"},{field:"added",name:"Aggiunto"},{field:"modified",name:"Modificato"},{field:"num_notes",name:"Note"},{field:"owner",name:"Proprietario"}],E1e=[{field:"score",name:"Rilevanza ricerca"}];let Fm=(()=>{class e{constructor(t,n){this.document=t,this.platformId=n,this.documentIsAccessible=Xc(this.platformId)}static getCookieRegExp(t){const n=t.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+n+"|;\\s*"+n+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),e.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const o=e.getCookieRegExp(t).exec(this.document.cookie);return o[1]?e.safeDecodeURIComponent(o[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},n=this.document;return n.cookie&&""!==n.cookie&&n.cookie.split(";").forEach(o=>{const[s,r]=o.split("=");t[e.safeDecodeURIComponent(s.replace(/^ /,""))]=e.safeDecodeURIComponent(r)}),t}set(t,n,o,s,r,a,l,u){if(!this.documentIsAccessible)return;if("number"==typeof o||o instanceof Date||s||r||a||l)return void this.set(t,n,{expires:o,path:s,domain:r,secure:a,sameSite:l||"Lax",partitioned:u});let p=encodeURIComponent(t)+"="+encodeURIComponent(n)+";";const v=o||{};v.expires&&(p+="number"==typeof v.expires?"expires="+new Date((new Date).getTime()+1e3*v.expires*60*60*24).toUTCString()+";":"expires="+v.expires.toUTCString()+";"),v.path&&(p+="path="+v.path+";"),v.domain&&(p+="domain="+v.domain+";"),!1===v.secure&&"None"===v.sameSite&&(v.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),v.secure&&(p+="secure;"),v.sameSite||(v.sameSite="Lax"),p+="sameSite="+v.sameSite+";",v.partitioned&&(p+="Partitioned;"),this.document.cookie=p}delete(t,n,o,s,r="Lax"){this.documentIsAccessible&&this.set(t,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:n,domain:o,secure:s,sameSite:r})}deleteAll(t,n,o,s="Lax"){if(!this.documentIsAccessible)return;const r=this.getAll();for(const a in r)r.hasOwnProperty(a)&&this.delete(a,t,n,o,s)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn),Ke(cr))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ki=(()=>{class e{constructor(){this.toasts=[],this.toastsSubject=new et}show(t){this.toasts.push(t),this.toastsSubject.next(this.toasts)}showError(t,n=null,o=1e4){this.show({content:t,delay:o,classname:"error",error:n})}showInfo(t,n=5e3){this.show({content:t,delay:n})}closeToast(t){let n=this.toasts.findIndex(o=>o==t);n>-1&&(this.toasts.splice(n,1),this.toastsSubject.next(this.toasts))}getToasts(){return this.toastsSubject}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ea=(()=>{class e extends Sa{constructor(t){super(t,"custom_fields")}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const A1e=[{code:"en-us",name:"Inglese (US)",englishName:"English (US)",dateInputFormat:"mm/dd/yyyy"},{code:"af-za",name:"Afrikaans",englishName:"Afrikaans",dateInputFormat:"yyyy-mm-dd"},{code:"ar-ar",name:"Arabo",englishName:"Arabic",dateInputFormat:"yyyy-mm-dd"},{code:"be-by",name:"Bielorusso",englishName:"Belarusian",dateInputFormat:"dd.mm.yyyy"},{code:"bg-bg",name:"Bulgaro",englishName:"Bulgarian",dateInputFormat:"dd.mm.yyyy"},{code:"ca-es",name:"Catalano",englishName:"Catalan",dateInputFormat:"dd/mm/yyyy"},{code:"cs-cz",name:"Ceco",englishName:"Czech",dateInputFormat:"dd.mm.yyyy"},{code:"da-dk",name:"Danese",englishName:"Danish",dateInputFormat:"dd.mm.yyyy"},{code:"de-de",name:"Tedesco",englishName:"German",dateInputFormat:"dd.mm.yyyy"},{code:"el-gr",name:"Greco",englishName:"Greek",dateInputFormat:"dd/mm/yyyy"},{code:"en-gb",name:"Inglese (GB)",englishName:"English (GB)",dateInputFormat:"dd/mm/yyyy"},{code:"es-es",name:"Spagnolo",englishName:"Spanish",dateInputFormat:"dd/mm/yyyy"},{code:"fi-fi",name:"Finlandese",englishName:"Finnish",dateInputFormat:"dd.mm.yyyy"},{code:"fr-fr",name:"Francese",englishName:"French",dateInputFormat:"dd/mm/yyyy"},{code:"hu-hu",name:"Ungherese",englishName:"Hungarian",dateInputFormat:"yyyy.mm.dd"},{code:"it-it",name:"Italiano",englishName:"Italian",dateInputFormat:"dd/mm/yyyy"},{code:"ja-jp",name:"Giapponese",englishName:"Japanese",dateInputFormat:"yyyy/mm/dd"},{code:"lb-lu",name:"Lussemburghese",englishName:"Luxembourgish",dateInputFormat:"dd.mm.yyyy"},{code:"nl-nl",name:"Olandese",englishName:"Dutch",dateInputFormat:"dd-mm-yyyy"},{code:"no-no",name:"Norvegese",englishName:"Norwegian",dateInputFormat:"dd.mm.yyyy"},{code:"pl-pl",name:"Polacco",englishName:"Polish",dateInputFormat:"dd.mm.yyyy"},{code:"pt-br",name:"Portoghese (Brasile)",englishName:"Portuguese (Brazil)",dateInputFormat:"dd/mm/yyyy"},{code:"pt-pt",name:"Portoghese",englishName:"Portuguese",dateInputFormat:"dd/mm/yyyy"},{code:"ro-ro",name:"Rumeno",englishName:"Romanian",dateInputFormat:"dd.mm.yyyy"},{code:"ru-ru",name:"Russo",englishName:"Russian",dateInputFormat:"dd.mm.yyyy"},{code:"sk-sk",name:"Slovacco",englishName:"Slovak",dateInputFormat:"dd.mm.yyyy"},{code:"sl-si",name:"Sloveno",englishName:"Slovenian",dateInputFormat:"dd.mm.yyyy"},{code:"sr-cs",name:"Serbo",englishName:"Serbian",dateInputFormat:"dd.mm.yyyy"},{code:"sv-se",name:"Svedese",englishName:"Swedish",dateInputFormat:"yyyy-mm-dd"},{code:"tr-tr",name:"Turco",englishName:"Turkish",dateInputFormat:"yyyy-mm-dd"},{code:"uk-ua",name:"Ucraino",englishName:"Ukrainian",dateInputFormat:"dd.mm.yyyy"},{code:"zh-cn",name:"Cinese semplificato",englishName:"Chinese Simplified",dateInputFormat:"yyyy-mm-dd"}],O1e={code:"iso-8601",name:"ISO 8601",dateInputFormat:"yyyy-mm-dd"};let Tn=(()=>{class e{get renderer(){return this._renderer}get allDisplayFields(){return this._allDisplayFields}constructor(t,n,o,s,r,a,l,u,p){this.document=n,this.cookieService=o,this.meta=s,this.localeId=r,this.http=a,this.toastService=l,this.permissionsService=u,this.customFieldsService=p,this.baseUrl=wi.apiBaseUrl+"ui_settings/",this.settings={},this.settingsSaved=new Be,this.dashboardIsEmpty=!1,this.globalDropzoneEnabled=!0,this.globalDropzoneActive=!1,this.organizingSidebarSavedViews=!1,this._allDisplayFields=Ih,this.displayFieldsInitialized=!1,this._renderer=t.createRenderer(null,null)}initializeSettings(){return this.http.get(this.baseUrl).pipe(wt(),dn(t=>{Object.assign(this.settings,t.settings),this.get(Ue.APP_TITLE)?.length&&(wi.appTitle=this.get(Ue.APP_TITLE)),this.maybeMigrateSettings(),this.settings.language?.length&&this.setLanguage(this.settings.language),this.currentUser=t.user,this.permissionsService.initialize(t.permissions,this.currentUser),this.initializeDisplayFields()}))}initializeDisplayFields(){this._allDisplayFields=Ih,this._allDisplayFields=this._allDisplayFields?.map(t=>{if(t.id===Jn.NOTES&&!this.get(Ue.NOTES_ENABLED))return null;if([Jn.TITLE,Jn.CREATED,Jn.ADDED,Jn.ASN,Jn.SHARED].includes(t.id))return t;let n=Object.values(It).find(o=>o.includes(t.id));return t.id===Jn.OWNER&&(n=It.User),this.permissionsService.currentUserCan(Nt.View,n)?t:null}).filter(t=>t),this.permissionsService.currentUserCan(Nt.View,It.CustomField)?this.customFieldsService.listAll().subscribe(t=>{this._allDisplayFields=this._allDisplayFields.concat(t.results.map(n=>({id:`${Jn.CUSTOM_FIELD}${n.id}`,name:n.name}))),this.displayFieldsInitialized=!0}):this.displayFieldsInitialized=!0}get displayName(){return(this.currentUser.first_name??this.currentUser.username??"").trim()}updateAppearanceSettings(t=null,n=null,o=null){if(t??=this.get(Ue.DARK_MODE_USE_SYSTEM),n??=this.get(Ue.DARK_MODE_ENABLED),o??=this.get(Ue.THEME_COLOR),this._renderer.setAttribute(this.document.documentElement,"data-bs-theme",t?"auto":n?"dark":"light"),o){const s=function M1e(e){const i=HP(e),t=function w1e(e,i,t){e/=255,i/=255,t/=255;var s,r,n=Math.max(e,i,t),o=Math.min(e,i,t),a=(n+o)/2;if(n==o)s=r=0;else{var l=n-o;switch(r=a>.5?l/(2-n-o):l/(n+o),n){case e:s=(i-t)/l+(i<t?6:0);break;case i:s=(t-e)/l+2;break;case t:s=(e-i)/l+4}s/=6}return[s,r,a]}(i.r,i.g,i.b);return{h:t[0],s:t[1],l:t[2]}}(o);"dark"==function T1e(e){const t=function b1e(e){const i=Object.keys(e);for(var t=0;t<3;t++){var n=e[i[t]];n=(n/=255)<.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),e[t]=n}return.2126*e[0]+.7152*e[1]+.0722*e[2]}(HP(e));return(t+.05)*(t+.05)>.15?"light":"dark"}(o)?(this._renderer.addClass(this.document.body,"primary-dark"),this._renderer.removeClass(this.document.body,"primary-light")):(this._renderer.addClass(this.document.body,"primary-light"),this._renderer.removeClass(this.document.body,"primary-dark")),document.documentElement.style.setProperty("--pngx-primary",`${360*+s.h},${100*s.s}%`),document.documentElement.style.setProperty("--pngx-primary-lightness",100*s.l+"%")}else this._renderer.removeClass(this.document.body,"primary-dark"),this._renderer.removeClass(this.document.body,"primary-light"),document.documentElement.style.removeProperty("--pngx-primary"),document.documentElement.style.removeProperty("--pngx-primary-lightness")}getLanguageOptions(){return A1e.sort((t,n)=>t.name<n.name?-1:1)}getDateLocaleOptions(){return[O1e].concat(this.getLanguageOptions())}getLanguageCookieName(){let t="";return this.meta.getTag("name=cookie_prefix")&&(t=this.meta.getTag("name=cookie_prefix").content),`${t||""}django_language`}getLanguage(){return this.get(Ue.LANGUAGE)}setLanguage(t){this.set(Ue.LANGUAGE,t),t?.length?this.cookieService.set(this.getLanguageCookieName(),t):this.cookieService.delete(this.getLanguageCookieName())}getLocalizedDateInputFormat(){let t=this.get(Ue.DATE_LOCALE)||this.getLanguage()||this.localeId.toLowerCase();return this.getDateLocaleOptions().find(n=>n.code==t)?.dateInputFormat||"yyyy-mm-dd"}getSettingRawValue(t){let n;const o=t.replace("general-settings:","").split(":");let s=this.settings;return o.forEach((r,a)=>{r=r.replace(/-/g,"_"),s.hasOwnProperty(r)&&(a==o.length-1?n=s[r]:s=s[r])}),n}get(t){let n=Pre.find(s=>s.key==t);if(!n)return;let o=this.getSettingRawValue(t);if(t===Ue.DEFAULT_PERMS_OWNER&&void 0===o)return this.currentUser.id;if(void 0===o)return n.default;if(null===o)return null;switch(n.type){case"boolean":return JSON.parse(o);case"number":return+o;default:return o}}set(t,n){let o=this.settings;const s=t.replace("general-settings:","").split(":");s.forEach((r,a)=>{r=r.replace(/-/g,"_"),o.hasOwnProperty(r)||(o[r]={}),a==s.length-1?o[r]=n:o=o[r]})}settingIsSet(t){return null!=this.getSettingRawValue(t)}storeSettings(){return this.http.post(this.baseUrl,{settings:this.settings}).pipe(dn(t=>{t.success&&this.settingsSaved.emit()}))}maybeMigrateSettings(){if(!this.settings.hasOwnProperty("documentListSize")&&localStorage.getItem(Ue.DOCUMENT_LIST_SIZE)){const t="La migrazione delle impostazioni al database \xE8 stata completata con successo!",n="Impossibile migrare le impostazioni nel database, prova a salvare manualmente.";try{for(const o in Ue){const s=Ue[o],r=localStorage.getItem(s);this.set(s,r)}this.set(Ue.LANGUAGE,this.cookieService.get(this.getLanguageCookieName()))}catch(o){this.toastService.showError(n),console.log(o)}this.storeSettings().pipe(wt()).subscribe({next:()=>{this.updateAppearanceSettings(),this.toastService.showInfo(t)},error:o=>{this.toastService.showError(n),console.log(o)}})}!this.settingIsSet(Ue.UPDATE_CHECKING_ENABLED)&&"default"!=this.get(Ue.UPDATE_CHECKING_BACKEND_SETTING)&&(this.set(Ue.UPDATE_CHECKING_ENABLED,"true"===this.get(Ue.UPDATE_CHECKING_BACKEND_SETTING).toString()),this.storeSettings().pipe(wt()).subscribe({error:t=>{this.toastService.showError("Error migrating update checking setting"),console.log(t)}}))}get updateCheckingIsSet(){return this.settingIsSet(Ue.UPDATE_CHECKING_ENABLED)}offerTour(){return this.dashboardIsEmpty&&!this.get(Ue.TOUR_COMPLETE)}completeTour(){this.get(Ue.TOUR_COMPLETE)||(this.set(Ue.TOUR_COMPLETE,!0),this.storeSettings().pipe(wt()).subscribe(()=>{this.toastService.showInfo("Puoi riavviare il tour dalla pagina delle impostazioni.")}))}updateDashboardViewsSort(t){return this.set(Ue.DASHBOARD_VIEWS_SORT_ORDER,[...new Set(t.map(n=>n.id))]),this.storeSettings()}updateSidebarViewsSort(t){return this.set(Ue.SIDEBAR_VIEWS_SORT_ORDER,[...new Set(t.map(n=>n.id))]),this.storeSettings()}static#e=this.\u0275fac=function(n){return new(n||e)(Ke($0),Ke(gn),Ke(Fm),Ke(bO),Ke(Ss),Ke(Fi),Ke(ki),Ke(Xn),Ke(Ea))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vn=function(e){return e[e.CREATE=0]="CREATE",e[e.EDIT=1]="EDIT",e}(Vn||{});let K1=(()=>{class e{constructor(t,n,o,s){this.service=t,this.activeModal=n,this.userService=o,this.settingsService=s,this.dialogMode=Vn.CREATE,this.succeeded=new Be,this.failed=new Be,this.networkActive=!1,this.closeEnabled=!1,this.error=null,this.objectForm=this.getForm()}ngOnInit(){null!=this.object&&this.dialogMode!==Vn.CREATE?(this.object.permissions&&(this.object.set_permissions=this.object.permissions),this.object.permissions_form={owner:this.object.owner,set_permissions:this.object.permissions},this.objectForm.patchValue(this.object)):(this.objectForm.patchValue(this.object),this.objectForm.patchValue({permissions_form:{owner:this.settingsService.get(Ue.DEFAULT_PERMS_OWNER),set_permissions:{view:{users:this.settingsService.get(Ue.DEFAULT_PERMS_VIEW_USERS),groups:this.settingsService.get(Ue.DEFAULT_PERMS_VIEW_GROUPS)},change:{users:this.settingsService.get(Ue.DEFAULT_PERMS_EDIT_USERS),groups:this.settingsService.get(Ue.DEFAULT_PERMS_EDIT_GROUPS)}}}})),setTimeout(()=>{this.closeEnabled=!0}),this.userService.listAll().subscribe(t=>{this.users=t.results})}getCreateTitle(){return "Crea nuovo elemento"}getEditTitle(){return "Modifica elemento"}getTitle(){switch(this.dialogMode){case Vn.CREATE:return this.getCreateTitle();case Vn.EDIT:return this.getEditTitle()}}getMatchingAlgorithms(){return Om}get patternRequired(){return 6!==this.objectForm?.value.matching_algorithm&&0!==this.objectForm?.value.matching_algorithm}save(){this.error=null;const t=Object.assign({},this.objectForm.value),n=this.objectForm.get("permissions_form")?.value;n&&(t.owner=n.owner,t.set_permissions=n.set_permissions,delete t.permissions_form);var s,o=Object.assign(Object.assign({},this.object),t);switch(this.dialogMode){case Vn.CREATE:s=this.service.create(o);break;case Vn.EDIT:s=this.service.update(o)}this.networkActive=!0,s.subscribe({next:r=>{this.activeModal.close(),this.succeeded.emit(r)},error:r=>{this.error=r.error,this.networkActive=!1,this.failed.next(r)}})}cancel(){this.activeModal.close()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Sa),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275dir=st({type:e,inputs:{dialogMode:"dialogMode",object:"object"},outputs:{succeeded:"succeeded",failed:"failed"}})}return e})(),Aa=(()=>{class e extends vl{constructor(t){super(t,"correspondents")}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const BP={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Xg;const y1e=new Uint8Array(16);function D1e(){if(!Xg&&(Xg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xg(y1e)}const os=[];for(let e=0;e<256;++e)os.push((e+256).toString(16).slice(1));const P1e=function N1e(e,i,t){if(BP.randomUUID&&!i&&!e)return BP.randomUUID();const n=(e=e||{}).random||(e.rng||D1e)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){t=t||0;for(let o=0;o<16;++o)i[t+o]=n[o];return i}return function GP(e,i=0){return os[e[i+0]]+os[e[i+1]]+os[e[i+2]]+os[e[i+3]]+"-"+os[e[i+4]]+os[e[i+5]]+"-"+os[e[i+6]]+os[e[i+7]]+"-"+os[e[i+8]]+os[e[i+9]]+"-"+os[e[i+10]]+os[e[i+11]]+os[e[i+12]]+os[e[i+13]]+os[e[i+14]]+os[e[i+15]]}(n)},I1e=["inputField"];let _s=(()=>{class e{constructor(){this.onChange=t=>{},this.onTouched=()=>{},this.disabled=!1,this.horizontal=!1,this.removable=!1,this.removed=new Be}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}focus(){this.inputField&&this.inputField.nativeElement&&this.inputField.nativeElement.focus()}ngOnInit(){this.inputId=P1e()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,viewQuery:function(n,o){if(1&n&&cn(I1e,5),2&n){let s;Ot(s=yt())&&(o.inputField=s.first)}},inputs:{title:"title",disabled:"disabled",error:"error",hint:"hint",horizontal:"horizontal",removable:"removable"},outputs:{removed:"removed"}})}return e})();const L1e=["*"],UP=new ct("ngx-bootstrap-icons-module-configuration");class ZP{constructor(i){this._icons=i}}var br=function(e){return e.Width="width",e.Height="height",e}(br||{});let Wt=(()=>{class e{constructor(t,n,o,s){this._elem=t,this._changeDetector=n,this._icons=o,this._config=s,this.resetDefaultDimensions=!1,this._setSize=(r,a=16)=>`${r}="${a}"`,this._setIconMessage=(r,a)=>`${r}: ${a}\n`,this._logMessage=r=>console.warn(r)}ngOnChanges(t){let o=Object.assign({},...this._icons)[function x1e(e,i="-"){if(!e)throw Error("missing argument");const t=e.trim();if(!t.includes(i))return t;let n="",o=0;for(;o<e.length;o+=1){const s=e.charAt(o).trim();0!==o?s!==i?o>0&&!isNaN(+e.charAt(o-1))?n+=s.toUpperCase():o>0&&(n+=s):(n+=e.charAt(o+1).trim().toUpperCase(),o+=1):n+=s.toLowerCase()}return n.trim()}(t.name.currentValue)]||"";o?(this._config&&(this._config.width&&(o=o.replace(this._setSize(br.Width),this._setSize(br.Width,this._config.width))),this._config.height&&(o=o.replace(this._setSize(br.Height),this._setSize(br.Height,this._config.height))),this._config.theme&&this._elem.nativeElement.classList.add(this._config.theme)),this.resetDefaultDimensions&&(o=o.replace(this._setSize(br.Width),""),o=o.replace(this._setSize(br.Height),"")),this.width&&o.includes(br.Width)&&(o=o.replace(this._setSize(br.Width),this._setSize(br.Width,this.width))),this.height&&o.includes(br.Height)&&(o=o.replace(this._setSize(br.Height),this._setSize(br.Height,this.height))),this._elem.nativeElement.innerHTML=o,this._changeDetector.markForCheck()):this._logMessage(this._setIconMessage("Icon not found",t.name.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Y(Qt),Y(Po),Y(ZP),Y(UP))},e.\u0275cmp=it({type:e,selectors:[["i-bs"],["","i-bs",""]],inputs:{name:"name",width:"width",height:"height",resetDefaultDimensions:"resetDefaultDimensions"},features:[Rn],ngContentSelectors:L1e,decls:1,vars:0,template:function(t,n){1&t&&(Ws(),Xs(0))},encapsulation:2}),e})();let JPe=(()=>{class e{static pick(t,n){return{ngModule:e,providers:[{provide:ZP,multi:!0,useValue:t},{provide:UP,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=fn({}),e})();function QPe(e,i){if(1&e&&(c(0,"label",11),j(1),h()),2&e){const t=_();Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title)}}function eIe(e,i){if(1&e){const t=pe();c(0,"button",12),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",13),j(2,"\xa0"),ke(3),R(4,1),ze(),h()}}function tIe(e,i){1&e&&(k(0,"small",9),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().hint),Qi)}let Ds=(()=>{class e extends _s{constructor(){super()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-text"]],inputs:{autocomplete:"autocomplete"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:11,vars:16,consts:()=>{let t;return t="Rimuovi",[["inputField",""],t,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],["type","text",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled","autocomplete"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"div",3)(2,"div",4),q(3,QPe,2,4,"label",5)(4,eIe,5,0,"button",6),h(),c(5,"div",7)(6,"input",8,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))}),h(),q(8,tIe,2,3,"small",9),c(9,"div",10),j(10),h()()()()}2&n&&(Ye("pb-3",o.error),d(2),Ye("col-md-3",o.horizontal),d(),J(o.title?3:-1),d(),J(o.removable?4:-1),d(),Ye("col-md-9",o.horizontal),d(),Ye("is-invalid",o.error),w("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled)("autocomplete",o.autocomplete),d(2),J(o.hint?8:-1),d(2),nt(" ",o.error," "))},dependencies:[si,Yt,Ln,Wt,m1]})}return e})();function km(e,i=f5){return function nIe(e){return ti((i,t)=>{let n=!1,o=null,s=null,r=!1;const a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const u=o;o=null,t.next(u)}r&&t.complete()},l=()=>{s=null,r&&t.complete()};i.subscribe(ni(t,u=>{n=!0,o=u,s||ji(e(u)).subscribe(s=ni(t,a,l))},()=>{r=!0,(!n||!s||s.closed)&&t.complete()}))})}(()=>ch(e,i))}function Tr(e,i=f5){return ti((t,n)=>{let o=null,s=null,r=null;const a=()=>{if(o){o.unsubscribe(),o=null;const u=s;s=null,n.next(u)}};function l(){const u=r+e,p=i.now();if(p<u)return o=this.schedule(void 0,u-p),void n.add(o);a()}t.subscribe(ni(n,u=>{s=u,r=i.now(),o||(o=i.schedule(l,e),n.add(o))},()=>{a(),n.complete()},void 0,()=>{s=o=null}))})}const Lh={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:n}=Lh;n&&(i=n.requestAnimationFrame,t=n.cancelAnimationFrame);const o=i(s=>{t=void 0,e(s)});return new Ne(()=>t?.(o))},requestAnimationFrame(...e){const{delegate:i}=Lh;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=Lh;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0},zm=new class oIe extends Q7{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let o;i=i||n.shift();do{if(o=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,o){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw o}}}(class iIe extends Y7{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=Lh.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,n=0){var o;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==t&&(Lh.cancelAnimationFrame(t),i._scheduled=void 0)}});let Vm,sIe=1;const Kg={};function FL(e){return e in Kg&&(delete Kg[e],!0)}const rIe={setImmediate(e){const i=sIe++;return Kg[i]=!0,Vm||(Vm=Promise.resolve()),Vm.then(()=>FL(i)&&e()),i},clearImmediate(e){FL(e)}},{setImmediate:aIe,clearImmediate:lIe}=rIe,qg={setImmediate(...e){const{delegate:i}=qg;return(i?.setImmediate||aIe)(...e)},clearImmediate(e){const{delegate:i}=qg;return(i?.clearImmediate||lIe)(e)},delegate:void 0},kL=new class dIe extends Q7{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let o;i=i||n.shift();do{if(o=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===t&&n.shift());if(this._active=!1,o){for(;(i=n[0])&&i.id===t&&n.shift();)i.unsubscribe();throw o}}}(class cIe extends Y7{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,n=0){return null!==n&&n>0?super.requestAsyncId(i,t,n):(i.actions.push(this),i._scheduled||(i._scheduled=qg.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,n=0){var o;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,t,n);const{actions:s}=i;null!=t&&(null===(o=s[s.length-1])||void 0===o?void 0:o.id)!==t&&(qg.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}}),hIe=["content"],uIe=["scroll"],_Ie=["padding"],zL=["*"],xh=e=>({searchTerm:e});function pIe(e,i){if(1&e&&(c(0,"div",3),ri(1,6),h()),2&e){const t=_();d(),w("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",No(2,xh,t.filterValue))}}function gIe(e,i){if(1&e&&(c(0,"div",5),ri(1,6),h()),2&e){const t=_();d(),w("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",No(2,xh,t.filterValue))}}const fIe=["searchInput"],mIe=["clearButton"],vIe=(e,i,t)=>({item:e,clear:i,label:t}),CIe=(e,i)=>({items:e,clear:i}),wIe=(e,i,t,n)=>({item:e,item$:i,index:t,searchTerm:n});function MIe(e,i){if(1&e){const t=pe();c(0,"span",21),F("click",function(){H(t);const o=_().$implicit;return $(_(2).unselect(o))}),j(1,"\xd7"),h(),k(2,"span",22)}if(2&e){const t=_().$implicit,n=_(2);d(2),w("ngItemLabel",t.label)("escape",n.escapeHTML)}}function bIe(e,i){}function TIe(e,i){if(1&e&&(c(0,"div",20),q(1,MIe,3,2,"ng-template",null,1,on)(3,bIe,0,0,"ng-template",12),h()),2&e){const t=i.$implicit,n=vt(2),o=_(2);Ye("ng-value-disabled",t.disabled),d(3),w("ngTemplateOutlet",o.labelTemplate||n)("ngTemplateOutletContext",W0(4,vIe,t.value,o.clearItem,t.label))}}function SIe(e,i){1&e&&ut(0,TIe,4,8,"div",19,$c().trackByOption,!0),2&e&&_t(_().selectedItems)}function EIe(e,i){}function AIe(e,i){if(1&e&&q(0,EIe,0,0,"ng-template",12),2&e){const t=_();w("ngTemplateOutlet",t.multiLabelTemplate)("ngTemplateOutletContext",rt(2,CIe,t.selectedValues,t.clearItem))}}function OIe(e,i){1&e&&k(0,"div",24)}function yIe(e,i){}function DIe(e,i){if(1&e&&q(0,OIe,1,0,"ng-template",null,2,on)(2,yIe,0,0,"ng-template",23),2&e){const t=vt(1),n=_();d(2),w("ngTemplateOutlet",n.loadingSpinnerTemplate||t)}}function NIe(e,i){1&e&&(c(0,"span",15,3)(2,"span",25),j(3,"\xd7"),h()()),2&e&&ui("title",_().clearAllText)}function PIe(e,i){if(1&e&&k(0,"span",30),2&e){const t=_().$implicit,n=_(2);w("ngItemLabel",t.label)("escape",n.escapeHTML)}}function IIe(e,i){}function LIe(e,i){if(1&e){const t=pe();c(0,"div",29),F("click",function(){const o=H(t).$implicit;return $(_(2).toggleItem(o))})("mouseover",function(){const o=H(t).$implicit;return $(_(2).onItemHover(o))}),q(1,PIe,1,2,"ng-template",null,4,on)(3,IIe,0,0,"ng-template",12),h()}if(2&e){const t=i.$implicit,n=vt(2),o=_(2);Ye("ng-option-disabled",t.disabled)("ng-option-selected",t.selected)("ng-optgroup",t.children)("ng-option",!t.children)("ng-option-child",!!t.parent)("ng-option-marked",t===o.itemsList.markedItem),Mn("role",t.children?"group":"option")("aria-selected",t.selected)("id",null==t?null:t.htmlId),d(3),w("ngTemplateOutlet",t.children?o.optgroupTemplate||n:o.optionTemplate||n)("ngTemplateOutletContext",t8(17,wIe,t.value,t,t.index,o.searchTerm))}}function xIe(e,i){if(1&e&&(c(0,"span")(1,"span",32),j(2),h(),j(3),h()),2&e){const t=_(3);d(2),Pe(t.addTagText),d(),nt('"',t.searchTerm,'"')}}function RIe(e,i){}function FIe(e,i){if(1&e){const t=pe();c(0,"div",31),F("mouseover",function(){return H(t),$(_(2).itemsList.unmarkItem())})("click",function(){return H(t),$(_(2).selectTag())}),q(1,xIe,4,2,"ng-template",null,5,on)(3,RIe,0,0,"ng-template",12),h()}if(2&e){const t=vt(2),n=_(2);Ye("ng-option-marked",!n.itemsList.markedItem),d(3),w("ngTemplateOutlet",n.tagTemplate||t)("ngTemplateOutletContext",No(4,xh,n.searchTerm))}}function kIe(e,i){if(1&e&&(c(0,"div",33),j(1),h()),2&e){const t=_(3);d(),Pe(t.notFoundText)}}function zIe(e,i){}function VIe(e,i){if(1&e&&q(0,kIe,2,1,"ng-template",null,6,on)(2,zIe,0,0,"ng-template",12),2&e){const t=vt(1),n=_(2);d(2),w("ngTemplateOutlet",n.notFoundTemplate||t)("ngTemplateOutletContext",No(2,xh,n.searchTerm))}}function HIe(e,i){if(1&e&&(c(0,"div",33),j(1),h()),2&e){const t=_(3);d(),Pe(t.typeToSearchText)}}function $Ie(e,i){}function BIe(e,i){if(1&e&&q(0,HIe,2,1,"ng-template",null,7,on)(2,$Ie,0,0,"ng-template",23),2&e){const t=vt(1),n=_(2);d(2),w("ngTemplateOutlet",n.typeToSearchTemplate||t)}}function GIe(e,i){if(1&e&&(c(0,"div",33),j(1),h()),2&e){const t=_(3);d(),Pe(t.loadingText)}}function UIe(e,i){}function ZIe(e,i){if(1&e&&q(0,GIe,2,1,"ng-template",null,8,on)(2,UIe,0,0,"ng-template",12),2&e){const t=vt(1),n=_(2);d(2),w("ngTemplateOutlet",n.loadingTextTemplate||t)("ngTemplateOutletContext",No(2,xh,n.searchTerm))}}function jIe(e,i){if(1&e){const t=pe();c(0,"ng-dropdown-panel",26),F("update",function(o){return H(t),$(_().viewPortItems=o)})("scroll",function(o){return H(t),$(_().scroll.emit(o))})("scrollToEnd",function(o){return H(t),$(_().scrollToEnd.emit(o))})("outsideClick",function(){return H(t),$(_().close())}),ke(1),ut(2,LIe,4,22,"div",27,$c().trackByOption,!0),q(4,FIe,4,6,"div",28),ze(),q(5,VIe,3,4)(6,BIe,3,1)(7,ZIe,3,4),h()}if(2&e){const t=_();Ai(t.dropdownPanelStaticClasses),Ye("ng-select-multiple",t.multiple),w("virtualScroll",t.virtualScroll)("bufferAmount",t.bufferAmount)("appendTo",t.appendTo)("position",t.dropdownPosition)("headerTemplate",t.headerTemplate)("footerTemplate",t.footerTemplate)("filterValue",t.searchTerm)("items",t.itemsList.filteredItems)("markedItem",t.itemsList.markedItem)("ngClass",t.appendTo?t.ngClass:null)("id",t.dropdownId),d(2),_t(t.viewPortItems),d(2),J(t.showAddTag?4:-1),d(),J(t.showNoItemsFound()?5:-1),d(),J(t.showTypeToSearch()?6:-1),d(),J(t.loading&&0===t.itemsList.filteredItems.length?7:-1)}}const VL=/[&<>"']/g,WIe=RegExp(VL.source),XIe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ui(e){return null!=e}function Rh(e){return"object"==typeof e&&Ui(e)}function Yg(e){return e instanceof Function}let YIe=(()=>{class e{constructor(t){this.element=t,this.escape=!0}ngOnChanges(t){this.element.nativeElement.innerHTML=this.escape?function KIe(e){return e&&WIe.test(e)?e.replace(VL,i=>XIe[i]):e}(this.ngItemLabel):this.ngItemLabel}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[Rn]})}return e})(),Jg=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-option-tmp",""]]})}return e})(),JIe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-optgroup-tmp",""]]})}return e})(),Hm=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-label-tmp",""]]})}return e})(),QIe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-multi-label-tmp",""]]})}return e})(),eLe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-header-tmp",""]]})}return e})(),tLe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-footer-tmp",""]]})}return e})(),nLe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-notfound-tmp",""]]})}return e})(),iLe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-typetosearch-tmp",""]]})}return e})(),oLe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-loadingtext-tmp",""]]})}return e})(),sLe=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-tag-tmp",""]]})}return e})(),HL=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ng-loadingspinner-tmp",""]]})}return e})();function $L(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const rLe={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Qg(e){return e.replace(/[^\u0000-\u007E]/g,t=>rLe[t]||t)}class aLe{constructor(i,t){this._ngSelect=i,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let i=this.selectedItems.length-1;for(;i>=0;i--){const t=this.selectedItems[i];if(!t.disabled)return t}return null}setItems(i){this._items=i.map((t,n)=>this.mapItem(t,n)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(i){if(i.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(i,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(i)}unselect(i){i.selected&&(this._selectionModel.unselect(i,this._ngSelect.multiple),this._ngSelect.hideSelected&&Ui(i.index)&&this._ngSelect.multiple&&this._showSelected(i))}findItem(i){let t;return t=this._ngSelect.compareWith?n=>this._ngSelect.compareWith(n.value,i):this._ngSelect.bindValue?n=>!n.children&&this.resolveNested(n.value,this._ngSelect.bindValue)===i:n=>n.value===i||!n.children&&n.label&&n.label===this.resolveNested(i,this._ngSelect.bindLabel),this._items.find(n=>t(n))}addItem(i){const t=this.mapItem(i,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(i=!1){this._selectionModel.clear(i),this._items.forEach(t=>{t.selected=i&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(i){return i=Qg(i).toLocaleLowerCase(),this.filteredItems.find(t=>Qg(t.label).toLocaleLowerCase().substr(0,i.length)===i)}filter(i){if(!i)return void this.resetFilteredItems();this._filteredItems=[],i=this._ngSelect.searchFn?i:Qg(i).toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(const o of Array.from(this._groups.keys())){const s=[];for(const r of this._groups.get(o))n&&(r.parent&&r.parent.selected||r.selected)||t(i,this._ngSelect.searchFn?r.value:r)&&s.push(r);if(s.length>0){const[r]=s.slice(-1);if(r.parent){const a=this._items.find(l=>l===r.parent);this._filteredItems.push(a)}this._filteredItems.push(...s)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(i=>!i.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(i){this._markedIndex=this._filteredItems.indexOf(i)}markSelectedOrDefault(i){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:i?this.filteredItems.findIndex(n=>!n.disabled):-1}resolveNested(i,t){if(!Rh(i))return i;if(-1===t.indexOf("."))return i[t];{const n=t.split(".");let o=i;for(let s=0,r=n.length;s<r;++s){if(null==o)return null;o=o[n[s]]}return o}}mapItem(i,t){const n=Ui(i.$ngOptionLabel)?i.$ngOptionLabel:this.resolveNested(i,this._ngSelect.bindLabel),o=Ui(i.$ngOptionValue)?i.$ngOptionValue:i;return{index:t,label:Ui(n)?n.toString():"",value:o,disabled:i.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const i=this._ngSelect.multiple;for(const t of this.selectedItems){const n=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,o=Ui(n)?this.findItem(n):null;this._selectionModel.unselect(t,i),this._selectionModel.select(o||t,i,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(t=>-1===this.selectedItems.indexOf(t)))}_showSelected(i){if(this._filteredItems.push(i),i.parent){const t=i.parent;this._filteredItems.find(o=>o===t)||this._filteredItems.push(t)}else if(i.children)for(const t of i.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((t,n)=>t.index-n.index)]}_hideSelected(i){this._filteredItems=this._filteredItems.filter(t=>t!==i),i.parent?i.parent.children.every(n=>n.selected)&&(this._filteredItems=this._filteredItems.filter(n=>n!==i.parent)):i.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==i))}_defaultSearchFn(i,t){return Qg(t.label).toLocaleLowerCase().indexOf(i)>-1}_getNextItemIndex(i){return i>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(i){0===this._filteredItems.length||this._filteredItems.every(t=>t.disabled)||(this._markedIndex=this._getNextItemIndex(i),this.markedItem.disabled&&this._stepToItem(i))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const i=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&i<0?-1:Math.max(this.markedIndex,i)}_groupBy(i,t){const n=new Map;if(0===i.length)return n;if(Array.isArray(i[0].value[t])){for(const r of i){const a=(r.value[t]||[]).map((l,u)=>this.mapItem(l,u));n.set(r,a)}return n}const o=Yg(this._ngSelect.groupBy),s=r=>{const a=o?t(r.value):r.value[t];return Ui(a)?a:void 0};for(const r of i){const a=s(r),l=n.get(a);l?l.push(r):n.set(a,[r])}return n}_flatten(i){const t=Yg(this._ngSelect.groupBy),n=[];for(const o of Array.from(i.keys())){let s=n.length;if(void 0===o){const v=i.get(void 0)||[];n.push(...v.map(L=>(L.index=s++,L)));continue}const r=Rh(o),a={label:r?"":String(o),children:void 0,parent:null,index:s++,disabled:!this._ngSelect.selectableGroup,htmlId:$L()},l=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,u=this._ngSelect.groupValue||(()=>r?o.value:{[l]:o}),p=i.get(o).map(v=>(v.parent=a,v.children=void 0,v.index=s++,v));a.children=p,a.value=u(o,p.map(v=>v.value)),n.push(a),n.push(...p)}return n}}var q1=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",e}(q1||{});let BL=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(t,n,o){const s=this._dimensions,r=s.itemHeight*n,l=Math.max(0,t)/r*n;let u=Math.min(n,Math.ceil(l)+(s.itemsPerViewport+1));const v=Math.max(0,u-s.itemsPerViewport);let L=Math.min(v,Math.floor(l)),z=s.itemHeight*Math.ceil(L)-s.itemHeight*Math.min(L,o);return z=isNaN(z)?0:z,L=isNaN(L)?-1:L,u=isNaN(u)?-1:u,L-=o,L=Math.max(0,L),u+=o,u=Math.min(n,u),{topPadding:z,scrollHeight:r,start:L,end:u}}setDimensions(t,n){const o=Math.max(1,Math.floor(n/t));this._dimensions={itemHeight:t,panelHeight:n,itemsPerViewport:o}}getScrollTo(t,n,o){const{panelHeight:s}=this.dimensions,r=t+n,l=o+s;return s>=r&&o===t?null:r>l?o+r-l:t<=o?t:null}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const GL=["top","right","bottom","left"],lLe=typeof requestAnimationFrame<"u"?zm:kL;let UL=(()=>{class e{constructor(t,n,o,s,r){this._renderer=t,this._zone=n,this._panelService=o,this._document=r,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new Be,this.scroll=new Be,this.scrollToEnd=new Be,this.outsideClick=new Be,this._destroy$=new et,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=s.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:t,panelHeight:n}=this._panelService.dimensions,o=this.markedItem.index*t;return n>o?0:o}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(t){if(t.items){const n=t.items;this._onItemsChange(n.currentValue,n.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(t,n=!1){if(!t)return;const o=this.items.indexOf(t);if(o<0||o>=this.itemsLength)return;let s;if(this.virtualScroll){const r=this._panelService.dimensions.itemHeight;s=this._panelService.getScrollTo(o*r,r,this._lastScrollPosition)}else{const r=this._dropdown.querySelector(`#${t.htmlId}`);s=this._panelService.getScrollTo(r.offsetTop,r.clientHeight,n?r.offsetTop:this._lastScrollPosition)}Ui(s)&&(this._scrollablePanel.scrollTop=s)}scrollToTag(){const t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),GL.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(t){GL.forEach(o=>{const s=`ng-select-${o}`;this._renderer.removeClass(this._dropdown,s),this._renderer.removeClass(this._select,s)});const n=`ng-select-${t}`;this._renderer.addClass(this._dropdown,n),this._renderer.addClass(this._select,n)}_handleScroll(){this._zone.runOutsideAngular(()=>{hn(this.scrollElementRef.nativeElement,"scroll").pipe(je(this._destroy$),km(0,lLe)).subscribe(t=>{const n=t.path||t.composedPath&&t.composedPath();n&&(0!==n.length||t.target)&&this._onContentScrolled(n&&0!==n.length?n[0].scrollTop:t.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{B1(hn(this._document,"touchstart",{capture:!0}),hn(this._document,"click",{capture:!0})).pipe(je(this._destroy$)).subscribe(t=>this._checkToClose(t))})}_checkToClose(t){if(this._select.contains(t.target)||this._dropdown.contains(t.target))return;const n=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(t,n){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(n):(this._setVirtualHeight(),this._updateItems(n))}_updateItems(t){this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,t)})})}_updateItemsRange(t){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{t?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}_updateVirtualHeight(t){this._updateScrollHeight&&(this._virtualPadding.style.height=`${t}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(t=null){if(t&&this._lastScrollPosition===t)return;const n=this._panelService.calculateItems(t=t||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform=`translateY(${n.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(n.start,n.end)),this.scroll.emit({start:n.start,end:n.end})}),Ui(t)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=t,this._lastScrollPosition=t)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[t]=this.items;return this.update.emit([t]),Promise.resolve().then(()=>{const o=this._dropdown.querySelector(`#${t.htmlId}`).clientHeight;return this._virtualPadding.style.height=o*this.itemsLength+"px",this._panelService.setDimensions(o,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(t){this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(t){if("auto"!==this.position)return this.position;const n=this._select.getBoundingClientRect(),o=document.documentElement.scrollTop||document.body.scrollTop;return n.top+window.pageYOffset+n.height+t.getBoundingClientRect().height>o+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const t=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-n.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_updateYPosition(){const t=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),o=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=n.bottom-t.bottom+o+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-n.top+o+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{hn(this._dropdown,"mousedown").pipe(je(this._destroy$)).subscribe(t=>{"INPUT"!==t.target.tagName&&t.preventDefault()})})}static#e=this.\u0275fac=function(n){return new(n||e)(Y($r),Y(jt),Y(BL),Y(Qt),Y(gn,8))};static#t=this.\u0275cmp=it({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(n,o){if(1&n&&(cn(hIe,7,Qt),cn(uIe,7,Qt),cn(_Ie,7,Qt)),2&n){let s;Ot(s=yt())&&(o.contentElementRef=s.first),Ot(s=yt())&&(o.scrollElementRef=s.first),Ot(s=yt())&&(o.paddingElementRef=s.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[2,"virtualScroll","virtualScroll",Un],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[L1,Rn],ngContentSelectors:zL,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,o){1&n&&(Ws(),q(0,pIe,2,4,"div",3),c(1,"div",4,0),k(3,"div",null,1),c(5,"div",null,2),Xs(7),h()(),q(8,gIe,2,4,"div",5)),2&n&&(J(o.headerTemplate?0:-1),d(3),Ye("total-padding",o.virtualScroll),d(2),Ye("scrollable-content",o.virtualScroll&&o.items.length),d(3),J(o.footerTemplate?8:-1))},dependencies:[es],encapsulation:2,changeDetection:0})}return e})(),cLe=(()=>{class e{constructor(t){this.elementRef=t,this.disabled=!1,this.stateChange$=new et}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt))};static#t=this.\u0275cmp=it({type:e,selectors:[["ng-option"]],inputs:{value:"value",disabled:[2,"disabled","disabled",Un]},features:[L1,Rn],ngContentSelectors:zL,decls:1,vars:0,template:function(n,o){1&n&&(Ws(),Xs(0))},encapsulation:2,changeDetection:0})}return e})(),dLe=(()=>{class e{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hLe=(()=>{class e{warn(t){console.warn(t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ZL=new ct("ng-select-selection-model");let P5=(()=>{class e{get items(){return this._items}set items(t){this._itemsAreUsed=!0,this._items=t??[]}get compareWith(){return this._compareWith}set compareWith(t){if(null!=t&&!Yg(t))throw Error("`compareWith` must be a function.");this._compareWith=t}get clearSearchOnAdd(){return Ui(this._clearSearchOnAdd)?this._clearSearchOnAdd:Ui(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(t){this._clearSearchOnAdd=t}get deselectOnClick(){return Ui(this._deselectOnClick)?this._deselectOnClick:Ui(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(t){this._deselectOnClick=t}get dropdownPanelStaticClasses(){return this.appendTo&&this.classes?`ng-dropdown-panel ${this.classes}`:"ng-dropdown-panel"}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(t,n,o,s,r,a,l){this.classes=t,this.autoFocus=n,this.config=o,this._cd=a,this._console=l,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=u=>!0,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new Be,this.focusEvent=new Be,this.changeEvent=new Be,this.openEvent=new Be,this.closeEvent=new Be,this.searchEvent=new Be,this.clearEvent=new Be,this.addEvent=new Be,this.removeEvent=new Be,this.scroll=new Be,this.scrollToEnd=new Be,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=$L(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new et,this._keyPress$=new et,this._onChange=u=>{},this._onTouched=()=>{},this.clearItem=u=>{const p=this.selectedItems.find(v=>v.value===u);this.unselect(p)},this.trackByOption=(u,p)=>this.trackByFn?this.trackByFn(p.value):p,this._mergeGlobalConfig(o),this.itemsList=new aLe(this,s()),this.element=r.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(t=>t.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=Ui(t.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Ui(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(t){if(q1[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}handleKeyCode(t){this.clearButton&&this.clearButton.nativeElement===t.target?this.handleKeyCodeClear(t):this.handleKeyCodeInput(t)}handleKeyCodeInput(t){switch(t.which){case q1.ArrowDown:this._handleArrowDown(t);break;case q1.ArrowUp:this._handleArrowUp(t);break;case q1.Space:this._handleSpace(t);break;case q1.Enter:this._handleEnter(t);break;case q1.Tab:this._handleTab(t);break;case q1.Esc:this.close(),t.preventDefault();break;case q1.Backspace:this._handleBackspace()}}handleKeyCodeClear(t){t.which===q1.Enter&&(this.handleClearClick(),t.preventDefault())}handleMousedown(t){const n=t.target;"INPUT"!==n.tagName&&t.preventDefault(),n.classList.contains("ng-clear-wrapper")?this.handleClearClick():n.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():n.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(t){!t||t.disabled||this.disabled||(this.deselectOnClick&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(t){t&&(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t.value))}selectTag(){let t;t=Yg(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const n=o=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(o,null):this.itemsList.addItem(o);!function qIe(e){return e instanceof Promise}(t)?t&&this.select(n(t)):t.then(o=>this.select(n(o))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;const t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(n=>n.label.toLowerCase()===t)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(n=>n.label.toLowerCase()===t))&&!this.loading}showNoItemsFound(){const t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(t){this._isComposing=!1,!this.searchWhileComposing&&this.filter(t)}filter(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(n=>n.value)}),this.open())}onInputFocus(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}onInputBlur(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(t){t.disabled||this.itemsList.markItem(t)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}_setItems(t){const n=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Ui(n)?!Rh(n):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Ui(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const t=o=>{this.items=o.map(s=>({$ngOptionValue:s.value,$ngOptionLabel:s.elementRef.nativeElement.innerHTML,disabled:s.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},n=()=>{const o=B1(this.ngOptions.changes,this._destroy$);B1(...this.ngOptions.map(s=>s.stateChange$)).pipe(je(o)).subscribe(s=>{const r=this.itemsList.findItem(s.value);r.disabled=s.disabled,r.label=s.label||r.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Jc(this.ngOptions),je(this._destroy$)).subscribe(o=>{this.bindLabel=this._defaultLabel,t(o),n()})}_isValidWriteValue(t){if(!Ui(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;const n=o=>!(!Ui(this.compareWith)&&Rh(o)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(o)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(t)?t.every(o=>n(o)):(this._console.warn("Multiple select ngModel should be array."),!1):n(t)}_handleWriteValue(t){if(!this._isValidWriteValue(t))return;const n=o=>{let s=this.itemsList.findItem(o);if(s)this.itemsList.select(s);else{const r=Rh(o);r||!r&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(o,null)):this.bindValue&&(s={[this.bindLabel]:null,[this.bindValue]:o},this.itemsList.select(this.itemsList.mapItem(s,null)))}};this.multiple?t.forEach(o=>n(o)):n(t)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(je(this._destroy$),dn(t=>this._pressedKeys.push(t)),Tr(200),$n(()=>this._pressedKeys.length>0),At(()=>this._pressedKeys.join(""))).subscribe(t=>{const n=this.itemsList.findByLabel(t);n&&(this.isOpen?(this.itemsList.markItem(n),this._scrollToMarked(),this._cd.markForCheck()):this.select(n)),this._pressedKeys=[]})}_setInputAttributes(){const t=this.searchInput.nativeElement,n={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const o of Object.keys(n))t.setAttribute(o,n[o])}_updateNgModel(){const t=[];for(const o of this.selectedItems)if(this.bindValue){let s=null;s=o.children?o.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(o.value,this.bindValue),t.push(s)}else t.push(o.value);const n=this.selectedItems.map(o=>o.value);this.multiple?(this._onChange(t),this.changeEvent.emit(n)):(this._onChange(Ui(t[0])?t[0]:null),this.changeEvent.emit(n[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(t){if(!1===this.isOpen)if(this.showClear()&&!t.shiftKey)this.focusOnClear(),t.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close()}_handleEnter(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}_handleSpace(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}_handleArrowDown(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}_handleArrowUp(t){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}_nextItemIsTag(t){const n=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(n<0||n===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}_mergeGlobalConfig(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=Ui(this.virtualScroll)?this.virtualScroll:!!Ui(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=Ui(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}static#e=this.\u0275fac=function(n){return new(n||e)(s1("class"),s1("autofocus"),Y(dLe),Y(ZL),Y(Qt),Y(Po),Y(hLe))};static#t=this.\u0275cmp=it({type:e,selectors:[["ng-select"]],contentQueries:function(n,o,s){if(1&n&&(Nn(s,Jg,5,Kt),Nn(s,JIe,5,Kt),Nn(s,Hm,5,Kt),Nn(s,QIe,5,Kt),Nn(s,eLe,5,Kt),Nn(s,tLe,5,Kt),Nn(s,nLe,5,Kt),Nn(s,iLe,5,Kt),Nn(s,oLe,5,Kt),Nn(s,sLe,5,Kt),Nn(s,HL,5,Kt),Nn(s,cLe,5)),2&n){let r;Ot(r=yt())&&(o.optionTemplate=r.first),Ot(r=yt())&&(o.optgroupTemplate=r.first),Ot(r=yt())&&(o.labelTemplate=r.first),Ot(r=yt())&&(o.multiLabelTemplate=r.first),Ot(r=yt())&&(o.headerTemplate=r.first),Ot(r=yt())&&(o.footerTemplate=r.first),Ot(r=yt())&&(o.notFoundTemplate=r.first),Ot(r=yt())&&(o.typeToSearchTemplate=r.first),Ot(r=yt())&&(o.loadingTextTemplate=r.first),Ot(r=yt())&&(o.tagTemplate=r.first),Ot(r=yt())&&(o.loadingSpinnerTemplate=r.first),Ot(r=yt())&&(o.ngOptions=r)}},viewQuery:function(n,o){if(1&n&&(cn(UL,5),cn(fIe,7),cn(mIe,5)),2&n){let s;Ot(s=yt())&&(o.dropdownPanel=s.first),Ot(s=yt())&&(o.searchInput=s.first),Ot(s=yt())&&(o.clearButton=s.first)}},hostVars:20,hostBindings:function(n,o){1&n&&F("keydown",function(r){return o.handleKeyDown(r)}),2&n&&Ye("ng-select-typeahead",o.typeahead)("ng-select-multiple",o.multiple)("ng-select-taggable",o.addTag)("ng-select-searchable",o.searchable)("ng-select-clearable",o.clearable)("ng-select-opened",o.isOpen)("ng-select",o.useDefaultClass)("ng-select-disabled",o.disabled)("ng-select-filtered",o.filtered)("ng-select-single",o.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:[2,"markFirst","markFirst",Un],placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[2,"loading","loading",Un],closeOnSelect:[2,"closeOnSelect","closeOnSelect",Un],hideSelected:[2,"hideSelected","hideSelected",Un],selectOnTab:[2,"selectOnTab","selectOnTab",Un],openOnEnter:[2,"openOnEnter","openOnEnter",Un],maxSelectedItems:[2,"maxSelectedItems","maxSelectedItems",bp],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[2,"bufferAmount","bufferAmount",bp],virtualScroll:[2,"virtualScroll","virtualScroll",Un],selectableGroup:[2,"selectableGroup","selectableGroup",Un],selectableGroupAsModel:[2,"selectableGroupAsModel","selectableGroupAsModel",Un],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[2,"clearOnBackspace","clearOnBackspace",Un],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[2,"tabIndex","tabIndex",bp],readonly:[2,"readonly","readonly",Un],searchWhileComposing:[2,"searchWhileComposing","searchWhileComposing",Un],minTermLength:[2,"minTermLength","minTermLength",bp],editableSearchTerm:[2,"editableSearchTerm","editableSearchTerm",Un],keyDownFn:"keyDownFn",ngClass:"ngClass",typeahead:"typeahead",multiple:[2,"multiple","multiple",Un],addTag:"addTag",searchable:[2,"searchable","searchable",Un],clearable:[2,"clearable","clearable",Un],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0},BL]),L1,Rn],decls:14,vars:19,consts:[["searchInput",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"input","compositionstart","compositionend","focus","blur","change","readOnly","disabled","value"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox","aria-label","Options list",3,"class","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(n,o){if(1&n){const s=pe();c(0,"div",9),F("mousedown",function(a){return H(s),$(o.handleMousedown(a))}),c(1,"div",10)(2,"div",11),j(3),h(),q(4,SIe,2,0)(5,AIe,1,5,null,12),c(6,"div",13)(7,"input",14,0),F("input",function(){H(s);const a=vt(8);return $(o.filter(a.value))})("compositionstart",function(){return H(s),$(o.onCompositionStart())})("compositionend",function(){H(s);const a=vt(8);return $(o.onCompositionEnd(a.value))})("focus",function(a){return H(s),$(o.onInputFocus(a))})("blur",function(a){return H(s),$(o.onInputBlur(a))})("change",function(a){return H(s),$(a.stopPropagation())}),h()()(),q(9,DIe,3,1)(10,NIe,4,1,"span",15),c(11,"span",16),k(12,"span",17),h()(),q(13,jIe,8,19,"ng-dropdown-panel",18)}2&n&&(Ye("ng-appearance-outline","outline"===o.appearance)("ng-has-value",o.hasValue),d(3),Pe(o.placeholder),d(),J(o.multiLabelTemplate&&o.multiple||!(o.selectedItems.length>0)?-1:4),d(),J(o.multiple&&o.multiLabelTemplate&&o.selectedValues.length>0?5:-1),d(),Mn("aria-expanded",o.isOpen)("aria-owns",o.isOpen?o.dropdownId:null),d(),w("readOnly",!o.searchable||o.itemsList.maxItemsSelected)("disabled",o.disabled)("value",o.searchTerm?o.searchTerm:""),Mn("id",o.labelForId)("tabindex",o.tabIndex)("aria-activedescendant",o.isOpen?null==o.itemsList||null==o.itemsList.markedItem?null:o.itemsList.markedItem.htmlId:null)("aria-controls",o.isOpen?o.dropdownId:null),d(2),J(o.loading?9:-1),d(),J(o.showClear()?10:-1),d(3),J(o.isOpen?13:-1))},dependencies:[va,es,UL,YIe],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0})}return e})();function uLe(){return new _Le}class _Le{constructor(){this._selected=[]}get value(){return this._selected}select(i,t,n){if(i.selected=!0,(!i.children||!t&&n)&&this._selected.push(i),t)if(i.parent){const o=i.parent.children.length,s=i.parent.children.filter(r=>r.selected).length;i.parent.selected=o===s}else i.children&&(this._setChildrenSelectedState(i.children,!0),this._removeChildren(i),this._selected=n&&this._activeChildren(i)?[...this._selected.filter(o=>o.parent!==i),i]:[...this._selected,...i.children.filter(o=>!o.disabled)])}unselect(i,t){if(this._selected=this._selected.filter(n=>n!==i),i.selected=!1,t)if(i.parent&&i.parent.selected){const n=i.parent.children;this._removeParent(i.parent),this._removeChildren(i.parent),this._selected.push(...n.filter(o=>o!==i&&!o.disabled)),i.parent.selected=!1}else i.children&&(this._setChildrenSelectedState(i.children,!1),this._removeChildren(i))}clear(i){this._selected=i?this._selected.filter(t=>t.disabled):[]}_setChildrenSelectedState(i,t){for(const n of i)n.disabled||(n.selected=t)}_removeChildren(i){this._selected=[...this._selected.filter(t=>t.parent!==i),...i.children.filter(t=>t.parent===i&&t.disabled&&t.selected)]}_removeParent(i){this._selected=this._selected.filter(t=>t!==i)}_activeChildren(i){return i.children.every(t=>!t.disabled||t.selected)}}let pLe=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({providers:[{provide:ZL,useValue:uLe}],imports:[q0]})}return e})();const gLe=()=>[];function fLe(e,i){if(1&e&&(c(0,"label",13),j(1),h()),2&e){const t=_();Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title)}}function mLe(e,i){if(1&e){const t=pe();c(0,"button",14),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",15),j(2,"\xa0"),ke(3),R(4,0),ze(),h()}}function vLe(e,i){if(1&e&&(c(0,"span",16),j(1),h()),2&e){const t=i.item,n=_();w("title",t[n.bindLabel]),d(),Pe(t[n.bindLabel])}}function CLe(e,i){if(1&e){const t=pe();c(0,"button",17),F("click",function(){return H(t),$(_().addItem())}),k(1,"i-bs",18),h()}2&e&&w("disabled",_().disabled)}function wLe(e,i){if(1&e){const t=pe();c(0,"button",19),F("click",function(){return H(t),$(_().onFilterDocuments())}),k(1,"i-bs",20),h()}if(2&e){const t=_();ui("title",t.filterButtonTitle),w("disabled",t.isPrivate||null===t.value)}}function MLe(e,i){if(1&e&&(c(0,"small",12),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}function bLe(e,i){if(1&e){const t=pe();c(0,"a",21),F("click",function(){const o=H(t).$implicit,s=_(2);return s.value=o.id,$(s.onChange(s.value))}),j(1),h(),j(2,"\xa0 ")}if(2&e){const t=i.$implicit;w("routerLink",v2(2,gLe)),d(),Pe(t.name)}}function TLe(e,i){if(1&e&&(c(0,"small")(1,"span"),R(2,1),h(),j(3,"\xa0 "),ut(4,bLe,3,3,null,null,Ft),h()),2&e){const t=_();d(4),_t(t.getSuggestions())}}let Sr=(()=>{class e extends _s{constructor(){super(),this.allowNull=!1,this.multiple=!1,this.bindLabel="name",this.showFilter=!1,this.notFoundText="Nessun elemento trovato",this.disableCreateNew=!1,this.hideAddButton=!1,this.createNew=new Be,this.filterDocuments=new Be,this.addItemRef=this.addItem.bind(this)}set items(t){this._items=t,t&&this.value&&this.checkForPrivateItems(this.value)}set itemsArray(t){this._items=t.map((n,o)=>({id:o,name:n}))}writeValue(t){t&&this._items&&(this.checkForPrivateItems(t),this.items=[...this._items]),super.writeValue(t)}checkForPrivateItems(t){Array.isArray(t)?t.length>0&&t.forEach(n=>this.checkForPrivateItem(n)):this.checkForPrivateItem(t)}checkForPrivateItem(t){void 0===this._items.find(n=>n.id===t)&&this._items.push({id:t,name:"Privato",private:!0})}get items(){return this._items}get allowCreateNew(){return!this.disableCreateNew&&this.createNew.observers.length>0}get isPrivate(){return this.items?.find(t=>t.id===this.value)?.private}getSuggestions(){return this.suggestions&&this.items?this.suggestions.filter(t=>t!=this.value).map(t=>this.items.find(n=>n.id==t)):[]}addItem(t=null){this.createNew.next(t||this._lastSearchTerm),this.clearLastSearchTerm()}clickNew(){this.createNew.next(this._lastSearchTerm),this.clearLastSearchTerm()}clearLastSearchTerm(){this._lastSearchTerm=null}onSearch(t){this._lastSearchTerm=t.term}onBlur(){setTimeout(()=>{this.clearLastSearchTerm()},3e3)}onFilterDocuments(){this.filterDocuments.emit([this.items.find(t=>t.id===this.value)])}get filterButtonTitle(){return "Filtra i documenti con questo " + this.title + ""}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-select"]],inputs:{items:"items",itemsArray:"itemsArray",textColor:"textColor",backgroundColor:"backgroundColor",allowNull:"allowNull",suggestions:"suggestions",placeholder:"placeholder",multiple:"multiple",bindLabel:"bindLabel",showFilter:"showFilter",notFoundText:"notFoundText",disableCreateNew:"disableCreateNew",hideAddButton:"hideAddButton"},outputs:{createNew:"createNew",filterDocuments:"filterDocuments"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:15,vars:32,consts:()=>{let t,n,o;return t="Aggiungi elemento",n="Rimuovi",o="Suggerimenti:",[n,o,[1,"mb-3","paperless-input-select"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["name","inputId","addTagText",t,"bindValue","id",3,"ngModelChange","change","search","focus","clear","blur","ngModel","disabled","clearable","items","addTag","placeholder","notFoundText","multiple","bindLabel"],["ng-option-tmp",""],["type","button",1,"btn","btn-outline-secondary",3,"disabled"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","title"],[1,"invalid-feedback"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[3,"title"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","plus"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled","title"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(n,o){1&n&&(c(0,"div",2)(1,"div",3)(2,"div",4),q(3,fLe,2,4,"label",5)(4,mLe,5,0,"button",6),h(),c(5,"div")(6,"div")(7,"ng-select",7),Tt("ngModelChange",function(r){return mt(o.value,r)||(o.value=r),r}),F("change",function(){return o.onChange(o.value)})("search",function(r){return o.onSearch(r)})("focus",function(){return o.clearLastSearchTerm()})("clear",function(){return o.clearLastSearchTerm()})("blur",function(){return o.onBlur()}),q(8,vLe,2,2,"ng-template",8),h(),q(9,CLe,2,1,"button",9)(10,wLe,2,2,"button",10),h(),c(11,"div",11),j(12),h(),q(13,MLe,2,1,"small",12)(14,TLe,6,0,"small"),h()()()),2&n&&(Ye("disabled",o.disabled),d(2),Ye("col-md-3",o.horizontal),d(),J(o.title?3:-1),d(),J(o.removable?4:-1),d(),Ye("col-md-9",o.horizontal),d(),Ye("input-group",o.allowCreateNew||o.showFilter)("is-invalid",o.error),d(),Gr("color",o.textColor)("background",o.backgroundColor),Ye("private",o.isPrivate),bt("ngModel",o.value),w("disabled",o.disabled)("clearable",o.allowNull)("items",o.items)("addTag",o.allowCreateNew&&o.addItemRef)("placeholder",o.placeholder)("notFoundText",o.notFoundText)("multiple",o.multiple)("bindLabel",o.bindLabel),d(2),J(o.allowCreateNew&&!o.hideAddButton?9:-1),d(),J(o.showFilter?10:-1),d(2),nt(" ",o.error," "),d(),J(o.hint?13:-1),d(),J(o.getSuggestions().length>0?14:-1))},dependencies:[fr,Yt,Ln,P5,Jg,Wt],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .paperless-input-select.disabled[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-alt)!important}  .private .ng-value-container{font-style:italic;opacity:.75}  .is-invalid ng-select .ng-select-container input{padding-right:calc(1.5em + .75rem)!important;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\")!important;background-repeat:no-repeat!important;background-position:right calc(.375em + .1875rem) center!important;background-size:calc(.75em + .375rem) calc(.75em + .375rem)!important}"]})}return e})();const SLe=(e,i,t)=>({"col-md-9":e,"align-items-center":i,"d-flex":t});function ELe(e,i){if(1&e){const t=pe();c(0,"button",12),F("click",function(){H(t);const o=_(2);return $(o.removed.emit(o))}),k(1,"i-bs",13),j(2,"\xa0"),ke(3),R(4,1),ze(),h()}}function ALe(e,i){if(1&e&&(c(0,"div",4)(1,"label",10),j(2),h(),q(3,ELe,5,0,"button",11),h()),2&e){const t=_();d(),Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title),d(),J(t.removable?3:-1)}}function OLe(e,i){if(1&e&&(c(0,"label",8),j(1),h()),2&e){const t=_();w("for",t.inputId),d(),Pe(t.title)}}function yLe(e,i){if(1&e&&(c(0,"div",9),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}let Y1=(()=>{class e extends _s{constructor(){super()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-check"]],features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:9,vars:11,consts:()=>{let t;return t="Rimuovi",[["inputField",""],t,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container","col-md-3"],[3,"ngClass"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","blur","id","ngModel","disabled"],[1,"form-check-label",3,"for"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"div",3),q(2,ALe,4,5,"div",4),c(3,"div",5)(4,"div",6)(5,"input",7,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))})("blur",function(){return H(s),$(o.onTouched())}),h(),q(7,OLe,2,2,"label",8)(8,yLe,2,1,"div",9),h()()()()}2&n&&(d(2),J(o.horizontal?2:-1),d(),w("ngClass",W0(7,SLe,o.horizontal,o.horizontal,o.horizontal)),d(2),w("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled),d(2),J(o.horizontal?-1:7),d(),J(o.hint?8:-1))},dependencies:[va,ts,Yt,Ln,Wt]})}return e})(),Fh=(()=>{class e{constructor(t,n,o){this.viewContainerRef=t,this.templateRef=n,this.permissionsService=o}ngOnInit(){this.permissionsService.currentUserOwnsObject(this.pngxIfOwner)?this.createdView||(this.createdView=this.viewContainerRef.createEmbeddedView(this.templateRef)):this.viewContainerRef.clear()}ngOnChanges(){this.ngOnInit()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qo),Y(Kt),Y(Xn))};static#t=this.\u0275dir=st({type:e,selectors:[["","pngxIfOwner",""]],inputs:{pngxIfOwner:"pngxIfOwner"},features:[Rn]})}return e})(),$m=(()=>{class e extends _s{constructor(t,n){super(),t.listAll().pipe(wt()).subscribe(o=>this.users=o.results)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-permissions-user"]],features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:3,vars:5,consts:[[1,"paperless-input-select"],["name","inputId","clearable","true","multiple","true","bindLabel","username","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items"]],template:function(n,o){1&n&&(c(0,"div",0)(1,"div")(2,"ng-select",1),Tt("ngModelChange",function(r){return mt(o.value,r)||(o.value=r),r}),F("change",function(){return o.onChange(o.value)}),h()()()),2&n&&(Ye("disabled",o.disabled),d(2),bt("ngModel",o.value),w("disabled",o.disabled)("items",o.users))},dependencies:[Yt,Ln,P5],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-alt)!important}"]})}return e})(),kh=(()=>{class e extends vl{constructor(t,n){super(t,"groups"),this.permissionService=n}update(t){return this.getCached(t.id).pipe(zn(n=>(n.permissions?.forEach(o=>{const{typeKey:s,actionKey:r}=this.permissionService.getPermissionKeys(o);(!s||!r)&&t.permissions.push(o)}),super.update(t))))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi),Ke(Xn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bm=(()=>{class e extends _s{constructor(t){super(),t.listAll().pipe(wt()).subscribe(n=>this.groups=n.results)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(kh))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-permissions-group"]],features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:3,vars:5,consts:[[1,"paperless-input-select"],["name","inputId","clearable","true","multiple","true","bindLabel","name","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items"]],template:function(n,o){1&n&&(c(0,"div",0)(1,"div")(2,"ng-select",1),Tt("ngModelChange",function(r){return mt(o.value,r)||(o.value=r),r}),F("change",function(){return o.onChange(o.value)}),h()()()),2&n&&(Ye("disabled",o.disabled),d(2),bt("ngModel",o.value),w("disabled",o.disabled)("items",o.groups))},dependencies:[Yt,Ln,P5],styles:[".paperless-input-select.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-alt)!important}"]})}return e})();function DLe(e,i){if(1&e&&(c(0,"h5"),R(1,1),h(),ri(2,13)),2&e){_();const t=vt(3);d(2),w("ngTemplateOutlet",t)}}function NLe(e,i){1&e&&ri(0,13),2&e&&(_(2),w("ngTemplateOutlet",vt(3)))}function PLe(e,i){1&e&&(c(0,"div",12)(1,"div",14)(2,"h2",15)(3,"button",16),R(4,2),h()(),c(5,"div",17)(6,"div",18),q(7,NLe,1,1,"ng-template"),h()()()())}function ILe(e,i){if(1&e&&(c(0,"div",19)(1,"div",20)(2,"div",21)(3,"label",22),R(4,3),h()(),c(5,"div",23),k(6,"pngx-input-select",24),h()(),c(7,"small",25),R(8,4),h(),c(9,"div",26)(10,"h6",27),R(11,5),h(),c(12,"div",28)(13,"div",29)(14,"div",21)(15,"label",22),R(16,6),h()(),c(17,"div",23),k(18,"pngx-permissions-user",30),h()(),c(19,"div",20)(20,"div",21)(21,"label",22),R(22,7),h()(),c(23,"div",23),k(24,"pngx-permissions-group",31),h()()(),c(25,"h6",32),R(26,8),h(),c(27,"div",33)(28,"div",29)(29,"div",21)(30,"label",22),R(31,9),h()(),c(32,"div",23),k(33,"pngx-permissions-user",34),h()(),c(34,"div",20)(35,"div",21)(36,"label",22),R(37,10),h()(),c(38,"div",23),k(39,"pngx-permissions-group",35),h()(),c(40,"small",36),R(41,11),h()()()()),2&e){const t=_();w("formGroup",t.form),d(6),w("items",t.users)("allowNull",!0)}}let I5=(()=>{class e extends _s{constructor(){super(),this.accordion=!1,this.form=new In({owner:new Re(null),set_permissions:new In({view:new In({users:new Re([]),groups:new Re([])}),change:new In({users:new Re([]),groups:new Re([])})})})}ngOnInit(){this.form.valueChanges.subscribe(t=>{this.onChange(t)})}writeValue(t){this.form.patchValue(t,{emitEvent:!1})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-permissions-form"]],inputs:{users:"users",accordion:"accordion"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:4,vars:2,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L;return t="Permessi",n="Modifica permessi",o="Proprietario:",s="Gli oggetti senza un proprietario possono essere visualizzati e modificati da tutti gli utenti",r="Mostra",a="Utenti:",l="Gruppi:",u="Modifica",p="Utenti:",v="Gruppi:",L="I permessi di modifica concedono anche quelli di lettura",[["permissionsForm",""],t,n,o,s,r,a,l,u,p,v,L,["ngbAccordion","","activeIds",""],[3,"ngTemplateOutlet"],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],[3,"formGroup"],[1,"row"],[1,"col-lg-3"],[1,"form-label","d-block","my-2"],[1,"col-lg-9"],["bindLabel","username","formControlName","owner",3,"items","allowNull"],[1,"form-text","text-muted","text-end","d-block","mt-n2"],["formGroupName","set_permissions"],[1,"mt-3"],["formGroupName","view",1,"mb-2"],[1,"row","mb-1"],["type","view","formControlName","users"],["type","view","formControlName","groups"],[1,"mt-4"],["formGroupName","change"],["type","change","formControlName","users"],["type","change","formControlName","groups"],[1,"form-text","text-muted","text-end","d-block"]]},template:function(n,o){1&n&&q(0,DLe,3,1)(1,PLe,8,0,"div",12)(2,ILe,42,3,"ng-template",null,0,on),2&n&&(J(o.accordion?-1:0),d(),J(o.accordion?1:-1))},dependencies:[es,um,b5,Z1,_m,Dg,Ch,Yt,Wi,Bi,Xi,u5,Sr,$m,Bm],styles:[".accordion[_ngcontent-%COMP%]{--bs-accordion-btn-padding-x: .75rem;--bs-accordion-btn-padding-y: .375rem}"]})}return e})();function LLe(e,i){if(1&e&&(c(0,"span",5),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function xLe(e,i){if(1&e&&k(0,"pngx-input-text",10),2&e){const t=_();w("error",null==t.error?null:t.error.match)}}function RLe(e,i){1&e&&k(0,"pngx-input-check",11)}function FLe(e,i){if(1&e&&(c(0,"div"),k(1,"pngx-permissions-form",16),h()),2&e){const t=_();d(),w("users",t.users)}}let e3=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,o,s)}getCreateTitle(){return "Crea nuovo corrispondente"}getEditTitle(){return "Modifica corrispondente"}getForm(){return new In({name:new Re(""),matching_algorithm:new Re(6),match:new Re(""),is_insensitive:new Re(!0),permissions_form:new Re(null)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Aa),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-correspondent-edit-dialog"]],features:[Ct],decls:17,vars:11,consts:()=>{let t,n,o,s,r,a;return t="Nome",n="Algoritmo di assegnazione",o="Criterio di assegnazione",s="Senza distinzione tra maiuscole e minuscole",r="Annulla",a="Salva",[r,a,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","matching_algorithm",3,"items"],["title",o,"formControlName","match",3,"error"],["title",s,"formControlName","is_insensitive","novalidate",""],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(n,o){1&n&&(c(0,"form",2),F("ngSubmit",function(){return o.save()}),c(1,"div",3)(2,"h4",4),j(3),h(),q(4,LLe,2,1,"span",5),c(5,"button",6),F("click",function(){return o.cancel()}),h()(),c(6,"div",7),k(7,"pngx-input-text",8)(8,"pngx-input-select",9),q(9,xLe,1,1,"pngx-input-text",10)(10,RLe,1,0,"pngx-input-check",11)(11,FLe,2,1,"div",12),h(),c(12,"div",13)(13,"button",14),F("click",function(){return o.cancel()}),R(14,0),h(),c(15,"button",15),R(16,1),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(2),w("error",null==o.error?null:o.error.name),d(),w("items",o.getMatchingAlgorithms()),d(),J(o.patternRequired?9:-1),d(),J(o.patternRequired?10:-1),d(),w("pngxIfOwner",o.object),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,Sr,Y1,Fh,I5]})}return e})(),Oa=(()=>{class e extends vl{constructor(t){super(t,"document_types")}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kLe(e,i){if(1&e&&(c(0,"span",5),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function zLe(e,i){if(1&e&&k(0,"pngx-input-text",11),2&e){const t=_();w("error",null==t.error?null:t.error.match)}}function VLe(e,i){1&e&&k(0,"pngx-input-check",12)}function HLe(e,i){if(1&e&&(c(0,"div"),k(1,"pngx-permissions-form",17),h()),2&e){const t=_();d(),w("users",t.users)}}let t3=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,o,s)}getCreateTitle(){return "Crea nuovo tipo di documento"}getEditTitle(){return "Modifica tipo di documento"}getForm(){return new In({name:new Re(""),matching_algorithm:new Re(6),match:new Re(""),is_insensitive:new Re(!0),permissions_form:new Re(null)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Oa),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-type-edit-dialog"]],features:[Ct],decls:18,vars:11,consts:()=>{let t,n,o,s,r,a;return t="Nome",n="Algoritmo di assegnazione",o="Criterio di assegnazione",s="Senza distinzione tra maiuscole e minuscole",r="Annulla",a="Salva",[r,a,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"col"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","matching_algorithm",3,"items"],["title",o,"formControlName","match",3,"error"],["title",s,"formControlName","is_insensitive"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(n,o){1&n&&(c(0,"form",2),F("ngSubmit",function(){return o.save()}),c(1,"div",3)(2,"h4",4),j(3),h(),q(4,kLe,2,1,"span",5),c(5,"button",6),F("click",function(){return o.cancel()}),h()(),c(6,"div",7)(7,"div",8),k(8,"pngx-input-text",9)(9,"pngx-input-select",10),q(10,zLe,1,1,"pngx-input-text",11)(11,VLe,1,0,"pngx-input-check",12),h(),q(12,HLe,2,1,"div",13),h(),c(13,"div",14)(14,"button",15),F("click",function(){return o.cancel()}),R(15,0),h(),c(16,"button",16),R(17,1),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(3),w("error",null==o.error?null:o.error.name),d(),w("items",o.getMatchingAlgorithms()),d(),J(o.patternRequired?10:-1),d(),J(o.patternRequired?11:-1),d(),w("pngxIfOwner",o.object),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,Sr,Y1,Fh,I5]})}return e})();function Gm(e,i,...t){if(!0===i)return void e();if(!1===i)return;const n=new tn({next:()=>{n.unsubscribe(),e()}});return ji(i(...t)).subscribe(n)}const jL=function GLe(e,i){for(var t=-1,n=null==e?0:e.length,o=Array(n);++t<n;)o[t]=i(e[t],t,e);return o},WL=function jLe(e,i){return e===i||e!=e&&i!=i},n3=function WLe(e,i){for(var t=e.length;t--;)if(WL(e[t][0],i))return t;return-1};var KLe=Array.prototype.splice;function L5(e){var i=-1,t=null==e?0:e.length;for(this.clear();++i<t;){var n=e[i];this.set(n[0],n[1])}}L5.prototype.clear=function ULe(){this.__data__=[],this.size=0},L5.prototype.delete=function qLe(e){var i=this.__data__,t=n3(i,e);return!(t<0||(t==i.length-1?i.pop():KLe.call(i,t,1),--this.size,0))},L5.prototype.get=function JLe(e){var i=this.__data__,t=n3(i,e);return t<0?void 0:i[t][1]},L5.prototype.has=function exe(e){return n3(this.__data__,e)>-1},L5.prototype.set=function nxe(e,i){var t=this.__data__,n=n3(t,e);return n<0?(++this.size,t.push([e,i])):t[n][1]=i,this};const i3=L5,XL="object"==typeof global&&global&&global.Object===Object&&global;var _xe="object"==typeof self&&self&&self.Object===Object&&self;const J1=XL||_xe||Function("return this")(),Q1=J1.Symbol;var KL=Object.prototype,fxe=KL.hasOwnProperty,mxe=KL.toString,zh=Q1?Q1.toStringTag:void 0;var Mxe=Object.prototype.toString;var qL=Q1?Q1.toStringTag:void 0;const Cl=function Axe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":qL&&qL in Object(e)?function vxe(e){var i=fxe.call(e,zh),t=e[zh];try{e[zh]=void 0;var n=!0}catch{}var o=mxe.call(e);return n&&(i?e[zh]=t:delete e[zh]),o}(e):function bxe(e){return Mxe.call(e)}(e)},Vh=function Oxe(e){var i=typeof e;return null!=e&&("object"==i||"function"==i)},YL=function Ixe(e){if(!Vh(e))return!1;var i=Cl(e);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i};var e,Lxe=J1["__core-js_shared__"],JL=(e=/[^.]+$/.exec(Lxe&&Lxe.keys&&Lxe.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var kxe=Function.prototype.toString;const wl=function zxe(e){if(null!=e){try{return kxe.call(e)}catch{}try{return e+""}catch{}}return""};var Hxe=/^\[object .+?Constructor\]$/,Zxe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Wxe=function jxe(e){return!(!Vh(e)||function xxe(e){return!!JL&&JL in e}(e))&&(YL(e)?Zxe:Hxe).test(wl(e))},Ml=function qxe(e,i){var t=function Xxe(e,i){return e?.[i]}(e,i);return Wxe(t)?t:void 0},Hh=Ml(J1,"Map"),$h=Ml(Object,"create");var sRe=Object.prototype.hasOwnProperty;var cRe=Object.prototype.hasOwnProperty;function x5(e){var i=-1,t=null==e?0:e.length;for(this.clear();++i<t;){var n=e[i];this.set(n[0],n[1])}}x5.prototype.clear=function Qxe(){this.__data__=$h?$h(null):{},this.size=0},x5.prototype.delete=function tRe(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i},x5.prototype.get=function rRe(e){var i=this.__data__;if($h){var t=i[e];return"__lodash_hash_undefined__"===t?void 0:t}return sRe.call(i,e)?i[e]:void 0},x5.prototype.has=function dRe(e){var i=this.__data__;return $h?void 0!==i[e]:cRe.call(i,e)},x5.prototype.set=function _Re(e,i){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=$h&&void 0===i?"__lodash_hash_undefined__":i,this};const QL=x5,o3=function CRe(e,i){var t=e.__data__;return function mRe(e){var i=typeof e;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==e:null===e}(i)?t["string"==typeof i?"string":"hash"]:t.map};function R5(e){var i=-1,t=null==e?0:e.length;for(this.clear();++i<t;){var n=e[i];this.set(n[0],n[1])}}R5.prototype.clear=function gRe(){this.size=0,this.__data__={hash:new QL,map:new(Hh||i3),string:new QL}},R5.prototype.delete=function wRe(e){var i=o3(this,e).delete(e);return this.size-=i?1:0,i},R5.prototype.get=function bRe(e){return o3(this,e).get(e)},R5.prototype.has=function SRe(e){return o3(this,e).has(e)},R5.prototype.set=function ARe(e,i){var t=o3(this,e),n=t.size;return t.set(e,i),this.size+=t.size==n?0:1,this};const Zm=R5;function F5(e){var i=this.__data__=new i3(e);this.size=i.size}F5.prototype.clear=function oxe(){this.__data__=new i3,this.size=0},F5.prototype.delete=function rxe(e){var i=this.__data__,t=i.delete(e);return this.size=i.size,t},F5.prototype.get=function lxe(e){return this.__data__.get(e)},F5.prototype.has=function dxe(e){return this.__data__.has(e)},F5.prototype.set=function DRe(e,i){var t=this.__data__;if(t instanceof i3){var n=t.__data__;if(!Hh||n.length<199)return n.push([e,i]),this.size=++t.size,this;t=this.__data__=new Zm(n)}return t.set(e,i),this.size=t.size,this};const PRe=F5;var xRe=function(){try{var e=Ml(Object,"defineProperty");return e({},"",{}),e}catch{}}();const s3=xRe,ex=function RRe(e,i,t){"__proto__"==i&&s3?s3(e,i,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[i]=t};var kRe=Object.prototype.hasOwnProperty;const tx=function zRe(e,i,t){var n=e[i];(!kRe.call(e,i)||!WL(n,t)||void 0===t&&!(i in e))&&ex(e,i,t)},Bh=function VRe(e,i,t,n){var o=!t;t||(t={});for(var s=-1,r=i.length;++s<r;){var a=i[s],l=n?n(t[a],e[a],a,t,e):void 0;void 0===l&&(l=e[a]),o?ex(t,a,l):tx(t,a,l)}return t},bl=function BRe(e){return null!=e&&"object"==typeof e},nx=function URe(e){return bl(e)&&"[object Arguments]"==Cl(e)};var ix=Object.prototype,ZRe=ix.hasOwnProperty,jRe=ix.propertyIsEnumerable,WRe=nx(function(){return arguments}())?nx:function(e){return bl(e)&&ZRe.call(e,"callee")&&!jRe.call(e,"callee")};const ox=WRe,Tl=Array.isArray;var sx="object"==typeof exports&&exports&&!exports.nodeType&&exports,rx=sx&&"object"==typeof module&&module&&!module.nodeType&&module,ax=rx&&rx.exports===sx?J1.Buffer:void 0;const lx=(ax?ax.isBuffer:void 0)||function KRe(){return!1};var tFe=/^(?:0|[1-9]\d*)$/;const iFe=function nFe(e,i){var t=typeof e;return!!(i=i??9007199254740991)&&("number"==t||"symbol"!=t&&tFe.test(e))&&e>-1&&e%1==0&&e<i},cx=function sFe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Oi={};Oi["[object Float32Array]"]=Oi["[object Float64Array]"]=Oi["[object Int8Array]"]=Oi["[object Int16Array]"]=Oi["[object Int32Array]"]=Oi["[object Uint8Array]"]=Oi["[object Uint8ClampedArray]"]=Oi["[object Uint16Array]"]=Oi["[object Uint32Array]"]=!0,Oi["[object Arguments]"]=Oi["[object Array]"]=Oi["[object ArrayBuffer]"]=Oi["[object Boolean]"]=Oi["[object DataView]"]=Oi["[object Date]"]=Oi["[object Error]"]=Oi["[object Function]"]=Oi["[object Map]"]=Oi["[object Number]"]=Oi["[object Object]"]=Oi["[object RegExp]"]=Oi["[object Set]"]=Oi["[object String]"]=Oi["[object WeakMap]"]=!1;const jm=function IFe(e){return function(i){return e(i)}};var dx="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gh=dx&&"object"==typeof module&&module&&!module.nodeType&&module,Wm=Gh&&Gh.exports===dx&&XL.process;const k5=function(){try{return Gh&&Gh.require&&Gh.require("util").types||Wm&&Wm.binding&&Wm.binding("util")}catch{}}();var hx=k5&&k5.isTypedArray;const FFe=hx?jm(hx):function NFe(e){return bl(e)&&cx(e.length)&&!!Oi[Cl(e)]};var zFe=Object.prototype.hasOwnProperty;const ux=function VFe(e,i){var t=Tl(e),n=!t&&ox(e),o=!t&&!n&&lx(e),s=!t&&!n&&!o&&FFe(e),r=t||n||o||s,a=r?function HRe(e,i){for(var t=-1,n=Array(e);++t<e;)n[t]=i(t);return n}(e.length,String):[],l=a.length;for(var u in e)(i||zFe.call(e,u))&&(!r||!("length"==u||o&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||iFe(u,l)))&&a.push(u);return a};var HFe=Object.prototype;const Xm=function $Fe(e){var i=e&&e.constructor;return e===("function"==typeof i&&i.prototype||HFe)},_x=function BFe(e,i){return function(t){return e(i(t))}},UFe=_x(Object.keys,Object);var jFe=Object.prototype.hasOwnProperty;const px=function KFe(e){return null!=e&&cx(e.length)&&!YL(e)},Km=function qFe(e){return px(e)?ux(e):function WFe(e){if(!Xm(e))return UFe(e);var i=[];for(var t in Object(e))jFe.call(e,t)&&"constructor"!=t&&i.push(t);return i}(e)};var nke=Object.prototype.hasOwnProperty;const oke=function ike(e){if(!Vh(e))return function QFe(e){var i=[];if(null!=e)for(var t in Object(e))i.push(t);return i}(e);var i=Xm(e),t=[];for(var n in e)"constructor"==n&&(i||!nke.call(e,n))||t.push(n);return t},qm=function ske(e){return px(e)?ux(e,!0):oke(e)};var gx="object"==typeof exports&&exports&&!exports.nodeType&&exports,fx=gx&&"object"==typeof module&&module&&!module.nodeType&&module,mx=fx&&fx.exports===gx?J1.Buffer:void 0,vx=mx?mx.allocUnsafe:void 0;const Cx=function gke(){return[]};var mke=Object.prototype.propertyIsEnumerable,wx=Object.getOwnPropertySymbols,vke=wx?function(e){return null==e?[]:(e=Object(e),function _ke(e,i){for(var t=-1,n=null==e?0:e.length,o=0,s=[];++t<n;){var r=e[t];i(r,t,e)&&(s[o++]=r)}return s}(wx(e),function(i){return mke.call(e,i)}))}:Cx;const Ym=vke,Jm=function Mke(e,i){for(var t=-1,n=i.length,o=e.length;++t<n;)e[o+t]=i[t];return e},Qm=_x(Object.getPrototypeOf,Object);var Ske=Object.getOwnPropertySymbols?function(e){for(var i=[];e;)Jm(i,Ym(e)),e=Qm(e);return i}:Cx;const Mx=Ske,bx=function Oke(e,i,t){var n=i(e);return Tl(e)?n:Jm(n,t(e))},Dke=function yke(e){return bx(e,Km,Ym)},Tx=function Nke(e){return bx(e,qm,Mx)},ev=Ml(J1,"DataView"),tv=Ml(J1,"Promise"),nv=Ml(J1,"Set"),iv=Ml(J1,"WeakMap");var Sx="[object Map]",Ex="[object Promise]",Ax="[object Set]",Ox="[object WeakMap]",yx="[object DataView]",Fke=wl(ev),kke=wl(Hh),zke=wl(tv),Vke=wl(nv),Hke=wl(iv),Sl=Cl;(ev&&Sl(new ev(new ArrayBuffer(1)))!=yx||Hh&&Sl(new Hh)!=Sx||tv&&Sl(tv.resolve())!=Ex||nv&&Sl(new nv)!=Ax||iv&&Sl(new iv)!=Ox)&&(Sl=function(e){var i=Cl(e),t="[object Object]"==i?e.constructor:void 0,n=t?wl(t):"";if(n)switch(n){case Fke:return yx;case kke:return Sx;case zke:return Ex;case Vke:return Ax;case Hke:return Ox}return i});const ov=Sl;var Bke=Object.prototype.hasOwnProperty;const Dx=J1.Uint8Array,sv=function jke(e){var i=new e.constructor(e.byteLength);return new Dx(i).set(new Dx(e)),i};var Kke=/\w*$/;var Nx=Q1?Q1.prototype:void 0,Px=Nx?Nx.valueOf:void 0;const bze=function Mze(e,i,t){var n=e.constructor;switch(i){case"[object ArrayBuffer]":return sv(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return function Wke(e,i){var t=i?sv(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function eze(e,i){var t=i?sv(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}(e,t);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return function qke(e){var i=new e.constructor(e.source,Kke.exec(e));return i.lastIndex=e.lastIndex,i}(e);case"[object Symbol]":return function Jke(e){return Px?Object(Px.call(e)):{}}(e)}};var Ix=Object.create,Tze=function(){function e(){}return function(i){if(!Vh(i))return{};if(Ix)return Ix(i);e.prototype=i;var t=new e;return e.prototype=void 0,t}}();const Sze=Tze;var Lx=k5&&k5.isMap;const Pze=Lx?jm(Lx):function yze(e){return bl(e)&&"[object Map]"==ov(e)};var xx=k5&&k5.isSet;const Fze=xx?jm(xx):function Lze(e){return bl(e)&&"[object Set]"==ov(e)};var Rx="[object Arguments]",Fx="[object Function]",kx="[object Object]",Mi={};Mi[Rx]=Mi["[object Array]"]=Mi["[object ArrayBuffer]"]=Mi["[object DataView]"]=Mi["[object Boolean]"]=Mi["[object Date]"]=Mi["[object Float32Array]"]=Mi["[object Float64Array]"]=Mi["[object Int8Array]"]=Mi["[object Int16Array]"]=Mi["[object Int32Array]"]=Mi["[object Map]"]=Mi["[object Number]"]=Mi[kx]=Mi["[object RegExp]"]=Mi["[object Set]"]=Mi["[object String]"]=Mi["[object Symbol]"]=Mi["[object Uint8Array]"]=Mi["[object Uint8ClampedArray]"]=Mi["[object Uint16Array]"]=Mi["[object Uint32Array]"]=!0,Mi["[object Error]"]=Mi[Fx]=Mi["[object WeakMap]"]=!1;const cVe=function r3(e,i,t,n,o,s){var r,a=1&i,l=2&i,u=4&i;if(t&&(r=o?t(e,n,o,s):t(e)),void 0!==r)return r;if(!Vh(e))return e;var p=Tl(e);if(p){if(r=function Gke(e){var i=e.length,t=new e.constructor(i);return i&&"string"==typeof e[0]&&Bke.call(e,"index")&&(t.index=e.index,t.input=e.input),t}(e),!a)return function hke(e,i){var t=-1,n=e.length;for(i||(i=Array(n));++t<n;)i[t]=e[t];return i}(e,r)}else{var v=ov(e),L=v==Fx||"[object GeneratorFunction]"==v;if(lx(e))return function cke(e,i){if(i)return e.slice();var t=e.length,n=vx?vx(t):new e.constructor(t);return e.copy(n),n}(e,a);if(v==kx||v==Rx||L&&!o){if(r=l||L?{}:function Eze(e){return"function"!=typeof e.constructor||Xm(e)?{}:Sze(Qm(e))}(e),!a)return l?function Eke(e,i){return Bh(e,Mx(e),i)}(e,function rke(e,i){return e&&Bh(i,qm(i),e)}(r,e)):function Cke(e,i){return Bh(e,Ym(e),i)}(e,function YFe(e,i){return e&&Bh(i,Km(i),e)}(r,e))}else{if(!Mi[v])return o?e:{};r=bze(e,v,a)}}s||(s=new PRe);var z=s.get(e);if(z)return z;s.set(e,r),Fze(e)?e.forEach(function(he){r.add(r3(he,i,t,he,e,s))}):Pze(e)&&e.forEach(function(he,be){r.set(be,r3(he,i,t,be,e,s))});var se=p?void 0:(u?l?Tx:Dke:l?qm:Km)(e);return function IRe(e,i){for(var t=-1,n=null==e?0:e.length;++t<n&&!1!==i(e[t],t,e););}(se||e,function(he,be){se&&(he=e[be=he]),tx(r,be,r3(he,i,t,be,e,s))}),r},rv=function hVe(e){return"symbol"==typeof e||bl(e)&&"[object Symbol]"==Cl(e)};var uVe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_Ve=/^\w*$/;function av(e,i){if("function"!=typeof e||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");var t=function(){var n=arguments,o=i?i.apply(this,n):n[0],s=t.cache;if(s.has(o))return s.get(o);var r=e.apply(this,n);return t.cache=s.set(o,r)||s,r};return t.cache=new(av.Cache||Zm),t}av.Cache=Zm;const mVe=av;var MVe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bVe=/\\(\\)?/g,TVe=function CVe(e){var i=mVe(e,function(n){return 500===t.size&&t.clear(),n}),t=i.cache;return i}(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(MVe,function(t,n,o,s){i.push(o?s.replace(bVe,"$1"):n||t)}),i});const SVe=TVe;var zx=Q1?Q1.prototype:void 0,Vx=zx?zx.toString:void 0;const AVe=function Hx(e){if("string"==typeof e)return e;if(Tl(e))return jL(e,Hx)+"";if(rv(e))return Vx?Vx.call(e):"";var i=e+"";return"0"==i&&1/e==-1/0?"-0":i},yVe=function OVe(e){return null==e?"":AVe(e)},lv=function DVe(e,i){return Tl(e)?e:function pVe(e,i){if(Tl(e))return!1;var t=typeof e;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=e&&!rv(e))||_Ve.test(e)||!uVe.test(e)||null!=i&&e in Object(i)}(e,i)?[e]:SVe(yVe(e))},$x=function LVe(e){if("string"==typeof e||rv(e))return e;var i=e+"";return"0"==i&&1/e==-1/0?"-0":i},VVe=function zVe(e,i){return i.length<2?e:function xVe(e,i){for(var t=0,n=(i=lv(i,e)).length;null!=e&&t<n;)e=e[$x(i[t++])];return t&&t==n?e:void 0}(e,function FVe(e,i,t){var n=-1,o=e.length;i<0&&(i=-i>o?0:o+i),(t=t>o?o:t)<0&&(t+=o),o=i>t?0:t-i>>>0,i>>>=0;for(var s=Array(o);++n<o;)s[n]=e[n+i];return s}(i,0,-1))},$Ve=function HVe(e,i){return i=lv(i,e),null==(e=VVe(e,i))||delete e[$x(function NVe(e){var i=null==e?0:e.length;return i?e[i-1]:void 0}(i))]};var Bx=Function.prototype.toString,ZVe=Object.prototype.hasOwnProperty,jVe=Bx.call(Object);const qVe=function KVe(e){return function WVe(e){if(!bl(e)||"[object Object]"!=Cl(e))return!1;var i=Qm(e);if(null===i)return!0;var t=ZVe.call(i,"constructor")&&i.constructor;return"function"==typeof t&&t instanceof t&&Bx.call(t)==jVe}(e)?void 0:e};var Gx=Q1?Q1.isConcatSpreadable:void 0;const JVe=function YVe(e){return Tl(e)||ox(e)||!!(Gx&&e&&e[Gx])},QVe=function Ux(e,i,t,n,o){var s=-1,r=e.length;for(t||(t=JVe),o||(o=[]);++s<r;){var a=e[s];i>0&&t(a)?i>1?Ux(a,i-1,t,n,o):Jm(o,a):n||(o[o.length]=a)}return o},tHe=function eHe(e){return null!=e&&e.length?QVe(e,1):[]};var Zx=Math.max;const aHe=function rHe(e){return function(){return e}};var cHe=s3?function(e,i){return s3(e,"toString",{configurable:!0,enumerable:!1,value:aHe(i),writable:!0})}:function lHe(e){return e},_He=Date.now,gHe=function pHe(e){var i=0,t=0;return function(){var n=_He(),o=16-(n-t);if(t=n,o>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}(cHe);const fHe=gHe;var bHe=function mHe(e){return fHe(function oHe(e,i,t){return i=Zx(void 0===i?e.length-1:i,0),function(){for(var n=arguments,o=-1,s=Zx(n.length-i,0),r=Array(s);++o<s;)r[o]=n[i+o];o=-1;for(var a=Array(i+1);++o<i;)a[o]=n[o];return a[i]=t(r),function nHe(e,i,t){switch(t.length){case 0:return e.call(i);case 1:return e.call(i,t[0]);case 2:return e.call(i,t[0],t[1]);case 3:return e.call(i,t[0],t[1],t[2])}return e.apply(i,t)}(e,this,a)}}(e,void 0,tHe),e+"")}(function(e,i){var t={};if(null==e)return t;var n=!1;i=jL(i,function(s){return s=lv(s,e),n||(n=s.length>1),s}),Bh(e,Tx(e),t),n&&(t=cVe(t,7,qVe));for(var o=i.length;o--;)$Ve(t,i[o]);return t});const jx=bHe;function Wx(e){return"function"==typeof e}function cv(e){return function THe(e){return e&&Wx(e.subscribe)}(e)?e:Rt(e)}class SHe{canDeactivate(i,t){let n;const o=i.isDirty$;return n=Wx(o)?Bp(()=>cv(o())):cv(o),n.pipe(zn(s=>!1===s?Rt(!0):cv(this.confirmChanges(t))),oo(1))}}function a3(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;let t,n;if(Array.isArray(e)){if(t=e.length,t!=i.length)return!1;for(n=t;0!=n--;)if(!a3(e[n],i[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();const o=Object.keys(e);if(t=o.length,t!==Object.keys(i).length)return!1;for(n=t;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,o[n]))return!1;for(n=t;0!=n--;){const s=o[n];if(!a3(e[s],i[s]))return!1}return!0}return e!=e&&i!=i}const EHe={debounce:300,withDisabled:!0,useBeforeunloadEvent:!0};function dv(e,i,t={}){const{debounce:n,withDisabled:o,useBeforeunloadEvent:s,excludeKeys:r}={...EHe,...t},a=()=>function AHe(e,i){return i&&(e instanceof In||e instanceof g5)?e.getRawValue():e.value}(e,o),l=B1(Bp(()=>Rt(a())),e.valueChanges.pipe(Tr(n),Ma(),At(()=>a())));return new mn(u=>{const p=J0([i,l]).pipe(At(([v,L])=>r?!a3(jx(v,r),jx(L,r)):!a3(v,L)),Jc(!1),function BLe(e,i,t){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:i=1/0,refCount:o=!1,scheduler:t}=e):n=e??1/0,function $Le(e={}){const{connector:i=(()=>new et),resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return s=>{let r,a,l,u=0,p=!1,v=!1;const L=()=>{a?.unsubscribe(),a=void 0},z=()=>{L(),r=l=void 0,p=v=!1},ie=()=>{const se=r;z(),se?.unsubscribe()};return ti((se,he)=>{u++,!v&&!p&&L();const be=l=l??i();he.add(()=>{u--,0===u&&!v&&!p&&(a=Gm(ie,o))}),be.subscribe(he),!r&&u>0&&(r=new tn({next:we=>be.next(we),error:we=>{v=!0,L(),a=Gm(z,t,we),be.error(we)},complete:()=>{p=!0,L(),a=Gm(z,n),be.complete()}}),ji(se).subscribe(r))})(s)}}({connector:()=>new VP(n,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}({bufferSize:1,refCount:!0}));return s&&u.add(hn(window,"beforeunload").pipe(Sg(p)).subscribe(([v,L])=>{L&&(v.preventDefault(),v.returnValue=!1)})),p.subscribe(u)})}var pn=function(e){return e.Document="document",e.SavedView="saved_view",e.Correspondent="correspondent",e.DocumentType="document_type",e.StoragePath="storage_path",e.Tag="tag",e.User="user",e.Group="group",e.MailAccount="mail_account",e.MailRule="mail_rule",e.CustomField="custom_field",e.Workflow="workflow",e}(pn||{});const g3=[{id:0,filtervar:"title__icontains",datatype:"string",multi:!1,default:""},{id:1,filtervar:"content__icontains",datatype:"string",multi:!1,default:""},{id:2,filtervar:"archive_serial_number",datatype:"number",multi:!1},{id:3,filtervar:"correspondent__id",isnull_filtervar:"correspondent__isnull",datatype:pn.Correspondent,multi:!1},{id:26,filtervar:"correspondent__id__in",datatype:pn.Correspondent,multi:!0},{id:27,filtervar:"correspondent__id__none",datatype:pn.Correspondent,multi:!0},{id:25,filtervar:"storage_path__id",isnull_filtervar:"storage_path__isnull",datatype:pn.StoragePath,multi:!1},{id:30,filtervar:"storage_path__id__in",datatype:pn.StoragePath,multi:!0},{id:31,filtervar:"storage_path__id__none",datatype:pn.StoragePath,multi:!0},{id:4,filtervar:"document_type__id",isnull_filtervar:"document_type__isnull",datatype:pn.DocumentType,multi:!1},{id:28,filtervar:"document_type__id__in",datatype:pn.DocumentType,multi:!0},{id:29,filtervar:"document_type__id__none",datatype:pn.DocumentType,multi:!0},{id:5,filtervar:"is_in_inbox",datatype:"boolean",multi:!1,default:!0},{id:6,filtervar:"tags__id__all",datatype:pn.Tag,multi:!0},{id:22,filtervar:"tags__id__in",datatype:pn.Tag,multi:!0},{id:17,filtervar:"tags__id__none",datatype:pn.Tag,multi:!0},{id:7,filtervar:"is_tagged",datatype:"boolean",multi:!1,default:!0},{id:8,filtervar:"created__date__lt",datatype:"date",multi:!1},{id:9,filtervar:"created__date__gt",datatype:"date",multi:!1},{id:10,filtervar:"created__year",datatype:"number",multi:!1},{id:11,filtervar:"created__month",datatype:"number",multi:!1},{id:12,filtervar:"created__day",datatype:"number",multi:!1},{id:13,filtervar:"added__date__lt",datatype:"date",multi:!1},{id:14,filtervar:"added__date__gt",datatype:"date",multi:!1},{id:15,filtervar:"modified__date__lt",datatype:"date",multi:!1},{id:16,filtervar:"modified__date__gt",datatype:"date",multi:!1},{id:18,filtervar:"archive_serial_number__isnull",datatype:"boolean",multi:!1},{id:23,filtervar:"archive_serial_number__gt",datatype:"number",multi:!1},{id:24,filtervar:"archive_serial_number__lt",datatype:"number",multi:!1},{id:19,filtervar:"title_content",datatype:"string",multi:!1},{id:20,filtervar:"query",datatype:"string",multi:!1},{id:21,filtervar:"more_like_id",datatype:"number",multi:!1},{id:32,filtervar:"owner__id",datatype:"number",multi:!1},{id:33,filtervar:"owner__id__in",datatype:"number",multi:!0},{id:34,filtervar:"owner__isnull",datatype:"boolean",multi:!1},{id:35,filtervar:"owner__id__none",datatype:"number",multi:!0},{id:37,filtervar:"shared_by__id",datatype:"number",multi:!0},{id:36,filtervar:"custom_fields__icontains",datatype:"string",multi:!1},{id:38,filtervar:"custom_fields__id__all",datatype:"number",multi:!0},{id:39,filtervar:"custom_fields__id__in",datatype:"number",multi:!0},{id:40,filtervar:"custom_fields__id__none",datatype:"number",multi:!0},{id:41,filtervar:"has_custom_fields",datatype:"boolean",multi:!1,default:!0}];let d0=(()=>{class e extends vl{constructor(t){super(t,"storage_paths")}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xHe(e,i){if(1&e&&(c(0,"span",5),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function RHe(e,i){if(1&e&&k(0,"pngx-input-text",11),2&e){const t=_();w("error",null==t.error?null:t.error.match)}}function FHe(e,i){1&e&&k(0,"pngx-input-check",12)}function kHe(e,i){if(1&e&&(c(0,"div"),k(1,"pngx-permissions-form",17),h()),2&e){const t=_();d(),w("users",t.users)}}let f3=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,o,s)}get pathHint(){return "ad es."+" <code>{created_year}-{title}</code> "+"o usa slash per aggiungere directory, ad es."+" <code>{created_year}/{correspondent}/{title}</code>. "+"Fai riferimento <a target=\"_blank\" href=\"https://docs.paperless-ngx.com/advanced_usage/#file-name-handling\"> alla documentazione</a> per la lista completa."}getCreateTitle(){return "Crea un nuovo percorso di archiviazione"}getEditTitle(){return "Modifica percorso di archiviazione"}getForm(){return new In({name:new Re(""),path:new Re(""),matching_algorithm:new Re(6),match:new Re(""),is_insensitive:new Re(!0),permissions_form:new Re(null)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(d0),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-storage-path-edit-dialog"]],features:[Ct],decls:18,vars:13,consts:()=>{let t,n,o,s,r,a,l;return t="Nome",n="Percorso",o="Algoritmo di assegnazione",s="Criterio di assegnazione",r="Senza distinzione tra maiuscole e minuscole",a="Annulla",l="Salva",[a,l,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","path",3,"error","hint"],["title",o,"formControlName","matching_algorithm",3,"items"],["title",s,"formControlName","match",3,"error"],["title",r,"formControlName","is_insensitive"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(n,o){1&n&&(c(0,"form",2),F("ngSubmit",function(){return o.save()}),c(1,"div",3)(2,"h4",4),j(3),h(),q(4,xHe,2,1,"span",5),c(5,"button",6),F("click",function(){return o.cancel()}),h()(),c(6,"div",7),k(7,"pngx-input-text",8)(8,"pngx-input-text",9)(9,"pngx-input-select",10),q(10,RHe,1,1,"pngx-input-text",11)(11,FHe,1,0,"pngx-input-check",12)(12,kHe,2,1,"div",13),h(),c(13,"div",14)(14,"button",15),F("click",function(){return o.cancel()}),R(15,0),h(),c(16,"button",16),R(17,1),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(2),w("error",null==o.error?null:o.error.name),d(),w("error",null==o.error?null:o.error.path)("hint",o.pathHint),d(),w("items",o.getMatchingAlgorithms()),d(),J(o.patternRequired?10:-1),d(),J(o.patternRequired?11:-1),d(),w("pngxIfOwner",o.object),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,Sr,Y1,Fh,I5]})}return e})();class Uo{constructor(){this.PermissionAction=Nt,this.PermissionType=It}}let Av=(()=>{class e extends hl{fromModel(t){if(t){if(t.match(/\d\d\d\d\-\d\d\-\d\d/g)){const n=t.split("-");return{year:parseInt(n[0]),month:parseInt(n[1]),day:parseInt(n[2])}}{let n=new Date(t);return{day:n.getDate(),month:n.getMonth()+1,year:n.getFullYear()}}}return null}toModel(t){return t?t.year.toString().padStart(4,"0")+"-"+t.month.toString().padStart(2,"0")+"-"+t.day.toString().padStart(2,"0"):null}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();var ps=function(e){return e.String="string",e.Url="url",e.Date="date",e.Boolean="boolean",e.Integer="integer",e.Float="float",e.Monetary="monetary",e.DocumentLink="documentlink",e.Select="select",e}(ps||{});const Ov=[{id:ps.Boolean,name:"Booleano (s\xEC/no)"},{id:ps.Date,name:"Data"},{id:ps.Integer,name:"Numero Intero"},{id:ps.Float,name:"Numero"},{id:ps.Monetary,name:"Valuta"},{id:ps.String,name:"Testo"},{id:ps.Url,name:"Url"},{id:ps.DocumentLink,name:"Link Documento"},{id:ps.Select,name:"Seleziona"}],yv="sort",Dv="reverse",m3="page";function Nv(e,i=!1){let t=Kx(e.filterRules);return t[yv]=e.sortField,t[Dv]=e.sortReverse?1:void 0,i&&(t={}),t[m3]=isNaN(e.currentPage)?1:e.currentPage,i&&1==e.currentPage&&(t[m3]=void 0),t}function Xx(e){let i=function zHe(e){const i=g3.map(n=>n.filtervar).concat(g3.map(n=>n.isnull_filtervar)).filter(n=>void 0!==n);let t=[];return i.filter(n=>e.has(n)).forEach(n=>{const o=g3.find(l=>l.filtervar==n||l.isnull_filtervar==n),s=o.isnull_filtervar==n,r=e.get(n),a=o.multi?r.split(","):[r];t=t.concat(a.map(l=>("boolean"==o.datatype&&(l=l.replace("1","true").replace("0","false")),{rule_type:o.id,value:s?null:l})))}),t}(e),t=e.get(yv),n=e.has(Dv)||!e.has(yv)&&!e.has(Dv);return{currentPage:e.has(m3)?parseInt(e.get(m3)):1,filterRules:i,sortField:t,sortReverse:n}}function Kx(e){if(e){let i={};for(let t of e){let n=g3.find(o=>o.id==t.rule_type);n.isnull_filtervar&&null==t.value?i[n.isnull_filtervar]=1:n.multi?i[n.filtervar]=i[n.filtervar]?i[n.filtervar]+","+t.value:t.value:(i[n.filtervar]=t.value,"boolean"==n.datatype&&(i[n.filtervar]="true"==t.value||"1"==t.value?1:0))}return i}return null}let G5=(()=>{class e extends vl{constructor(t){super(t,"tags")}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xo=(()=>{class e extends Sa{get sortFields(){return this._sortFields}get sortFieldsFullText(){return this._sortFieldsFullText}constructor(t,n,o,s,r,a,l){super(t,"documents"),this.correspondentService=n,this.documentTypeService=o,this.tagService=s,this.storagePathService=r,this.permissionsService=a,this.settingsService=l,this.setupSortFields()}setupSortFields(){this._sortFields=[...S1e];let t=[];this.permissionsService.currentUserCan(Nt.View,It.Correspondent)||t.push("correspondent__name"),this.permissionsService.currentUserCan(Nt.View,It.DocumentType)||t.push("document_type__name"),this.permissionsService.currentUserCan(Nt.View,It.User)||t.push("owner"),this.settingsService.get(Ue.NOTES_ENABLED)||t.push("num_notes"),this._sortFields=this._sortFields.filter(n=>!t.includes(n.field)),this._sortFieldsFullText=[...this._sortFields,...E1e]}addObservablesToDocument(t){return t.correspondent&&this.permissionsService.currentUserCan(Nt.View,It.Correspondent)&&(t.correspondent$=this.correspondentService.getCached(t.correspondent)),t.document_type&&this.permissionsService.currentUserCan(Nt.View,It.DocumentType)&&(t.document_type$=this.documentTypeService.getCached(t.document_type)),t.tags&&this.permissionsService.currentUserCan(Nt.View,It.Tag)&&(t.tags$=this.tagService.getCachedMany(t.tags).pipe(dn(n=>n.sort((o,s)=>o.name.localeCompare(s.name))))),t.storage_path&&this.permissionsService.currentUserCan(Nt.View,It.StoragePath)&&(t.storage_path$=this.storagePathService.getCached(t.storage_path)),t}listFiltered(t,n,o,s,r,a={}){return this.list(t,n,o,s,Object.assign(a,Kx(r))).pipe(At(l=>(l.results.forEach(u=>this.addObservablesToDocument(u)),l)))}listAllFilteredIds(t){return this.listFiltered(1,1e5,null,null,t,{fields:"id"}).pipe(At(n=>n.results.map(o=>o.id)))}get(t){return this.http.get(this.getResourceUrl(t),{params:{full_perms:!0}})}getPreviewUrl(t,n=!1){let o=this.getResourceUrl(t,"preview");return this._searchQuery&&(o+=`#search="${this._searchQuery}"`),n&&(o+="?original=true"),o}getThumbUrl(t){return this.getResourceUrl(t,"thumb")}getDownloadUrl(t,n=!1){let o=this.getResourceUrl(t,"download");return n&&(o+="?original=true"),o}getNextAsn(){return this.http.get(this.getResourceUrl(null,"next_asn"))}update(t){return t.created=void 0,t.remove_inbox_tags=!!this.settingsService.get(Ue.DOCUMENT_EDITING_REMOVE_INBOX_TAGS),super.update(t)}uploadDocument(t){return this.http.post(this.getResourceUrl(null,"post_document"),t,{reportProgress:!0,observe:"events"})}getMetadata(t){return this.http.get(this.getResourceUrl(t,"metadata"))}bulkEdit(t,n,o){return this.http.post(this.getResourceUrl(null,"bulk_edit"),{documents:t,method:n,parameters:o})}getSelectionData(t){return this.http.post(this.getResourceUrl(null,"selection_data"),{documents:t})}getSuggestions(t){return this.http.get(this.getResourceUrl(t,"suggestions"))}getHistory(t){return this.http.get(this.getResourceUrl(t,"history"))}bulkDownload(t,n="both",o=!1){return this.http.post(this.getResourceUrl(null,"bulk_download"),{documents:t,content:n,follow_formatting:o},{responseType:"blob"})}set searchQuery(t){this._searchQuery=t}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi),Ke(Aa),Ke(Oa),Ke(G5),Ke(d0),Ke(Xn),Ke(Tn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var h0=ge(717),v3=ge.t(h0,2),v1=ge(876),VHe=ge.t(v1,2);const HHe=["pdfViewerContainer"];function Pv(e,i,t){e[i]=t}function qh(){return typeof window>"u"}qh()||Pv(v3,"verbosity",h0.VerbosityLevel.INFOS);var Iv=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",e}(Iv||{});let C3=(()=>{class e{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof v3<"u"?`https://unpkg.com/pdfjs-dist@${h0.version}/cmaps/`:null;_imageResourcesPath=typeof v3<"u"?`https://unpkg.com/pdfjs-dist@${h0.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=Iv.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new et;afterLoadComplete=new Be;pageRendered=new Be;pageInitialized=new Be;textLayerRendered=new Be;onError=new Be;onProgress=new Be;pageChange=new Be(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){const n=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,n!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return v1.LinkTarget.BLANK;case"none":return v1.LinkTarget.NONE;case"self":return v1.LinkTarget.SELF;case"parent":return v1.LinkTarget.PARENT;case"top":return v1.LinkTarget.TOP}return null}constructor(t,n){if(this.element=t,this.ngZone=n,qh())return;let o;const s=h0.version;o=window[`pdfWorkerSrc${s}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`),Pv(h0.GlobalWorkerOptions,"workerSrc",o)}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!qh()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:n}=t;if(n.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){xi(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(je(this.destroy$)).subscribe({next:t=>{const n=this._rotation+t.rotate,o=t.getViewport({scale:this._zoom,rotation:n}).width*e.CSS_UNITS;let s=this._zoom,r=!0;if(!this._originalSize||this._fitToPage&&o>this.pdfViewerContainer.nativeElement.clientWidth){const a=t.getViewport({scale:1,rotation:n});s=this.getScale(a.width,a.height),r=!this._stickToPage}this.pdfViewer.pagesPromise?.then(()=>{this.pdfViewer.currentScale=s,r&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const t=e.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function $He(e,i){const t=new e.EventBus;return function BHe(e,i){hn(e,"documentload").pipe(je(i)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),hn(e,"pagerendered").pipe(je(i)).subscribe(({pageNumber:t,cssTransform:n,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:n}),o.div.dispatchEvent(s)}),hn(e,"textlayerrendered").pipe(je(i)).subscribe(({pageNumber:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),n.textLayerDiv?.dispatchEvent(o)}),hn(e,"pagechanging").pipe(je(i)).subscribe(({pageNumber:t,source:n})=>{const o=document.createEvent("UIEvents");o.initEvent("pagechanging",!0,!0),o.pageNumber=t,n.container.dispatchEvent(o)}),hn(e,"pagesinit").pipe(je(i)).subscribe(({source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(n)}),hn(e,"pagesloaded").pipe(je(i)).subscribe(({pagesCount:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),n.container.dispatchEvent(o)}),hn(e,"scalechange").pipe(je(i)).subscribe(({scale:t,presetValue:n,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=n,o.container.dispatchEvent(s)}),hn(e,"updateviewarea").pipe(je(i)).subscribe(({location:t,source:n})=>{const o=document.createEvent("UIEvents");o.initEvent("updateviewarea",!0,!0),o.location=t,n.container.dispatchEvent(o)}),hn(e,"find").pipe(je(i)).subscribe(({source:t,type:n,query:o,phraseSearch:s,caseSensitive:r,highlightAll:a,findPrevious:l})=>{if(t===window)return;const u=document.createEvent("CustomEvent");u.initCustomEvent("find"+n,!0,!0,{query:o,phraseSearch:s,caseSensitive:r,highlightAll:a,findPrevious:l}),window.dispatchEvent(u)}),hn(e,"attachmentsloaded").pipe(je(i)).subscribe(({attachmentsCount:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),n.container.dispatchEvent(o)}),hn(e,"sidebarviewchanged").pipe(je(i)).subscribe(({view:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),n.outerContainer.dispatchEvent(o)}),hn(e,"pagemode").pipe(je(i)).subscribe(({mode:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagemode",!0,!0,{mode:t}),n.pdfViewer.container.dispatchEvent(o)}),hn(e,"namedaction").pipe(je(i)).subscribe(({action:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("namedaction",!0,!0,{action:t}),n.pdfViewer.container.dispatchEvent(o)}),hn(e,"presentationmodechanged").pipe(je(i)).subscribe(({active:t,switchInProgress:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:n}),window.dispatchEvent(o)}),hn(e,"outlineloaded").pipe(je(i)).subscribe(({outlineCount:t,source:n})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),n.container.dispatchEvent(o)})}(t,i),t}(VHe,this.destroy$),hn(this.eventBus,"pagerendered").pipe(je(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),hn(this.eventBus,"pagesinit").pipe(je(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),hn(this.eventBus,"pagechanging").pipe(je(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),hn(this.eventBus,"textlayerrendered").pipe(je(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new v1.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new v1.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:Iv.DISABLED,findController:this.pdfFindController,l10n:new v1.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:h0.AnnotationEditorType.DISABLE}}setupViewer(){Pv(v3,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new v1.PDFViewer(this.getPDFOptions()):new v1.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const n={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0,isEvalSupported:!1};return"string"===t?n.url=this.src:"object"===t&&(void 0!==this.src.byteLength?n.data=this.src:Object.assign(n,this.src)),n}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=h0.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=n=>{this.onProgress.emit(n)};const t=this.src;xi(this.loadingTask.promise).pipe(je(this.destroy$)).subscribe({next:n=>{this._pdf=n,this.lastLoaded=t,this.afterLoadComplete.emit(n),this.resetPdfDocument(),this.update()},error:n=>{this.lastLoaded=null,this.onError.emit(n)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,n){const o=this._showBorders?2*e.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-o,r=this.pdfViewerContainer.nativeElement.clientHeight-o;if(0===r||0===n||0===s||0===t)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(r/n,s/t);break;case"page-height":a=r/n;break;default:a=s/t}return this._zoom*a/e.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){qh()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){qh()||this.ngZone.runOutsideAngular(()=>{hn(window,"resize").pipe(Tr(100),$n(()=>this._canAutoResize&&!!this._pdf),je(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(n){return new(n||e)(Y(Qt),Y(jt))};static \u0275cmp=it({type:e,selectors:[["pdf-viewer"]],viewQuery:function(n,o){if(1&n&&cn(HHe,5),2&n){let s;Ot(s=yt())&&(o.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[Rn],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(n,o){1&n&&(c(0,"div",1,0),k(2,"div",2),h())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return e})(),GHe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=vn({type:e});static \u0275inj=fn({})}return e})();function UHe(e,i){if(1&e){const t=pe();j(0," \xa0 "),c(1,"button",28),F("click",function(){H(t);const o=_().$index;return $(_().removeSplit(o))}),k(2,"i-bs",29),h()}}function ZHe(e,i){if(1&e&&(c(0,"li",20),j(1),q(2,UHe,3,0,"button",27),h()),2&e){const t=i.$implicit,n=_();d(),nt(" ",t," "),d(),J(n.pagesString.split(",").length>1?2:-1)}}let jHe=(()=>{class e extends pi{get pagesString(){let t="",n=1;for(let o=1;o<=this.totalPages;o++)(this.pages.has(o)||o===this.totalPages)&&(n===o?(t+=`${o},`,n=Math.min(o+1,this.totalPages)):(t+=`${n}-${o},`,n=Math.min(o+1,this.totalPages)));return t.replace(/,$/,"")}get canSplit(){return this.page<this.totalPages&&this.pages.size<this.totalPages-1&&!this.pages.has(this.page)}get pdfSrc(){return this.documentService.getPreviewUrl(this.documentID)}constructor(t,n,o){super(t),this.documentService=n,this.permissionService=o,this.pages=new Set,this.page=1,this.deleteOriginal=!1,this.confirmButtonEnabled=this.pages.size>0}ngOnInit(){this.documentService.get(this.documentID).subscribe(t=>{this.document=t})}pdfPreviewLoaded(t){this.totalPages=t.numPages}addSplit(){this.page!==this.totalPages&&(this.pages.add(this.page),this.pages=new Set(Array.from(this.pages).sort()),this.confirmButtonEnabled=this.pages.size>0)}removeSplit(t){let n=Array.from(this.pages)[Math.min(t,this.pages.size-1)];this.pages.delete(n),this.confirmButtonEnabled=this.pages.size>0}get userOwnsDocument(){return this.permissionService.currentUserOwnsObject(this.document)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi),Y(xo),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-split-confirm-dialog"]],features:[Ct],decls:37,vars:19,consts:()=>{let t,n,o,s;return t="Pagina",n="di " + "\ufffd0\ufffd" + "",o="Aggiungi divisione",s="Elimina documento originale dopo la divisione",[t,n,o,s,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-2"],[1,"col-8"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","number","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"pdf-viewer-container","w-100","mt-3"],["zoom-scale","page-fit",3,"pageChange","after-load-complete","src","page","original-size","zoom"],[1,"col-4"],[1,"d-grid"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],["name","plus-circle"],[1,"list-group","mt-3"],[1,"list-group-item","d-flex","align-items-center"],[1,"form-check","form-switch","mt-4"],["type","checkbox","role","switch","id","deleteOriginalSwitch",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","deleteOriginalSwitch",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"btn","btn-sm","btn-danger","ms-auto"],[1,"btn","btn-sm","btn-danger","ms-auto",3,"click"],["name","trash"]]},template:function(n,o){1&n&&(c(0,"div",4)(1,"h4",5),j(2),h(),c(3,"button",6),F("click",function(){return o.cancel()}),h()(),c(4,"div",7)(5,"p"),j(6),h(),c(7,"div",8)(8,"div",9)(9,"div",10)(10,"div",11),R(11,0),h(),c(12,"input",12),Tt("ngModelChange",function(r){return mt(o.page,r)||(o.page=r),r}),h(),c(13,"div",11),R(14,1),h()(),c(15,"div",13)(16,"pdf-viewer",14),Tt("pageChange",function(r){return mt(o.page,r)||(o.page=r),r}),F("after-load-complete",function(r){return o.pdfPreviewLoaded(r)}),h()()(),c(17,"div",15)(18,"div",16)(19,"button",17),F("click",function(){return o.addSplit()}),k(20,"i-bs",18),j(21,"\xa0 "),c(22,"span"),R(23,2),h()()(),c(24,"ul",19),ut(25,ZHe,3,2,"li",20,Ft),h()()(),c(27,"div",21)(28,"input",22),Tt("ngModelChange",function(r){return mt(o.deleteOriginal,r)||(o.deleteOriginal=r),r}),h(),c(29,"label",23),R(30,3),h()()(),c(31,"div",24)(32,"button",25),F("click",function(){return o.cancel()}),c(33,"span",26),j(34),h()(),c(35,"button",25),F("click",function(){return o.confirm()}),j(36),h()()),2&n&&(d(2),Pe(o.title),d(4),Pe(o.message),d(6),bt("ngModel",o.page),d(2),An(o.totalPages),Dn(14),d(2),w("src",o.pdfSrc),bt("page",o.page),w("original-size",!1)("zoom",1),d(3),w("disabled",!o.canSplit),d(6),_t(o.pagesString.split(",")),d(3),bt("ngModel",o.deleteOriginal),w("disabled",!o.userOwnsDocument),d(4),Ai(o.cancelBtnClass),w("disabled",!o.buttonsEnabled),d(2),Pe(o.cancelBtnCaption),d(),Ai(o.btnClass),w("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),d(),nt(" ",o.btnCaption," "))},dependencies:[si,ol,ts,Yt,rh,Ln,C3,Wt],styles:[".pdf-viewer-container[_ngcontent-%COMP%]{background-color:gray;height:350px}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return e})();const WHe=e=>({transform:e});function XHe(e,i){if(1&e&&k(0,"img",10),2&e){const t=_();w("ngStyle",No(2,WHe,"rotate("+t.rotation+"deg)"))("src",t.documentService.getThumbUrl(t.documentID),$o)}}function KHe(e,i){1&e&&(c(0,"p",13),R(1,0),h())}function qHe(e,i){1&e&&(k(0,"p",16),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().message),Qi)}function YHe(e,i){if(1&e&&(c(0,"p",17),k(1,"b",16),ot(2,"safeHtml"),h()),2&e){const t=_();d(),w("innerHTML",Et(2,1,t.messageBold),Qi)}}function JHe(e,i){if(1&e&&k(0,"ngb-progressbar",20),2&e){const t=_();w("max",t.secondsTotal)("value",t.seconds)}}let qx=(()=>{class e extends pi{get degrees(){let t=this.rotation%360;return t<0&&(t+=360),t}constructor(t,n){super(t),this.documentService=n,this.showPDFNote=!0,this.rotation=0}rotate(t=!0){this.rotation+=t?90:-90}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi),Y(xo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-rotate-confirm-dialog"]],features:[Ct],decls:25,vars:14,consts:()=>{let t;return t="Nota che solo i PDF saranno ruotati.",[t,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-2","d-flex","justify-content-end"],[1,"btn","btn-secondary","mt-auto",3,"click"],["name","arrow-counterclockwise"],[1,"col-8","d-flex","align-items-center"],[1,"w-75","m-auto",3,"ngStyle","src"],[1,"col-2","d-flex"],["name","arrow-clockwise"],[1,"small","text-muted","fst-italic","mt-4"],[1,"modal-footer","flex-nowrap"],[1,"col"],[3,"innerHTML"],[1,"mb-0","small"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],["type","dark",2,"height","1px",3,"max","value"]]},template:function(n,o){1&n&&(c(0,"div",1)(1,"h4",2),j(2),h(),c(3,"button",3),F("click",function(){return o.cancel()}),h()(),c(4,"div",4)(5,"div",5)(6,"div",6)(7,"button",7),F("click",function(){return o.rotate(!1)}),k(8,"i-bs",8),h()(),c(9,"div",9),q(10,XHe,1,4,"img",10),h(),c(11,"div",11)(12,"button",7),F("click",function(){return o.rotate()}),k(13,"i-bs",12),h()()(),q(14,KHe,2,0,"p",13),h(),c(15,"div",14)(16,"div",15),q(17,qHe,2,3,"p",16)(18,YHe,3,3,"p",17),h(),c(19,"button",18),F("click",function(){return o.cancel()}),c(20,"span",19),j(21),h()(),c(22,"button",18),F("click",function(){return o.confirm()}),j(23),q(24,JHe,1,2,"ngb-progressbar",20),h()()),2&n&&(d(2),Pe(o.title),d(8),J(o.documentID?10:-1),d(4),J(o.showPDFNote?14:-1),d(3),J(o.message?17:-1),d(),J(o.messageBold?18:-1),d(),Ai(o.cancelBtnClass),w("disabled",!o.buttonsEnabled),d(2),Pe(o.cancelBtnCaption),d(),Ai(o.btnClass),w("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled||0===o.degrees),d(),nt(" ",o.btnCaption," "),d(),J(o.confirmButtonEnabled?-1:24))},dependencies:[V8,Oh,Wt,m1],styles:["img[_ngcontent-%COMP%]{transition:all .25s ease}"]})}return e})();const QHe=["pdfViewer"],e$e=["pageCheckOverlay"];function t$e(e,i){1&e&&(k(0,"p",20),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().message),Qi)}function n$e(e,i){if(1&e&&(c(0,"p",21),k(1,"b",20),ot(2,"safeHtml"),h()),2&e){const t=_();d(),w("innerHTML",Et(2,1,t.messageBold),Qi)}}function i$e(e,i){if(1&e){const t=pe();c(0,"div",24),F("click",function(){const o=H(t).page;return $(_().pageCheckChanged(o))}),k(1,"input",25),h()}}let o$e=(()=>{class e extends pi{get pagesString(){return this.pages.join(", ")}get pdfSrc(){return this.documentService.getPreviewUrl(this.documentID)}constructor(t,n){super(t),this.documentService=n,this.pages=[],this.currentPage=1,this.checks=[]}pdfPreviewLoaded(t){this.totalPages=t.numPages}pageRendered(t){const n=t.target,o=this.pageCheckOverlay.createEmbeddedView({page:t.detail.pageNumber});this.checks[t.detail.pageNumber-1]=o.rootNodes[0],n?.insertBefore(o.rootNodes[0],n.firstChild),this.updateChecks()}pageCheckChanged(t){this.pages.includes(t)?this.pages.includes(t)&&this.pages.splice(this.pages.indexOf(t),1):this.pages.push(t),this.updateChecks()}updateChecks(){this.checks.forEach((t,n)=>{t.getElementsByTagName("input")[0].checked=this.pages.includes(n+1)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi),Y(xo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-delete-pages-confirm-dialog"]],viewQuery:function(n,o){if(1&n&&(cn(QHe,5),cn(e$e,5)),2&n){let s;Ot(s=yt())&&(o.pdfViewer=s.first),Ot(s=yt())&&(o.pageCheckOverlay=s.first)}},features:[Ct],decls:32,vars:19,consts:()=>{let t,n,o;return t="Pagina",n="di " + "\ufffd0\ufffd" + "",o="Pagine da rimuovere",[["pdfViewer",""],["pageCheckOverlay",""],t,n,o,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col"],[1,"btn-toolbar","flex-nowrap"],[1,"input-group","input-group-sm"],[1,"input-group-text"],["type","number","min","1",1,"form-control","mw-60",3,"ngModelChange","ngModel"],[1,"input-group","input-group-sm","ms-auto"],["disabled","",1,"form-control",3,"ngModel"],[1,"pdf-viewer-container","w-100","mt-3"],["zoom-scale","page-fit",3,"pageChange","pagerendered","after-load-complete","src","page","original-size","zoom","render-text"],[1,"modal-footer","flex-nowrap"],[3,"innerHTML"],[1,"mb-0","small"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],[1,"position-absolute","top-0","start-0","w-100","h-100","p-2",3,"click"],["type","checkbox",1,"form-check-input"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",5)(1,"h4",6),j(2),h(),c(3,"button",7),F("click",function(){return H(s),$(o.cancel())}),h()(),c(4,"div",8)(5,"div",9)(6,"div",10)(7,"div",11)(8,"div",12)(9,"div",13),R(10,2),h(),c(11,"input",14),Tt("ngModelChange",function(a){return H(s),mt(o.currentPage,a)||(o.currentPage=a),$(a)}),h(),c(12,"div",13),R(13,3),h()(),c(14,"div",15)(15,"span",13),R(16,4),h(),k(17,"input",16),h()(),c(18,"div",17)(19,"pdf-viewer",18,0),Tt("pageChange",function(a){return H(s),mt(o.currentPage,a)||(o.currentPage=a),$(a)}),F("pagerendered",function(a){return H(s),$(o.pageRendered(a))})("after-load-complete",function(a){return H(s),$(o.pdfPreviewLoaded(a))}),h()()()()(),c(21,"div",19)(22,"div"),q(23,t$e,2,3,"p",20)(24,n$e,3,3,"p",21),h(),c(25,"button",22),F("click",function(){return H(s),$(o.cancel())}),c(26,"span",23),j(27),h()(),c(28,"button",22),F("click",function(){return H(s),$(o.confirm())}),j(29),h()(),q(30,i$e,2,0,"ng-template",null,1,on)}2&n&&(d(2),Pe(o.title),d(9),bt("ngModel",o.currentPage),d(2),An(o.totalPages),Dn(13),d(4),w("ngModel",o.pagesString),d(2),w("src",o.pdfSrc),bt("page",o.currentPage),w("original-size",!1)("zoom",1)("render-text",!1),d(4),J(o.message?23:-1),d(),J(o.messageBold?24:-1),d(),Ai(o.cancelBtnClass),w("disabled",!o.buttonsEnabled),d(2),Pe(o.cancelBtnCaption),d(),Ai(o.btnClass),w("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),d(),nt(" ",o.btnCaption," "))},dependencies:[si,ol,Yt,rh,Ln,C3,m1],styles:[".pdf-viewer-container[_ngcontent-%COMP%]{background-color:gray;height:350px}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}.mw-60[_ngcontent-%COMP%]{max-width:60px}div.position-absolute[_ngcontent-%COMP%]:has(.form-check-input:checked){background-color:rgba(var(--bs-dark-rgb),.4)}.form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--bs-danger);border-color:var(--bs-danger)}.form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),var(--pngx-focus-alpha));border-color:var(--bs-danger)}"]})}return e})();const w3_DOCUMENTS="open-documents-service:openDocuments";let M3=(()=>{class e{constructor(t,n){if(this.documentService=t,this.modalService=n,this.MAX_OPEN_DOCUMENTS=5,this.openDocuments=[],this.dirtyDocuments=new Set,sessionStorage.getItem(w3_DOCUMENTS))try{this.openDocuments=JSON.parse(sessionStorage.getItem(w3_DOCUMENTS))}catch{sessionStorage.removeItem(w3_DOCUMENTS),this.openDocuments=[]}}refreshDocument(t){let n=this.openDocuments.findIndex(o=>o.id==t);n>-1&&this.documentService.get(t).subscribe({next:o=>{this.openDocuments[n]=o,this.save()},error:()=>{this.openDocuments.splice(n,1),this.save()}})}getOpenDocuments(){return this.openDocuments}getOpenDocument(t){return this.openDocuments.find(n=>n.id==t)}openDocument(t){if(null==this.openDocuments.find(n=>n.id==t.id)){if(this.openDocuments.length==this.MAX_OPEN_DOCUMENTS){const o=this.closeDocument(this.openDocuments[this.MAX_OPEN_DOCUMENTS-1]);return o.pipe(wt()).subscribe(s=>{s&&this.finishOpenDocument(t)}),o}this.finishOpenDocument(t)}return Rt(!0)}finishOpenDocument(t){this.openDocuments.unshift(t),this.dirtyDocuments.delete(t.id),this.save()}setDirty(t,n){this.openDocuments.find(o=>o.id==t.id)&&(n?this.dirtyDocuments.add(t.id):this.dirtyDocuments.delete(t.id))}hasDirty(){return this.dirtyDocuments.size>0}isDirty(t){return this.dirtyDocuments.has(t.id)}closeDocument(t){let n=this.openDocuments.findIndex(o=>o.id==t.id);if(-1==n)return Rt(!0);if(this.dirtyDocuments.has(t.id)){let o=this.modalService.open(pi,{backdrop:"static"});o.componentInstance.title="Modifiche non salvate",o.componentInstance.messageBold="Hai modifiche non salvate nel documento"+' "'+t.title+'".',o.componentInstance.message="Sei sicuro di voler chiudere questo documento?",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Chiudi documento",o.componentInstance.confirmClicked.pipe(wt()).subscribe(()=>{o.componentInstance.buttonsEnabled=!1,o.close(),this.openDocuments.splice(n,1),this.dirtyDocuments.delete(t.id),this.save()});const s=new et;return o.componentInstance.confirmSubject=s,s.asObservable()}return this.openDocuments.splice(n,1),this.save(),Rt(!0)}closeAll(){if(this.dirtyDocuments.size){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Modifiche non salvate",t.componentInstance.messageBold="Hai delle modifiche non salvate.",t.componentInstance.message="Sei sicuro di voler chiudere tutti i documenti?",t.componentInstance.btnClass="btn-warning",t.componentInstance.btnCaption="Chiudi documenti",t.componentInstance.confirmClicked.pipe(wt()).subscribe(()=>{t.componentInstance.buttonsEnabled=!1,t.close(),this.openDocuments.splice(0,this.openDocuments.length),this.dirtyDocuments.clear(),this.save()});const n=new et;return t.componentInstance.confirmSubject=n,n.asObservable()}return this.openDocuments.splice(0,this.openDocuments.length),this.dirtyDocuments.clear(),this.save(),Rt(!0)}save(){try{sessionStorage.setItem(w3_DOCUMENTS,JSON.stringify(this.openDocuments))}catch(t){console.error("Error saving open documents to session storage",t)}}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(xo),Ke(Ki))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yx(e){return null!=e.find(i=>20==i.rule_type||21==i.rule_type)}function b3(e,i){let t=!1;return t=e.length!=i.length||e.some(n=>null==i.find(o=>o.rule_type==n.rule_type&&o.value==n.value)),t}let ya=(()=>{class e{get activeSavedViewId(){return this._activeSavedViewId}get activeSavedViewTitle(){return this.activeListViewState.title}constructor(t,n,o){this.documentService=t,this.settings=n,this.router=o,this.isReloading=!1,this.initialized=!1,this.error=null,this.unsubscribeNotifier=new et,this.listViewStates=new Map,this._activeSavedViewId=null;let s=localStorage.getItem("document-list-service:currentViewConfig");if(s)try{let r=JSON.parse(s);Object.keys(r).forEach(l=>{null==r[l]&&delete r[l]});let a=Object.assign(this.defaultListViewState(),r);this.listViewStates.set(null,a)}catch{localStorage.removeItem("document-list-service:currentViewConfig")}}defaultListViewState(){return{title:null,documents:[],currentPage:1,collectionSize:null,sortField:"created",sortReverse:!0,filterRules:[],selected:new Set}}get activeListViewState(){return this.listViewStates.has(this._activeSavedViewId)||this.listViewStates.set(this._activeSavedViewId,this.defaultListViewState()),this.listViewStates.get(this._activeSavedViewId)}cancelPending(){this.unsubscribeNotifier.next(!0)}activateSavedView(t){this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null,t?(this._activeSavedViewId=t.id,this.loadSavedView(t)):this._activeSavedViewId=null}activateSavedViewWithQueryParams(t,n){const o=Xx(n);this.activateSavedView(t),this.currentPage=o.currentPage}loadSavedView(t,n=!1){n&&(this._activeSavedViewId=null),this.activeListViewState.filterRules=function s$e(e){if(e){let i=[];for(let t of e)i.push({rule_type:t.rule_type,value:t.value});return i}return null}(t.filter_rules),this.activeListViewState.sortField=t.sort_field,this.activeListViewState.sortReverse=t.sort_reverse,this._activeSavedViewId&&(this.activeListViewState.title=t.name),this.activeListViewState.displayMode=t.display_mode,this.activeListViewState.pageSize=t.page_size,this.activeListViewState.displayFields=t.display_fields,this.reduceSelectionToFilter(),this.router.routerState.snapshot.url.includes("/view/")||this.router.navigate(["view",t.id])}loadFromQueryParams(t){const n=0==t.keys.length;let o=this.listViewStates.get(this._activeSavedViewId);n||(o=Xx(t)),null==o&&(o=this.defaultListViewState()),(!this.initialized||n||this.activeListViewState.sortField!==o.sortField||this.activeListViewState.sortReverse!==o.sortReverse||this.activeListViewState.currentPage!==o.currentPage||b3(this.activeListViewState.filterRules,o.filterRules))&&(this.activeListViewState.filterRules=o.filterRules,this.activeListViewState.sortField=o.sortField,this.activeListViewState.sortReverse=o.sortReverse,this.activeListViewState.currentPage=o.currentPage,this.reload(null,n))}reload(t,n=!0){this.cancelPending(),this.isReloading=!0,this.error=null;let o=this.activeListViewState;this.documentService.listFiltered(o.currentPage,o.pageSize??this.pageSize,o.sortField,o.sortReverse,o.filterRules,{truncate_content:!0}).pipe(je(this.unsubscribeNotifier)).subscribe({next:s=>{this.initialized=!0,this.isReloading=!1,o.collectionSize=s.count,o.documents=s.results,this.documentService.getSelectionData(s.all).pipe(wt()).subscribe({next:r=>{this.selectionData=r},error:()=>{this.selectionData=null}}),n&&!this._activeSavedViewId?this.router.navigate(["/documents"],{queryParams:Nv(o),replaceUrl:!this.router.routerState.snapshot.url.includes("?")}):this._activeSavedViewId&&this.router.navigate([],{queryParams:Nv(o,!0),queryParamsHandling:"merge"}),t&&t(),this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null},error:s=>{if(this.isReloading=!1,1!=o.currentPage&&404==s.status)o.currentPage=1,this.reload();else{let r;this.selectionData=null,r="string"!=typeof s.error&&Object.keys(s.error).length>0?Object.keys(s.error).map(a=>{const l=s.error[a];return`${this.sortFields.find(u=>u.field==a)?.name}: ${l[0]}`}).join(", "):s.error,this.error=r}}})}set filterRules(t){!Yx(t)&&"score"==this.activeListViewState.sortField&&(this.activeListViewState.sortField="created"),this.activeListViewState.filterRules=t,this.reload(),this.reduceSelectionToFilter(),this.saveDocumentListView()}get filterRules(){return this.activeListViewState.filterRules}get sortFields(){return this.documentService.sortFields}get sortFieldsFullText(){return this.documentService.sortFieldsFullText}set sortField(t){this.activeListViewState.sortField=t,this.reload(),this.saveDocumentListView()}get sortField(){return this.activeListViewState.sortField}set sortReverse(t){this.activeListViewState.sortReverse=t,this.reload(),this.saveDocumentListView()}get sortReverse(){return this.activeListViewState.sortReverse}get collectionSize(){return this.activeListViewState.collectionSize}get currentPage(){return this.activeListViewState.currentPage}set currentPage(t){this.activeListViewState.currentPage!=t&&(this.activeListViewState.currentPage=t,this.reload(),this.saveDocumentListView())}get documents(){return this.activeListViewState.documents}get selected(){return this.activeListViewState.selected}setSort(t,n){this.activeListViewState.sortField=t,this.activeListViewState.sortReverse=n,this.reload(),this.saveDocumentListView()}set displayMode(t){this.activeListViewState.displayMode=t,this.saveDocumentListView()}get displayMode(){const t=this.activeListViewState.displayMode??N5.SMALL_CARDS;return"details"===t?N5.TABLE:t}set pageSize(t){this.activeListViewState.pageSize=t,this.reload(),this.saveDocumentListView()}get pageSize(){return this.activeListViewState.pageSize??this.settings.get(Ue.DOCUMENT_LIST_SIZE)}get displayFields(){let t=this.activeListViewState.displayFields??Ih.map(n=>n.id);return this.activeListViewState.displayFields||(t=t.filter(n=>n!==Jn.ADDED)),this.settings.displayFieldsInitialized?t.filter(n=>void 0!==this.settings.allDisplayFields.find(o=>o.id===n)):t}set displayFields(t){this.activeListViewState.displayFields=t,this.saveDocumentListView()}saveDocumentListView(){null==this._activeSavedViewId&&localStorage.setItem("document-list-service:currentViewConfig",JSON.stringify({collectionSize:this.activeListViewState.collectionSize,currentPage:this.activeListViewState.currentPage,filterRules:this.activeListViewState.filterRules,sortField:this.activeListViewState.sortField,sortReverse:this.activeListViewState.sortReverse,displayMode:this.activeListViewState.displayMode,displayFields:this.activeListViewState.displayFields}))}quickFilter(t){this._activeSavedViewId=null,this.filterRules=t,this.router.navigate(["documents"])}getLastPage(){return Math.ceil(this.collectionSize/this.pageSize)}hasNext(t){if(this.documents){let n=this.documents.findIndex(o=>o.id==t);return-1!=n&&(this.currentPage<this.getLastPage()||n+1<this.documents.length)}}hasPrevious(t){if(this.documents){let n=this.documents.findIndex(o=>o.id==t);return-1!=n&&!(0==n&&1==this.currentPage)}}getNext(t){return new mn(n=>{if(null!=this.documents){let o=this.documents.findIndex(s=>s.id==t);-1!=o&&o+1<this.documents.length?(n.next(this.documents[o+1].id),n.complete()):-1!=o&&this.currentPage<this.getLastPage()?(this.currentPage+=1,this.reload(()=>{n.next(this.documents[0].id),n.complete()})):n.complete()}else n.complete()})}getPrevious(t){return new mn(n=>{if(null!=this.documents){let o=this.documents.findIndex(s=>s.id==t);0!=o?(n.next(this.documents[o-1].id),n.complete()):this.currentPage>1?(this.currentPage-=1,this.reload(()=>{n.next(this.documents[this.documents.length-1].id),n.complete()})):n.complete()}else n.complete()})}selectNone(){this.selected.clear(),this.rangeSelectionAnchorIndex=this.lastRangeSelectionToIndex=null}reduceSelectionToFilter(){this.selected.size>0&&this.documentService.listAllFilteredIds(this.filterRules).subscribe(t=>{for(let n of this.selected)t.includes(n)||this.selected.delete(n)})}selectAll(){this.documentService.listAllFilteredIds(this.filterRules).subscribe(t=>t.forEach(n=>this.selected.add(n)))}selectPage(){this.selected.clear(),this.documents.forEach(t=>{this.selected.add(t.id)})}isSelected(t){return this.selected.has(t.id)}toggleSelected(t){this.selected.has(t.id)?this.selected.delete(t.id):this.selected.add(t.id),this.rangeSelectionAnchorIndex=this.documentIndexInCurrentView(t.id),this.lastRangeSelectionToIndex=null}selectRangeTo(t){if(null!==this.rangeSelectionAnchorIndex){const n=this.documentIndexInCurrentView(t.id),o=Math.min(this.rangeSelectionAnchorIndex,n),s=Math.max(this.rangeSelectionAnchorIndex,n);null!==this.lastRangeSelectionToIndex&&this.documents.slice(Math.min(this.rangeSelectionAnchorIndex,this.lastRangeSelectionToIndex),Math.max(this.rangeSelectionAnchorIndex,this.lastRangeSelectionToIndex)+1).forEach(r=>{this.selected.delete(r.id)}),this.documents.slice(o,s+1).forEach(r=>{this.selected.add(r.id)}),this.lastRangeSelectionToIndex=n}else this.toggleSelected(t)}documentIndexInCurrentView(t){return this.documents.map(n=>n.id).indexOf(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(xo),Ke(Tn),Ke(so))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),U5=(()=>{class e{transform(t){return t||"(nessun titolo)"}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275pipe=Zi({name:"documentTitle",type:e,pure:!0})}return e})();const r$e=(e,i)=>i[0];function a$e(e,i){if(1&e&&(j(0," \xa0(macOS\xa0"),k(1,"kbd",7),j(2,") ")),2&e){const t=_().$implicit,n=_();d(),w("innerHTML",n.formatKey(t[0],!0),Qi)}}function l$e(e,i){if(1&e&&(c(0,"tr")(1,"td"),j(2),h(),c(3,"td",6),k(4,"kbd",7),q(5,a$e,3,1),h()()),2&e){const t=i.$implicit,n=_();d(2),Pe(t[1]),d(2),w("innerHTML",n.formatKey(t[0]),Qi),d(),J(t[0].includes("control")?5:-1)}}const c$e={meta:"&#8984;",control:"&#8963;",shift:"&#8679;",left:"&#8592;",right:"&#8594;",up:"&#8593;",down:"&#8595;"};let d$e=(()=>{class e{constructor(t){this.activeModal=t,this.title="Scorciatoie da tastiera",this.hotkeys=new Map}close(){this.activeModal.close()}formatKey(t,n=!1){return n&&(t=t.replace("control","meta")),t.split(".").map(o=>c$e[o]||o).join(" + ")}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-hotkey-dialog"]],decls:10,vars:1,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table"],[1,"modal-footer"],[1,"d-flex","justify-content-end"],[3,"innerHTML"]],template:function(n,o){1&n&&(c(0,"div",0)(1,"h4",1),j(2),h(),c(3,"button",2),F("click",function(){return o.close()}),h()(),c(4,"div",3)(5,"table",4)(6,"tbody"),ut(7,l$e,6,3,"tr",null,r$e),h()()(),k(9,"div",5)),2&n&&(d(2),Pe(o.title),d(5),_t(o.hotkeys.entries()))}})}return e})(),Yh=(()=>{class e{constructor(t,n,o){this.eventManager=t,this.document=n,this.modalService=o,this.defaults={element:this.document},this.hotkeys=new Map,this.addShortcut({keys:"shift.?"}).subscribe(()=>{this.openHelpModal()})}addShortcut(t){const n={...this.defaults,...t},o=`keydown.${n.keys}`;return n.description&&this.hotkeys.set(n.keys,n.description),new mn(s=>{const r=u=>{(!(u.altKey||u.metaKey||u.ctrlKey)||u.key.toLowerCase().includes("arrow"))&&(u.target instanceof HTMLInputElement||u.target instanceof HTMLTextAreaElement)||(this.modalService.dismissAll(),("Escape"!==u.key||!(this.modalService.hasOpenModals()||this.document.getElementsByClassName("dropdown-menu show").length>0))&&(u.preventDefault(),s.next(u)))},a=this.eventManager.addEventListener(n.element,o,r);let l;return o.includes("control")&&(l=this.eventManager.addEventListener(n.element,o.replace("control","meta"),r)),()=>{a(),l&&l(),this.hotkeys.delete(n.keys)}})}openHelpModal(){this.modalService.open(d$e).componentInstance.hotkeys=this.hotkeys}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(W8),Ke(gn),Ke(Ki))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xv(e,i){const t="object"==typeof i;return new Promise((n,o)=>{const s=new tn({next:r=>{n(r),s.unsubscribe()},error:o,complete:()=>{t?n(i.defaultValue):o(new F2)}});e.subscribe(s)})}const h$e=Ze(e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function Jx(e,i){const{first:t,each:n,with:o=u$e,scheduler:s=i??f5,meta:r=null}=jD(e)?{first:e}:"number"==typeof e?{each:e}:e;if(null==t&&null==n)throw new TypeError("No timeout provided.");return ti((a,l)=>{let u,p,v=null,L=0;const z=ie=>{p=z1(l,s,()=>{try{u.unsubscribe(),ji(o({meta:r,lastValue:v,seen:L})).subscribe(l)}catch(se){l.error(se)}},ie)};u=a.subscribe(ni(l,ie=>{p?.unsubscribe(),L++,l.next(v=ie),n>0&&z(n)},void 0,void 0,()=>{p?.closed||p?.unsubscribe(),v=null})),!L&&z(null!=t?"number"==typeof t?t:+t-s.now():n)})}function u$e(e){throw new h$e(e)}const _$e=["*"];function Qx(...e){return e.reduce((i,t)=>{t??={};const n=Object.keys(t);for(const o of n){const s=i[o],r=t[o];i[o]=eR(s)&&eR(r)?Qx(s,r):r}return i},{})}function eR(e){return e instanceof Object&&e.constructor===Object}function tR(e,i=2){const t=e.getBoundingClientRect(),n=document.elementFromPoint(t.left,t.top),o=document.elementFromPoint(t.right,t.bottom),s=!!n&&n!==e&&!nR(n,e),r=!!o&&o!==e&&!nR(o,e);return 0===i?s:1===i?r:s||r}function nR(e,i){return e.contains(i)||i.contains(e)}function iR(e,i=2){const t=window.innerWidth,n=window.innerHeight,o=e.getBoundingClientRect(),s=o.left>=0&&o.right<=t,r=o.top>=0,a=o.bottom<=n;return 0===i?r&&s:1===i?a&&s:r&&a&&s}class Z5{static getVisibleSection(i,t){return Z5._isHeightOverflowing(i,t)?Z5._getOverlap(i,t):i}static isHeightOverflowing(i,t){return Z5._isHeightOverflowing(i instanceof HTMLElement?i.getBoundingClientRect():i,t instanceof HTMLElement?t.getBoundingClientRect():t)}static _isHeightOverflowing(i,t){return t.height<i.height}static _getOverlap(i,t){const n=Math.max(i.top,t.top),o=Math.max(i.left,t.left),s=Math.min(i.right,t.right),r=Math.min(i.bottom,t.bottom);return new DOMRect(o,n,s-o,r-n)}}function oR(e){if(!(e instanceof HTMLElement||e instanceof ShadowRoot))return null;const i=e instanceof ShadowRoot?e.host:e,t=getComputedStyle(i);return i.scrollHeight>i.clientHeight&&["scroll","auto"].includes(t.overflowY)?i:oR(i.parentNode)}class T3{static getScrollContainer(i,t){return"string"==typeof t?document.documentElement.querySelector(t):t instanceof HTMLElement?t:oR(i)}}let sR=(()=>{class e{constructor(){this.platformId=_e(cr),this.isBrowser=Xc(this.platformId),this.document=_e(gn),this.window=this.document.defaultView}ensureVisible(t,n){this.scrollOptions=n,this.anchorEl=t;const o=n.smoothScroll&&this.isBrowser?"smooth":"auto",r=T3.getScrollContainer(t,this.scrollOptions.scrollContainer)??document.documentElement;if(Z5.isHeightOverflowing(t,r))t.scrollIntoView({block:"start",inline:"start",behavior:o});else if(n.center&&!("safari"in this.window))t.scrollIntoView({block:"center",inline:"center",behavior:o});else if(!iR(t,1)||tR(t,1))t.scrollIntoView({block:"end",inline:"nearest",behavior:o});else{if(iR(t,0)&&!tR(t,0))return Promise.resolve();t.scrollIntoView({block:"start",inline:"nearest",behavior:o})}return"smooth"===o?xv(this.waitForScrollFinish$):Promise.resolve()}get waitForScrollFinish$(){return hn(T3.getScrollContainer(this.anchorEl,this.scrollOptions.scrollContainer)??document,"scroll").pipe(Jx({each:75,with:()=>Rt(void 0)}),Tr(50),At(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),p$e=(()=>{class e{constructor(){this.resizeElSubject=new et,this.platformId=_e(cr),this.isResizeObserverSupported=Xc(this.platformId)&&!!ResizeObserver,this.document=_e(gn),this.window=this.document.defaultView,this.resize$=B1(this.resizeElSubject,hn(this.window,"resize")).pipe(Tr(10))}observeElement(t){this.isResizeObserverSupported&&!this.resizeObserver&&(this.resizeObserver=new ResizeObserver(()=>this.resizeElSubject.next())),this.resizeObserver?.observe(t)}unobserveElement(t){this.resizeObserver?.unobserve(t)}disconnect(){this.resizeObserver?.disconnect(),this.resizeObserver=void 0}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),g$e=(()=>{class e{constructor(){this.isSpotlightClosed=!1,this.rendererFactory=_e($0),this.renderer=this.rendererFactory.createRenderer(null,null),this.resizeObserverService=_e(p$e),this.scrollingService=_e(sR),this.document=_e(gn)}show(t,n){this.targetHtmlElement&&this.resizeObserverService.unobserveElement(this.targetHtmlElement),this.targetHtmlElement=t.nativeElement,this.step=n,this.resizeObserverService.observeElement(this.targetHtmlElement),this.backdropElements||(this.backdropElements=this.createBackdropElements(),this.subscribeToResizeEvents()),this.isSpotlightClosed=!1,this.setBackdropPosition()}closeSpotlight(){if(!this.backdropElements)return;const t=this.targetHtmlElement.getBoundingClientRect(),n=t.left+t.width/2,o=t.top+t.height/2,s={top:o,right:n,bottom:o,left:n,width:0,height:0};this.isSpotlightClosed=!0,this.setBackdropPosition(s)}setBackdropPosition(t=null){const n=this.document.documentElement,o=T3.getScrollContainer(this.targetHtmlElement,this.step.scrollContainer)??n,s=t??this.targetHtmlElement.getBoundingClientRect(),r=o.getBoundingClientRect(),a=Z5.getVisibleSection(s,r),l=n.scrollHeight,u=n.scrollWidth,p=this.document.defaultView,v=p.scrollX,L=p.scrollY,z=this.isSpotlightClosed?0:this.step.backdropConfig?.offset??0,we=[{width:a.left+v-z,height:l,top:0,left:0},{width:a.width+2*z,height:a.top+L-z,top:0,left:a.left+v-z},{width:a.width+2*z,height:l-(a.bottom+L)-z,top:a.bottom+L+z,left:a.left+v-z},{width:u-(a.right+v)-z,height:l,top:0,left:a.right+v+z}];for(let Fe=0;Fe<we.length;Fe++){const Ae=this.createBackdropStyles(we[Fe]);this.applyStyles(Ae,this.backdropElements[Fe])}}subscribeToResizeEvents(){this.resizeSubscription=this.resizeObserverService.resize$.subscribe(()=>{this.setBackdropPosition(),this.step.disableScrollToAnchor||this.scrollingService.ensureVisible(this.targetHtmlElement,{center:this.step.centerAnchorOnScroll,smoothScroll:!1})})}close(){this.backdropElements&&(this.resizeObserverService.unobserveElement(this.targetHtmlElement),this.removeBackdropElement(),this.resizeSubscription.unsubscribe())}disconnectResizeObserver(){this.resizeObserverService.disconnect()}removeBackdropElement(){this.backdropElements.forEach(t=>this.renderer.removeChild(this.parentContainer,t)),this.backdropElements=void 0}applyStyles(t,n){for(const o of Object.keys(t))this.renderer.setStyle(n,o,t[o])}createBackdropStyles(t){const n=this.step.backdropConfig,o={...t,width:Math.max(t.width,0),height:Math.max(t.height,0)};return{position:"absolute",width:`${o.width}px`,height:`${o.height}px`,top:`${o.top}px`,left:`${o.left}px`,backgroundColor:n?.backgroundColor??"rgba(0, 0, 0, 0.7)",zIndex:n?.zIndex??"101"}}createBackdropElement(){const t=this.renderer.createElement("div");return this.renderer.addClass(t,"ngx-ui-tour_backdrop"),this.renderer.appendChild(this.parentContainer,t),t}createBackdropElements(){return Array.from({length:4}).map(()=>this.createBackdropElement())}get parentContainer(){const t=this.step.backdropConfig?.parentContainer;return t instanceof HTMLElement?t:"string"==typeof t?this.document.documentElement.querySelector(t)??this.document.body:this.document.body}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f$e=(()=>{class e{constructor(){this.rendererFactory=_e($0),this.renderer=this.rendererFactory.createRenderer(null,null)}removeListener(){this.unListenToAnchorClickFn&&(this.unListenToAnchorClickFn(),this.unListenToAnchorClickFn=void 0)}addListener(t,n){this.unListenToAnchorClickFn=this.renderer.listen(t,"click",n)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),m$e=(()=>{class e{constructor(){this.isEnabled=!1,this.platformId=_e(cr),this.isBrowser=Xc(this.platformId),this.rendererFactory=_e($0),this.renderer=this.rendererFactory.createRenderer(null,null)}enable(t){!this.isBrowser||this.isEnabled||(this.userScrollContainer=t,this.toggleOverflow(),this.isEnabled=!0)}disable(){this.isEnabled&&(this.toggleOverflow(),this.isEnabled=!1)}toggleOverflow(){const t=T3.getScrollContainer(null,this.userScrollContainer)??document.documentElement;this.isEnabled?this.renderer.removeStyle(t,"overflow"):this.renderer.setStyle(t,"overflow","hidden")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Er=function(e){return e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.PAUSED=2]="PAUSED",e}(Er||{}),j5=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}(j5||{});const v$e={disableScrollToAnchor:!1,prevBtnTitle:"Prev",nextBtnTitle:"Next",endBtnTitle:"End",enableBackdrop:!1,isAsync:!1,isOptional:!1,delayAfterNavigation:100,delayBeforeStepShow:0,nextOnAnchorClick:!1,duplicateAnchorHandling:"error",centerAnchorOnScroll:!0,disablePageScrolling:!0,smoothScroll:!0,allowUserInitiatedNavigation:!1,stepDimensions:{minWidth:"250px",maxWidth:"280px",width:"auto"},showProgress:!0};let rR=(()=>{class e{constructor(){this.stepShow$=new et,this.stepHide$=new et,this.initialize$=new et,this.start$=new et,this.end$=new et,this.pause$=new et,this.resume$=new et,this.anchorRegister$=new et,this.anchorUnregister$=new et,this.events$=B1(this.stepShow$.pipe(At(t=>({name:"stepShow",value:t}))),this.stepHide$.pipe(At(t=>({name:"stepHide",value:t}))),this.initialize$.pipe(At(t=>({name:"initialize",value:t}))),this.start$.pipe(At(t=>({name:"start",value:t}))),this.end$.pipe(At(t=>({name:"end",value:t}))),this.pause$.pipe(At(t=>({name:"pause",value:t}))),this.resume$.pipe(At(t=>({name:"resume",value:t}))),this.anchorRegister$.pipe(At(t=>({name:"anchorRegister",value:t}))),this.anchorUnregister$.pipe(At(t=>({name:"anchorUnregister",value:t})))),this.steps=[],this.anchors={},this.status=Er.OFF,this.isHotKeysEnabled=!0,this.direction=j5.Forwards,this.waitingForScroll=!1,this.navigationStarted=!1,this.router=_e(so),this.backdrop=_e(g$e),this.anchorClickService=_e(f$e),this.scrollBlockingService=_e(m$e),this.scrollingService=_e(sR)}initialize(t,n){this.status!==Er.ON?t&&t.length>0&&(this.status=Er.OFF,this.steps=t.map(o=>Qx(v$e,this.userDefaults,n,o)),this.validateSteps(),this.initialize$.next(this.steps),this.subscribeToNavigationStartEvent()):console.warn("Can not re-initialize the UI tour while it's still active")}setDefaults(t){this.userDefaults=t}getDefaults(){return this.userDefaults}validateSteps(){for(const t of this.steps)if(t.isAsync&&t.isOptional&&!t.asyncStepTimeout)throw new Error(`Tour step with anchor id "${t.anchorId}" can only be both "async" and "optional" when "asyncStepTimeout" is specified!`)}subscribeToNavigationStartEvent(){this.router.events.pipe($n(t=>t instanceof Z2),je(this.end$)).subscribe(t=>{this.currentStep&&!this.navigationStarted&&("popstate"===t.navigationTrigger||!this.currentStep.allowUserInitiatedNavigation)&&this.end()})}disableHotkeys(){this.isHotKeysEnabled=!1}enableHotkeys(){this.isHotKeysEnabled=!0}start(){this.status!==Er.ON?this.startAt(0):console.warn("tourService.start() called while the tour is already running.")}startAt(t){this.status=Er.ON,this.goToStep(this.loadStep(t)),this.start$.next()}end(){this.waitingForScroll||this.status!==Er.OFF&&(this.status=Er.OFF,this.disableTour(),this.currentStep=void 0,this.direction=j5.Forwards,this.end$.next())}pause(){this.status=Er.PAUSED,this.disableTour(),this.pause$.next()}disableTour(){this.hideStep(this.currentStep),this.anchorClickService.removeListener(),this.backdrop.close(),this.backdrop.disconnectResizeObserver(),this.scrollBlockingService.disable()}resume(){this.status=Er.ON,this.showStep(this.currentStep),this.resume$.next()}toggle(t){t?this.currentStep?this.pause():this.resume():this.currentStep?this.end():this.start()}next(){this.waitingForScroll||(this.direction=j5.Forwards,this.hasNext(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.nextStep??this.getStepIndex(this.currentStep)+1)))}getStepIndex(t){const n=this.steps.indexOf(t);return n<0?0:n}hasNext(t){return t?void 0!==t.nextStep||this.getStepIndex(t)<this.steps.length-1&&!this.isNextOptionalAnchorMissing(t):(console.warn("Can't get next step. No currentStep."),!1)}isNextOptionalAnchorMissing(t){for(let o=this.getStepIndex(t)+1;o<this.steps.length;o++){const s=this.steps[o];if(!s.isOptional||this.anchors[s.anchorId])return!1}return!0}prev(){this.waitingForScroll||(this.direction=j5.Backwards,this.hasPrev(this.currentStep)&&this.goToStep(this.loadStep(this.currentStep.prevStep??this.getStepIndex(this.currentStep)-1)))}hasPrev(t){return t?void 0!==t.prevStep||this.getStepIndex(t)>0&&!this.isPrevOptionalAnchorMising(t):(console.warn("Can't get previous step. No currentStep."),!1)}isPrevOptionalAnchorMising(t){for(let o=this.getStepIndex(t)-1;o>-1;o--){const s=this.steps[o];if(!s.isOptional||this.anchors[s.anchorId])return!1}return!0}goto(t){this.goToStep(this.loadStep(t))}register(t,n){if(t){if(this.anchors[t])switch(this.findStepByAnchorId(t)?.duplicateAnchorHandling??this.userDefaults?.duplicateAnchorHandling??"error"){case"error":throw new Error(`Tour anchor with id "${t}" already registered!`);case"registerFirst":return}this.anchors[t]=n,this.anchorRegister$.next(t)}}findStepByAnchorId(t){return this.steps.find(n=>n.anchorId===t)}unregister(t){t&&(delete this.anchors[t],this.anchorUnregister$.next(t))}getStatus(){return this.status}isHotkeysEnabled(){return this.isHotKeysEnabled}goToStep(t){if(!t)return console.warn("Can't go to non-existent step"),void this.end();this.currentStep&&(this.backdrop.closeSpotlight(),this.hideStep(this.currentStep)),this.anchorClickService.removeListener(),null!=t.route?this.navigateToRouteAndSetStep(t):this.setCurrentStepAsync(t)}listenToOnAnchorClick(t){t.nextOnAnchorClick&&this.anchorClickService.addListener(this.anchors[t.anchorId].element.nativeElement,()=>this.next())}navigateToRouteAndSetStep(t){var n=this;return Kc(function*(){const o="string"==typeof t.route?t.route:n.router.createUrlTree(t.route);if(n.router.isActive(o,{paths:"exact",matrixParams:"exact",queryParams:"subset",fragment:"exact"}))return void n.setCurrentStepAsync(t);n.navigationStarted=!0;const a=yield n.router.navigateByUrl(o);n.navigationStarted=!1,a?n.setCurrentStepAsync(t,t.delayAfterNavigation):(console.warn("Navigation to route failed: ",t.route),n.end())})()}loadStep(t){return"number"==typeof t?this.steps[t]:this.steps.find(n=>n.stepId===t)}setCurrentStep(t){this.currentStep=t,this.showStep(this.currentStep)}setCurrentStepAsync(t,n=0){n=n||t.delayBeforeStepShow,setTimeout(()=>this.setCurrentStep(t),n)}showStep(t,n=!1){var o=this;return Kc(function*(){const s=o.anchors[t&&t.anchorId];if(!s){if(t.isAsync&&!n){let r=o.anchorRegister$.pipe($n(a=>a===t.anchorId),wt(),qD(0));return t.asyncStepTimeout&&(r=r.pipe(Jx({each:t.asyncStepTimeout,with:()=>Rt(null)}))),void r.subscribe(()=>o.showStep(t,!0))}return t.isOptional?void(o.direction===j5.Forwards?o.next():o.prev()):(console.warn(`Can't attach to unregistered anchor with id "${t.anchorId}"`),void o.end())}o.listenToOnAnchorClick(t),o.waitingForScroll=!0,yield o.scrollToAnchor(t),o.waitingForScroll=!1,s.showTourStep(t),o.toggleBackdrop(t),o.togglePageScrolling(t),o.stepShow$.next({step:t,direction:o.direction})})()}hideStep(t){const n=this.anchors[t&&t.anchorId];n&&(n.hideTourStep(),this.stepHide$.next({step:t,direction:this.direction}))}scrollToAnchor(t){return t.disableScrollToAnchor?Promise.resolve():this.scrollingService.ensureVisible(this.anchors[t?.anchorId].element.nativeElement,{center:t.centerAnchorOnScroll,smoothScroll:t.smoothScroll,scrollContainer:t.scrollContainer})}toggleBackdrop(t){t.enableBackdrop?this.backdrop.show(this.anchors[t?.anchorId].element,t):this.backdrop.close()}togglePageScrolling(t){t.disablePageScrolling?this.scrollBlockingService.enable(t.scrollContainer):this.scrollBlockingService.disable()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),C$e=(()=>{class e{constructor(t){this.tourService=t}onEscapeKey(){this.tourService.getStatus()===Er.ON&&this.tourService.isHotkeysEnabled()&&this.tourService.end()}onArrowRightKey(){const t=this.tourService.currentStep;this.tourService.getStatus()===Er.ON&&this.tourService.hasNext(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&!t?.nextOnAnchorClick&&this.tourService.next()}onArrowLeftKey(){this.tourService.getStatus()===Er.ON&&this.tourService.hasPrev(this.tourService.currentStep)&&this.tourService.isHotkeysEnabled()&&this.tourService.prev()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(rR))};static#t=this.\u0275cmp=it({type:e,selectors:[["tour-hotkey-listener"]],hostBindings:function(n,o){1&n&&F("keydown.Escape",function(){return o.onEscapeKey()},0,P1)("keydown.ArrowRight",function(){return o.onArrowRightKey()},!1,P1)("keydown.ArrowLeft",function(){return o.onArrowLeftKey()},!1,P1)},standalone:!0,features:[$i],ngContentSelectors:_$e,decls:1,vars:0,template:function(n,o){1&n&&(Ws(),Xs(0))},encapsulation:2})}return e})();const M$e=["tourStep"];function b$e(e,i){if(1&e){const t=pe();c(0,"div",2)(1,"h5"),j(2),h(),c(3,"button",11),F("click",function(){return H(t),$(_(2).tourService.end())}),h()()}if(2&e){const t=_().step;d(2),Pe(null==t?null:t.title)}}function T$e(e,i){if(1&e&&(c(0,"div",8),j(1),h()),2&e){const t=_().step,n=_();d(),l1("",(null==n.tourService.steps?null:n.tourService.steps.indexOf(t))+1," / ",null==n.tourService.steps?null:n.tourService.steps.length,"")}}function S$e(e,i){if(1&e){const t=pe();c(0,"button",12),F("click",function(){return H(t),$(_(2).tourService.next())}),j(1),Md(),c(2,"svg",6),k(3,"path",13),h()()}if(2&e){const t=_().step;d(),nt(" ",null==t?null:t.nextBtnTitle," ")}}function E$e(e,i){if(1&e){const t=pe();c(0,"button",14),F("click",function(){return H(t),$(_(2).tourService.end())}),j(1),h()}if(2&e){const t=_().step;d(),nt(" ",null==t?null:t.endBtnTitle," ")}}function A$e(e,i){if(1&e){const t=pe();c(0,"div",1),q(1,b$e,4,1,"div",2),k(2,"p",3),c(3,"div",4)(4,"button",5),F("click",function(){return H(t),$(_().tourService.prev())}),Md(),c(5,"svg",6),k(6,"path",7),h(),j(7),h(),q(8,T$e,2,2,"div",8)(9,S$e,4,1,"button",9)(10,E$e,2,1,"button",10),h()()}if(2&e){const t=i.step,n=_();Gr("width",null==t.stepDimensions?null:t.stepDimensions.width)("min-width",null==t.stepDimensions?null:t.stepDimensions.minWidth)("max-width",null==t.stepDimensions?null:t.stepDimensions.maxWidth),d(),J(null!=t&&t.useLegacyTitle||null==t||!t.title?-1:1),d(),w("innerHTML",null==t?null:t.content,Qi),d(),Ye("no-progress",!t.showProgress),d(),w("disabled",!n.tourService.hasPrev(t)),d(3),nt(" ",null==t?null:t.prevBtnTitle," "),d(),J(t.showProgress?8:-1),d(),J(n.tourService.hasNext(t)&&!t.nextOnAnchorClick?9:-1),d(),J(n.tourService.hasNext(t)?-1:10)}}let Jh=(()=>{class e extends rR{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),aR=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Al=(()=>{class e{constructor(t,n,o,s){this.tourService=t,this.tourStepTemplate=n,this.element=o,this.popoverDirective=s,this.popoverDirective.autoClose=!1,this.popoverDirective.triggers="",this.popoverDirective.toggle=()=>{}}ngOnInit(){this.tourService.register(this.tourAnchor,this)}ngOnDestroy(){this.tourService.unregister(this.tourAnchor)}showTourStep(t){var n=this;return Kc(function*(){n.popoverDirective.isOpen()&&(yield xv(n.popoverDirective.hidden)),n.isActive=!0,n.popoverDirective.ngbPopover=n.tourStepTemplate.template,t.useLegacyTitle&&(n.popoverDirective.popoverTitle=t.title),n.popoverDirective.container="body",n.popoverDirective.popoverClass=`tour-step ${t.popoverClass??""}`,n.popoverDirective.placement=(t.placement||"auto").replace("before","left").replace("after","right").replace("below","bottom").replace("above","top");const s=t.backdropConfig?.offset;s&&(n.popoverDirective.popperOptions=r=>n.setOffsetModifier(r,s)),n.popoverDirective.positionTarget=n.element.nativeElement,n.popoverDirective.open({step:t})})()}setOffsetModifier(t,n){const o=t.modifiers?.find(r=>"offset"===r.name&&r.options);return o&&(o.options.offset=[0,n+10]),t}hideTourStep(){this.isActive=!1,this.popoverDirective.close()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Jh),Y(aR),Y(Qt),Y(Wr,1))};static#t=this.\u0275dir=st({type:e,selectors:[["","tourAnchor",""]],hostVars:2,hostBindings:function(n,o){2&n&&Ye("touranchor--is-active",o.isActive)},inputs:{tourAnchor:"tourAnchor"},standalone:!0,features:[n2([Wr])]})}return e})(),lR=(()=>{class e extends C$e{constructor(){super(...arguments),this.tourStepTemplateService=_e(aR),this.tourService=_e(Jh)}ngAfterContentInit(){this.tourStepTemplateService.template=this.stepTemplate||this.stepTemplateContent||this.defaultTourStepTemplate}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275cmp=it({type:e,selectors:[["tour-step-template"]],contentQueries:function(n,o,s){if(1&n&&Nn(s,Kt,5),2&n){let r;Ot(r=yt())&&(o.stepTemplateContent=r.first)}},viewQuery:function(n,o){if(1&n&&cn(M$e,7,Kt),2&n){let s;Ot(s=yt())&&(o.defaultTourStepTemplate=s.first)}},inputs:{stepTemplate:"stepTemplate"},standalone:!0,features:[Ct,$i],decls:2,vars:0,consts:[["tourStep",""],[1,"main-container"],[1,"title-container"],[1,"card-text",3,"innerHTML"],[1,"buttons"],[1,"btn","btn-sm","btn-outline-secondary","prev",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16"],["d","M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"],[1,"progress"],[1,"btn","btn-sm","btn-outline-primary","next"],[1,"btn","btn-sm","btn-outline-primary"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"btn","btn-sm","btn-outline-primary","next",3,"click"],["d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(n,o){1&n&&q(0,A$e,11,15,"ng-template",null,0,on)},styles:[".tour-step .popover-body{padding:0}.main-container[_ngcontent-%COMP%]{padding:.5rem 1rem .75rem}.title-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem;gap:.25rem}.title-container[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0;line-height:1.5}.buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:8px}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:fit-content}.buttons[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{justify-self:flex-end}.buttons[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000073;white-space:nowrap}.buttons.no-progress[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.buttons[_ngcontent-%COMP%]   .btn.prev[_ngcontent-%COMP%]{padding-left:.25rem}.buttons[_ngcontent-%COMP%]   .btn.next[_ngcontent-%COMP%]{padding-right:.25rem}"]})}return e})(),O$e=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();const y$e=["*"];function D$e(e,i){if(1&e&&(c(0,"span",5),j(1),h()),2&e){const t=_();d(),Pe(t.subTitle)}}function N$e(e,i){1&e&&(c(0,"a",10),R(1,1),h(),k(2,"i-bs",11)),2&e&&ln("href","https://docs.paperless-ngx.com/",_(3).infoLink,"",$o)}function P$e(e,i){if(1&e&&(k(0,"p",9),q(1,N$e,3,2)),2&e){const t=_(2);Ye("mb-0",!t.infoLink),w("innerHTML",t.info,Qi),d(),J(t.infoLink?1:-1)}}function I$e(e,i){1&e&&(c(0,"button",7),k(1,"i-bs",8),h(),q(2,P$e,2,4,"ng-template",null,0,on)),2&e&&w("ngbPopover",vt(3))("autoClose",!0)}let Qs=(()=>{class e{constructor(t){this.titleService=t,this._title="",this.subTitle=""}set title(t){this._title=t,this.titleService.setTitle(`${this.title} - ${wi.appTitle}`)}get title(){return this._title}static#e=this.\u0275fac=function(n){return new(n||e)(Y(TO))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-page-header"]],inputs:{title:"title",subTitle:"subTitle",info:"info",infoLink:"infoLink"},ngContentSelectors:y$e,decls:8,vars:3,consts:()=>{let t,n;return t="Cos'\xE8 questo?",n="Continua a leggere",[["infoPopover",""],n,[1,"row","pt-3","pb-3","pb-md-2","align-items-center"],[1,"col-md","text-truncate"],["tourAnchor","tour.dashboard",1,"text-truncate",2,"line-height","1.4"],[1,"h6","mb-0","d-block","d-md-inline","fw-normal","ms-md-3","text-truncate",2,"line-height","1.4"],[1,"btn-toolbar","col","col-md-auto","gap-2"],["title",t,"type","button",1,"btn","btn-sm","btn-link","text-muted","me-auto","p-0","p-md-2",3,"ngbPopover","autoClose"],["name","question-circle"],[3,"innerHTML"],["target","_blank","referrerpolicy","noopener noreferrer",3,"href"],["width",".8em","height",".8em","name","box-arrow-up-right",1,"ms-1"]]},template:function(n,o){1&n&&(Ws(),c(0,"div",2)(1,"div",3)(2,"h3",4),j(3),q(4,D$e,2,1,"span",5)(5,I$e,4,2),h()(),c(6,"div",6),Xs(7),h()()),2&n&&(d(3),nt(" ",o.title," "),d(),J(o.subTitle?4:-1),d(),J(o.info?5:-1))},dependencies:[Wr,Al,Wt],styles:["h3[_ngcontent-%COMP%]{min-height:calc(1.325rem + .9vw)}@media (min-width: 1200px){h3[_ngcontent-%COMP%]{min-height:2.8rem}}"]})}return e})();function L$e(e,i){if(1&e){const t=pe();c(0,"button",13),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",14),j(2,"\xa0"),ke(3),R(4,1),ze(),h()}}function x$e(e,i){1&e&&(k(0,"small",12),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().hint),Qi)}let R$e=(()=>{class e extends _s{constructor(){super()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-url"]],features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:15,vars:21,consts:()=>{let t,n;return t="Apri link",n="Rimuovi",[["inputField",""],n,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"input-group"],["type","url","placeholder","https://",1,"form-control",3,"ngModelChange","change","id","ngModel","disabled"],["title",t,"target","_blank",1,"btn","btn-outline-secondary","rounded-end",3,"href"],["width","1.2em","height","1.2em","name","box-arrow-up-right"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted",3,"innerHTML"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),j(4),h(),q(5,L$e,5,0,"button",6),h(),c(6,"div")(7,"div",7)(8,"input",8,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))}),h(),c(10,"a",9),k(11,"i-bs",10),h(),c(12,"div",11),j(13),h()(),q(14,x$e,2,3,"small",12),h()()()}2&n&&(Ye("pb-3",o.error),d(2),Ye("col-md-3",o.horizontal),d(),Ye("mb-md-0",o.horizontal),w("for",o.inputId),d(),Pe(o.title),d(),J(o.removable?5:-1),d(),Ye("col-md-9",o.horizontal),d(),Ye("is-invalid",o.error),d(),Ye("is-invalid",o.error),w("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled),d(2),w("href",o.value,$o),d(3),nt(" ",o.error," "),d(),J(o.hint?14:-1))},dependencies:[si,Yt,Ln,Wt,m1]})}return e})();function ss(e,i){(function F$e(e){return"string"==typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var t=function k$e(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=360===i?e:Math.min(i,Math.max(0,parseFloat(e))),t&&(e=parseInt(String(e*i),10)/100),Math.abs(e-i)<1e-6?1:e=360===i?(e<0?e%i+i:e%i)/parseFloat(String(i)):e%i/parseFloat(String(i))}function S3(e){return Math.min(1,Math.max(0,e))}function cR(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E3(e){return e<=1?"".concat(100*Number(e),"%"):e}function Ol(e){return 1===e.length?"0"+e:String(e)}function dR(e,i,t){e=ss(e,255),i=ss(i,255),t=ss(t,255);var n=Math.max(e,i,t),o=Math.min(e,i,t),s=0,r=0,a=(n+o)/2;if(n===o)r=0,s=0;else{var l=n-o;switch(r=a>.5?l/(2-n-o):l/(n+o),n){case e:s=(i-t)/l+(i<t?6:0);break;case i:s=(t-e)/l+2;break;case t:s=(e-i)/l+4}s/=6}return{h:s,s:r,l:a}}function Rv(e,i,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+6*t*(i-e):t<.5?i:t<2/3?e+(i-e)*(2/3-t)*6:e}function hR(e,i,t){e=ss(e,255),i=ss(i,255),t=ss(t,255);var n=Math.max(e,i,t),o=Math.min(e,i,t),s=0,r=n,a=n-o,l=0===n?0:a/n;if(n===o)s=0;else{switch(n){case e:s=(i-t)/a+(i<t?6:0);break;case i:s=(t-e)/a+2;break;case t:s=(e-i)/a+4}s/=6}return{h:s,s:l,v:r}}function uR(e,i,t,n){var o=[Ol(Math.round(e).toString(16)),Ol(Math.round(i).toString(16)),Ol(Math.round(t).toString(16))];return n&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function _R(e){return Math.round(255*parseFloat(e)).toString(16)}function pR(e){return Ar(e)/255}function Ar(e){return parseInt(e,16)}var Fv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var u0="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),kv="[\\s|\\(]+(".concat(u0,")[,|\\s]+(").concat(u0,")[,|\\s]+(").concat(u0,")\\s*\\)?"),zv="[\\s|\\(]+(".concat(u0,")[,|\\s]+(").concat(u0,")[,|\\s]+(").concat(u0,")[,|\\s]+(").concat(u0,")\\s*\\)?"),C1={CSS_UNIT:new RegExp(u0),rgb:new RegExp("rgb"+kv),rgba:new RegExp("rgba"+zv),hsl:new RegExp("hsl"+kv),hsla:new RegExp("hsla"+zv),hsv:new RegExp("hsv"+kv),hsva:new RegExp("hsva"+zv),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Da(e){return!!C1.CSS_UNIT.exec(String(e))}var Vv=function(){function e(i,t){var n;if(void 0===i&&(i=""),void 0===t&&(t={}),i instanceof e)return i;"number"==typeof i&&(i=function B$e(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(i)),this.originalInput=i;var o=function G$e(e){var i={r:0,g:0,b:0},t=1,n=null,o=null,s=null,r=!1,a=!1;return"string"==typeof e&&(e=function j$e(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var i=!1;if(Fv[e])e=Fv[e],i=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var t=C1.rgb.exec(e);return t?{r:t[1],g:t[2],b:t[3]}:(t=C1.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=C1.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=C1.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=C1.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=C1.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=C1.hex8.exec(e))?{r:Ar(t[1]),g:Ar(t[2]),b:Ar(t[3]),a:pR(t[4]),format:i?"name":"hex8"}:(t=C1.hex6.exec(e))?{r:Ar(t[1]),g:Ar(t[2]),b:Ar(t[3]),format:i?"name":"hex"}:(t=C1.hex4.exec(e))?{r:Ar(t[1]+t[1]),g:Ar(t[2]+t[2]),b:Ar(t[3]+t[3]),a:pR(t[4]+t[4]),format:i?"name":"hex8"}:!!(t=C1.hex3.exec(e))&&{r:Ar(t[1]+t[1]),g:Ar(t[2]+t[2]),b:Ar(t[3]+t[3]),format:i?"name":"hex"}}(e)),"object"==typeof e&&(Da(e.r)&&Da(e.g)&&Da(e.b)?(i=function z$e(e,i,t){return{r:255*ss(e,255),g:255*ss(i,255),b:255*ss(t,255)}}(e.r,e.g,e.b),r=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Da(e.h)&&Da(e.s)&&Da(e.v)?(n=E3(e.s),o=E3(e.v),i=function H$e(e,i,t){e=6*ss(e,360),i=ss(i,100),t=ss(t,100);var n=Math.floor(e),o=e-n,s=t*(1-i),r=t*(1-o*i),a=t*(1-(1-o)*i),l=n%6;return{r:255*[t,r,s,s,a,t][l],g:255*[a,t,t,r,s,s][l],b:255*[s,s,a,t,t,r][l]}}(e.h,n,o),r=!0,a="hsv"):Da(e.h)&&Da(e.s)&&Da(e.l)&&(n=E3(e.s),s=E3(e.l),i=function V$e(e,i,t){var n,o,s;if(e=ss(e,360),i=ss(i,100),t=ss(t,100),0===i)o=t,s=t,n=t;else{var r=t<.5?t*(1+i):t+i-t*i,a=2*t-r;n=Rv(a,r,e+1/3),o=Rv(a,r,e),s=Rv(a,r,e-1/3)}return{r:255*n,g:255*o,b:255*s}}(e.h,n,s),r=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(t=e.a)),t=cR(t),{ok:r,format:e.format||a,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:t}}(i);this.originalInput=i,this.r=o.r,this.g=o.g,this.b=o.b,this.a=o.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=t.format)&&void 0!==n?n:o.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=o.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var i=this.toRgb();return(299*i.r+587*i.g+114*i.b)/1e3},e.prototype.getLuminance=function(){var i=this.toRgb(),s=i.r/255,r=i.g/255,a=i.b/255;return.2126*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(i){return this.a=cR(i),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var i=hR(this.r,this.g,this.b);return{h:360*i.h,s:i.s,v:i.v,a:this.a}},e.prototype.toHsvString=function(){var i=hR(this.r,this.g,this.b),t=Math.round(360*i.h),n=Math.round(100*i.s),o=Math.round(100*i.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var i=dR(this.r,this.g,this.b);return{h:360*i.h,s:i.s,l:i.l,a:this.a}},e.prototype.toHslString=function(){var i=dR(this.r,this.g,this.b),t=Math.round(360*i.h),n=Math.round(100*i.s),o=Math.round(100*i.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(i){return void 0===i&&(i=!1),uR(this.r,this.g,this.b,i)},e.prototype.toHexString=function(i){return void 0===i&&(i=!1),"#"+this.toHex(i)},e.prototype.toHex8=function(i){return void 0===i&&(i=!1),function $$e(e,i,t,n,o){var s=[Ol(Math.round(e).toString(16)),Ol(Math.round(i).toString(16)),Ol(Math.round(t).toString(16)),Ol(_R(n))];return o&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,i)},e.prototype.toHex8String=function(i){return void 0===i&&(i=!1),"#"+this.toHex8(i)},e.prototype.toHexShortString=function(i){return void 0===i&&(i=!1),1===this.a?this.toHexString(i):this.toHex8String(i)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var i=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(i,", ").concat(t,", ").concat(n,")"):"rgba(".concat(i,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var i=function(t){return"".concat(Math.round(100*ss(t,255)),"%")};return{r:i(this.r),g:i(this.g),b:i(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var i=function(t){return Math.round(100*ss(t,255))};return 1===this.a?"rgb(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%)"):"rgba(".concat(i(this.r),"%, ").concat(i(this.g),"%, ").concat(i(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var i="#"+uR(this.r,this.g,this.b,!1),t=0,n=Object.entries(Fv);t<n.length;t++){var o=n[t];if(i===o[1])return o[0]}return!1},e.prototype.toString=function(i){var t=!!i;i=i??this.format;var n=!1;return!t&&this.a<1&&this.a>=0&&(i.startsWith("hex")||"name"===i)?"name"===i&&0===this.a?this.toName():this.toRgbString():("rgb"===i&&(n=this.toRgbString()),"prgb"===i&&(n=this.toPercentageRgbString()),("hex"===i||"hex6"===i)&&(n=this.toHexString()),"hex3"===i&&(n=this.toHexString(!0)),"hex4"===i&&(n=this.toHex8String(!0)),"hex8"===i&&(n=this.toHex8String()),"name"===i&&(n=this.toName()),"hsl"===i&&(n=this.toHslString()),"hsv"===i&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.l+=i/100,t.l=S3(t.l),new e(t)},e.prototype.brighten=function(i){void 0===i&&(i=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-i/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-i/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-i/100*255))),new e(t)},e.prototype.darken=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.l-=i/100,t.l=S3(t.l),new e(t)},e.prototype.tint=function(i){return void 0===i&&(i=10),this.mix("white",i)},e.prototype.shade=function(i){return void 0===i&&(i=10),this.mix("black",i)},e.prototype.desaturate=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.s-=i/100,t.s=S3(t.s),new e(t)},e.prototype.saturate=function(i){void 0===i&&(i=10);var t=this.toHsl();return t.s+=i/100,t.s=S3(t.s),new e(t)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(i){var t=this.toHsl(),n=(t.h+i)%360;return t.h=n<0?360+n:n,new e(t)},e.prototype.mix=function(i,t){void 0===t&&(t=50);var n=this.toRgb(),o=new e(i).toRgb(),s=t/100;return new e({r:(o.r-n.r)*s+n.r,g:(o.g-n.g)*s+n.g,b:(o.b-n.b)*s+n.b,a:(o.a-n.a)*s+n.a})},e.prototype.analogous=function(i,t){void 0===i&&(i=6),void 0===t&&(t=30);var n=this.toHsl(),o=360/t,s=[this];for(n.h=(n.h-(o*i>>1)+720)%360;--i;)n.h=(n.h+o)%360,s.push(new e(n));return s},e.prototype.complement=function(){var i=this.toHsl();return i.h=(i.h+180)%360,new e(i)},e.prototype.monochromatic=function(i){void 0===i&&(i=6);for(var t=this.toHsv(),n=t.h,o=t.s,s=t.v,r=[],a=1/i;i--;)r.push(new e({h:n,s:o,v:s})),s=(s+a)%1;return r},e.prototype.splitcomplement=function(){var i=this.toHsl(),t=i.h;return[this,new e({h:(t+72)%360,s:i.s,l:i.l}),new e({h:(t+216)%360,s:i.s,l:i.l})]},e.prototype.onBackground=function(i){var t=this.toRgb(),n=new e(i).toRgb(),o=t.a+n.a*(1-t.a);return new e({r:(t.r*t.a+n.r*n.a*(1-t.a))/o,g:(t.g*t.a+n.g*n.a*(1-t.a))/o,b:(t.b*t.a+n.b*n.a*(1-t.a))/o,a:o})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(i){for(var t=this.toHsl(),n=t.h,o=[this],s=360/i,r=1;r<i;r++)o.push(new e({h:(n+r*s)%360,s:t.s,l:t.l}));return o},e.prototype.equals=function(i){return this.toRgbString()===new e(i).toRgbString()},e}();function W$e(e,i){if(1&e&&(c(0,"div",2),k(1,"div",3),h()),2&e){const t=_();Gr("left",t.left)("top",t.top),d(),w("ngStyle",t.pointer)}}let K$e=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=vn({type:e});static \u0275inj=fn({imports:[q0]})}return e})(),q$e=(()=>{class e{el;coordinatesChange=new et;mousechange=new et;mouseListening=!1;sub;mousemove(t,n,o,s=!1){this.mouseListening&&(t.preventDefault(),this.mousechange.next({$event:t,x:n,y:o,isTouch:s}))}mouseup(){this.mouseListening=!1}mousedown(t,n,o,s=!1){t.preventDefault(),this.mouseListening=!0,this.mousechange.next({$event:t,x:n,y:o,isTouch:s})}constructor(t){this.el=t}ngOnInit(){this.sub=this.mousechange.pipe(Ma((t,n)=>t.x===n.x&&t.y===n.y)).subscribe(t=>this.handleChange(t.x,t.y,t.$event,t.isTouch))}ngOnDestroy(){this.sub?.unsubscribe()}handleChange(t,n,o,s){const r=this.el.nativeElement.clientWidth,a=this.el.nativeElement.clientHeight,l=t-(this.el.nativeElement.getBoundingClientRect().left+window.pageXOffset);let u=n-this.el.nativeElement.getBoundingClientRect().top;s||(u-=window.pageYOffset),this.coordinatesChange.next({x:t,y:n,top:u,left:l,containerWidth:r,containerHeight:a,$event:o})}static \u0275fac=function(n){return new(n||e)(Y(Qt))};static \u0275dir=st({type:e,selectors:[["","ngx-color-coordinates",""]],hostBindings:function(n,o){1&n&&F("mousemove",function(r){return o.mousemove(r,r.pageX,r.pageY)},0,P1)("touchmove",function(r){return o.mousemove(r,r.touches[0].clientX,r.touches[0].clientY,!0)},!1,P1)("mouseup",function(){return o.mouseup()},!1,P1)("touchend",function(){return o.mouseup()},!1,P1)("mousedown",function(r){return o.mousedown(r,r.pageX,r.pageY)})("touchstart",function(r){return o.mousedown(r,r.touches[0].clientX,r.touches[0].clientY,!0)})},outputs:{coordinatesChange:"coordinatesChange"}})}return e})(),Y$e=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=vn({type:e});static \u0275inj=fn({})}return e})();function gR(e){let t=0,n=0;return["r","g","b","a","h","s","l","v"].forEach(o=>{e[o]&&(t+=1,isNaN(e[o])||(n+=1),("s"===o||"l"===o)&&/^\d+%$/.test(e[o])&&(n+=1))}),t===n&&e}function Qh(e,i,t){const n=new Vv(e.hex?e.hex:e);t&&n.setAlpha(1);const o=n.toHsl(),s=n.toHsv(),r=n.toRgb(),a=n.toHex();return 0===o.s&&(o.h=i||0,s.h=i||0),{hsl:o,hex:"000000"===a&&0===r.a?"transparent":n.toHexString(),rgb:r,hsv:s,oldHue:e.h||i||o.h,source:e.source}}var W5=function(e){return e.HEX="hex",e.HSL="hsl",e.HSV="hsv",e.RGB="rgb",e}(W5||{});let fR=(()=>{class e{className;mode=W5.HEX;color={h:250,s:.5,l:.2,a:1};colorChange=new Be;onChange=new Be;onChangeComplete=new Be;onSwatchHover=new Be;oldHue;hsl;hsv;rgb;hex;source;currentColor;changes;disableAlpha;_onChangeCompleteSubscription=new Ne;_onSwatchHoverSubscription=new Ne;ngOnInit(){this.changes=this.onChange.pipe(Tr(100),dn(t=>{switch(this.onChangeComplete.emit(t),this.mode){case W5.HEX:this.colorChange.emit(t.color.hex);break;case W5.HSL:this.colorChange.emit(t.color.hsl);break;case W5.HSV:this.colorChange.emit(t.color.hsv);break;case W5.RGB:this.colorChange.emit(t.color.rgb);break;default:console.warn(`The mode '${this.mode}' is not supported`)}})).subscribe(),this.setState(Qh(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(Qh(this.color,this.oldHue))}ngOnDestroy(){this.changes?.unsubscribe(),this._onChangeCompleteSubscription?.unsubscribe(),this._onSwatchHoverSubscription?.unsubscribe()}setState(t){this.oldHue=t.oldHue,this.hsl=t.hsl,this.hsv=t.hsv,this.rgb=t.rgb,this.hex=t.hex,this.source=t.source,this.afterValidChange()}handleChange(t,n){if(gR(t)){const s=Qh(t,t.h||this.oldHue,this.disableAlpha);this.setState(s),this.onChange.emit({color:s,$event:n}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(t,n){if(gR(t)){const s=Qh(t,t.h||this.oldHue);this.setState(s),this.onSwatchHover.emit({color:s,$event:n})}}registerOnChange(t){this._onChangeCompleteSubscription.add(this.onChangeComplete.pipe(dn(n=>t(n.color.hex))).subscribe())}registerOnTouched(t){this._onSwatchHoverSubscription.add(this.onSwatchHover.pipe(dn(()=>t())).subscribe())}setDisabledState(t){}writeValue(t){this.color=t}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["color-wrap"]],inputs:{className:"className",mode:"mode",color:"color"},outputs:{colorChange:"colorChange",onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Rn],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return e})(),J$e=(()=>{class e{hsl;pointer;radius;shadow;hidePointer=!1;direction="horizontal";onChange=new Be;left="0px";top="";ngOnChanges(){"horizontal"===this.direction?this.left=100*this.hsl.h/360+"%":this.top=-100*this.hsl.h/360+100+"%"}handleChange({top:t,left:n,containerHeight:o,containerWidth:s,$event:r}){let a;if("vertical"===this.direction){let l;l=t<0?359:t>o?0:360*(-100*t/o+100)/100,this.hsl.h!==l&&(a={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}else{let l;l=n<0?0:n>s?359:100*n/s*360/100,this.hsl.h!==l&&(a={h:l,s:this.hsl.s,l:this.hsl.l,a:this.hsl.a,source:"rgb"})}a&&this.onChange.emit({data:a,$event:r})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["color-hue"]],inputs:{hsl:"hsl",pointer:"pointer",radius:"radius",shadow:"shadow",hidePointer:"hidePointer",direction:"direction"},outputs:{onChange:"onChange"},features:[Rn],decls:3,vars:8,consts:[["ngx-color-coordinates","",1,"color-hue-container",3,"coordinatesChange"],["class","color-hue-pointer",3,"left","top",4,"ngIf"],[1,"color-hue-pointer"],[1,"color-hue-slider",3,"ngStyle"]],template:function(n,o){1&n&&(c(0,"div")(1,"div",0),F("coordinatesChange",function(r){return o.handleChange(r)}),q(2,W$e,2,5,"div",1),h()()),2&n&&(h2("color-hue color-hue-",o.direction,""),Gr("border-radius",o.radius,"px")("box-shadow",o.shadow),d(2),w("ngIf",!o.hidePointer))},dependencies:[F8,V8,q$e],styles:[".color-hue[_ngcontent-%COMP%]{position:absolute;inset:0}.color-hue-container[_ngcontent-%COMP%]{margin:0 2px;position:relative;height:100%}.color-hue-pointer[_ngcontent-%COMP%]{position:absolute}.color-hue-slider[_ngcontent-%COMP%]{margin-top:1px;width:4px;border-radius:1px;height:8px;box-shadow:0 0 2px #0009;background:#fff;transform:translate(-2px)}.color-hue-horizontal[_ngcontent-%COMP%]{background:linear-gradient(to right,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}.color-hue-vertical[_ngcontent-%COMP%]{background:linear-gradient(to top,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%)}"],changeDetection:0})}return e})(),Q$e=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=vn({type:e});static \u0275inj=fn({imports:[q0,Y$e]})}return e})(),eBe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=vn({type:e});static \u0275inj=fn({imports:[q0,K$e]})}return e})(),tBe=(()=>{class e{hsl;active;offset;first=!1;last=!1;onClick=new Be;background;ngOnChanges(){this.background=`hsl(${this.hsl.h}, 50%, ${100*this.offset}%)`}handleClick(t){this.onClick.emit({data:{h:this.hsl.h,s:.5,l:this.offset,source:"hsl"},$event:t})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["color-slider-swatch"]],inputs:{hsl:"hsl",active:"active",offset:"offset",first:"first",last:"last"},outputs:{onClick:"onClick"},features:[Rn],decls:1,vars:8,consts:[[1,"slider-swatch",3,"click"]],template:function(n,o){1&n&&(c(0,"div",0),F("click",function(r){return o.handleClick(r)}),h()),2&n&&(Gr("background",o.background),Ye("first",o.first)("last",o.last)("active",o.active))},styles:[".slider-swatch[_ngcontent-%COMP%]{height:12px;background:rgb(121,211,166);cursor:pointer}.slider-swatch.active[_ngcontent-%COMP%]{transform:scaleY(1.8);border-radius:3.6px/2px}.slider-swatch.first[_ngcontent-%COMP%]{border-radius:2px 0 0 2px}.slider-swatch.last[_ngcontent-%COMP%]{border-radius:0 2px 2px 0}"],changeDetection:0})}return e})(),nBe=(()=>{class e{hsl;onClick=new Be;onSwatchHover=new Be;active(t,n){return Math.round(100*this.hsl.l)/100===t&&Math.round(100*this.hsl.s)/100===n}handleClick({data:t,$event:n}){this.onClick.emit({data:t,$event:n})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["color-slider-swatches"]],inputs:{hsl:"hsl"},outputs:{onClick:"onClick",onSwatchHover:"onSwatchHover"},decls:11,vars:17,consts:[[1,"slider-swatches"],[1,"slider-swatch-wrap"],[3,"onClick","hsl","offset","active","first"],[3,"onClick","hsl","offset","active"],[3,"onClick","hsl","offset","active","last"]],template:function(n,o){1&n&&(c(0,"div",0)(1,"div",1)(2,"color-slider-swatch",2),F("onClick",function(r){return o.handleClick(r)}),h()(),c(3,"div",1)(4,"color-slider-swatch",3),F("onClick",function(r){return o.handleClick(r)}),h()(),c(5,"div",1)(6,"color-slider-swatch",3),F("onClick",function(r){return o.handleClick(r)}),h()(),c(7,"div",1)(8,"color-slider-swatch",3),F("onClick",function(r){return o.handleClick(r)}),h()(),c(9,"div",1)(10,"color-slider-swatch",4),F("onClick",function(r){return o.handleClick(r)}),h()()()),2&n&&(d(2),w("hsl",o.hsl)("offset",.8)("active",o.active(.8,.5))("first",!0),d(2),w("hsl",o.hsl)("offset",.65)("active",o.active(.65,.5)),d(2),w("hsl",o.hsl)("offset",.5)("active",o.active(.5,.5)),d(2),w("hsl",o.hsl)("offset",.35)("active",o.active(.35,.5)),d(2),w("hsl",o.hsl)("offset",.2)("active",o.active(.2,.5))("last",!0))},dependencies:[tBe],styles:[".slider-swatches[_ngcontent-%COMP%]{margin-top:20px}.slider-swatch-wrap[_ngcontent-%COMP%]{box-sizing:border-box;width:20%;padding-right:1px;float:left}"],changeDetection:0})}return e})(),iBe=(()=>{class e extends fR{pointer={width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -2px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"};radius=2;constructor(){super()}handlePickerChange({data:t,$event:n}){this.handleChange(t,n)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=it({type:e,selectors:[["color-slider"]],inputs:{pointer:"pointer",radius:"radius"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0},{provide:fR,useExisting:Xt(()=>e)}]),Ct],decls:5,vars:7,consts:[[1,"slider-hue"],[3,"onChange","hsl","radius","pointer"],[1,"slider-swatches"],[3,"onClick","hsl"]],template:function(n,o){1&n&&(c(0,"div")(1,"div",0)(2,"color-hue",1),F("onChange",function(r){return o.handlePickerChange(r)}),h()(),c(3,"div",2)(4,"color-slider-swatches",3),F("onClick",function(r){return o.handlePickerChange(r)}),h()()()),2&n&&(h2("slider-picker ",o.className,""),d(2),w("hsl",o.hsl)("radius",o.radius)("pointer",o.pointer),d(2),w("hsl",o.hsl))},dependencies:()=>[J$e,nBe],styles:[".slider-hue[_ngcontent-%COMP%]{height:12px;position:relative}"],changeDetection:0})}return e})(),oBe=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=vn({type:e});static \u0275inj=fn({imports:[q0,Q$e,eBe]})}return e})();function sBe(e,i){if(1&e&&(c(0,"label",3),j(1),h()),2&e){const t=_();w("for",t.inputId),d(),Pe(t.title)}}function rBe(e,i){if(1&e){const t=pe();c(0,"div",11)(1,"color-slider",12),F("onChangeComplete",function(o){return H(t),$(_().colorChanged(o.color.hex))}),h()()}if(2&e){const t=_();d(),w("color",t.value)}}function aBe(e,i){if(1&e&&(c(0,"small",9),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}let mR=(()=>{class e extends _s{constructor(){super()}randomize(){this.colorChanged($P())}colorChanged(t){this.value=t,this.onChange(t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-color"]],features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:14,vars:13,consts:[["popContent",""],["inputField",""],[1,"mb-3"],[3,"for"],[1,"input-group"],[1,"input-group-text"],["placement","bottom","popoverClass","shadow",1,"form-control",3,"ngModelChange","change","id","ngModel","autoClose","ngbPopover"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["name","dice5"],[1,"form-text","text-muted"],[1,"invalid-feedback"],[1,"pb-3",2,"min-width","200px"],[3,"onChangeComplete","color"]],template:function(n,o){if(1&n){const s=pe();c(0,"div",2),q(1,sBe,2,2,"label",3),c(2,"div",4)(3,"span",5),j(4,"\xa0\xa0\xa0"),h(),q(5,rBe,2,1,"ng-template",null,0,on),c(7,"input",6,1),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))}),h(),c(9,"button",7),F("click",function(){return H(s),$(o.randomize())}),k(10,"i-bs",8),h()(),q(11,aBe,2,1,"small",9),c(12,"div",10),j(13),h()()}if(2&n){const s=vt(6);d(),J(o.title?1:-1),d(),Ye("is-invalid",o.error),d(),Gr("background-color",o.value),d(4),Ye("is-invalid",o.error),w("id",o.inputId),bt("ngModel",o.value),w("autoClose","outside")("ngbPopover",s),d(4),J(o.hint?11:-1),d(2),nt(" ",o.error," ")}},dependencies:[Wr,si,Yt,Ln,iBe,Wt]})}return e})();function lBe(e,i){if(1&e&&(c(0,"span",5),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function cBe(e,i){if(1&e&&k(0,"pngx-input-text",12),2&e){const t=_();w("error",null==t.error?null:t.error.match)}}function dBe(e,i){1&e&&k(0,"pngx-input-check",13)}function hBe(e,i){if(1&e&&(c(0,"div"),k(1,"pngx-permissions-form",18),h()),2&e){const t=_();d(),w("users",t.users)}}let A3=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,o,s)}getCreateTitle(){return "Crea nuovo tag"}getEditTitle(){return "Modifica tag"}getForm(){return new In({name:new Re(""),color:new Re($P()),is_inbox_tag:new Re(!1),matching_algorithm:new Re(6),match:new Re(""),is_insensitive:new Re(!0),permissions_form:new Re(null)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(G5),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-tag-edit-dialog"]],features:[Ct],decls:19,vars:12,consts:()=>{let t,n,o,s,r,a,l,u,p;return t="Nome",n="Colore",o="Tag di arrivo",s="I tag di arrivo vengono assegnati automaticamente a tutti i documenti elaborati.",r="Algoritmo di assegnazione",a="Criterio di assegnazione",l="Senza distinzione tra maiuscole e minuscole",u="Annulla",p="Salva",[u,p,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","color",3,"error"],["title",o,"formControlName","is_inbox_tag","hint",s],["title",r,"formControlName","matching_algorithm",3,"items"],["title",a,"formControlName","match",3,"error"],["title",l,"formControlName","is_insensitive"],[4,"pngxIfOwner"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["accordion","true","formControlName","permissions_form",3,"users"]]},template:function(n,o){1&n&&(c(0,"form",2),F("ngSubmit",function(){return o.save()}),c(1,"div",3)(2,"h4",4),j(3),h(),q(4,lBe,2,1,"span",5),c(5,"button",6),F("click",function(){return o.cancel()}),h()(),c(6,"div",7),k(7,"pngx-input-text",8)(8,"pngx-input-color",9)(9,"pngx-input-check",10)(10,"pngx-input-select",11),q(11,cBe,1,1,"pngx-input-text",12)(12,dBe,1,0,"pngx-input-check",13)(13,hBe,2,1,"div",14),h(),c(14,"div",15)(15,"button",16),F("click",function(){return o.cancel()}),R(16,0),h(),c(17,"button",17),R(18,1),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(2),w("error",null==o.error?null:o.error.name),d(),w("error",null==o.error?null:o.error.color),d(2),w("items",o.getMatchingAlgorithms()),d(),J(o.patternRequired?11:-1),d(),J(o.patternRequired?12:-1),d(),w("pngxIfOwner",o.object),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,Sr,Y1,mR,Fh,I5]})}return e})();function uBe(e,i){if(1&e&&(c(0,"span",4),j(1),h()),2&e){const t=_(2);Gr("background",t.tag.color)("color",t.tag.text_color),d(),Pe(t.tag.name)}}function _Be(e,i){if(1&e&&(c(0,"a",5),j(1),h()),2&e){const t=_(2);Gr("background",t.tag.color)("color",t.tag.text_color),w("title",t.linkTitle),d(),Pe(t.tag.name)}}function pBe(e,i){if(1&e&&q(0,uBe,2,5,"span",2)(1,_Be,2,6,"a",3),2&e){const t=_();J(t.clickable?-1:0),d(),J(t.clickable?1:-1)}}function gBe(e,i){1&e&&(c(0,"span",6),R(1,0),h())}function fBe(e,i){1&e&&(c(0,"a",7),R(1,1),h()),2&e&&w("title",_(2).linkTitle)}function mBe(e,i){if(1&e&&q(0,gBe,2,0,"span",6)(1,fBe,2,1,"a",7),2&e){const t=_();J(t.clickable?-1:0),d(),J(t.clickable?1:-1)}}let eu=(()=>{class e{constructor(){this.linkTitle="",this.clickable=!1}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-tag"]],inputs:{tag:"tag",linkTitle:"linkTitle",clickable:"clickable"},decls:2,vars:1,consts:()=>{let t,n;return t="Privato",n="Privato",[t,n,[1,"badge",3,"background","color"],[1,"badge",3,"title","background","color"],[1,"badge"],[1,"badge",3,"title"],[1,"badge","private"],[1,"badge","private",3,"title"]]},template:function(n,o){1&n&&q(0,pBe,2,2)(1,mBe,2,2),2&n&&J(void 0!==o.tag?0:1)},styles:["a[_ngcontent-%COMP%]{cursor:pointer;white-space:normal;word-break:break-word;text-align:end}.private[_ngcontent-%COMP%]{background-color:#000;color:#fff;opacity:.5;font-style:italic}"]})}return e})();const vBe=["tagSelect"],CBe=(e,i)=>i.id,wBe=()=>[];function MBe(e,i){if(1&e&&k(0,"pngx-tag",17),2&e){const t=_().item;w("tag",_().getTag(t.id))}}function bBe(e,i){if(1&e){const t=pe();c(0,"button",15),F("click",function(o){const s=H(t).item;return $(_().removeTag(o,s.id))}),k(1,"i-bs",16),q(2,MBe,1,1,"pngx-tag",17),h()}if(2&e){const t=i.item,n=_();d(2),J(t.id&&n.tags?2:-1)}}function TBe(e,i){if(1&e&&k(0,"pngx-tag",19),2&e){const t=_().item;w("tag",_().getTag(t.id))}}function SBe(e,i){if(1&e&&(c(0,"div",18),q(1,TBe,1,1,"pngx-tag",19),h()),2&e){const t=i.item,n=_();d(),J(t.id&&n.tags?1:-1)}}function EBe(e,i){if(1&e){const t=pe();c(0,"button",20),F("click",function(){return H(t),$(_().createTag())}),k(1,"i-bs",21),h()}2&e&&w("disabled",_().disabled)}function ABe(e,i){if(1&e){const t=pe();c(0,"button",22),F("click",function(){return H(t),$(_().onFilterDocuments())}),k(1,"i-bs",23),h()}if(2&e){const t=_();w("disabled",t.hasPrivate||null===t.value)}}function OBe(e,i){if(1&e&&(c(0,"small",13),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}function yBe(e,i){if(1&e){const t=pe();c(0,"a",24),F("click",function(){const o=H(t).$implicit;return $(_(2).addTag(o.id))}),j(1),h(),j(2,"\xa0 ")}if(2&e){const t=i.$implicit;w("routerLink",v2(2,wBe)),d(),Pe(null==t?null:t.name)}}function DBe(e,i){if(1&e&&(c(0,"small",14)(1,"span"),R(2,1),h(),j(3,"\xa0 "),ut(4,yBe,3,3,null,null,CBe),h()),2&e){const t=_();d(4),_t(t.getSuggestions())}}let $v=(()=>{class e{constructor(t,n){this.tagService=t,this.modalService=n,this.onChange=o=>{},this.onTouched=()=>{},this.title="Etichette",this.disabled=!1,this.allowCreate=!0,this.showFilter=!1,this.horizontal=!1,this.filterDocuments=new Be,this.value=[],this.tags=[],this.createTagRef=this.createTag.bind(this)}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}ngOnInit(){this.tagService.listAll().subscribe(t=>{this.tags=t.results})}getTag(t){return this.tags?this.tags.find(n=>n.id==t):null}removeTag(t,n){if(this.disabled)return;t.stopImmediatePropagation();let o=this.value.indexOf(n);if(o>-1){let s=this.value;s.splice(o,1),this.value=[...s],this.onChange(this.value)}}createTag(t=null){var n=this.modalService.open(A3,{backdrop:"static"});return n.componentInstance.dialogMode=Vn.CREATE,t?n.componentInstance.object={name:t}:this.select.searchTerm&&(n.componentInstance.object={name:this.select.searchTerm}),this.select.searchTerm=null,this.select.detectChanges(),xv(n.componentInstance.succeeded.pipe(wt(),dn(()=>{this.tagService.listAll().subscribe(o=>{this.tags=o.results})})))}getSuggestions(){return this.suggestions&&this.tags?this.suggestions.filter(t=>!this.value.includes(t)).map(t=>this.tags.find(n=>n.id==t)):[]}addTag(t){this.value=[...this.value,t],this.onChange(this.value)}get hasPrivate(){return this.value.some(t=>void 0===this.tags?.find(n=>n.id===t))}onFilterDocuments(){this.filterDocuments.emit(this.tags.filter(t=>this.value.includes(t.id)))}static#e=this.\u0275fac=function(n){return new(n||e)(Y(G5),Y(Ki))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-tags"]],viewQuery:function(n,o){if(1&n&&cn(vBe,5),2&n){let s;Ot(s=yt())&&(o.select=s.first)}},inputs:{title:"title",disabled:"disabled",hint:"hint",suggestions:"suggestions",allowCreate:"allowCreate",showFilter:"showFilter",horizontal:"horizontal"},outputs:{filterDocuments:"filterDocuments"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}])],decls:15,vars:23,consts:()=>{let t,n,o,s;return t="Aggiungi tag",n="Filtra i documenti con queste etichette",o="Rimuovi etichetta",s="Suggerimenti:",[["tagSelect",""],s,[1,"mb-3","paperless-input-select","paperless-input-tags"],[1,"row"],[1,"d-flex","align-items-center"],["for","tags",1,"form-label"],[1,"position-relative"],[1,"input-group","flex-nowrap"],["name","tags","bindLabel","name","bindValue","id","addTagText",t,3,"ngModelChange","change","items","ngModel","disabled","multiple","closeOnSelect","clearSearchOnAdd","hideSelected","addTag"],["ng-label-tmp",""],["ng-option-tmp",""],["type","button",1,"btn","btn-outline-secondary",3,"disabled"],["type","button","title",n,1,"btn","btn-outline-secondary",3,"disabled"],[1,"form-text","text-muted"],[1,"position-absolute","top-100"],["title",o,1,"tag-wrap","btn","p-0",3,"click"],["name","x",2,"margin-inline-end","1px"],[2,"background-color","none",3,"tag"],[1,"tag-wrap"],[1,"me-2",3,"tag"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","plus"],["type","button","title",n,1,"btn","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),j(4),h()(),c(5,"div",6)(6,"div",7)(7,"ng-select",8,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))}),q(9,bBe,3,1,"ng-template",9)(10,SBe,2,1,"ng-template",10),h(),q(11,EBe,2,1,"button",11)(12,ABe,2,1,"button",12),h(),q(13,OBe,2,1,"small",13)(14,DBe,6,0,"small",14),h()()()}2&n&&(Ye("disabled",o.disabled)("pb-3",o.getSuggestions().length>0),d(2),Ye("col-md-3",o.horizontal),d(),Ye("mb-md-0",o.horizontal),d(),Pe(o.title),d(),Ye("col-md-9",o.horizontal),d(2),w("items",o.tags),bt("ngModel",o.value),w("disabled",o.disabled)("multiple",!0)("closeOnSelect",!1)("clearSearchOnAdd",!0)("hideSelected",o.tags.length>0)("addTag",!!o.allowCreate&&o.createTagRef),d(4),J(o.allowCreate?11:-1),d(),J(o.showFilter?12:-1),d(),J(o.hint?13:-1),d(),J(o.getSuggestions().length>0?14:-1))},dependencies:[fr,Yt,Ln,P5,Jg,Hm,Wt,eu],styles:[".selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.tag-wrap[_ngcontent-%COMP%]{font-size:1rem}.paperless-input-select.disabled[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{cursor:not-allowed}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select{pointer-events:none}.paperless-input-select.disabled[_ngcontent-%COMP%]     ng-select .ng-select-container{background-color:var(--pngx-bg-alt)!important}"]})}return e})(),Zo=(()=>{class e{constructor(t,n,o){this.viewContainerRef=t,this.templateRef=n,this.permissionsService=o}ngOnInit(){[].concat(this.pngxIfPermissions).every(t=>this.permissionsService.currentUserCan(t.action,t.type))?this.viewContainerRef.createEmbeddedView(this.templateRef):this.viewContainerRef.clear()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qo),Y(Kt),Y(Xn))};static#t=this.\u0275dir=st({type:e,selectors:[["","pngxIfPermissions",""]],inputs:{pngxIfPermissions:"pngxIfPermissions"}})}return e})();function NBe(e,i){1&e&&k(0,"i-bs",2)}function PBe(e,i){1&e&&k(0,"i-bs",3)}function IBe(e,i){if(1&e&&(c(0,"tr")(1,"td"),j(2),h(),c(3,"td",6),j(4),h()()),2&e){const t=i.$implicit;d(2),l1("",t.prefix,":",t.key,""),d(2),Pe(t.value)}}let LBe=(()=>{class e{constructor(){this.expand=!1,this.title="Metadati"}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-metadata-collapse"]],inputs:{metadata:"metadata",title:"title"},decls:11,vars:4,consts:[["collapse","ngbCollapse"],["type","button",1,"btn","btn-outline-secondary","btn-sm","me-2",3,"click"],["width","1.2em","height","1.2em","name","caret-down"],["width","1.2em","height","1.2em","name","caret-up"],[3,"ngbCollapseChange","ngbCollapse"],[1,"table","table-borderless"],[1,"metadata-column"]],template:function(n,o){if(1&n){const s=pe();c(0,"h6")(1,"button",1),F("click",function(){return H(s),$(o.expand=!o.expand)}),q(2,NBe,1,0,"i-bs",2)(3,PBe,1,0,"i-bs",3),h(),j(4),h(),c(5,"div",4,0),F("ngbCollapseChange",function(a){return H(s),$(o.expand=a)}),c(7,"table",5)(8,"tbody"),ut(9,IBe,5,3,"tr",null,Ft),h()()()}2&n&&(d(2),J(o.expand?-1:2),d(),J(o.expand?3:-1),d(),nt(" ",o.title,"\n"),d(),w("ngbCollapse",!o.expand),d(4),_t(o.metadata))},dependencies:[vh,Wt],styles:[".metadata-column[_ngcontent-%COMP%]{overflow-wrap:anywhere}"]})}return e})();function xBe(e,i){if(1&e&&(c(0,"label",13),j(1),h()),2&e){const t=_();Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title)}}function RBe(e,i){if(1&e){const t=pe();c(0,"button",14),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",15),j(2,"\xa0"),ke(3),R(4,1),ze(),h()}}function FBe(e,i){if(1&e){const t=pe();c(0,"button",16),F("click",function(){return H(t),$(_().nextAsn())}),j(1,"+1"),h()}2&e&&w("disabled",_().disabled)}function kBe(e,i){if(1&e&&(c(0,"small",12),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}let tu=(()=>{class e extends _s{constructor(t){super(),this.documentService=t,this.showAdd=!0,this.step=1}nextAsn(){this.value||this.documentService.getNextAsn().subscribe(t=>{this.value=t,this.onChange(this.value)})}registerOnChange(t){this.onChange=n=>{1===this.step&&-1===n?.toString().indexOf("e")&&(n=parseInt(n,10)),.01===this.step&&(n=parseFloat(n).toFixed(2)),t(n)}}writeValue(t){.01===this.step&&(t=parseFloat(t).toFixed(2)),super.writeValue(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-number"]],inputs:{showAdd:"showAdd",step:"step"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:13,vars:19,consts:()=>{let t;return t="Rimuovi",[["inputField",""],t,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],["type","number",1,"form-control",3,"ngModelChange","change","step","id","ngModel","disabled"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"disabled"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["type","button","id","button-addon1",1,"btn","btn-outline-secondary",3,"click","disabled"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"div",3)(2,"div",4),q(3,xBe,2,4,"label",5)(4,RBe,5,0,"button",6),h(),c(5,"div",7)(6,"div",8)(7,"input",9,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))}),h(),q(9,FBe,2,1,"button",10),h(),c(10,"div",11),j(11),h(),q(12,kBe,2,1,"small",12),h()()()}2&n&&(Ye("pb-3",o.error),d(2),Ye("col-md-3",o.horizontal),d(),J(o.title?3:-1),d(),J(o.removable?4:-1),d(),Ye("col-md-9",o.horizontal),d(),Ye("is-invalid",o.error),d(),Ye("is-invalid",o.error),w("step",o.step)("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled),d(2),J(o.showAdd?9:-1),d(2),nt(" ",o.error," "),d(),J(o.hint?12:-1))},dependencies:[si,ol,Yt,Ln,Wt]})}return e})();const zBe=()=>[];function VBe(e,i){if(1&e){const t=pe();c(0,"button",17),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",18),j(2,"\xa0"),ke(3),R(4,2),ze(),h()}}function HBe(e,i){if(1&e){const t=pe();c(0,"button",19),F("click",function(){return H(t),$(_().onFilterDocuments())}),k(1,"i-bs",20),h()}if(2&e){const t=_();ui("title",t.filterButtonTitle),w("disabled",null===t.value)}}function $Be(e,i){if(1&e&&(c(0,"small",16),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}function BBe(e,i){if(1&e){const t=pe();c(0,"a",21),F("click",function(){const o=H(t).$implicit;return $(_(2).onSuggestionClick(o))}),j(1),h(),j(2,"\xa0 ")}if(2&e){const t=i.$implicit;w("routerLink",v2(2,zBe)),d(),Pe(t)}}function GBe(e,i){if(1&e&&(c(0,"small")(1,"span"),R(2,3),h(),j(3,"\xa0 "),ut(4,BBe,3,3,null,null,Ft),h()),2&e){const t=_();d(4),_t(t.getSuggestions())}}let UBe=(()=>{class e extends _s{constructor(t,n,o){super(),this.settings=t,this.ngbDateParserFormatter=n,this.isoDateAdapter=o,this.showFilter=!1,this.filterDocuments=new Be}getSuggestions(){return null==this.suggestions?[]:this.suggestions.map(t=>this.ngbDateParserFormatter.parse(t)).filter(t=>null===this.value||this.value!=this.isoDateAdapter.toModel(t)).map(t=>this.ngbDateParserFormatter.format(t))}onSuggestionClick(t){const n=this.ngbDateParserFormatter.parse(t);this.writeValue(this.isoDateAdapter.toModel(n)),this.onChange(this.value)}ngOnInit(){super.ngOnInit(),this.placeholder=this.settings.getLocalizedDateInputFormat()}onPaste(t){const n=t.clipboardData||window.clipboardData;if(n){t.preventDefault();let o=n.getData("text");o=o.replace(/[\sa-z#!$%\^&\*;:{}=\-_`~()]+/g,"");const s=this.ngbDateParserFormatter.parse(o);s&&(this.writeValue(this.isoDateAdapter.toModel(s)),this.onChange(this.value))}}onKeyPress(t){"Enter"!==t.key&&!(t.altKey||t.metaKey||t.ctrlKey)&&!/[0-9,\.\/-]+/.test(t.key)&&t.preventDefault()}onFilterDocuments(){this.filterDocuments.emit([this.ngbDateParserFormatter.parse(this.value)])}get filterButtonTitle(){return "Filtra i documenti con questo " + this.title + ""}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(bh),Y(hl))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-date"]],inputs:{suggestions:"suggestions",showFilter:"showFilter"},outputs:{filterDocuments:"filterDocuments"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:19,vars:23,consts:()=>{let t,n,o;return t="Data non valida.",n="Rimuovi",o="Suggerimenti:",[["inputField","","datePicker","ngbDatepicker","datePickerContent","ngModel"],t,n,o,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],["maxlength","10","name","dp","ngbDatepicker","",1,"form-control",3,"dateSelect","change","keypress","paste","ngModelChange","placeholder","id","ngModel","disabled"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click","disabled"],["width","1.2em","height","1.2em","name","calendar"],["type","button",1,"btn","btn-outline-secondary",3,"disabled","title"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled","title"],["width","1.2em","height","1.2em","name","filter"],[3,"click","routerLink"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",4)(1,"div",5)(2,"div",6)(3,"label",7),j(4),h(),q(5,VBe,5,0,"button",8),h(),c(6,"div",9)(7,"div",10)(8,"input",11,0),F("dateSelect",function(){return H(s),$(o.onChange(o.value))})("change",function(){return H(s),$(o.onChange(o.value))})("keypress",function(a){return H(s),$(o.onKeyPress(a))})("paste",function(a){return H(s),$(o.onPaste(a))}),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),h(),c(12,"button",12),F("click",function(){return H(s),$(vt(10).toggle())}),k(13,"i-bs",13),h(),q(14,HBe,2,2,"button",14),h(),c(15,"div",15),R(16,1),h(),q(17,$Be,2,1,"small",16)(18,GBe,6,0,"small"),h()()()}2&n&&(Ye("pb-3",o.error),d(2),Ye("col-md-3",o.horizontal),d(),Ye("mb-md-0",o.horizontal),w("for",o.inputId),d(),Pe(o.title),d(),J(o.removable?5:-1),d(),Ye("col-md-9",o.horizontal),d(),Ye("is-invalid",o.error),d(),Ye("is-invalid",o.error),w("placeholder",o.placeholder)("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled),d(4),w("disabled",o.disabled),d(2),J(o.showFilter?14:-1),d(3),J(o.hint?17:-1),d(),J(o.getSuggestions().length>0?18:-1))},dependencies:[fr,Cm,si,Yt,ah,Ln,Wt]})}return e})(),ZBe=(()=>{class e extends Sa{constructor(t){super(t,"documents")}getNotes(t){return this.http.get(this.getResourceUrl(t,"notes"))}addNote(t,n){return this.http.post(this.getResourceUrl(t,"notes"),{note:n})}deleteNote(t,n){return this.http.delete(this.getResourceUrl(t,"notes"),{params:new Mr({fromString:`id=${n}`})})}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const jBe={longDate:"y-MM-dd",mediumDate:"y-MM-dd",shortDate:"y-MM-dd"},O3={year:{label:"%s anno fa",labelPlural:"%s anni fa",interval:31536e3},month:{label:"%s mese fa",labelPlural:"%s mesi fa",interval:2592e3},week:{label:"%s settimana fa",labelPlural:"%s settimane fa",interval:604800},day:{label:"%s giorno fa",labelPlural:"%s giorni fa",interval:86400},hour:{label:"%s ora fa",labelPlural:"%s ore fa",interval:3600},minute:{label:"%s minuto fa",labelPlural:"%s minuti fa",interval:60}};let Ns=(()=>{class e{constructor(t,n,o){this.datePipe=n,this.settings=o,this.defaultLocale=t}transform(t,n,o,s){let r=s||this.settings.get(Ue.DATE_LOCALE)||this.defaultLocale,a=n||this.settings.get(Ue.DATE_FORMAT);if("relative"===n){const l=Math.floor((+new Date-+new Date(t))/1e3);if(l<60)return "Proprio ora";let u;for(const p in O3)if(u=Math.floor(l/O3[p].interval),u>0)return(u>1?O3[p].labelPlural:O3[p].label).replace("%s",u.toString())}return"iso-8601"==r?this.datePipe.transform(t,jBe[a],o):this.datePipe.transform(t,n||this.settings.get(Ue.DATE_FORMAT),o,r)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ss,16),Y(Rp,16),Y(Tn,16))};static#t=this.\u0275pipe=Zi({name:"customDate",type:e,pure:!0})}return e})();const vR=(e,i)=>({action:e,type:i});function WBe(e,i){1&e&&k(0,"div",10)}function XBe(e,i){if(1&e){const t=pe();c(0,"form",5)(1,"div",6)(2,"textarea",7),F("keydown",function(o){return H(t),$(_(2).noteFormKeydown(o))}),h(),c(3,"div",8),R(4,0),h()(),c(5,"div",9),q(6,WBe,1,0,"div",10),c(7,"button",11),F("click",function(){return H(t),$(_(2).addNote())}),R(8,1),h()()()}if(2&e){const t=_(2);w("formGroup",t.noteForm),d(2),Ye("is-invalid",t.newNoteError),d(4),J(t.networkActive?6:-1),d(),w("disabled",t.networkActive||t.addDisabled)}}function KBe(e,i){if(1&e){const t=pe();c(0,"button",16),F("click",function(){H(t);const o=_().$implicit;return $(_(2).deleteNote(o.id))}),k(1,"i-bs",17),c(2,"span",18),R(3,2),h()()}}function qBe(e,i){if(1&e&&(c(0,"div",4)(1,"div",12)(2,"p",13),j(3),h()(),c(4,"div",14)(5,"span"),j(6),ot(7,"customDate"),h(),q(8,KBe,4,0,"button",15),h()()),2&e){const t=i.$implicit,n=_(2);d(3),Pe(t.note),d(3),l1("",n.displayName(t)," - ",Et(7,4,t.created),""),d(2),w("pngxIfPermissions",rt(6,vR,n.PermissionAction.Delete,n.PermissionType.Note))}}function YBe(e,i){if(1&e&&(c(0,"div"),q(1,XBe,9,5,"form",3),k(2,"hr"),ut(3,qBe,9,9,"div",4,Ft),h()),2&e){const t=_();d(),w("pngxIfPermissions",rt(1,vR,t.PermissionAction.Add,t.PermissionType.Note)),d(2),_t(t.notes)}}let JBe=(()=>{class e extends Uo{constructor(t,n,o){super(),this.notesService=t,this.toastService=n,this.usersService=o,this.noteForm=new In({newNote:new Re("")}),this.networkActive=!1,this.newNoteError=!1,this.notes=[],this.addDisabled=!1,this.updated=new Be,this.usersService.listAll().subscribe({next:s=>{this.users=s.results}})}addNote(){const t=this.noteForm.get("newNote").value.toString().trim();0!=t.length?(this.newNoteError=!1,this.networkActive=!0,this.notesService.addNote(this.documentId,t).subscribe({next:n=>{this.notes=n,this.noteForm.get("newNote").reset(),this.networkActive=!1,this.updated.emit(this.notes)},error:n=>{this.networkActive=!1,this.toastService.showError("Errore nel salvare la nota",n)}})):this.newNoteError=!0}deleteNote(t){this.notesService.deleteNote(this.documentId,t).subscribe({next:n=>{this.notes=n,this.networkActive=!1,this.updated.emit(this.notes)},error:n=>{this.networkActive=!1,this.toastService.showError("Errore nell'eliminazione della nota",n)}})}displayName(t){if(!t.user)return"";const n="number"==typeof t.user?t.user:t.user.id,o=this.users?.find(r=>r.id===n);if(!o)return"";const s=[];return o.first_name&&s.push(o.first_name),o.last_name&&s.push(o.last_name),o.username&&s.push(s.length>0?`(${o.username})`:o.username),s.join(" ")}noteFormKeydown(t){(t.metaKey||t.ctrlKey)&&"Enter"===t.key&&this.addNote()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(ZBe),Y(ki),Y(vo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-notes"]],inputs:{documentId:"documentId",notes:"notes",addDisabled:"addDisabled"},outputs:{updated:"updated"},features:[Ct],decls:1,vars:1,consts:()=>{let t,n,o,s,r;return t="Scrivi una nota",n=" Scrivi una nota. ",o="Aggiungi nota",s="Elimina nota",r="Elimina nota",[n,o,r,["class","needs-validation mt-3","novalidate","",3,"formGroup",4,"pngxIfPermissions"],[1,"card","border","mb-3"],["novalidate","",1,"needs-validation","mt-3",3,"formGroup"],[1,"form-group"],["rows","3","formControlName","newNote","placeholder",t,"required","",1,"form-control","form-control-sm",3,"keydown"],[1,"invalid-feedback"],[1,"form-group","mt-2","d-flex","justify-content-end","align-items-center"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","me-auto"],["type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"card-body","text-dark"],[1,"card-text"],[1,"d-flex","card-footer","small","bg-light","text-primary","justify-content-between","align-items-center"],["type","button","class","btn btn-link btn-sm p-0 fade","title",s,3,"click",4,"pngxIfPermissions"],["type","button","title",s,1,"btn","btn-link","btn-sm","p-0","fade",3,"click"],["name","trash"],[1,"visually-hidden"]]},template:function(n,o){1&n&&q(0,YBe,5,4,"div"),2&n&&J(o.notes?0:-1)},dependencies:[ro,si,Yt,Wi,bg,Bi,Xi,Wt,Zo,Ns],styles:[".card-body[_ngcontent-%COMP%]{white-space:pre-wrap}.card[_ngcontent-%COMP%]:hover   .fade[_ngcontent-%COMP%]{opacity:1}"]})}return e})();var y3=function(e){return e.Archive="archive",e.Original="original",e}(y3||{});let QBe=(()=>{class e extends vl{constructor(t){super(t,"share_links")}getLinksForDocument(t){return this.http.get(`${this.baseUrl}documents/${t}/${this.resourceName}/`)}createLinkForDocument(t,n=y3.Archive,o=null){return this.clearCache(),this.http.post(this.getResourceUrl(),{document:t,file_version:n,expiration:o?.toISOString()})}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class eGe{constructor(i,t){this._document=t;const n=this._textarea=this._document.createElement("textarea"),o=n.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){const i=this._textarea;let t=!1;try{if(i){const n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),t=this._document.execCommand("copy"),n&&n.focus()}}catch{}return t}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let D3=(()=>{class e{constructor(t){this._document=t}copy(t){const n=this.beginCopy(t),o=n.copy();return n.destroy(),o}beginCopy(t){return new eGe(t,this._document)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function tGe(e,i){1&e&&(c(0,"li",15),R(1,4),h())}function nGe(e,i){if(1&e&&(c(0,"span",30),j(1),h()),2&e){const t=_().$implicit,n=_();d(),nt(" ",n.getDaysRemaining(t)," ")}}function iGe(e,i){1&e&&k(0,"i-bs",32)}function oGe(e,i){1&e&&k(0,"i-bs",33)}function sGe(e,i){if(1&e){const t=pe();c(0,"button",31),F("click",function(){H(t);const o=_().$implicit;return $(_().share(o))}),k(1,"i-bs",39),c(2,"span",34),R(3,8),h()()}}function rGe(e,i){if(1&e){const t=pe();c(0,"li",16)(1,"div",18),k(2,"input",29),q(3,nGe,2,1,"span",30),c(4,"button",31),F("click",function(){const o=H(t).$implicit;return $(_().copy(o))}),q(5,iGe,1,0,"i-bs",32)(6,oGe,1,0,"i-bs",33),c(7,"span",34),R(8,5),h()(),q(9,sGe,4,0,"button",35),c(10,"button",36),F("click",function(){const o=H(t).$implicit;return $(_().delete(o))}),k(11,"i-bs",37),c(12,"span",34),R(13,6),h()()(),c(14,"span",38),R(15,7),h()()}if(2&e){const t=i.$implicit,n=_();d(2),w("value",n.getShareUrl(t)),d(),J(t.expiration?3:-1),d(2),J(n.copied!==t.id?5:-1),d(),J(n.copied===t.id?6:-1),d(3),J(n.canShare(t)?9:-1),d(5),Ye("show",n.copied===t.id)}}function aGe(e,i){if(1&e&&(c(0,"option",25),j(1),h()),2&e){const t=i.$implicit;w("ngValue",t.value),d(),Pe(t.label)}}function lGe(e,i){1&e&&k(0,"div",27)}function cGe(e,i){1&e&&k(0,"i-bs",28)}let dGe=(()=>{class e{set documentId(t){void 0!==t&&(this._documentId=t,this.refresh())}constructor(t,n,o){this.shareLinkService=t,this.toastService=n,this.clipboard=o,this.EXPIRATION_OPTIONS=[{label:"1 giorno",value:1},{label:"7 giorni",value:7},{label:"30 giorni",value:30},{label:"Mai",value:null}],this.title="Link di condivisione",this.disabled=!1,this.hasArchiveVersion=!0,this.loading=!1,this.expirationDays=7,this.useArchiveVersion=!0}ngOnInit(){void 0!==this._documentId&&this.refresh(),this.useArchiveVersion=this.hasArchiveVersion}refresh(){void 0!==this._documentId&&(this.loading=!0,this.shareLinkService.getLinksForDocument(this._documentId).pipe(wt()).subscribe({next:t=>{this.loading=!1,this.shareLinks=t},error:t=>{this.toastService.showError("Errore durante il recupero dei link",1e4,t)}}))}getShareUrl(t){const n=new URL(wi.apiBaseUrl);return`${n.origin}${n.pathname.replace(/\/api\/$/,"/share/")}${t.slug}`}getDaysRemaining(t){const n=Math.round((Date.parse(t.expiration)-Date.now())/864e5);return 1===n?"1 giorno":"" + n + " giorni"}copy(t){this.clipboard.copy(this.getShareUrl(t))&&(this.copied=t.id,setTimeout(()=>{this.copied=null},3e3))}canShare(t){return navigator?.canShare&&navigator.canShare({url:this.getShareUrl(t)})}share(t){navigator.share({url:this.getShareUrl(t)})}delete(t){this.shareLinkService.delete(t).subscribe({next:()=>{this.refresh()},error:n=>{this.toastService.showError("Errore durante l'eliminazione del link",1e4,n)}})}createLink(){let t;this.expirationDays&&(t=new Date,t.setDate(t.getDate()+this.expirationDays)),this.loading=!0,this.shareLinkService.createLinkForDocument(this._documentId,this.useArchiveVersion?y3.Archive:y3.Original,t).subscribe({next:n=>{this.loading=!1,setTimeout(()=>{this.copy(n)},10),this.refresh()},error:n=>{this.loading=!1,this.toastService.showError("Errore durante la creazione del link",1e4,n)}})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(QBe),Y(ki),Y(D3))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-share-links-dropdown"]],inputs:{title:"title",documentId:"documentId",disabled:"disabled",hasArchiveVersion:"hasArchiveVersion"},decls:31,vars:8,consts:()=>{let t,n,o,s,r,a,l,u,p;return t="Link di condivisione",n="Condividi versione dell'archivio",o="Scadenza",s="Crea",r=" Nessun link esistente ",a="Copia",l="Elimina",u="Copiato!",p="Condividi",[t,n,o,s,r,a,l,u,p,["ngbDropdown",""],["id","shareLinksDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],["name","link"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","shareLinksDropdown",1,"shadow","share-links-dropdown"],[1,"list-group","list-group-flush"],[1,"list-group-item","fst-italic","small","text-center","text-secondary"],[1,"list-group-item"],[1,"list-group-item","pt-3","pb-2"],[1,"input-group","input-group-sm","w-100"],[1,"form-check","form-switch","ms-auto","small"],["type","checkbox","role","switch","id","versionSwitch",1,"form-check-input",3,"ngModelChange","disabled","ngModel"],["for","versionSwitch",1,"form-check-label"],[1,"input-group","input-group-sm","w-100","mt-2"],["for","addLink",1,"input-group-text"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-auto",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["name","plus"],["type","text","aria-label","Share link","readonly","",1,"form-control",3,"value"],[1,"input-group-text"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["width","1.2em","height","1.2em","name","clipboard-fill"],["width","1.2em","height","1.2em","name","clipboard-check-fill"],[1,"visually-hidden"],["type","button",1,"btn","btn-sm","btn-outline-primary"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1.2em","height","1.2em","name","trash"],[1,"badge","copied-badge","bg-primary","small","fade","ms-4","position-absolute","top-50","translate-middle-y","pe-none","z-3"],["width","1.2em","height","1.2em","name","box-arrow-up"]]},template:function(n,o){1&n&&(c(0,"div",9)(1,"button",10),k(2,"i-bs",11),c(3,"div",12),j(4,"\xa0"),ke(5),R(6,0),ze(),h()(),c(7,"div",13)(8,"ul",14),q(9,tGe,2,0,"li",15),ut(10,rGe,16,7,"li",16,Ft),c(12,"li",17)(13,"div",18)(14,"div",19)(15,"input",20),Tt("ngModelChange",function(r){return mt(o.useArchiveVersion,r)||(o.useArchiveVersion=r),r}),h(),c(16,"label",21),R(17,1),h()()(),c(18,"div",22)(19,"label",23),ke(20),R(21,2),ze(),j(22,":"),h(),c(23,"select",24),Tt("ngModelChange",function(r){return mt(o.expirationDays,r)||(o.expirationDays=r),r}),ut(24,aGe,2,2,"option",25,Ft),h(),c(26,"button",26),F("click",function(){return o.createLink()}),q(27,lGe,1,0,"div",27)(28,cGe,1,0,"i-bs",28),ke(29),R(30,3),ze(),h()()()()()()),2&n&&(d(),w("disabled",o.disabled),d(8),J(o.shareLinks&&0!==o.shareLinks.length?-1:9),d(),_t(o.shareLinks),d(5),w("disabled",!o.hasArchiveVersion),bt("ngModel",o.useArchiveVersion),d(8),bt("ngModel",o.expirationDays),d(),_t(o.EXPIRATION_OPTIONS),d(2),w("disabled",o.loading),d(),J(o.loading?27:-1),d(),J(o.loading?-1:28))},dependencies:[Go,ys,is,_5,p5,ts,sl,Yt,Ln,Wt],styles:[".share-links-dropdown[_ngcontent-%COMP%]{min-width:350px}@media (max-width: 575.98px){.share-links-dropdown.show[_ngcontent-%COMP%]{margin-left:-175px!important}}.copied-badge[_ngcontent-%COMP%]{right:7.5em}"]})}return e})();const hGe=["selectOption"];function uGe(e,i){if(1&e&&(c(0,"span",9),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function _Ge(e,i){1&e&&(c(0,"small",14),R(1,3),h())}function pGe(e,i){if(1&e){const t=pe();c(0,"div",22),k(1,"input",23,0),c(3,"button",24),F("click",function(){const o=H(t).$index;return $(_(2).removeSelectOption(o))}),R(4,5),h()()}if(2&e){const t=i.$implicit;d(),w("formControl",t)}}function gGe(e,i){if(1&e){const t=pe();c(0,"button",19),F("click",function(){return H(t),$(_().addSelectOption())}),c(1,"span"),R(2,4),h(),j(3,"\xa0"),k(4,"i-bs",20),h(),c(5,"div",21),ut(6,pGe,5,1,"div",22,Ft),h()}if(2&e){const t=_();d(6),_t(t.objectForm.controls.extra_data.controls.select_options.controls)}}let N3=(()=>{class e extends K1{get selectOptions(){return this.objectForm.controls.extra_data.controls.select_options}constructor(t,n,o,s){super(t,n,o,s),this.CustomFieldDataType=ps,this.unsubscribeNotifier=new et}ngOnInit(){super.ngOnInit(),this.typeFieldDisabled&&this.objectForm.get("data_type").disable(),this.object?.data_type===ps.Select&&(this.selectOptions.clear(),this.object.extra_data.select_options.forEach(t=>this.selectOptions.push(new Re(t))))}ngAfterViewInit(){this.selectOptionInputs.changes.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.selectOptionInputs.last.nativeElement.focus()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}getCreateTitle(){return "Crea un nuovo campo personalizzato"}getEditTitle(){return "Modifica campo personalizzato"}getForm(){return new In({name:new Re(null),data_type:new Re(null),extra_data:new In({select_options:new g5([new Re(null)])})})}getDataTypes(){return Ov}get typeFieldDisabled(){return this.dialogMode===Vn.EDIT}addSelectOption(){this.selectOptions.push(new Re(""))}removeSelectOption(t){this.selectOptions.removeAt(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ea),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-custom-field-edit-dialog"]],viewQuery:function(n,o){if(1&n&&cn(hGe,5),2&n){let s;Ot(s=yt())&&(o.selectOptionInputs=s)}},features:[Ct],decls:17,vars:11,consts:()=>{let t,n,o,s,r,a,l;return t="Nome",n="Tipo di dati",o="Annulla",s="Salva",r="Il tipo di dati non pu\xF2 essere modificato dopo la creazione del campo",a="Aggiungi opzione",l="Elimina",[["selectOption",""],o,s,r,a,l,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","data_type",3,"items"],[1,"d-block","mt-n2"],[3,"formGroup"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-sm","btn-primary","my-2",3,"click"],["name","plus-circle"],["formArrayName","select_options"],[1,"input-group","input-group-sm","my-2"],["type","text","autocomplete","off",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-outline-danger",3,"click"]]},template:function(n,o){if(1&n&&(c(0,"form",6),F("ngSubmit",function(){return o.save()}),c(1,"div",7)(2,"h4",8),j(3),h(),q(4,uGe,2,1,"span",9),c(5,"button",10),F("click",function(){return o.cancel()}),h()(),c(6,"div",11),k(7,"pngx-input-text",12)(8,"pngx-input-select",13),q(9,_Ge,2,0,"small",14),c(10,"div",15),q(11,gGe,8,0),h()(),c(12,"div",16)(13,"button",17),F("click",function(){return o.cancel()}),R(14,1),h(),c(15,"button",18),R(16,2),h()()()),2&n){let s;w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(2),w("error",null==o.error?null:o.error.name),d(),w("items",o.getDataTypes()),d(),J(o.typeFieldDisabled?9:-1),d(),w("formGroup",o.objectForm.controls.extra_data),d(),J((s=o.objectForm.get("data_type").value)===o.CustomFieldDataType.Select?11:-1),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive)}},dependencies:[ro,si,Yt,Wi,X7,Bi,Xi,Mg,Wt,Ds,Sr]})}return e})();const fGe=["listFilterTextInput"],mGe=["button"],vGe=(e,i)=>i.id;function CGe(e,i){if(1&e){const t=pe();c(0,"button",16,2),F("click",function(){const o=H(t).$implicit;return $(_().addField(o))}),c(2,"small",17),j(3),c(4,"small",18),j(5),h()()()}if(2&e){const t=i.$implicit,n=_();d(3),nt("",t.name," "),d(2),Pe(n.getDataTypeLabel(t.data_type))}}function wGe(e,i){if(1&e){const t=pe();c(0,"button",19,2),F("click",function(){H(t);const o=_();return $(o.createField(o.filterText))}),c(2,"small"),k(3,"i-bs",20),j(4,"\xa0"),ke(5),R(6,4),ze(),h()()}2&e&&w("disabled",!_().canCreateFields)}let MGe=(()=>{class e{get filteredFields(){return this.unusedFields.filter(t=>!this.filterText||t.name.toLowerCase().includes(this.filterText.toLowerCase()))}get canCreateFields(){return this.permissionsService.currentUserCan(Nt.Add,It.CustomField)}constructor(t,n,o,s){this.customFieldsService=t,this.modalService=n,this.toastService=o,this.permissionsService=s,this.disabled=!1,this.existingFields=[],this.added=new Be,this.created=new Be,this.customFields=[],this.unusedFields=[],this.unsubscribeNotifier=new et,this.getFields()}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}getFields(){this.customFieldsService.listAll().pipe(wt(),je(this.unsubscribeNotifier)).subscribe(t=>{this.customFields=t.results,this.updateUnusedFields()})}updateUnusedFields(){this.unusedFields=this.customFields.filter(t=>!this.existingFields?.find(n=>n.field===t.id))}onOpenClose(t){t?setTimeout(()=>{this.listFilterTextInput.nativeElement.focus()},100):this.filterText=void 0,this.updateUnusedFields()}addField(t){this.added.emit(t),this.updateUnusedFields()}createField(t=null){const n=this.modalService.open(N3);t&&(n.componentInstance.object={name:t}),n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Campo \"" + o.name + "\" salvato."),this.customFieldsService.clearCache(),this.getFields(),this.created.emit(o),setTimeout(()=>this.addField(o),100)}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore durante il salvataggio del campo.",o)})}getDataTypeLabel(t){return Ov.find(n=>n.id===t)?.name}listFilterEnter(){1===this.filteredFields.length?this.addField(this.filteredFields[0]):this.filterText&&0===this.filteredFields.length&&this.canCreateFields&&this.createField(this.filterText)}focusNextButtonItem(t=!0){this.keyboardIndex=Math.min(this.buttons.length-1,this.keyboardIndex+1),t&&this.setButtonItemFocus()}focusPreviousButtonItem(t=!0){this.keyboardIndex=Math.max(0,this.keyboardIndex-1),t&&this.setButtonItemFocus()}setButtonItemFocus(){this.buttons.get(this.keyboardIndex)?.nativeElement.focus()}listKeyDown(t){switch(t.key){case"ArrowDown":t.target instanceof HTMLInputElement?(!this.filterText||t.target.selectionStart===this.filterText.length)&&(this.keyboardIndex=-1,this.focusNextButtonItem(),t.preventDefault()):t.target instanceof HTMLButtonElement&&(this.focusNextButtonItem(),t.preventDefault());break;case"ArrowUp":t.target instanceof HTMLButtonElement&&(0===this.keyboardIndex?this.listFilterTextInput.nativeElement.focus():this.focusPreviousButtonItem(),t.preventDefault());break;case"Tab":t.target instanceof HTMLInputElement?this.keyboardIndex=0:t.target instanceof HTMLButtonElement&&(t.shiftKey?this.keyboardIndex>0&&this.focusPreviousButtonItem(!1):this.focusNextButtonItem(!1))}}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ea),Y(Ki),Y(ki),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-custom-fields-dropdown"]],viewQuery:function(n,o){if(1&n&&(cn(fGe,5),cn(mGe,5)),2&n){let s;Ot(s=yt())&&(o.listFilterTextInput=s.first),Ot(s=yt())&&(o.buttons=s)}},inputs:{documentId:"documentId",disabled:"disabled",existingFields:"existingFields"},outputs:{added:"added",created:"created"},decls:17,vars:3,consts:()=>{let t,n,o;return t="Cerca campi",n="Campi personalizzati",o="Crea nuovo campo",[["fieldDropdown","ngbDropdown"],["listFilterTextInput",""],["button",""],n,o,["ngbDropdown","",3,"openChange"],["id","customFieldsDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary",3,"disabled"],["name","ui-radios"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","customFieldsDropdown",1,"shadow","custom-fields-dropdown"],[1,"list-group","list-group-flush",3,"keydown"],[1,"list-group-item"],[1,"input-group","input-group-sm"],["type","text","placeholder",t,1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"list-group-item","list-group-item-action","bg-light"],[1,"list-group-item","list-group-item-action","bg-light",3,"disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"click"],[1,"d-flex"],[1,"ms-auto","text-muted"],[1,"list-group-item","list-group-item-action","bg-light",3,"click","disabled"],["width",".9em","height",".9em","name","asterisk"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",5,0),F("openChange",function(a){return H(s),$(o.onOpenClose(a))}),c(2,"button",6),k(3,"i-bs",7),c(4,"div",8),j(5,"\xa0"),ke(6),R(7,3),ze(),h()(),c(8,"div",9)(9,"div",10),F("keydown",function(a){return H(s),$(o.listKeyDown(a))}),c(10,"div",11)(11,"div",12)(12,"input",13,1),Tt("ngModelChange",function(a){return H(s),mt(o.filterText,a)||(o.filterText=a),$(a)}),F("keyup.enter",function(){return H(s),$(o.listFilterEnter())}),h()()(),ut(14,CGe,6,2,"button",14,vGe),q(16,wGe,7,1,"button",15),h()()()}2&n&&(d(2),w("disabled",o.disabled),d(10),bt("ngModel",o.filterText),d(2),_t(o.filteredFields),d(2),J(null!=o.filterText&&o.filterText.length&&0!==o.filteredFields.length?-1:16))},dependencies:[Go,ys,is,si,Yt,Ln,Wt],styles:[".custom-fields-dropdown[_ngcontent-%COMP%]{min-width:300px}@media (max-width: 575.98px){.custom-fields-dropdown.show[_ngcontent-%COMP%]{margin-left:-245px!important}}"]})}return e})();function bGe(e,i){if(1&e&&(c(0,"label",12),j(1),h()),2&e){const t=_();Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title)}}function TGe(e,i){if(1&e){const t=pe();c(0,"button",13),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",14),j(2,"\xa0"),ke(3),R(4,0),ze(),h()}}function SGe(e,i){if(1&e){const t=pe();c(0,"div",15)(1,"button",16),F("click",function(){const o=H(t).item;return $(_().unselect(o))}),k(2,"i-bs",14),h(),c(3,"a",17),F("mousedown",function(o){return H(t),$(o.stopImmediatePropagation())}),k(4,"i-bs",18),j(5,"\xa0"),c(6,"span"),j(7),h()()()}if(2&e){const t=i.item;d(3),ln("routerLink","/documents/",t.id,""),d(4),Pe(t.title)}}function EGe(e,i){1&e&&(k(0,"div",19),c(1,"div",20),R(2,1),h())}function AGe(e,i){if(1&e&&(c(0,"div"),j(1),c(2,"small",21),j(3),ot(4,"customDate"),h()()),2&e){const t=i.item;d(),nt("",t.title," "),d(2),nt("(",io(4,2,t.created,"shortDate"),")")}}function OGe(e,i){if(1&e&&(c(0,"small",11),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}let yGe=(()=>{class e extends _s{constructor(t){super(),this.documentsService=t,this.documentsInput$=new et,this.loading=!1,this.selectedDocuments=[],this.unsubscribeNotifier=new et,this.notFoundText="Nessun documento trovato"}ngOnInit(){this.loadDocs()}writeValue(t){t&&0!==t.length?(this.loading=!0,this.documentsService.getFew(t,{fields:"id,title"}).pipe(je(this.unsubscribeNotifier)).subscribe(n=>{this.loading=!1,this.selectedDocuments=t.map(o=>n.results.find(s=>s.id===o)),super.writeValue(t)})):(this.selectedDocuments=[],super.writeValue([]))}loadDocs(){this.foundDocuments$=Yc(Rt([]),this.documentsInput$.pipe(Ma(),je(this.unsubscribeNotifier),dn(()=>this.loading=!0),zn(t=>this.documentsService.listFiltered(1,null,"created",!0,[{rule_type:0,value:t}],{truncate_content:!0}).pipe(At(n=>n.results.filter(o=>o.id!==this.parentDocumentID&&!this.selectedDocuments.find(s=>s.id===o.id))),Ya(()=>Rt([])),dn(()=>this.loading=!1)))))}unselect(t){this.selectedDocuments=this.selectedDocuments.filter(n=>n.id!==t.id),this.onChange(this.selectedDocuments.map(n=>n.id))}compareDocuments(t,n){return t.id===n.id}trackByFn(t){return t.id}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-document-link"]],inputs:{notFoundText:"notFoundText",parentDocumentID:"parentDocumentID"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:13,vars:21,consts:()=>{let t,n,o,s;return t="Rimuovi",n="Rimuovi link",o="Apri link",s="Caricamento in corso...",[t,s,[1,"mb-3","paperless-input-select"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["name","inputId","placeholder","Search for documents","bindValue","id",3,"ngModelChange","change","ngModel","disabled","items","notFoundText","multiple","compareWith","trackByFn","minTermLength","loading","typeahead"],["ng-label-tmp",""],["ng-loadingspinner-tmp",""],["ng-option-tmp",""],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[1,"d-flex","align-items-center"],["title",n,1,"btn","p-0","lh-1",3,"click"],["title",o,1,"badge","bg-light","text-primary",3,"mousedown","routerLink"],["width","0.9em","height","0.9em","name","file-text"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"text-muted"]]},template:function(n,o){1&n&&(c(0,"div",2)(1,"div",3)(2,"div",4),q(3,bGe,2,4,"label",5)(4,TGe,5,0,"button",6),h(),c(5,"div")(6,"div")(7,"ng-select",7),ot(8,"async"),Tt("ngModelChange",function(r){return mt(o.selectedDocuments,r)||(o.selectedDocuments=r),r}),F("change",function(){return o.onChange(o.selectedDocuments)}),q(9,SGe,8,3,"ng-template",8)(10,EGe,3,0,"ng-template",9)(11,AGe,5,5,"ng-template",10),h()(),q(12,OGe,2,1,"small",11),h()()()),2&n&&(Ye("disabled",o.disabled),d(2),Ye("col-md-3",o.horizontal),d(),J(o.title?3:-1),d(),J(o.removable?4:-1),d(),Ye("col-md-9",o.horizontal),d(2),bt("ngModel",o.selectedDocuments),w("disabled",o.disabled)("items",Et(8,19,o.foundDocuments$))("notFoundText",o.notFoundText)("multiple",!0)("compareWith",o.compareDocuments)("trackByFn",o.trackByFn)("minTermLength",2)("loading",o.loading)("typeahead",o.documentsInput$),d(5),J(o.hint?12:-1))},dependencies:[fr,Yt,Ln,P5,Jg,Hm,HL,Wt,k1,Ns],styles:[".ng-select-container .ng-value-container{overflow:hidden}  .ng-select-container .ng-value-container .ng-value{background-color:transparent!important;border-color:transparent}i-bs[_ngcontent-%COMP%]{cursor:pointer}.badge[_ngcontent-%COMP%]{font-size:.75rem}"]})}return e})();function DGe(e,i){if(1&e&&(c(0,"label",15),j(1),h()),2&e){const t=_();Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title)}}function NGe(e,i){if(1&e){const t=pe();c(0,"button",16),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",17),j(2,"\xa0"),ke(3),R(4,2),ze(),h()}}function PGe(e,i){if(1&e&&(c(0,"small",14),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}let IGe=(()=>{class e extends _s{get monetaryValue(){return this._monetaryValue}set monetaryValue(t){(t||"0"===t?.toString())&&(this._monetaryValue=t.toString())}constructor(t){super(),this.currency="",this._monetaryValue="",this.currency=this.defaultCurrencyCode=RA(t)}writeValue(t){this.currency=this.parseCurrencyCode(t),this.monetaryValue=this.parseMonetaryValue(t,!0),this.value=this.currency+this.monetaryValue}monetaryValueChange(t=!1){this.monetaryValue=this.parseMonetaryValue(this.monetaryValue,t),"0"===this.monetaryValue&&(this.monetaryValue="0.00"),this.onChange(this.currency+this.monetaryValue)}currencyChange(){this.currency.length&&(this.currency=this.parseCurrencyCode(this.currency),this.onChange(this.currency+this.monetaryValue?.toString()))}parseCurrencyCode(t){return t?.toString().toUpperCase().match(/^([A-Z]{1,3})/)?.[0]??this.defaultCurrencyCode}parseMonetaryValue(t,n=!1){if(!t)return"";const o=parseFloat(t.toString().replace(/[^0-9.,-]+/g,""));return n?o.toFixed(2):o.toString()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ss))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-monetary"]],features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:17,vars:24,consts:()=>{let t;return t="Rimuovi",[["currencyField",""],["monetaryValueField",""],t,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"position-relative"],[1,"input-group"],[1,"input-group-text","fw-bold","bg-light"],["maxlength","3",1,"form-control","text-muted","mw-60",3,"ngModelChange","input","ngModel","disabled"],["type","number","step",".01",1,"form-control","text-muted",3,"ngModelChange","input","change","ngModel","disabled"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-text","text-muted"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",3)(1,"div",4)(2,"div",5),q(3,DGe,2,4,"label",6)(4,NGe,5,0,"button",7),h(),c(5,"div",8)(6,"div",9)(7,"span",10),j(8),ot(9,"currency"),h(),c(10,"input",11,0),Tt("ngModelChange",function(a){return H(s),mt(o.currency,a)||(o.currency=a),$(a)}),F("input",function(){return H(s),$(o.currencyChange())}),h(),c(12,"input",12,1),Tt("ngModelChange",function(a){return H(s),mt(o.monetaryValue,a)||(o.monetaryValue=a),$(a)}),F("input",function(){return H(s),$(o.monetaryValueChange())})("change",function(){return H(s),$(o.monetaryValueChange(!0))}),h()(),c(14,"div",13),j(15),h(),q(16,PGe,2,1,"small",14),h()()()}2&n&&(Ye("pb-3",o.error),d(2),Ye("col-md-3",o.horizontal),d(),J(o.title?3:-1),d(),J(o.removable?4:-1),d(),Ye("col-md-9",o.horizontal),d(),Ye("is-invalid",o.error),d(2),Pe(io(9,21,o.monetaryValue,o.currency)),d(2),Ye("is-invalid",o.error),bt("ngModel",o.currency),w("disabled",o.disabled),d(2),Ye("is-invalid",o.error),bt("ngModel",o.monetaryValue),w("disabled",o.disabled),d(3),nt(" ",o.error," "),d(),J(o.hint?16:-1))},dependencies:[si,ol,Yt,ah,Ln,Wt,B8],styles:[".input-group-text[_ngcontent-%COMP%]{font-size:inherit}.text-muted[_ngcontent-%COMP%]:focus-within{color:var(--bs-body-color)!important}.mw-60[_ngcontent-%COMP%]{max-width:60px}"]})}return e})();var CR=function(e){return e.Create="create",e.Update="update",e.Delete="delete",e}(CR||{});const LGe=(e,i)=>i.id,xGe=(e,i)=>i.key;function RGe(e,i){1&e&&(c(0,"div",2),k(1,"div",4),h())}function FGe(e,i){1&e&&(c(0,"li",5)(1,"div",6)(2,"span",7),R(3,1),h()()())}function kGe(e,i){if(1&e&&(c(0,"div",13),j(1),ot(2,"customDate"),ot(3,"date"),h()),2&e){const t=_().$implicit;d(),l1(" ",io(2,2,t.timestamp,"longDate")," ",io(3,5,t.timestamp,"shortTime")," ")}}function zGe(e,i){if(1&e&&(c(0,"span",10),j(1),h()),2&e){const t=_().$implicit;d(),Pe(t.actor.username)}}function VGe(e,i){1&e&&(c(0,"span",10),j(1,"System"),h())}function HGe(e,i){if(1&e&&(c(0,"li")(1,"span",7),j(2),ot(3,"titlecase"),h(),j(4,"\xa0 "),c(5,"span"),j(6),ot(7,"titlecase"),h(),j(8,":\xa0 "),c(9,"code",14),j(10),h()()),2&e){const t=_().$implicit;d(2),Pe(Et(3,3,t.value.operation)),d(4),Pe(Et(7,5,t.key)),d(4),Pe(t.value.objects.join(", "))}}function $Ge(e,i){if(1&e&&(c(0,"li")(1,"span"),j(2),h(),j(3,":\xa0 "),c(4,"code",14),j(5),h()()),2&e){const t=_().$implicit;d(2),Pe(t.value.field),d(3),Pe(t.value.value)}}function BGe(e,i){if(1&e&&(c(0,"code",14),j(1),h()),2&e){const t=_(2).$implicit;d(),nt("",null==t.value[1]?null:t.value[1].substring(0,100),"...")}}function GGe(e,i){if(1&e&&(c(0,"code",14),j(1),ot(2,"async"),h()),2&e){const t=_(2).$implicit,n=_(4);d(),Pe(Et(2,1,n.getPrettyName(t.key,t.value[1])))}}function UGe(e,i){if(1&e&&(c(0,"li")(1,"span"),j(2),ot(3,"titlecase"),h(),j(4,":\xa0 "),q(5,BGe,2,1,"code",14)(6,GGe,3,3,"code",14),h()),2&e){const t=_().$implicit;d(2),Pe(Et(3,2,t.key)),d(3),J("content"===t.key?5:6)}}function ZGe(e,i){if(1&e&&q(0,HGe,11,7,"li")(1,$Ge,6,2,"li")(2,UGe,7,4,"li"),2&e){const t=i.$implicit;J("m2m"===t.value.type?0:"custom_field"===t.value.type?1:2)}}function jGe(e,i){if(1&e&&(c(0,"li",5)(1,"div",8),q(2,kGe,4,8,"ng-template",null,0,on),c(4,"span",9),j(5),ot(6,"customDate"),h(),q(7,zGe,2,1,"span",10)(8,VGe,2,0,"span",10),c(9,"span",11),j(10),ot(11,"titlecase"),h()(),c(12,"ul",12),ut(13,ZGe,3,1,null,null,xGe),ot(15,"keyvalue"),h()()),2&e){const t=i.$implicit,n=vt(3),o=_(3);d(4),w("ngbTooltip",n),d(),Pe(io(6,6,t.timestamp,"relative")),d(2),J(t.actor?7:8),d(2),Ye("bg-primary",t.action===o.AuditLogAction.Create),d(),Pe(Et(11,9,t.action)),d(3),_t(Et(15,11,t.changes))}}function WGe(e,i){1&e&&ut(0,jGe,16,13,"li",5,LGe),2&e&&_t(_(2).entries)}function XGe(e,i){if(1&e&&(c(0,"ul",3),q(1,FGe,4,0,"li",5)(2,WGe,2,0),h()),2&e){const t=_();d(),J(0===t.entries.length?1:2)}}let KGe=(()=>{class e{set documentId(t){this._documentId=t,this.ngOnInit()}constructor(t,n,o,s,r){this.documentService=t,this.correspondentService=n,this.storagePathService=o,this.documentTypeService=s,this.userService=r,this.AuditLogAction=CR,this.loading=!0,this.entries=[]}ngOnInit(){this._documentId&&(this.loading=!0,this.documentService.getHistory(this._documentId).subscribe(t=>{this.entries=t,this.loading=!1}))}getPrettyName(t,n){switch(t){case pn.Correspondent:return this.correspondentService.getCached(parseInt(n,10)).pipe(wt(),At(o=>o?.name??n));case pn.DocumentType:return this.documentTypeService.getCached(parseInt(n,10)).pipe(wt(),At(o=>o?.name??n));case pn.StoragePath:return this.storagePathService.getCached(parseInt(n,10)).pipe(wt(),At(o=>o?.path??n));case"owner":return this.userService.getCached(parseInt(n,10)).pipe(wt(),At(o=>o?.username??n));default:return Rt(n)}}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo),Y(Aa),Y(d0),Y(Oa),Y(vo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-history"]],inputs:{documentId:"documentId"},decls:2,vars:1,consts:()=>{let t;return t="Nessun elemento trovato.",[["timestamp",""],t,[1,"d-flex"],[1,"list-group"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal"],[1,"list-group-item"],[1,"d-flex","justify-content-center"],[1,"fst-italic"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted",3,"ngbTooltip"],[1,"ms-3","fst-italic"],[1,"badge","bg-secondary","ms-auto"],[1,"mt-2"],[1,"text-light"],[1,"text-primary"]]},template:function(n,o){1&n&&q(0,RGe,2,0,"div",2)(1,XGe,3,1,"ul",3),2&n&&J(o.loading?0:1)},dependencies:[yh,k1,Wc,Rp,H8,Ns]})}return e})();const qGe={bytes:0,KB:0,MB:1,GB:1,TB:2,PB:2};let wR=(()=>{class e{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(t=0,n=qGe){if(isNaN(parseFloat(String(t)))||!isFinite(t))return"?";let o=0;for(;t>=1024;)t/=1024,o++;const s=this.units[o];return"number"==typeof n?`${t.toFixed(+n)} ${s}`:`${t.toFixed(n[s])} ${s}`}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275pipe=Zi({name:"fileSize",type:e,pure:!0})}return e})(),MR=(()=>{class e{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(null==t?"":t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(e7,16))};static#t=this.\u0275pipe=Zi({name:"safeUrl",type:e,pure:!0})}return e})();const YGe=["inputTitle"],JGe=["nav"],QGe=["pdfPreview"],eUe=(e,i)=>i.field,_0=(e,i)=>({action:e,type:i}),tUe=(e,i)=>({url:e,password:i});function nUe(e,i){if(1&e){const t=pe();c(0,"div",80)(1,"div",84),R(2,18),h(),c(3,"input",85),Tt("ngModelChange",function(o){H(t);const s=_(2);return mt(s.previewCurrentPage,o)||(s.previewCurrentPage=o),$(o)}),h(),c(4,"div",84),R(5,19),h()()}if(2&e){const t=_(2);d(3),w("max",t.previewNumPages),bt("ngModel",t.previewCurrentPage),d(2),An(t.previewNumPages),Dn(5)}}function iUe(e,i){if(1&e&&(c(0,"option",83),j(1),h()),2&e){const t=i.$implicit,n=_(2);w("value",t)("selected",n.previewZoomSetting===t),d(),nt(" ",n.getZoomSettingTitle(t)," ")}}function oUe(e,i){if(1&e){const t=pe();q(0,nUe,6,3,"div",80),c(1,"div",40)(2,"button",81),F("click",function(){return H(t),$(_().decreaseZoom())}),R(3,16),h(),c(4,"select",82),F("change",function(o){return H(t),$(_().onZoomSelect(o))}),ut(5,iUe,2,3,"option",83,Ft),h(),c(7,"button",81),F("click",function(){return H(t),$(_().increaseZoom())}),R(8,17),h()()}if(2&e){const t=_();J(t.previewNumPages?0:-1),d(5),_t(t.zoomSettings)}}function sUe(e,i){if(1&e){const t=pe();c(0,"button",86),F("click",function(){return H(t),$(_().delete())}),k(1,"i-bs",87),c(2,"span",45),R(3,20),h()()}2&e&&w("disabled",!_().userIsOwner)}function rUe(e,i){if(1&e&&(c(0,"div",46),k(1,"button",88),c(2,"div",89)(3,"a",90),R(4,21),h()()()),2&e){const t=_();d(3),w("href",t.downloadOriginalUrl,$o)}}function aUe(e,i){if(1&e){const t=pe();c(0,"pngx-custom-fields-dropdown",91),F("created",function(){return H(t),$(_().refreshCustomFields())})("added",function(o){return H(t),$(_().addField(o))}),h()}if(2&e){const t=_();w("documentId",t.documentId)("disabled",!t.userIsOwner)("existingFields",null==t.document?null:t.document.custom_fields)}}function lUe(e,i){if(1&e&&k(0,"pngx-share-links-dropdown",92),2&e){const t=_();w("documentId",t.documentId)("hasArchiveVersion",!(null==t.document||!t.document.archived_file_name))("disabled",!t.userIsOwner)}}function cUe(e,i){1&e&&ri(0)}function dUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-select",102),F("filterDocuments",function(o){H(t);const s=_(2);return $(s.filterDocuments(o,s.DataType.Correspondent))})("createNew",function(o){return H(t),$(_(2).createCorrespondent(o))}),h()}if(2&e){const t=_(2);w("items",t.correspondents)("allowNull",!0)("showFilter",!0)("horizontal",!0)("suggestions",null==t.suggestions?null:t.suggestions.correspondents)}}function hUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-select",103),F("filterDocuments",function(o){H(t);const s=_(2);return $(s.filterDocuments(o,s.DataType.DocumentType))})("createNew",function(o){return H(t),$(_(2).createDocumentType(o))}),h()}if(2&e){const t=_(2);w("items",t.documentTypes)("allowNull",!0)("showFilter",!0)("horizontal",!0)("suggestions",null==t.suggestions?null:t.suggestions.document_types)}}function uUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-select",104),F("filterDocuments",function(o){H(t);const s=_(2);return $(s.filterDocuments(o,s.DataType.StoragePath))})("createNew",function(o){return H(t),$(_(2).createStoragePath(o))}),h()}if(2&e){const t=_(2);w("items",t.storagePaths)("allowNull",!0)("showFilter",!0)("horizontal",!0)("suggestions",null==t.suggestions?null:t.suggestions.storage_paths)}}function _Ue(e,i){if(1&e){const t=pe();c(0,"pngx-input-tags",105),F("filterDocuments",function(o){H(t);const s=_(2);return $(s.filterDocuments(o,s.DataType.Tag))}),h()}if(2&e){const t=_(2);w("suggestions",null==t.suggestions?null:t.suggestions.tags)("showFilter",!0)("horizontal",!0)}}function pUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-text",112),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("removable",r.userIsOwner)("horizontal",!0)("error",r.getCustomFieldError(s))}}function gUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-date",112),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("removable",r.userIsOwner)("horizontal",!0)("error",r.getCustomFieldError(s))}}function fUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-number",113),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("removable",r.userIsOwner)("horizontal",!0)("showAdd",!1)("error",r.getCustomFieldError(s))}}function mUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-number",114),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("removable",r.userIsOwner)("horizontal",!0)("showAdd",!1)("step",.1)("error",r.getCustomFieldError(s))}}function vUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-monetary",112),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("removable",r.userIsOwner)("horizontal",!0)("error",r.getCustomFieldError(s))}}function CUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-check",115),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_().$implicit,o=_(2);w("title",null==(t=o.getCustomFieldFromInstance(n))?null:t.name)("removable",o.userIsOwner)("horizontal",!0)}}function wUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-url",112),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("removable",r.userIsOwner)("horizontal",!0)("error",r.getCustomFieldError(s))}}function MUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-document-link",116),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t;const n=_(),o=n.$implicit,s=n.$index,r=_(2);w("title",null==(t=r.getCustomFieldFromInstance(o))?null:t.name)("parentDocumentID",r.documentId)("removable",r.userIsOwner)("horizontal",!0)("error",r.getCustomFieldError(s))}}function bUe(e,i){if(1&e){const t=pe();c(0,"pngx-input-select",117),F("removed",function(){H(t);const o=_().$implicit;return $(_(2).removeField(o))}),h()}if(2&e){let t,n;const o=_(),s=o.$implicit,r=o.$index,a=_(2);w("title",null==(t=a.getCustomFieldFromInstance(s))?null:t.name)("itemsArray",null==(n=a.getCustomFieldFromInstance(s))?null:n.extra_data.select_options)("allowNull",!0)("horizontal",!0)("removable",a.userIsOwner)("error",a.getCustomFieldError(r))}}function TUe(e,i){if(1&e&&(c(0,"div",100),q(1,pUe,1,4,"pngx-input-text",106)(2,gUe,1,4,"pngx-input-date",106)(3,fUe,1,5,"pngx-input-number",107)(4,mUe,1,6,"pngx-input-number",108)(5,vUe,1,4,"pngx-input-monetary",106)(6,CUe,1,3,"pngx-input-check",109)(7,wUe,1,4,"pngx-input-url",106)(8,MUe,1,5,"pngx-input-document-link",110)(9,bUe,1,6,"pngx-input-select",111),h()),2&e){let t;const n=i.$implicit,o=i.$index,s=_(2);w("formGroup",s.customFieldFormFields.controls[o]),d(),J((t=null==(t=s.getCustomFieldFromInstance(n))?null:t.data_type)===s.CustomFieldDataType.String?1:t===s.CustomFieldDataType.Date?2:t===s.CustomFieldDataType.Integer?3:t===s.CustomFieldDataType.Float?4:t===s.CustomFieldDataType.Monetary?5:t===s.CustomFieldDataType.Boolean?6:t===s.CustomFieldDataType.Url?7:t===s.CustomFieldDataType.DocumentLink?8:t===s.CustomFieldDataType.Select?9:-1)}}function SUe(e,i){1&e&&ri(0)}function EUe(e,i){if(1&e){const t=pe();c(0,"div")(1,"pngx-input-text",93,4),F("keyup",function(o){return H(t),$(_().titleKeyUp(o))}),h(),k(3,"pngx-input-number",94),c(4,"pngx-input-date",95),F("filterDocuments",function(o){return H(t),$(_().filterDocuments(o))}),h(),q(5,dUe,1,5,"pngx-input-select",96)(6,hUe,1,5,"pngx-input-select",97)(7,uUe,1,5,"pngx-input-select",98)(8,_Ue,1,3,"pngx-input-tags",99),ut(9,TUe,10,2,"div",100,eUe),h(),c(11,"div",101),q(12,SUe,1,0,"ng-container",72),h()}if(2&e){const t=_(),n=vt(82);d(),w("horizontal",!0)("error",null==t.error?null:t.error.title),d(2),w("error",null==t.error?null:t.error.archive_serial_number)("horizontal",!0),d(),w("suggestions",null==t.suggestions?null:t.suggestions.dates)("showFilter",!0)("horizontal",!0)("error",null==t.error?null:t.error.created_date),d(),w("pngxIfPermissions",rt(13,_0,t.PermissionAction.View,t.PermissionType.Correspondent)),d(),w("pngxIfPermissions",rt(16,_0,t.PermissionAction.View,t.PermissionType.DocumentType)),d(),w("pngxIfPermissions",rt(19,_0,t.PermissionAction.View,t.PermissionType.StoragePath)),d(),w("pngxIfPermissions",rt(22,_0,t.PermissionAction.View,t.PermissionType.Tag)),d(),_t(null==t.document?null:t.document.custom_fields),d(3),w("ngTemplateOutlet",n)}}function AUe(e,i){if(1&e&&(c(0,"div"),k(1,"textarea",118),h()),2&e){const t=_();d(),Ye("rtl",t.isRTL)}}function OUe(e,i){if(1&e&&(c(0,"tr")(1,"td"),R(2,29),h(),c(3,"td"),j(4),h()()),2&e){const t=_(3);d(4),Pe(null==t.metadata?null:t.metadata.archive_checksum)}}function yUe(e,i){if(1&e&&(c(0,"tr")(1,"td"),R(2,30),h(),c(3,"td"),j(4),ot(5,"fileSize"),h()()),2&e){const t=_(3);d(4),Pe(Et(5,1,null==t.metadata?null:t.metadata.archive_size))}}function DUe(e,i){if(1&e&&(c(0,"table",119)(1,"tbody")(2,"tr")(3,"td"),R(4,22),h(),c(5,"td"),j(6),ot(7,"customDate"),h()(),c(8,"tr")(9,"td"),R(10,23),h(),c(11,"td"),j(12),ot(13,"customDate"),h()(),c(14,"tr")(15,"td"),R(16,24),h(),c(17,"td"),j(18),h()(),c(19,"tr")(20,"td"),R(21,25),h(),c(22,"td"),j(23),h()(),c(24,"tr")(25,"td"),R(26,26),h(),c(27,"td"),j(28),h()(),c(29,"tr")(30,"td"),R(31,27),h(),c(32,"td"),j(33),ot(34,"fileSize"),h()(),c(35,"tr")(36,"td"),R(37,28),h(),c(38,"td"),j(39),h()(),q(40,OUe,5,1,"tr")(41,yUe,6,3,"tr"),h()()),2&e){const t=_(2);d(6),Pe(Et(7,9,t.document.modified)),d(6),Pe(Et(13,11,t.document.added)),d(6),Pe(null==t.metadata?null:t.metadata.media_filename),d(5),Pe(null==t.metadata?null:t.metadata.original_filename),d(5),Pe(null==t.metadata?null:t.metadata.original_checksum),d(5),Pe(Et(34,13,null==t.metadata?null:t.metadata.original_size)),d(6),Pe(null==t.metadata?null:t.metadata.original_mime_type),d(),J(null!=t.metadata&&t.metadata.has_archive_version?40:-1),d(),J(null!=t.metadata&&t.metadata.has_archive_version?41:-1)}}function NUe(e,i){1&e&&k(0,"pngx-metadata-collapse",120),2&e&&w("metadata",_(2).metadata.original_metadata)}function PUe(e,i){1&e&&k(0,"pngx-metadata-collapse",121),2&e&&w("metadata",_(2).metadata.archive_metadata)}function IUe(e,i){if(1&e&&q(0,DUe,42,15,"table",119)(1,NUe,1,1,"pngx-metadata-collapse",120)(2,PUe,1,1,"pngx-metadata-collapse",121),2&e){const t=_();J(t.document?0:-1),d(),J((null==t.metadata||null==t.metadata.original_metadata?null:t.metadata.original_metadata.length)>0?1:-1),d(),J((null==t.metadata||null==t.metadata.archive_metadata?null:t.metadata.archive_metadata.length)>0?2:-1)}}function LUe(e,i){1&e&&ri(0)}function xUe(e,i){if(1&e&&(c(0,"div",122),q(1,LUe,1,0,"ng-container",72),h()),2&e){_(2);const t=vt(84);d(),w("ngTemplateOutlet",t)}}function RUe(e,i){1&e&&q(0,xUe,2,1,"ng-template",76)}function FUe(e,i){if(1&e&&(hs(0,31,1),k(1,"span",124),us()),2&e){const t=_(2);d(),An(t.document.notes.length),Dn(0)}}function kUe(e,i){if(1&e){const t=pe();c(0,"pngx-document-notes",125),F("updated",function(o){return H(t),$(_(2).notesUpdated(o))}),h()}if(2&e){const t=_(2);w("documentId",t.documentId)("notes",null==t.document?null:t.document.notes)("addDisabled",!t.userCanEdit)}}function zUe(e,i){if(1&e&&(c(0,"li",74)(1,"a",123),hs(2,31),q(3,FUe,2,1,"span",124),us(),h(),q(4,kUe,1,3,"ng-template",76),h()),2&e){const t=_();w("ngbNavItem",t.DocumentDetailNavIDs.Notes),d(3),J(null!=t.document&&t.document.notes.length?3:-1)}}function VUe(e,i){if(1&e&&(c(0,"div",126),k(1,"pngx-document-history",127),h()),2&e){const t=_(2);d(),w("documentId",t.documentId)}}function HUe(e,i){1&e&&(c(0,"li",74)(1,"a",75),R(2,32),h(),q(3,VUe,2,1,"ng-template",76),h()),2&e&&w("ngbNavItem",_().DocumentDetailNavIDs.History)}function $Ue(e,i){if(1&e&&(c(0,"div",126),k(1,"pngx-permissions-form",128),h()),2&e){const t=_(2);d(),w("users",t.users)}}function BUe(e,i){1&e&&(c(0,"li",74)(1,"a",75),R(2,33),h(),q(3,$Ue,2,1,"ng-template",76),h()),2&e&&w("ngbNavItem",_().DocumentDetailNavIDs.Permissions)}function GUe(e,i){1&e&&ri(0)}function UUe(e,i){if(1&e){const t=pe();c(0,"button",135),ot(1,"async"),F("click",function(){return H(t),$(_(3).saveEditNext())}),R(2,36),h()}if(2&e){const t=_(3);w("disabled",!t.userCanEdit||t.networkActive||!0!==Et(1,1,t.isDirty$))}}function ZUe(e,i){if(1&e){const t=pe();c(0,"button",136),ot(1,"async"),F("click",function(){return H(t),$(_(3).save(!0))}),R(2,37),h()}if(2&e){const t=_(3);w("disabled",!t.userCanEdit||t.networkActive||!0!==Et(1,1,t.isDirty$))}}function jUe(e,i){if(1&e&&(ke(0),c(1,"button",132),ot(2,"async"),R(3,35),h(),q(4,UUe,3,3,"button",133)(5,ZUe,3,3,"button",134),ze()),2&e){const t=_(2);d(),w("disabled",!t.userCanEdit||t.networkActive||!0!==Et(2,3,t.isDirty$)),d(3),J(t.hasNext()?4:-1),d(),J(t.hasNext()?-1:5)}}function WUe(e,i){if(1&e){const t=pe();c(0,"div",129),q(1,jUe,6,5,"ng-container",130),c(2,"button",131),ot(3,"async"),F("click",function(){return H(t),$(_().discard())}),R(4,34),h()()}if(2&e){const t=_();d(),w("pngxIfPermissions",rt(4,_0,t.PermissionAction.Change,t.PermissionType.Document)),d(),w("disabled",!t.userCanEdit||t.networkActive||!0!==Et(3,2,t.isDirty$))}}function XUe(e,i){1&e&&(c(0,"div",137)(1,"div"),k(2,"div",138),ke(3),R(4,38),ze(),h()())}function KUe(e,i){if(1&e){const t=pe();c(0,"div",143)(1,"pdf-viewer",144),Tt("pageChange",function(o){H(t);const s=_(4);return mt(s.previewCurrentPage,o)||(s.previewCurrentPage=o),$(o)}),F("error",function(o){return H(t),$(_(4).onError(o))})("after-load-complete",function(o){return H(t),$(_(4).pdfPreviewLoaded(o))}),h()()}if(2&e){const t=_(4);d(),w("src",rt(7,tUe,t.previewUrl,t.password))("original-size",!1)("show-borders",!0)("show-all",!0),bt("page",t.previewCurrentPage),w("zoom-scale",t.previewZoomScale)("zoom",t.previewZoomSetting)}}function qUe(e,i){1&e&&(k(0,"object",141),ot(1,"safeUrl")),2&e&&w("data",Et(1,1,_(4).previewUrl),Rd)}function YUe(e,i){1&e&&q(0,KUe,2,10,"div",143)(1,qUe,2,3,"object",141),2&e&&J(_(3).useNativePdfViewer?1:0)}function JUe(e,i){if(1&e&&(c(0,"div",139),j(1),h()),2&e){const t=_(3);d(),Pe(t.previewText)}}function QUe(e,i){if(1&e&&(c(0,"div",140),k(1,"img",145),ot(2,"safeUrl"),h()),2&e){const t=_(3);d(),ui("alt",t.title),w("src",Et(2,2,t.previewUrl),$o)}}function eZe(e,i){1&e&&(k(0,"object",141),ot(1,"safeUrl")),2&e&&w("data",Et(1,1,_(3).previewUrl),Rd)}function tZe(e,i){if(1&e){const t=pe();c(0,"div",142)(1,"form")(2,"input",146),F("keyup",function(o){return H(t),$(_(3).onPasswordKeyUp(o))}),h()()()}}function nZe(e,i){if(1&e&&q(0,YUe,2,1)(1,JUe,2,1,"div",139)(2,QUe,3,4,"div",140)(3,eZe,2,3,"object",141)(4,tZe,3,0,"div",142),2&e){let t;const n=_(2);J((t=n.archiveContentRenderType)===n.ContentRenderType.PDF?0:t===n.ContentRenderType.Text?1:t===n.ContentRenderType.Image?2:t===n.ContentRenderType.Other?3:-1),d(4),J(n.requiresPassword?4:-1)}}function iZe(e,i){1&e&&q(0,XUe,5,0,"div",137)(1,nZe,5,2),2&e&&J(_().metadata?1:0)}var nu=function(e){return e[e.Details=1]="Details",e[e.Content=2]="Content",e[e.Metadata=3]="Metadata",e[e.Preview=4]="Preview",e[e.Notes=5]="Notes",e[e.Permissions=6]="Permissions",e[e.History=7]="History",e}(nu||{}),yl=function(e){return e.PDF="pdf",e.Image="image",e.Text="text",e.Other="other",e.Unknown="unknown",e}(yl||{}),jo=function(e){return e.PageFit="page-fit",e.PageWidth="page-width",e.Quarter=".25",e.Half=".5",e.ThreeQuarters=".75",e.One="1",e.OneAndHalf="1.5",e.Two="2",e.Three="3",e}(jo||{});let Bv,P3=(()=>{class e extends Uo{set pdfPreview(t){t&&null!==t.nativeElement.offsetParent&&4==this.nav?.activeId&&setTimeout(()=>this.nav?.select(1))}constructor(t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we){super(),this.documentsService=t,this.route=n,this.correspondentService=o,this.documentTypeService=s,this.router=r,this.modalService=a,this.openDocumentService=l,this.documentListViewService=u,this.documentTitlePipe=p,this.toastService=v,this.settings=L,this.storagePathService=z,this.permissionsService=ie,this.userService=se,this.customFieldsService=he,this.http=be,this.hotKeyService=we,this.expandOriginalMetadata=!1,this.expandArchivedMetadata=!1,this.networkActive=!1,this.titleSubject=new et,this.documentForm=new In({title:new Re(""),content:new Re(""),created_date:new Re,correspondent:new Re,document_type:new Re,storage_path:new Re,archive_serial_number:new Re,tags:new Re([]),permissions_form:new Re(null),custom_fields:new g5([])}),this.previewCurrentPage=1,this.previewZoomSetting=jo.One,this.previewZoomScale=jo.PageWidth,this.unsubscribeNotifier=new et,this.docChangeNotifier=new et,this.requiresPassword=!1,this.CustomFieldDataType=ps,this.ContentRenderType=yl,this.DataType=pn,this.DocumentDetailNavIDs=nu}titleKeyUp(t){this.titleSubject.next(t.target?.value)}get useNativePdfViewer(){return this.settings.get(Ue.USE_NATIVE_PDF_VIEWER)}get archiveContentRenderType(){return this.getRenderType(this.metadata?.has_archive_version?"application/pdf":this.metadata?.original_mime_type)}get originalContentRenderType(){return this.getRenderType(this.metadata?.original_mime_type)}getRenderType(t){return t?"application/pdf"===t?yl.PDF:["text/plain","application/csv","text/csv"].includes(t)?yl.Text:0===t?.indexOf("image/")?yl.Image:yl.Other:yl.Unknown}get isRTL(){return!(!this.metadata||!this.metadata.lang)&&["ar","he","fe"].includes(this.metadata.lang)}ngOnInit(){this.documentForm.valueChanges.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.error=null;const t=Object.assign({},this.documentForm.value);t.owner=this.documentForm.get("permissions_form").value.owner,t.set_permissions=this.documentForm.get("permissions_form").value.set_permissions,delete t.permissions_form,Object.assign(this.document,t)}),this.permissionsService.currentUserCan(Nt.View,It.Correspondent)&&this.correspondentService.listAll().pipe(wt(),je(this.unsubscribeNotifier)).subscribe(t=>this.correspondents=t.results),this.permissionsService.currentUserCan(Nt.View,It.DocumentType)&&this.documentTypeService.listAll().pipe(wt(),je(this.unsubscribeNotifier)).subscribe(t=>this.documentTypes=t.results),this.permissionsService.currentUserCan(Nt.View,It.StoragePath)&&this.storagePathService.listAll().pipe(wt(),je(this.unsubscribeNotifier)).subscribe(t=>this.storagePaths=t.results),this.permissionsService.currentUserCan(Nt.View,It.User)&&this.userService.listAll().pipe(wt(),je(this.unsubscribeNotifier)).subscribe(t=>this.users=t.results),this.getCustomFields(),this.route.paramMap.pipe($n(t=>+t.get("id")!==this.documentId&&t.get("section")?.length>0),je(this.unsubscribeNotifier),zn(t=>{const n=+t.get("id");return this.docChangeNotifier.next(n),this.documentsService.get(n)})).pipe(zn(t=>{this.documentId=t.id,this.previewUrl=this.documentsService.getPreviewUrl(this.documentId),this.http.get(this.previewUrl,{responseType:"text"}).subscribe({next:o=>{this.previewText=o.toString()},error:o=>{this.previewText="Si \xE8 verificato un errore durante il caricamento del contenuto: " + (o.message ?? o.toString()) + ""}}),this.downloadUrl=this.documentsService.getDownloadUrl(this.documentId),this.downloadOriginalUrl=this.documentsService.getDownloadUrl(this.documentId,!0),this.suggestions=null;const n=this.openDocumentService.getOpenDocument(this.documentId);if(n){if(new Date(t.modified)>new Date(n.modified)&&!this.modalService.hasOpenModals()){let o=this.modalService.open(pi);o.componentInstance.title="Rilevate modifiche al documento",o.componentInstance.messageBold="La versione di questo documento nella sessione del browser appare pi\xF9 vecchia della versione esistente.",o.componentInstance.message="Salvare il documento qui potrebbe sovrascrivere altre modifiche apportate. Per ripristinare la versione esistente, annulla le modifiche o chiudi il documento.",o.componentInstance.cancelBtnClass="visually-hidden",o.componentInstance.btnCaption="Ok",o.componentInstance.confirmClicked.subscribe(()=>o.close())}this.documentForm.dirty&&(Object.assign(n,this.documentForm.value),n.owner=this.documentForm.get("permissions_form").value.owner,n.permissions=this.documentForm.get("permissions_form").value.set_permissions,delete n.permissions_form),this.updateComponent(n)}else this.openDocumentService.openDocument(t),this.updateComponent(t);return this.titleSubject.pipe(Tr(1e3),Ma(),je(this.docChangeNotifier),je(this.unsubscribeNotifier)).subscribe({next:o=>{o===this.titleInput.value&&(this.title=o,this.documentForm.patchValue({title:o}))},complete:()=>{this.store.getValue().title!==this.documentForm.get("title").value&&this.openDocumentService.setDirty(t,!0)}}),this.store=new Bn({title:t.title,content:t.content,created_date:t.created_date,correspondent:t.correspondent,document_type:t.document_type,storage_path:t.storage_path,archive_serial_number:t.archive_serial_number,tags:[...t.tags],permissions_form:{owner:t.owner,set_permissions:t.permissions},custom_fields:[...t.custom_fields]}),this.isDirty$=dv(this.documentForm,this.store.asObservable()),this.isDirty$.pipe(je(this.unsubscribeNotifier),At(o=>({doc:t,dirty:o})))})).subscribe({next:({doc:t,dirty:n})=>{this.openDocumentService.setDirty(t,n)},error:t=>{this.router.navigate(["404"],{replaceUrl:!0})}}),this.route.paramMap.subscribe(t=>{const n=t.get("section");if(n){const o=Object.keys(nu).find(s=>s.toLowerCase()==n);o&&(this.activeNavID=nu[o])}else t.get("id")&&this.router.navigate(["documents",+t.get("id"),"details"],{replaceUrl:!0})}),this.hotKeyService.addShortcut({keys:"control.arrowright",description:"Documento successivo"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.hasNext()&&this.nextDoc()}),this.hotKeyService.addShortcut({keys:"control.arrowleft",description:"Documento precedente"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.hasPrevious()&&this.previousDoc()}),this.hotKeyService.addShortcut({keys:"escape",description:"Chiudi documento"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.close()}),this.hotKeyService.addShortcut({keys:"control.s",description:"Salva documento"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.openDocumentService.isDirty(this.document)&&this.save()})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}onNavChange(t){const[n]=Object.entries(nu).find(([,o])=>o==t.nextId);n&&this.router.navigate(["documents",this.documentId,n.toLowerCase()])}updateComponent(t){this.document=t,this.requiresPassword=!1,this.updateFormForCustomFields(),this.documentsService.getMetadata(t.id).pipe(wt(),je(this.unsubscribeNotifier),je(this.docChangeNotifier)).subscribe({next:o=>{this.metadata=o},error:o=>{this.metadata={},this.toastService.showError("Errore nel recupero dei metadati",o)}}),this.permissionsService.currentUserHasObjectPermissions(Nt.Change,t)&&this.documentsService.getSuggestions(t.id).pipe(wt(),je(this.unsubscribeNotifier),je(this.docChangeNotifier)).subscribe({next:o=>{this.suggestions=o},error:o=>{this.suggestions=null,this.toastService.showError("Errore durante il recupero dei suggerimenti.",o)}}),this.title=this.documentTitlePipe.transform(t.title);const n=Object.assign({},t);n.permissions_form={owner:t.owner,set_permissions:t.permissions},this.documentForm.patchValue(n,{emitEvent:!1}),this.userCanEdit||this.documentForm.disable()}get customFieldFormFields(){return this.documentForm.get("custom_fields")}createDocumentType(t){var n=this.modalService.open(t3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,t&&(n.componentInstance.object={name:t}),n.componentInstance.succeeded.pipe(zn(o=>this.documentTypeService.listAll().pipe(At(s=>({newDocumentType:o,documentTypes:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newDocumentType:o,documentTypes:s})=>{this.documentTypes=s.results,this.documentForm.get("document_type").setValue(o.id)})}createCorrespondent(t){var n=this.modalService.open(e3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,t&&(n.componentInstance.object={name:t}),n.componentInstance.succeeded.pipe(zn(o=>this.correspondentService.listAll().pipe(At(s=>({newCorrespondent:o,correspondents:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newCorrespondent:o,correspondents:s})=>{this.correspondents=s.results,this.documentForm.get("correspondent").setValue(o.id)})}createStoragePath(t){var n=this.modalService.open(f3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,t&&(n.componentInstance.object={name:t}),n.componentInstance.succeeded.pipe(zn(o=>this.storagePathService.listAll().pipe(At(s=>({newStoragePath:o,storagePaths:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newStoragePath:o,storagePaths:s})=>{this.storagePaths=s.results,this.documentForm.get("storage_path").setValue(o.id)})}discard(){this.documentsService.get(this.documentId).pipe(wt()).subscribe({next:t=>{Object.assign(this.document,t),t.permissions_form={owner:t.owner,set_permissions:t.permissions},this.title=t.title,this.updateFormForCustomFields(),this.documentForm.patchValue(t),this.openDocumentService.setDirty(t,!1)},error:()=>{this.router.navigate(["404"],{replaceUrl:!0})}})}save(t=!1){this.networkActive=!0,this.documentsService.update(this.document).pipe(wt()).subscribe({next:n=>{this.documentForm.patchValue(n),this.store.next(this.documentForm.value),this.openDocumentService.setDirty(this.document,!1),this.openDocumentService.save(),this.toastService.showInfo("Documento salvato con successo."),this.networkActive=!1,this.error=null,t?this.close(()=>this.openDocumentService.refreshDocument(this.documentId)):this.openDocumentService.refreshDocument(this.documentId)},error:n=>{this.networkActive=!1,this.userCanEdit?(this.error=n.error,this.toastService.showError("Errore nel salvare il documento",n)):(this.toastService.showInfo("Documento salvato con successo."),t&&this.close())}})}saveEditNext(){this.networkActive=!0,this.store.next(this.documentForm.value),this.documentsService.update(this.document).pipe(zn(t=>this.documentListViewService.getNext(this.documentId).pipe(At(n=>({nextDocId:n,updateResult:t}))))).pipe(zn(({nextDocId:t,updateResult:n})=>{if(t&&n)return this.openDocumentService.closeDocument(this.document).pipe(At(o=>({updateResult:n,nextDocId:t,closeResult:o})))})).pipe(wt()).subscribe({next:({updateResult:t,nextDocId:n,closeResult:o})=>{this.error=null,this.networkActive=!1,o&&t&&n&&(this.router.navigate(["documents",n]),this.titleInput?.focus())},error:t=>{this.networkActive=!1,this.error=t.error,this.toastService.showError("Errore nel salvare il documento",t)}})}close(t=null){this.openDocumentService.closeDocument(this.document).pipe(wt()).subscribe(n=>{n&&(t&&t(),this.router.navigate(this.documentListViewService.activeSavedViewId?["view",this.documentListViewService.activeSavedViewId]:["documents"]))})}delete(){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Conferma",t.componentInstance.messageBold="Vuoi davvero spostare il documento \"" + this.document.title + "\" nel cestino?",t.componentInstance.message="I documenti possono essere ripristinati prima della cancellazione definitiva.",t.componentInstance.btnClass="btn-danger",t.componentInstance.btnCaption="Sposta nel cestino",this.subscribeModalDelete(t)}subscribeModalDelete(t){t.componentInstance.confirmClicked.pipe(zn(()=>(t.componentInstance.buttonsEnabled=!1,this.documentsService.delete(this.document)))).pipe(je(this.unsubscribeNotifier)).subscribe({next:()=>{t.close(),this.close()},error:n=>{this.toastService.showError("Errore durante l'eliminazione del documento",n),t.componentInstance.buttonsEnabled=!0,this.subscribeModalDelete(t)}})}moreLike(){this.documentListViewService.quickFilter([{rule_type:21,value:this.documentId.toString()}])}reprocess(){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Conferma rielaborazione",t.componentInstance.messageBold="Questa operazione ricreer\xE0 in modo permanente il file di archivio per questo documento.",t.componentInstance.message="Il file di archivio verr\xE0 rigenerato con le impostazioni attuali.",t.componentInstance.btnClass="btn-danger",t.componentInstance.btnCaption="Continua",t.componentInstance.confirmClicked.subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"reprocess",{}).subscribe({next:()=>{this.toastService.showInfo("L'attivit\xE0 di rielaborazione inizier\xE0 in background. Chiudi e riapri o ricarica questo documento dopo che l'operazione \xE8 stata completata per vedere i nuovi contenuti."),t&&t.close()},error:n=>{t&&(t.componentInstance.buttonsEnabled=!0),this.toastService.showError("Errore nell'esecuzione dell'operazione",n)}})})}hasNext(){return this.documentListViewService.hasNext(this.documentId)}hasPrevious(){return this.documentListViewService.hasPrevious(this.documentId)}nextDoc(){this.documentListViewService.getNext(this.document.id).subscribe(t=>{this.router.navigate(["documents",t])})}previousDoc(){this.documentListViewService.getPrevious(this.document.id).subscribe(t=>{this.router.navigate(["documents",t])})}pdfPreviewLoaded(t){this.previewNumPages=t.numPages,this.password&&(this.requiresPassword=!1)}onError(t){"PasswordException"==t.name&&(this.requiresPassword=!0)}onPasswordKeyUp(t){"Enter"==t.key&&(this.password=t.target.value)}onZoomSelect(t){const n=t.target?.value;jo.PageFit===n?(this.previewZoomSetting=jo.One,this.previewZoomScale=n):(this.previewZoomScale=jo.PageWidth,this.previewZoomSetting=n)}get zoomSettings(){return Object.values(jo).filter(t=>t!==jo.PageWidth)}getZoomSettingTitle(t){return t===jo.PageFit?"Adatta Alla Pagina":100*parseFloat(t)+"%"}increaseZoom(){let t=Object.values(jo).indexOf(this.previewZoomSetting);this.previewZoomScale===jo.PageFit&&(t=5),this.previewZoomScale=jo.PageWidth,this.previewZoomSetting=Object.values(jo)[Math.min(Object.values(jo).length-1,t+1)]}decreaseZoom(){let t=Object.values(jo).indexOf(this.previewZoomSetting);this.previewZoomScale===jo.PageFit&&(t=4),this.previewZoomScale=jo.PageWidth,this.previewZoomSetting=Object.values(jo)[Math.max(2,t-1)]}get showPermissions(){return this.permissionsService.currentUserCan(Nt.View,It.User)&&this.userIsOwner}get notesEnabled(){return this.settings.get(Ue.NOTES_ENABLED)&&this.permissionsService.currentUserCan(Nt.View,It.Note)}get historyEnabled(){return this.settings.get(Ue.AUDITLOG_ENABLED)&&this.userIsOwner&&this.permissionsService.currentUserCan(Nt.View,It.History)}notesUpdated(t){this.document.notes=t,this.openDocumentService.refreshDocument(this.documentId)}get userIsOwner(){let t=Object.assign({},this.document);return this.document&&this.store?.value.permissions_form?.hasOwnProperty("owner")&&(t.owner=this.store.value.permissions_form.owner),!this.document||this.permissionsService.currentUserOwnsObject(t)}get userCanEdit(){let t=Object.assign({},this.document);return this.document&&this.store?.value.permissions_form?.hasOwnProperty("owner")&&(t.owner=this.store.value.permissions_form.owner),!this.document||this.permissionsService.currentUserHasObjectPermissions(Nt.Change,t)}filterDocuments(t,n){const o=t.flatMap(s=>{if(s.hasOwnProperty("year")){const r=new Av,a=new Date(r.toModel(s));a.setDate(a.getDate()-1);const l=new Date(r.toModel(s));return l.setDate(l.getDate()+1),[{rule_type:9,value:a.toISOString().substring(0,10)},{rule_type:8,value:l.toISOString().substring(0,10)}]}switch(n){case pn.Correspondent:return{rule_type:3,value:s.id.toString()};case pn.DocumentType:return{rule_type:4,value:s.id.toString()};case pn.StoragePath:return{rule_type:25,value:s.id.toString()};case pn.Tag:return{rule_type:6,value:s.id.toString()}}});this.documentListViewService.quickFilter(o)}getCustomFields(){this.customFieldsService.listAll().pipe(wt(),je(this.unsubscribeNotifier)).subscribe(t=>this.customFields=t.results)}refreshCustomFields(){this.customFieldsService.clearCache(),this.getCustomFields()}getCustomFieldFromInstance(t){return this.customFields?.find(n=>n.id===t.field)}getCustomFieldError(t){const n=this.error?.custom_fields?.[t];return n?.non_field_errors??n?.value}updateFormForCustomFields(t=!1){this.customFieldFormFields.clear({emitEvent:!1}),this.document.custom_fields?.forEach(n=>{this.customFieldFormFields.push(new In({field:new Re(this.getCustomFieldFromInstance(n)?.id),value:new Re(n.value)}),{emitEvent:t})})}addField(t){this.document.custom_fields.push({field:t.id,value:null,document:this.documentId,created:new Date}),this.updateFormForCustomFields(!0)}removeField(t){this.document.custom_fields.splice(this.document.custom_fields.indexOf(t),1),this.updateFormForCustomFields(!0),this.documentForm.updateValueAndValidity()}splitDocument(){let t=this.modalService.open(jHe,{backdrop:"static"});t.componentInstance.title="Conferma divisione",t.componentInstance.messageBold="Questa operazione divider\xE0 i documenti selezionati in nuovi documenti.",t.componentInstance.btnCaption="Continua",t.componentInstance.documentID=this.document.id,t.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"split",{pages:t.componentInstance.pagesString,delete_originals:t.componentInstance.deleteOriginal}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("L'operazione di divisione inizier\xE0 in background."),t.close()},error:n=>{t&&(t.componentInstance.buttonsEnabled=!0),this.toastService.showError("Errore durante l'operazione di divisione",n)}})})}rotateDocument(){let t=this.modalService.open(qx,{backdrop:"static"});t.componentInstance.title="Conferma rotazione",t.componentInstance.messageBold="Questa operazione ruoter\xE0 in modo permanente la versione originale del documento attuale.",t.componentInstance.btnCaption="Continua",t.componentInstance.documentID=this.document.id,t.componentInstance.showPDFNote=!1,t.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"rotate",{degrees:t.componentInstance.degrees}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.show({content:"L'operazione di rotazione inizier\xE0 in background. Chiudi e riapri questo documento dopo che l'operazione \xE8 stata completata per vedere i cambiamenti.",delay:8e3,action:this.close.bind(this),actionName:"Chiudi"}),t.close()},error:n=>{t&&(t.componentInstance.buttonsEnabled=!0),this.toastService.showError("Errore nell'esecuzione dell'operazione di rotazione",n)}})})}deletePages(){let t=this.modalService.open(o$e,{backdrop:"static"});t.componentInstance.title="Conferma eliminazione pagine",t.componentInstance.messageBold="Questa operazione eliminer\xE0 definitivamente le pagine selezionate dal documento originale.",t.componentInstance.btnCaption="Continua",t.componentInstance.documentID=this.document.id,t.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.documentsService.bulkEdit([this.document.id],"delete_pages",{pages:t.componentInstance.pages}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("L'attivit\xE0 di eliminazione delle pagine inizier\xE0 in background. Chiudi e riapri o ricarica questo documento dopo che l'operazione \xE8 stata completata per vedere i cambiamenti."),t.close()},error:n=>{t&&(t.componentInstance.buttonsEnabled=!0),this.toastService.showError("Errore durante l'eliminazione delle pagine",n)}})})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo),Y(_1),Y(Aa),Y(Oa),Y(so),Y(Ki),Y(M3),Y(ya),Y(U5),Y(ki),Y(Tn),Y(d0),Y(Xn),Y(vo),Y(Ea),Y(Fi),Y(Yh))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-detail"]],viewQuery:function(n,o){if(1&n&&(cn(YGe,5),cn(JGe,5),cn(QGe,5)),2&n){let s;Ot(s=yt())&&(o.titleInput=s.first),Ot(s=yt())&&(o.nav=s.first),Ot(s=yt())&&(o.pdfPreview=s.first)}},features:[Ct],decls:85,vars:35,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo,zt,Fs,Pr,ks,Ir;return t="Chiudi",n="Precedente",o="Successivo",s="Scarica",r="Azioni",a="Rielabora",l="Altro come questo",u="Dividi",p="Ruota",v="Elimina pagina(e)",L="Dettagli",z="Contenuto",ie="Metadati",se="Anteprima",he="-",be="+",we="Pagina",Fe="di " + "\ufffd0\ufffd" + "",Ae="Elimina",Qe="Scarica originale",pt="Titolo",gt="Numero seriale di archivio",Mt="Data creazione",Pt="Corrispondente",xt="Tipo di documento",En="Percorso archiviazione",Ut="Predefinito",Hn="Metadati del documento originale",Ni="Metadati del documento archiviato",en="Data modifica",ci="Data aggiunta",Si="Nome file",Ro="Nome file originale",qi="Checksum MD5 originale",Fo="Dimensione file originale",ko="Tipo mime originale",Mo="Checksum MD5 archivio",bo="Dimensione file archivio",Yi="Note " + "\ufffd*3:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*3:1\ufffd" + "",Vi="Cronologia",To="Permessi",zo="Scarta",zt="Salva",Fs="Salva e vai al prossimo",Pr="Salva & chiudi",ks="Caricamento in corso...",Ir="Immettere Password",[["nav","ngbNav"],["pdfPreview",""],["saveButtons",""],["previewContent",""],["inputTitle",""],s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo,zt,Fs,Pr,ks,[3,"titleChange","title"],[1,"input-group","input-group-sm","me-md-5","d-none","d-md-flex"],["type","button","class","btn btn-sm btn-outline-danger me-md-4",3,"disabled","click",4,"pngxIfPermissions"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"href"],["width","1.2em","height","1.2em","name","download"],[1,"d-none","d-lg-inline","ps-1"],["ngbDropdown","","role","group",1,"btn-group"],["ngbDropdown","",1,"ms-auto"],["id","actionsDropdown","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","three-dots"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","actionsDropdown",1,"shadow"],["ngbDropdownItem","",3,"click","disabled"],["width","1em","height","1em","name","arrow-counterclockwise"],["ngbDropdownItem","",3,"click"],["width","1em","height","1em","name","diagram-3"],["width","1em","height","1em","name","scissors"],["name","arrow-clockwise"],["name","file-earmark-minus"],[3,"documentId","disabled","existingFields","created","added",4,"pngxIfPermissions"],[3,"documentId","hasArchiveVersion","disabled",4,"pngxIfPermissions"],[1,"row"],[1,"col-md-6","col-xl-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"btn-toolbar","mb-1","border-bottom"],[1,"btn-group","pb-3"],["type","button","title",t,1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1.2em","height","1.2em","name","x"],["type","button","title",n,1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","arrow-left"],["type","button","title",o,1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1.2em","height","1.2em","name","arrow-right"],[4,"ngTemplateOutlet"],["ngbNav","",1,"nav-underline","flex-nowrap","flex-md-wrap","overflow-auto",3,"navChange","activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"d-md-none",3,"ngbNavItem"],[1,"mt-3",3,"ngbNavOutlet"],[1,"col-md-6","col-xl-8","mb-3","d-none","d-md-block","position-relative"],[1,"input-group","input-group-sm","d-none","d-md-flex"],[1,"btn","btn-outline-secondary",3,"click"],[1,"form-select",3,"change"],[3,"value","selected"],[1,"input-group-text"],["type","number","min","1",1,"form-control","flex-grow-0","w-auto",3,"ngModelChange","max","ngModel"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-md-4",3,"click","disabled"],["width","1.2em","height","1.2em","name","trash"],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],["ngbDropdownItem","",3,"href"],[3,"created","added","documentId","disabled","existingFields"],[3,"documentId","hasArchiveVersion","disabled"],["title",pt,"formControlName","title",3,"keyup","horizontal","error"],["title",gt,"formControlName","archive_serial_number",3,"error","horizontal"],["title",Mt,"formControlName","created_date",3,"filterDocuments","suggestions","showFilter","horizontal","error"],["title",Pt,"formControlName","correspondent",3,"items","allowNull","showFilter","horizontal","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["title",xt,"formControlName","document_type",3,"items","allowNull","showFilter","horizontal","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["title",En,"formControlName","storage_path","placeholder",Ut,3,"items","allowNull","showFilter","horizontal","suggestions","filterDocuments","createNew",4,"pngxIfPermissions"],["formControlName","tags",3,"suggestions","showFilter","horizontal","filterDocuments",4,"pngxIfPermissions"],[3,"formGroup"],[1,"d-flex","border-top","pt-3"],["title",Pt,"formControlName","correspondent",3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","suggestions"],["title",xt,"formControlName","document_type",3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","suggestions"],["title",En,"formControlName","storage_path","placeholder",Ut,3,"filterDocuments","createNew","items","allowNull","showFilter","horizontal","suggestions"],["formControlName","tags",3,"filterDocuments","suggestions","showFilter","horizontal"],["formControlName","value",3,"title","removable","horizontal","error"],["formControlName","value",3,"title","removable","horizontal","showAdd","error"],["formControlName","value",3,"title","removable","horizontal","showAdd","step","error"],["formControlName","value",3,"title","removable","horizontal"],["formControlName","value",3,"title","parentDocumentID","removable","horizontal","error"],["formControlName","value",3,"title","itemsArray","allowNull","horizontal","removable","error"],["formControlName","value",3,"removed","title","removable","horizontal","error"],["formControlName","value",3,"removed","title","removable","horizontal","showAdd","error"],["formControlName","value",3,"removed","title","removable","horizontal","showAdd","step","error"],["formControlName","value",3,"removed","title","removable","horizontal"],["formControlName","value",3,"removed","title","parentDocumentID","removable","horizontal","error"],["formControlName","value",3,"removed","title","itemsArray","allowNull","horizontal","removable","error"],["id","content","rows","20","formControlName","content",1,"form-control"],[1,"table","table-borderless"],["title",Hn,3,"metadata"],["title",Ni,3,"metadata"],[1,"position-relative"],["ngbNavLink","",1,"text-nowrap"],[1,"badge","text-bg-secondary","ms-1"],[3,"updated","documentId","notes","addDisabled"],[1,"mb-3"],[3,"documentId"],["formControlName","permissions_form",3,"users"],[1,"btn-group","pb-3","ms-auto"],[4,"pngxIfPermissions"],["type","button",1,"order-0","btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"order-3","btn","btn-sm","btn-primary",3,"disabled"],["type","button",1,"order-1","btn","btn-sm","btn-outline-primary",3,"disabled"],["type","button",1,"order-2","btn","btn-sm","btn-outline-primary",3,"disabled"],["type","button",1,"order-1","btn","btn-sm","btn-outline-primary",3,"click","disabled"],["type","button",1,"order-2","btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"w-100","h-100","d-flex","align-items-center","justify-content-center"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["width","100%",1,"preview-sticky","bg-light","p-3","overflow-auto"],[1,"preview-sticky"],["width","100%",1,"preview-sticky",3,"data"],[1,"password-prompt"],[1,"preview-sticky","pdf-viewer-container"],[3,"pageChange","error","after-load-complete","src","original-size","show-borders","show-all","page","zoom-scale","zoom"],["width","100%","height","100%",3,"src","alt"],["autocomplete","","autofocus","true","placeholder",Ir,"type","password",1,"form-control",3,"keyup"]]},template:function(n,o){if(1&n){const s=pe();c(0,"pngx-page-header",39),Tt("titleChange",function(a){return H(s),mt(o.title,a)||(o.title=a),$(a)}),q(1,oUe,9,1,"div",40)(2,sUe,4,1,"button",41),c(3,"div",42)(4,"a",43),k(5,"i-bs",44),c(6,"span",45),R(7,5),h()(),q(8,rUe,5,1,"div",46),h(),c(9,"div",47)(10,"button",48),k(11,"i-bs",49),c(12,"div",50),j(13,"\xa0"),ke(14),R(15,6),ze(),h()(),c(16,"div",51)(17,"button",52),F("click",function(){return H(s),$(o.reprocess())}),k(18,"i-bs",53),j(19,"\xa0"),c(20,"span"),R(21,7),h()(),c(22,"button",54),F("click",function(){return H(s),$(o.moreLike())}),k(23,"i-bs",55),j(24,"\xa0"),c(25,"span"),R(26,8),h()(),c(27,"button",52),F("click",function(){return H(s),$(o.splitDocument())}),k(28,"i-bs",56),j(29,"\xa0"),c(30,"span"),R(31,9),h()(),c(32,"button",52),F("click",function(){return H(s),$(o.rotateDocument())}),k(33,"i-bs",57),j(34,"\xa0"),ke(35),R(36,10),ze(),h(),c(37,"button",52),F("click",function(){return H(s),$(o.deletePages())}),k(38,"i-bs",58),j(39,"\xa0"),ke(40),R(41,11),ze(),h()()(),q(42,aUe,1,3,"pngx-custom-fields-dropdown",59)(43,lUe,1,3,"pngx-share-links-dropdown",60),h(),c(44,"div",61)(45,"div",62)(46,"form",63),F("ngSubmit",function(){return H(s),$(o.save())}),c(47,"div",64)(48,"div",65)(49,"button",66),F("click",function(){return H(s),$(o.close())}),k(50,"i-bs",67),h(),c(51,"button",68),F("click",function(){return H(s),$(o.previousDoc())}),k(52,"i-bs",69),h(),c(53,"button",70),F("click",function(){return H(s),$(o.nextDoc())}),k(54,"i-bs",71),h()(),q(55,cUe,1,0,"ng-container",72),h(),c(56,"ul",73,0),F("navChange",function(a){return H(s),$(o.onNavChange(a))}),Tt("activeIdChange",function(a){return H(s),mt(o.activeNavID,a)||(o.activeNavID=a),$(a)}),c(58,"li",74)(59,"a",75),R(60,12),h(),q(61,EUe,13,25,"ng-template",76),h(),c(62,"li",74)(63,"a",75),R(64,13),h(),q(65,AUe,2,2,"ng-template",76),h(),c(66,"li",74)(67,"a",75),R(68,14),h(),q(69,IUe,3,3,"ng-template",76),h(),c(70,"li",77)(71,"a",75),R(72,15),h(),q(73,RUe,1,0,null,76),h(),q(74,zUe,5,2,"li",74)(75,HUe,4,1,"li",74)(76,BUe,4,1,"li",74),h(),k(77,"div",78),h()(),c(78,"div",79,1),q(80,GUe,1,0,"ng-container",72),h()(),q(81,WUe,5,7,"ng-template",null,2,on)(83,iZe,2,1,"ng-template",null,3,on)}if(2&n){const s=vt(57),r=vt(79),a=vt(82),l=vt(84);bt("title",o.title),d(),J(o.archiveContentRenderType!==o.ContentRenderType.PDF||o.useNativePdfViewer?-1:1),d(),w("pngxIfPermissions",rt(26,_0,o.PermissionAction.Delete,o.PermissionType.Document)),d(2),w("href",o.downloadUrl,$o),d(4),J(null!=o.metadata&&o.metadata.has_archive_version?8:-1),d(9),w("disabled",!o.userCanEdit),d(10),w("disabled",o.originalContentRenderType!==o.ContentRenderType.PDF||1===o.previewNumPages),d(5),w("disabled",!o.userIsOwner||o.originalContentRenderType!==o.ContentRenderType.PDF),d(5),w("disabled",!o.userIsOwner||o.originalContentRenderType!==o.ContentRenderType.PDF||1===o.previewNumPages),d(5),w("pngxIfPermissions",rt(29,_0,o.PermissionAction.View,o.PermissionType.CustomField)),d(),w("pngxIfPermissions",rt(32,_0,o.PermissionAction.Add,o.PermissionType.ShareLink)),d(3),w("formGroup",o.documentForm),d(5),w("disabled",!o.hasPrevious()),d(2),w("disabled",!o.hasNext()),d(2),w("ngTemplateOutlet",a),d(),bt("activeId",o.activeNavID),d(2),w("ngbNavItem",o.DocumentDetailNavIDs.Details),d(4),w("ngbNavItem",o.DocumentDetailNavIDs.Content),d(4),w("ngbNavItem",o.DocumentDetailNavIDs.Metadata),d(4),w("ngbNavItem",o.DocumentDetailNavIDs.Preview),d(3),J(r.offsetParent?-1:73),d(),J(o.notesEnabled?74:-1),d(),J(o.historyEnabled?75:-1),d(),J(o.showPermissions?76:-1),d(),w("ngbNavOutlet",s),d(3),w("ngTemplateOutlet",l)}},dependencies:[es,Go,ys,is,wr,j1,E5,W1,a0,A5,O5,Ta,y5,ro,_5,p5,si,ol,Yt,Wi,rh,q7,Ln,oh,Bi,Xi,C3,Wt,Qs,Ds,Sr,Y1,R$e,$v,Zo,LBe,tu,UBe,JBe,I5,dGe,MGe,yGe,IGe,KGe,k1,wR,MR,Ns],styles:[".preview-sticky[_ngcontent-%COMP%]{height:calc(100vh - 160px);top:70px;position:sticky}.pdf-viewer-container[_ngcontent-%COMP%]{padding-top:10px;background-color:gray}.pdf-viewer-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}  .ng2-pdf-viewer-container .page{--page-margin: 0 auto 10px;--page-border: 0}  form .ng-select-taggable{max-width:calc(100% - 90px)}.btn-group[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]{border-top-right-radius:inherit;border-bottom-right-radius:inherit}.password-prompt[_ngcontent-%COMP%]{position:absolute;top:30%;left:30%;right:30%}textarea.rtl[_ngcontent-%COMP%]{direction:rtl}.form-select[_ngcontent-%COMP%]{padding-right:2.5em}.input-group[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border-color:var(--bs-border-color)}.btn-group[_ngcontent-%COMP%]   .btn.order-0[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--bs-border-radius-sm);border-bottom-left-radius:var(--bs-border-radius-sm)}.btn-group[_ngcontent-%COMP%]   .btn.order-3[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--bs-border-radius-sm);border-bottom-right-radius:var(--bs-border-radius-sm)}.preview-sticky[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}"]})}return e})();function bR(e,i=0){return function oZe(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):i}function p0(e){return e instanceof Qt?e.nativeElement:e}try{Bv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bv=!1}let iu,Gv,TR=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Xc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(cr))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function K5(e){return function rZe(){if(null==iu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>iu=!0}))}finally{iu=iu||!1}return iu}()?e:!!e.capture}function Uv(e){if(function aZe(){if(null==Gv){const e=typeof document<"u"?document.head:null;Gv=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Gv}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function L3(e){return e.composedPath?e.composedPath()[0]:e.target}let cZe=(()=>{class e{constructor(t,n,o){this._ngZone=t,this._platform=n,this._scrolled=new et,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const n=this.scrollContainers.get(t);n&&(n.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new mn(n=>{this._globalSubscription||this._addGlobalListener();const o=t>0?this._scrolled.pipe(km(t)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Rt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(t,n){const o=this.getAncestorScrollContainers(t);return this.scrolled(n).pipe($n(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(t){const n=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,t)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,n){let o=p0(n),s=t.getElementRef().nativeElement;do{if(o==s)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(jt),Ke(TR),Ke(gn,8))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hZe=(()=>{class e{constructor(t,n,o){this._platform=t,this._change=new et,this._changeListener=s=>{this._change.next(s)},this._document=o,n.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,n=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||n.scrollY||o.scrollTop||0,left:-s.left||t.body.scrollLeft||n.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(km(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(TR),Ke(jt),Ke(gn,8))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uZe=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({})}return e})();function yR(e=0,i=f5){return e<0&&(e=0),ch(e,e,i)}const jZe=new ct("cdk-dir-doc",{providedIn:"root",factory:function WZe(){return _e(gn)}}),XZe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let DR=(()=>{class e{constructor(t){this.value="ltr",this.change=new Be,t&&(this.value=function KZe(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?XZe.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(jZe,8))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NR(e){const i=e.cloneNode(!0),t=i.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===n?LR(e,i):("input"===n||"select"===n||"textarea"===n)&&IR(e,i),PR("canvas",e,i,LR),PR("input, textarea, select",e,i,IR),i}function PR(e,i,t,n){const o=i.querySelectorAll(e);if(o.length){const s=t.querySelectorAll(e);for(let r=0;r<o.length;r++)n(o[r],s[r])}}let qZe=0;function IR(e,i){"file"!==i.type&&(i.value=e.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${qZe++}`)}function LR(e,i){const t=i.getContext("2d");if(t)try{t.drawImage(e,0,0)}catch{}}function Zv(e){const i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function jv(e,i,t){const{top:n,bottom:o,left:s,right:r}=e;return t>=n&&t<=o&&i>=s&&i<=r}function su(e,i,t){e.top+=i,e.bottom=e.top+e.height,e.left+=t,e.right=e.left+e.width}function xR(e,i,t,n){const{top:o,right:s,bottom:r,left:a,width:l,height:u}=e,p=l*i,v=u*i;return n>o-v&&n<r+v&&t>a-p&&t<s+p}class RR{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Zv(t)})})}handleScroll(i){const t=L3(i),n=this.positions.get(t);if(!n)return null;const o=n.scrollPosition;let s,r;if(t===this._document){const u=this.getViewportScrollPosition();s=u.top,r=u.left}else s=t.scrollTop,r=t.scrollLeft;const a=o.top-s,l=o.left-r;return this.positions.forEach((u,p)=>{u.clientRect&&t!==p&&t.contains(p)&&su(u.clientRect,a,l)}),o.top=s,o.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function FR(e,i){const t=e.rootNodes;if(1===t.length&&t[0].nodeType===i.ELEMENT_NODE)return t[0];const n=i.createElement("div");return t.forEach(o=>n.appendChild(o)),n}function Wv(e,i,t){for(let n in i)if(i.hasOwnProperty(n)){const o=i[n];o?e.setProperty(n,o,t?.has(n)?"important":""):e.removeProperty(n)}return e}function q5(e,i){const t=i?"":"none";Wv(e.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function kR(e,i,t){Wv(e.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function x3(e,i){return i&&"none"!=i?e+" "+i:e}function zR(e,i){e.style.width=`${i.width}px`,e.style.height=`${i.height}px`,e.style.transform=R3(i.left,i.top)}function R3(e,i){return`translate3d(${Math.round(e)}px, ${Math.round(i)}px, 0)`}function VR(e){const i=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*i}function Xv(e,i){return e.getPropertyValue(i).split(",").map(n=>n.trim())}const JZe=new Set(["position"]);class QZe{constructor(i,t,n,o,s,r,a,l,u){this._document=i,this._rootElement=t,this._direction=n,this._initialDomRect=o,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=u}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return function YZe(e){const i=getComputedStyle(e),t=Xv(i,"transition-property"),n=t.find(a=>"transform"===a||"all"===a);if(!n)return 0;const o=t.indexOf(n),s=Xv(i,"transition-duration"),r=Xv(i,"transition-delay");return VR(s[o])+VR(r[o])}(this._preview)}addEventListener(i,t){this._preview.addEventListener(i,t)}removeEventListener(i,t){this._preview.removeEventListener(i,t)}_createPreview(){const i=this._previewTemplate,t=this._previewClass,n=i?i.template:null;let o;if(n&&i){const s=i.matchSize?this._initialDomRect:null,r=i.viewContainer.createEmbeddedView(n,i.context);r.detectChanges(),o=FR(r,this._document),this._previewEmbeddedView=r,i.matchSize?zR(o,s):o.style.transform=R3(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=NR(this._rootElement),zR(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Wv(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},JZe),q5(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>o.classList.add(s)):o.classList.add(t)),o}}const HR=K5({passive:!0}),F3=K5({passive:!1}),$R=K5({passive:!1,capture:!0}),BR=new Set(["position"]);class tje{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>q5(t,i)))}constructor(i,t,n,o,s,r){this._config=t,this._document=n,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=T4(!1),this._moveEvents=new et,this._pointerMoveSubscription=Ne.EMPTY,this._pointerUpSubscription=Ne.EMPTY,this._scrollSubscription=Ne.EMPTY,this._resizeSubscription=Ne.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new et,this.started=new et,this.released=new et,this.ended=new et,this.entered=new et,this.exited=new et,this.dropped=new et,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const z=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),ie=this._dropContainer;if(!z)return void this._endDragSequence(a);(!ie||!ie.isDragging()&&!ie.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();const u=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,l);else{const p=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,v=this._activeTransform;v.x=u.x-p.x+this._passiveTransform.x,v.y=u.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(v.x,v.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:a,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new RR(n),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(n=>p0(n)),this._handles.forEach(n=>q5(n,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&t.add(n)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const t=p0(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,F3),t.addEventListener("touchstart",this._pointerDown,HR),t.addEventListener("dragstart",this._nativeDragStart,F3)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?p0(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),q5(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),q5(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",UR,$R)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){ru(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),n=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",UR,$R)}),n){const o=this._rootElement,s=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new QZe(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,t)),kR(o,!1,BR),this._document.body.appendChild(s.replaceChild(r,o)),this.started.next({source:this,event:i}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),o=ru(t),s=!o&&0!==t.button,r=this._rootElement,a=L3(t),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=o?function BZe(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}(t):function $Ze(e){return 0===e.buttons||0===e.detail}(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),n||s||l||u)return;if(this._handles.length){const L=r.style;this._rootElementTapHighlight=L.webkitTapHighlightColor||"",L.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(L=>this._updateOnScroll(L)),this._boundaryElement&&(this._boundaryRect=Zv(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);const v=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:v.x,y:v.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){kR(this._rootElement,!0,BR),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),o=this._getPointerPositionOnPage(i),s=this._getDragDistance(o),r=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o,event:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:o,event:i}),t.drop(this,n,this._initialIndex,this._initialContainer,r,s,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:n,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,o),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const o=r=>{(!r||L3(r)===this._preview&&"transform"===r.propertyName)&&(this._preview?.removeEventListener("transitionend",o),n(),clearTimeout(s))},s=setTimeout(o,1.5*t);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,t=i?i.template:null;let n;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),n=FR(this._placeholderRef,this._document)):n=NR(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(i,t,n){const o=t===this._rootElement?null:t,s=o?o.getBoundingClientRect():i,r=ru(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition();return{x:s.left-i.left+(r.pageX-s.left-a.left),y:s.top-i.top+(r.pageY-s.top-a.top)}}_getPointerPositionOnPage(i){const t=this._getViewportScrollPosition(),n=ru(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=n.pageX-t.left,s=n.pageY-t.top;if(this._ownerSVGElement){const r=this._ownerSVGElement.getScreenCTM();if(r){const a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=s,a.matrixTransform(r.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(i){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:o}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),p=a.top+r,v=a.bottom-(u-r);n=GR(n,a.left+s,a.right-(l-s)),o=GR(o,p,v)}return{x:n,y:o}}_updatePointerDirectionDelta(i){const{x:t,y:n}=i,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-s.x),a=Math.abs(n-s.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=t>s.x?1:-1,s.x=t),a>this._config.pointerDirectionChangeThreshold&&(o.y=n>s.y?1:-1,s.y=n),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,q5(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,F3),i.removeEventListener("touchstart",this._pointerDown,HR),i.removeEventListener("dragstart",this._nativeDragStart,F3)}_applyRootElementTransform(i,t){const n=R3(i,t),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=x3(n,this._initialTransform)}_applyPreviewTransform(i,t){const n=this._previewTemplate?.template?void 0:this._initialTransform,o=R3(i,t);this._preview.setTransform(x3(o,n))}_getDragDistance(i){const t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(0===i&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(0===o.width&&0===o.height||0===n.width&&0===n.height)return;const s=o.left-n.left,r=n.right-o.right,a=o.top-n.top,l=n.bottom-o.bottom;o.width>n.width?(s>0&&(i+=s),r>0&&(i-=r)):i=0,o.height>n.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){const t=this.dragStartDelay;return"number"==typeof t?t:ru(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){const t=this._parentPositions.handleScroll(i);if(t){const n=L3(i);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&su(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Uv(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){const n=this._previewContainer||"global";if("parent"===n)return i;if("global"===n){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return p0(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}}function GR(e,i,t){return Math.max(i,Math.min(t,e))}function ru(e){return"t"===e.type[0]}function UR(e){e.preventDefault()}function Y5(e,i,t){const n=au(i,e.length-1),o=au(t,e.length-1);if(n===o)return;const s=e[n],r=o<n?-1:1;for(let a=n;a!==o;a+=r)e[a]=e[a+r];e[o]=s}function au(e,i){return Math.max(0,Math.min(i,e))}class ZR{constructor(i){this._dragDropRegistry=i,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,n,o){const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(i,t,n,o);if(-1===r&&s.length>0)return null;const a="horizontal"===this.orientation,l=s.findIndex(he=>he.drag===i),u=s[r],v=u.clientRect,L=l>r?1:-1,z=this._getItemOffsetPx(s[l].clientRect,v,L),ie=this._getSiblingOffsetPx(l,s,L),se=s.slice();return Y5(s,l,r),s.forEach((he,be)=>{if(se[be]===he)return;const we=he.drag===i,Fe=we?z:ie,Ae=we?i.getPlaceholderElement():he.drag.getRootElement();he.offset+=Fe,a?(Ae.style.transform=x3(`translate3d(${Math.round(he.offset)}px, 0, 0)`,he.initialTransform),su(he.clientRect,0,Fe)):(Ae.style.transform=x3(`translate3d(0, ${Math.round(he.offset)}px, 0)`,he.initialTransform),su(he.clientRect,Fe,0))}),this._previousSwap.overlaps=jv(v,t,n),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:r}}enter(i,t,n,o){const s=null==o||o<0?this._getItemIndexFromPointerPosition(i,t,n):o,r=this._activeDraggables,a=r.indexOf(i),l=i.getPlaceholderElement();let u=r[s];if(u===i&&(u=r[s+1]),!u&&(null==s||-1===s||s<r.length-1)&&this._shouldEnterAsFirstChild(t,n)&&(u=r[0]),a>-1&&r.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){const p=u.getRootElement();p.parentElement.insertBefore(l,p),r.splice(s,0,i)}else this._element.appendChild(l),r.push(i);l.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables?.forEach(i=>{const t=i.getRootElement();if(t){const n=this._itemPositions.find(o=>o.drag===i)?.initialTransform;t.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:n})=>{su(n,i,t)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(i){this._element=i}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const n=t.getVisibleElement();return{drag:t,offset:0,initialTransform:n.style.transform||"",clientRect:Zv(n)}}).sort((t,n)=>i?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_getItemOffsetPx(i,t,n){const o="horizontal"===this.orientation;let s=o?t.left-i.left:t.top-i.top;return-1===n&&(s+=o?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,n){const o="horizontal"===this.orientation,s=t[i].clientRect,r=t[i+-1*n];let a=s[o?"width":"height"]*n;if(r){const l=o?"left":"top",u=o?"right":"bottom";-1===n?a-=r.clientRect[l]-s[u]:a+=s[l]-r.clientRect[u]}return a}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,o="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return o?i>=r.right:t>=r.bottom}{const r=n[0].clientRect;return o?i<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(i,t,n,o){const s="horizontal"===this.orientation,r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==i&&((!o||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?o.x:o.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(l.left)&&t<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom))));return-1!==r&&this._sortPredicate(r,i)?r:-1}}class nje{constructor(i,t){this._document=i,this._dragDropRegistry=t,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(i){const t=this._element.childNodes;this._relatedNodes=[];for(let n=0;n<t.length;n++){const o=t[n];this._relatedNodes.push([o,o.nextSibling])}this.withItems(i)}sort(i,t,n,o){const s=this._getItemIndexFromPointerPosition(i,t,n),r=this._previousSwap;if(-1===s||this._activeItems[s]===i)return null;const a=this._activeItems[s];if(r.drag===a&&r.overlaps&&r.deltaX===o.x&&r.deltaY===o.y)return null;const l=this.getItemIndex(i),u=i.getPlaceholderElement(),p=a.getRootElement();s>l?p.after(u):p.before(u),Y5(this._activeItems,l,s);const v=this._getRootNode().elementFromPoint(t,n);return r.deltaX=o.x,r.deltaY=o.y,r.drag=a,r.overlaps=p===v||p.contains(v),{previousIndex:l,currentIndex:s}}enter(i,t,n,o){let s=null==o||o<0?this._getItemIndexFromPointerPosition(i,t,n):o;-1===s&&(s=this._getClosestItemIndexToPointer(i,t,n));const r=this._activeItems[s],a=this._activeItems.indexOf(i);a>-1&&this._activeItems.splice(a,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(s,0,i),r.getRootElement().before(i.getPlaceholderElement())):(this._activeItems.push(i),this._element.appendChild(i.getPlaceholderElement()))}withItems(i){this._activeItems=i.slice()}withSortPredicate(i){this._sortPredicate=i}reset(){const i=this._element,t=this._previousSwap;for(let n=this._relatedNodes.length-1;n>-1;n--){const[o,s]=this._relatedNodes[n];o.parentNode===i&&o.nextSibling!==s&&(null===s?i.appendChild(o):s.parentNode===i&&i.insertBefore(o,s))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(i){return this._activeItems.indexOf(i)}updateOnScroll(){this._activeItems.forEach(i=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(i){i!==this._element&&(this._element=i,this._rootNode=void 0)}_getItemIndexFromPointerPosition(i,t,n){const o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(n)),s=o?this._activeItems.findIndex(r=>{const a=r.getRootElement();return o===a||a.contains(o)}):-1;return-1!==s&&this._sortPredicate(s,i)?s:-1}_getRootNode(){return this._rootNode||(this._rootNode=Uv(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(i,t,n){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let o=1/0,s=-1;for(let r=0;r<this._activeItems.length;r++){const a=this._activeItems[r];if(a!==i){const{x:l,y:u}=a.getRootElement().getBoundingClientRect(),p=Math.hypot(t-l,n-u);p<o&&(o=p,s=r)}}return s}}var Kr=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e}(Kr||{}),Ps=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e}(Ps||{});class ije{constructor(i,t,n,o,s){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new et,this.entered=new et,this.exited=new et,this.dropped=new et,this.sorted=new et,this.receivingStarted=new et,this.receivingStopped=new et,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ne.EMPTY,this._verticalScrollDirection=Kr.NONE,this._horizontalScrollDirection=Ps.NONE,this._stopScrollTimers=new et,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),yR(0,zm).pipe(je(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===Kr.UP?a.scrollBy(0,-l):this._verticalScrollDirection===Kr.DOWN&&a.scrollBy(0,l),this._horizontalScrollDirection===Ps.LEFT?a.scrollBy(-l,0):this._horizontalScrollDirection===Ps.RIGHT&&a.scrollBy(l,0)})};const r=this.element=p0(i);this._document=n,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new RR(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,n,o){this._draggingStarted(),null==o&&this.sortingDisabled&&(o=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,n,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,n,o,s,r,a,l={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:n,container:this,previousContainer:o,isPointerOverContainer:s,distance:r,dropPoint:a,event:l})}withItems(i){const t=this._draggables;return this._draggables=i,i.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===i.indexOf(o))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._direction=i,this._sortStrategy instanceof ZR&&(this._sortStrategy.direction=i),this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){if("mixed"===i)this._sortStrategy=new nje(this._document,this._dragDropRegistry);else{const t=new ZR(this._dragDropRegistry);t.direction=this._direction,t.orientation=i,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,n)=>this.sortPredicate(t,n,this)),this}withScrollableParents(i){const t=this._container;return this._scrollableElements=-1===i.indexOf(t)?[t,...i]:i.slice(),this}withElementContainer(i){if(i===this._container)return this;p0(this.element);const n=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(i);return n>-1&&this._scrollableElements.splice(n,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(i),this._cachedShadowRoot=null,this._scrollableElements.unshift(i),this._container=i,this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,n,o){if(this.sortingDisabled||!this._domRect||!xR(this._domRect,.05,t,n))return;const s=this._sortStrategy.sort(i,t,n,o);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let n,o=Kr.NONE,s=Ps.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||n||xR(r.clientRect,.05,i,t)&&([o,s]=function oje(e,i,t,n,o){const s=XR(i,o),r=KR(i,n);let a=Kr.NONE,l=Ps.NONE;if(s){const u=e.scrollTop;s===Kr.UP?u>0&&(a=Kr.UP):e.scrollHeight-u>e.clientHeight&&(a=Kr.DOWN)}if(r){const u=e.scrollLeft;"rtl"===t?r===Ps.RIGHT?u<0&&(l=Ps.RIGHT):e.scrollWidth+u>e.clientWidth&&(l=Ps.LEFT):r===Ps.LEFT?u>0&&(l=Ps.LEFT):e.scrollWidth-u>e.clientWidth&&(l=Ps.RIGHT)}return[a,l]}(a,r.clientRect,this._direction,i,t),(o||s)&&(n=a))}),!o&&!s){const{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};o=XR(l,t),s=KR(l,i),n=window}n&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=n,(o||s)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const i=this._container.style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return null!=this._domRect&&jv(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,n){return this._siblings.find(o=>o._canReceive(i,t,n))}_canReceive(i,t,n){if(!this._domRect||!jv(this._domRect,t,n)||!this.enterPredicate(i,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,n);return!!o&&(o===this._container||this._container.contains(o))}_startReceiving(i,t){const n=this._activeSiblings;!n.has(i)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(n.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=Uv(this._container);this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}}function XR(e,i){const{top:t,bottom:n,height:o}=e,s=.05*o;return i>=t-s&&i<=t+s?Kr.UP:i>=n-s&&i<=n+s?Kr.DOWN:Kr.NONE}function KR(e,i){const{left:t,right:n,width:o}=e,s=.05*o;return i>=t-s&&i<=t+s?Ps.LEFT:i>=n-s&&i<=n+s?Ps.RIGHT:Ps.NONE}const k3=K5({passive:!1,capture:!0}),z3=new Set;let sje=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[$i],decls:0,vars:0,template:function(n,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return e})(),rje=(()=>{class e{constructor(t,n){this._ngZone=t,this._appRef=_e(qs),this._environmentInjector=_e(Ao),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=T4([]),this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new et,this.pointerUp=new et,this.scroll=new et,this._preventDefaultWhileDragging=o=>{this._activeDragInstances().length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=n}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,k3)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,k3)}startDragging(t,n){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(o=>[...o,t]),1===this._activeDragInstances().length)){const o=n.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:k3}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:k3}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,r)=>{this._document.addEventListener(r,s.handler,s.options)})})}}stopDragging(t){this._activeDragInstances.update(n=>{const o=n.indexOf(t);return o>-1?(n.splice(o,1),[...n]):n}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const n=[this.scroll];return t&&t!==this._document&&n.push(new mn(o=>this._ngZone.runOutsideAngular(()=>{const r=a=>{this._activeDragInstances().length&&o.next(a)};return t.addEventListener("scroll",r,!0),()=>{t.removeEventListener("scroll",r,!0)}}))),B1(...n)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,n)=>{this._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!z3.has(this._appRef)){z3.add(this._appRef);const t=Tp(sje,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{z3.delete(this._appRef),0===z3.size&&t.destroy()})}}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(jt),Ke(gn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const aje={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Kv=(()=>{class e{constructor(t,n,o,s){this._document=t,this._ngZone=n,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(t,n=aje){return new tje(t,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new ije(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(gn),Ke(jt),Ke(hZe),Ke(rje))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lu=new ct("CDK_DRAG_PARENT"),qR=new ct("CdkDragHandle");let YR=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}constructor(t,n){this.element=t,this._parentDrag=n,this._stateChanges=new et,this._disabled=!1,n?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y(lu,12))};static#t=this.\u0275dir=st({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Un]},standalone:!0,features:[Gt([{provide:qR,useExisting:e}]),L1]})}return e})();const JR=new ct("CDK_DRAG_CONFIG"),QR=new ct("CdkDropList");let cu=(()=>{class e{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,n,o,s,r,a,l,u,p,v,L){this.element=t,this.dropContainer=n,this._ngZone=s,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=p,this._selfHandle=v,this._parentDrag=L,this._destroyed=new et,this._handles=new Bn([]),this.started=new Be,this.released=new Be,this.ended=new Be,this.entered=new Be,this.exited=new Be,this.dropped=new Be,this.moved=new mn(z=>{const ie=this._dragRef.moved.pipe(At(se=>({source:this,pointerPosition:se.pointerPosition,event:se.event,delta:se.delta,distance:se.distance}))).subscribe(z);return()=>{ie.unsubscribe()}}),this._injector=_e(hi),this._dragRef=u.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){bc(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const n=t.rootElementSelector,o=t.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const n=this._handles.getValue();n.push(t),this._handles.next(n)}_removeHandle(t){const n=this._handles.getValue(),o=n.indexOf(t);o>-1&&(n.splice(o,1),this._handles.next(n))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let n=t;this.rootElementSelector&&(n=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):p0(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const n=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof o&&o?o:bR(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),n&&t.withDirection(n.value)}}),t.beforeStarted.pipe(oo(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){t.withParent(e._dragInstances.find(o=>o.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(t){t.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),t.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(t){const{lockAxis:n,dragStartDelay:o,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:u,previewContainer:p}=t;this.disabled=l??!1,this.dragStartDelay=o||0,n&&(this.lockAxis=n),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.pipe(dn(t=>{const n=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),zn(t=>B1(...t.map(n=>n._stateChanges.pipe(Jc(n))))),je(this._destroyed)).subscribe(t=>{const n=this._dragRef,o=t.element.nativeElement;t.disabled?n.disableHandle(o):n.enableHandle(o)})}static#t=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y(QR,12),Y(gn),Y(jt),Y(Qo),Y(JR,8),Y(DR,8),Y(Kv),Y(Po),Y(qR,10),Y(lu,12))};static#n=this.\u0275dir=st({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,o){2&n&&Ye("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Un],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Gt([{provide:lu,useExisting:e}]),L1,Rn]})}return e})();const qv=new ct("CdkDropListGroup");let dje=0,du=(()=>{class e{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,n,o,s,r,a,l){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=s,this._dir=r,this._group=a,this._destroyed=new et,this.connectedTo=[],this.id="cdk-drop-list-"+dje++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Be,this.entered=new Be,this.exited=new Be,this.sorted=new Be,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,p)=>this.enterPredicate(u.data,p.data),this._dropListRef.sortPredicate=(u,p,v)=>this.sortPredicate(u,p.data,v.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),a&&a._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,n)=>t._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Jc(this._dir.value),je(this._destroyed)).subscribe(n=>t.withDirection(n)),t.beforeStarted.subscribe(()=>{const n=function sZe(e){return Array.isArray(e)?e:[e]}(this.connectedTo).map(o=>"string"==typeof o?e._dropLists.find(r=>r.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===n.indexOf(o)&&n.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(s=>s.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const o=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(o)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=bR(this.autoScrollStep,2),t.connectedTo(n.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),t.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),t.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),B1(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:n,draggingDisabled:o,sortingDisabled:s,listAutoScrollDisabled:r,listOrientation:a}=t;this.disabled=o??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#t=this.\u0275fac=function(n){return new(n||e)(Y(Qt),Y(Kv),Y(Po),Y(cZe),Y(DR,8),Y(qv,12),Y(JR,8))};static#n=this.\u0275dir=st({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,o){2&n&&(Mn("id",o.id),Ye("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Un],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Un],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Un],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Gt([{provide:qv,useValue:void 0},{provide:QR,useExisting:e}]),L1]})}return e})(),pje=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({providers:[Kv],imports:[uZe]})}return e})(),gje=(()=>{class e{constructor(t){this.http=t,this.endpoint="profile"}get(){return this.http.get(`${wi.apiBaseUrl}${this.endpoint}/`)}update(t){return this.http.patch(`${wi.apiBaseUrl}${this.endpoint}/`,t)}generateAuthToken(){return this.http.post(`${wi.apiBaseUrl}${this.endpoint}/generate_auth_token/`,{})}disconnectSocialAccount(t){return this.http.post(`${wi.apiBaseUrl}${this.endpoint}/disconnect_social_account/`,{id:t})}getSocialAccountProviders(){return this.http.get(`${wi.apiBaseUrl}${this.endpoint}/social_account_providers/`)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fje(e,i){if(1&e){const t=pe();c(0,"button",8),F("click",function(){return H(t),$(_().toggleVisibility())}),k(1,"i-bs",9),h()}if(2&e){const t=_();w("disabled",t.disabled||t.disableRevealToggle)}}function mje(e,i){1&e&&(k(0,"small",7),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().hint),Qi)}let Yv=(()=>{class e extends _s{constructor(){super(...arguments),this.showReveal=!1,this.textVisible=!1}toggleVisibility(){this.textVisible=!this.textVisible}onFocus(){0===this.value?.replace(/\*/g,"").length&&this.writeValue("")}onFocusOut(){0===this.value?.length&&(this.writeValue("**********"),this.onChange(this.value))}get disableRevealToggle(){return 0===this.value?.replace(/\*/g,"").length}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-password"]],inputs:{showReveal:"showReveal",autocomplete:"autocomplete"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:10,vars:14,consts:()=>{let t;return t="Mostra password",[["inputField",""],[1,"mb-3"],[1,"form-label",3,"for"],[1,"input-group"],[1,"form-control",3,"ngModelChange","focus","focusout","change","type","id","ngModel","disabled","autocomplete"],["type","button","title",t,1,"btn","btn-outline-secondary",3,"disabled"],[1,"invalid-feedback"],[1,"form-text","text-muted",3,"innerHTML"],["type","button","title",t,1,"btn","btn-outline-secondary",3,"click","disabled"],["name","eye"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",1)(1,"label",2),j(2),h(),c(3,"div",3)(4,"input",4,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("focus",function(){return H(s),$(o.onFocus())})("focusout",function(){return H(s),$(o.onFocusOut())})("change",function(){return H(s),$(o.onChange(o.value))}),h(),q(6,fje,2,1,"button",5),h(),c(7,"div",6),j(8),h(),q(9,mje,2,3,"small",7),h()}2&n&&(d(),w("for",o.inputId),d(),Pe(o.title),d(),Ye("is-invalid",o.error),d(),Ye("is-invalid",o.error),w("type",o.showReveal&&o.textVisible?"text":"password")("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled)("autocomplete",o.autocomplete),d(2),J(o.showReveal?6:-1),d(2),nt(" ",o.error," "),d(),J(o.hint?9:-1))},dependencies:[si,Yt,Ln,Wt,m1]})}return e})();const vje=["popover"];function Cje(e,i){if(1&e&&k(0,"i-bs",4),2&e){const t=_();Ye("me-1",t.label),ui("name",t.iconName)}}function wje(e,i){if(1&e){const t=pe();c(0,"div"),j(1),c(2,"button",5),F("click",function(o){return H(t),$(_().onConfirm(o))}),j(3,"Yes"),h()()}if(2&e){const t=_();d(),nt(" ",t.confirmMessage,"\xa0")}}let Jv=(()=>{class e{constructor(){this.confirmMessage="Sei sicuro?",this.buttonClasses="btn-primary",this.disabled=!1,this.confirm=new Be,this.confirming=!1}onClick(t){this.confirming||(this.confirming=!0,this.popover.open()),t.preventDefault(),t.stopImmediatePropagation()}onConfirm(t){this.confirm.emit(),this.confirming=!1,t.preventDefault(),t.stopImmediatePropagation()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-confirm-button"]],viewQuery:function(n,o){if(1&n&&cn(vje,5),2&n){let s;Ot(s=yt())&&(o.popover=s.first)}},inputs:{label:"label",confirmMessage:"confirmMessage",buttonClasses:"buttonClasses",iconName:"iconName",disabled:"disabled"},outputs:{confirm:"confirm"},decls:7,vars:8,consts:[["popover","ngbPopover"],["popoverContent",""],["type","button","popoverClass","popover-slim",3,"click","hidden","disabled","ngbPopover","autoClose"],[3,"me-1","name"],[3,"name"],["type","button",1,"btn","btn-link","btn-sm","text-danger","p-0","m-0","lh-1",3,"click"]],template:function(n,o){if(1&n){const s=pe();c(0,"button",2,0),F("click",function(a){return H(s),$(o.onClick(a))})("hidden",function(){return H(s),$(o.confirming=!1)}),q(2,Cje,1,3,"i-bs",3),ke(3),j(4),ze(),h(),q(5,wje,4,1,"ng-template",null,1,on)}if(2&n){const s=vt(6);h2("btn ",o.buttonClasses,""),w("disabled",o.disabled)("ngbPopover",s)("autoClose",!0),d(2),J(o.iconName?2:-1),d(2),Pe(o.label)}},dependencies:[Wr,Wt],styles:[".input-group>pngx-confirm-button:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback)>button,   .btn-group>pngx-confirm-button:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback)>button{border-top-left-radius:0;border-bottom-left-radius:0}  .input-group:not(.has-validation)>pngx-confirm-button:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating)>button,   .btn-group:not(.has-validation)>pngx-confirm-button:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating)>button{border-top-right-radius:0;border-bottom-right-radius:0}"]})}return e})();const Mje=(e,i)=>i.id,bje=(e,i)=>i.name;function Tje(e,i){1&e&&k(0,"i-bs",32)}function Sje(e,i){1&e&&k(0,"i-bs",33)}function Eje(e,i){if(1&e){const t=pe();c(0,"li",42),j(1),c(2,"pngx-confirm-button",43),F("confirm",function(){const o=H(t).$implicit;return $(_(2).disconnectSocialAccount(o.id))}),function SS(e,i){const t=wn(),n=zr(t.consts,i);!function YZ(e,i,t){const o=oi().index,s=[];if(e.firstCreatePass&&null===e.data[i]){for(let r=0;r<t.length;r+=2){const a=t[r],l=t[r+1];if(""!==l){if(GZ.test(l))throw new Error(`ICU expressions are not supported in attributes. Message: "${l}".`);m2(s,l,o,a,JZ(s),null)}}e.data[i]=s}}(t,e+Vt,n)}(3,10),h()()}if(2&e){const t=i.$implicit,n=_(2);w("disablePopover",n.hasUsablePassword),d(),l1(" ",t.name," (",t.provider,") "),d(),An(t.name),Dn(3),w("disabled",!n.hasUsablePassword)}}function Aje(e,i){if(1&e&&(c(0,"div",26)(1,"p"),R(2,7),h(),c(3,"ul",41),ut(4,Eje,4,5,"li",42,Mje),h(),c(6,"div",37),R(7,8),h()()),2&e){const t=_();d(4),_t(t.socialAccounts)}}function Oje(e,i){if(1&e&&(c(0,"a",44),j(1),k(2,"i-bs",45),h()),2&e){const t=i.$implicit;ui("href",t.login_url,$o),d(),nt(" ",t.name,"\xa0")}}function yje(e,i){if(1&e&&(c(0,"div",26)(1,"p"),R(2,9),h(),c(3,"div",41),ut(4,Oje,3,2,"a",44,bje),h()()),2&e){const t=_();d(4),_t(t.socialAccountProviders)}}let Dje=(()=>{class e{constructor(t,n,o,s){this.profileService=t,this.activeModal=n,this.toastService=o,this.clipboard=s,this.networkActive=!1,this.unsubscribeNotifier=new et,this.form=new In({email:new Re(""),email_confirm:new Re({value:null,disabled:!0}),password:new Re(null),password_confirm:new Re({value:null,disabled:!0}),first_name:new Re(""),last_name:new Re(""),auth_token:new Re("")}),this.showPasswordConfirm=!1,this.hasUsablePassword=!1,this.showEmailConfirm=!1,this.copied=!1,this.socialAccounts=[],this.socialAccountProviders=[]}ngOnInit(){this.networkActive=!0,this.profileService.get().pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.networkActive=!1,this.form.patchValue(t),this.currentEmail=t.email,this.form.get("email").valueChanges.subscribe(n=>{this.newEmail=n,this.onEmailChange()}),this.currentPassword=t.password,this.hasUsablePassword=t.has_usable_password,this.form.get("password").valueChanges.subscribe(n=>{this.newPassword=n,this.onPasswordChange()}),this.socialAccounts=t.social_accounts}),this.profileService.getSocialAccountProviders().pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.socialAccountProviders=t})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}get saveDisabled(){return this.error?.password_confirm||this.error?.email_confirm}onEmailKeyUp(t){this.newEmail=t.target?.value,this.onEmailChange()}onEmailConfirmKeyUp(t){this.emailConfirm=t.target?.value,this.onEmailChange()}onEmailChange(){this.showEmailConfirm=this.currentEmail!==this.newEmail,this.showEmailConfirm?(this.form.get("email_confirm").enable(),this.newEmail!==this.emailConfirm?(this.error||(this.error={}),this.error.email_confirm="Le email devono corrispondere"):delete this.error?.email_confirm):(this.form.get("email_confirm").disable(),delete this.error?.email_confirm)}onPasswordKeyUp(t){"input"===t.target.tagName&&(this.newPassword=t.target?.value,this.onPasswordChange())}onPasswordConfirmKeyUp(t){this.passwordConfirm=t.target?.value,this.onPasswordChange()}onPasswordChange(){this.showPasswordConfirm=this.currentPassword!==this.newPassword,this.showPasswordConfirm?(this.form.get("password_confirm").enable(),this.newPassword!==this.passwordConfirm?(this.error||(this.error={}),this.error.password_confirm="Le password devono corrispondere"):delete this.error?.password_confirm):(this.form.get("password_confirm").disable(),delete this.error?.password_confirm)}save(){const t=this.newPassword&&this.currentPassword!==this.newPassword,n=Object.assign({},this.form.value);this.networkActive=!0,this.profileService.update(n).pipe(je(this.unsubscribeNotifier)).subscribe({next:()=>{this.toastService.showInfo("Profilo aggiornato con successo"),t&&(this.toastService.showInfo("La password \xE8 stata cambiata, sarai disconnesso momentaneamente."),setTimeout(()=>{window.location.href=`${window.location.origin}/accounts/logout/?next=/accounts/login/?next=/`},2500)),this.activeModal.close()},error:o=>{this.toastService.showError("Errore durante il salvataggio del profilo",o),this.networkActive=!1}})}cancel(){this.activeModal.close()}generateAuthToken(){this.profileService.generateAuthToken().subscribe({next:t=>{this.form.patchValue({auth_token:t})},error:t=>{this.toastService.showError("Errore nella generazione del token di autenticazione",t)}})}copyAuthToken(){this.clipboard.copy(this.form.get("auth_token").value),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}disconnectSocialAccount(t){this.profileService.disconnectSocialAccount(t).pipe(je(this.unsubscribeNotifier)).subscribe({next:n=>{this.socialAccounts=this.socialAccounts.filter(o=>o.id!=n)},error:n=>{this.toastService.showError("Errore disconnessione account social",n)}})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(gje),Y(Gi),Y(ki),Y(D3))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-profile-edit-dialog"]],decls:43,vars:19,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt;return t="Email",n="Conferma indirizzo e-mail",o="Password",s="Conferma Password",r="Nome",a="Cognome",l="Copia",u="Rigenera il token di autenticazione",p="Modifica il Profilo",v="Token di autenticazione API",L="Copia",z="Copiato!",ie="Attenzione: la modifica del token non pu\xF2 essere annullata",se="Annulla",he="Salva",be="Imposta una password prima di disconnettere l'account social.",we="Account social collegati",Fe="Attenzione: la disconnessione degli account social non pu\xF2 essere annullata",Ae="Disconnetti",Qe="Disconnetti account " + "\ufffd0\ufffd" + "",pt="Connetti un nuovo account social",[p,v,L,z,ie,se,he,we,Fe,pt,["title",Qe],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["title",t,"formControlName","email",3,"keyup","error"],["ngbAccordion",""],["ngbAccordionItem","first",1,"border-0","bg-transparent",3,"collapsed"],["ngbAccordionCollapse",""],["ngbAccordionBody","",1,"p-0","pb-3"],["title",n,"formControlName","email_confirm","autocomplete","email",3,"keyup","error"],["title",o,"formControlName","password","autocomplete","current-password",3,"keyup","showReveal","error"],["title",s,"formControlName","password_confirm","autocomplete","new-password",3,"keyup","error"],["title",r,"formControlName","first_name",3,"error"],["title",a,"formControlName","last_name",3,"error"],[1,"mb-3"],[1,"form-label"],[1,"position-relative"],[1,"input-group"],["type","text","formControlName","auth_token","readonly","",1,"form-control"],["type","button","title",l,1,"btn","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","clipboard-fill"],["width","1em","height","1em","name","clipboard-check-fill"],[1,"visually-hidden"],["title",u,"buttonClasses"," btn-outline-secondary","iconName","arrow-repeat",3,"confirm","disabled"],[1,"badge","copied-badge","bg-primary","small","fade","ms-4","position-absolute","top-50","translate-middle-y","pe-none","z-3"],[1,"form-text","text-muted","text-end","fst-italic"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"list-group"],["ngbPopover",be,"triggers","mouseenter:mouseleave",1,"list-group-item",3,"disablePopover"],["label",Ae,"buttonClasses","btn-outline-danger btn-sm ms-2 align-baseline","iconName","trash",3,"confirm","disabled",6,"title"],["rel","noopener noreferrer",1,"list-group-item","list-group-item-action","text-primary","d-flex","align-items-center",3,"href"],["name","box-arrow-up-right",1,"pb-1","ps-1"]]},template:function(n,o){1&n&&(c(0,"form",11),F("ngSubmit",function(){return o.save()}),c(1,"div",12)(2,"h4",13),R(3,0),h(),c(4,"button",14),F("click",function(){return o.cancel()}),h()(),c(5,"div",15)(6,"pngx-input-text",16),F("keyup",function(r){return o.onEmailKeyUp(r)}),h(),c(7,"div",17)(8,"div",18)(9,"div",19)(10,"div",20)(11,"pngx-input-text",21),F("keyup",function(r){return o.onEmailConfirmKeyUp(r)}),h()()()()(),c(12,"pngx-input-password",22),F("keyup",function(r){return o.onPasswordKeyUp(r)}),h(),c(13,"div",17)(14,"div",18)(15,"div",19)(16,"div",20)(17,"pngx-input-password",23),F("keyup",function(r){return o.onPasswordConfirmKeyUp(r)}),h()()()()(),k(18,"pngx-input-text",24)(19,"pngx-input-text",25),c(20,"div",26)(21,"label",27),R(22,1),h(),c(23,"div",28)(24,"div",29),k(25,"input",30),c(26,"button",31),F("click",function(){return o.copyAuthToken()}),q(27,Tje,1,0,"i-bs",32)(28,Sje,1,0,"i-bs",33),c(29,"span",34),R(30,2),h()(),c(31,"pngx-confirm-button",35),F("confirm",function(){return o.generateAuthToken()}),h()(),c(32,"span",36),R(33,3),h()(),c(34,"div",37),R(35,4),h()(),q(36,Aje,8,0,"div",26)(37,yje,6,0,"div",26),h(),c(38,"div",38)(39,"button",39),F("click",function(){return o.cancel()}),R(40,5),h(),c(41,"button",40),R(42,6),h()()()),2&n&&(w("formGroup",o.form),d(6),w("error",null==o.error?null:o.error.email),d(2),w("collapsed",!o.showEmailConfirm),d(3),w("error",null==o.error?null:o.error.email_confirm),d(),w("showReveal",!0)("error",null==o.error?null:o.error.password),d(2),w("collapsed",!o.showPasswordConfirm),d(3),w("error",null==o.error?null:o.error.password_confirm),d(),w("error",null==o.error?null:o.error.first_name),d(),w("error",null==o.error?null:o.error.first_name),d(8),J(o.copied?-1:27),d(),J(o.copied?28:-1),d(3),w("disabled",!o.hasUsablePassword),d(),Ye("show",o.copied),d(4),J((null==o.socialAccounts?null:o.socialAccounts.length)>0?36:-1),d(),J((null==o.socialAccountProviders?null:o.socialAccountProviders.length)>0?37:-1),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive||o.saveDisabled))},dependencies:[b5,Z1,Dg,Ch,Wr,ro,si,Yt,Wi,Bi,Xi,Wt,Ds,Yv,Jv],styles:[".accordion-body .mb-3{margin:0!important}.copied-badge[_ngcontent-%COMP%]{right:8em}"]})}return e})(),Qv=(()=>{class e extends Sa{constructor(t,n,o){super(t,"saved_views"),this.settingsService=o,this.savedViews=[]}initialize(){this.reload()}reload(){this.loading=!0,this.listAll().subscribe(t=>{this.savedViews=t.results,this.loading=!1,this.settingsService.dashboardIsEmpty=0===this.dashboardViews.length})}get allViews(){return this.savedViews}get sidebarViews(){const t=this.savedViews.filter(o=>o.show_in_sidebar),n=this.settingsService.get(Ue.SIDEBAR_VIEWS_SORT_ORDER);return n?.length>0?n.map(o=>t.find(s=>s.id===o)).concat(t.filter(o=>!n.includes(o.id))).filter(o=>o):[...t]}get dashboardViews(){const t=this.savedViews.filter(o=>o.show_on_dashboard),n=this.settingsService.get(Ue.DASHBOARD_VIEWS_SORT_ORDER);return n?.length>0?n.map(o=>t.find(s=>s.id===o)).concat(t.filter(o=>!n.includes(o.id))).filter(o=>o):[...t]}create(t){return super.create(t).pipe(dn(()=>this.reload()))}update(t){return super.update(t).pipe(dn(()=>this.reload()))}patchMany(t){return J0(t.map(n=>super.patch(n))).pipe(dn(()=>this.reload()))}delete(t){return super.delete(t).pipe(dn(()=>this.reload()))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi),Ke(Xn),Ke(Tn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nje=(()=>{class e{constructor(t){this.http=t}checkForUpdates(){return this.http.get(`${wi.apiBaseUrl}remote_version/`)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var eF=function(e){return e.File="file",e}(eF||{}),hu=function(e){return e.Pending="PENDING",e.Started="STARTED",e.Complete="SUCCESS",e.Failed="FAILURE",e}(hu||{});let e9=(()=>{class e{get total(){return this.fileTasks.length}get allFileTasks(){return this.fileTasks.slice(0)}get queuedFileTasks(){return this.fileTasks.filter(t=>t.status==hu.Pending)}get startedFileTasks(){return this.fileTasks.filter(t=>t.status==hu.Started)}get completedFileTasks(){return this.fileTasks.filter(t=>t.status==hu.Complete)}get failedFileTasks(){return this.fileTasks.filter(t=>t.status==hu.Failed)}constructor(t){this.http=t,this.baseUrl=wi.apiBaseUrl,this.fileTasks=[],this.unsubscribeNotifer=new et}reload(){this.loading=!0,this.http.get(`${this.baseUrl}tasks/`).pipe(je(this.unsubscribeNotifer),wt()).subscribe(t=>{this.fileTasks=t.filter(n=>n.type==eF.File),this.loading=!1})}dismissTasks(t){this.http.post(`${this.baseUrl}acknowledge_tasks/`,{tasks:[...t]}).pipe(je(this.unsubscribeNotifer),wt()).subscribe(n=>{this.reload()})}cancelPending(){this.unsubscribeNotifer.next(!0)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pje(e,i){if(1&e&&(c(0,"div",18),k(1,"input",19),c(2,"label",17),j(3),h()()),2&e){const t=i.$implicit,n=_().$implicit,o=_();w("ngbPopover",o.inheritedWarning)("disablePopover",!o.isInherited(n,t.key)),d(),Ks("id","",n,"_",t.key,""),ui("formControlName",t.key),d(),Ks("for","",n,"_",t.key,""),d(),Pe(t.key)}}function Ije(e,i){if(1&e){const t=pe();c(0,"li",13)(1,"div",11),j(2),h(),c(3,"div",15)(4,"input",16),F("change",function(o){const s=H(t).$implicit;return $(_().toggleAll(o,s))}),h(),c(5,"label",17),R(6,6),h()(),ut(7,Pje,4,10,"div",18,Ft),ot(9,"keyvalue"),h()}if(2&e){const t=i.$implicit,n=_();w("formGroupName",t),d(2),nt("",t,":"),d(),w("ngbPopover",n.inheritedWarning)("disablePopover",!n.isInherited(t)),d(),ln("id","",t,"_all"),w("checked",n.typesWithAllActions.has(t)||n.isInherited(t)),Mn("disabled",!(!n.disabled&&!n.isInherited(t))||null),d(),ln("for","",t,"_all"),d(2),_t(Et(9,10,n.PermissionAction))}}function Lje(e,i){if(1&e&&(c(0,"div",14),j(1),h()),2&e){const t=_();d(),Pe(t.error)}}let tF=(()=>{class e extends Uo{set inheritedPermissions(t){const n=t?.length?t.map(o=>o.replace(/^\w+\./g,"")):[];this._inheritedPermissions!==n&&(this._inheritedPermissions=n,this.writeValue(this.permissions)),this.updateDisabledStates()}constructor(t,n){super(),this.permissionsService=t,this.settingsService=n,this.title="Permissions",this.form=new In({}),this.typesWithAllActions=new Set,this._inheritedPermissions=[],this.inheritedWarning="Ereditato dal gruppo",this.allowedTypes=Object.keys(It),this.onChange=o=>{},this.onTouched=()=>{},this.disabled=!1,this.settingsService.get(Ue.AUDITLOG_ENABLED)||this.allowedTypes.splice(this.allowedTypes.indexOf("History"),1),this.allowedTypes.forEach(o=>{const s=new In({});for(const r in Nt)s.addControl(r,new Re(null));this.form.addControl(o,s)})}writeValue(t){this.permissions!==t&&(this.permissions=t??[],this._inheritedPermissions.concat(this.permissions).forEach(o=>{const{actionKey:s,typeKey:r}=this.permissionsService.getPermissionKeys(o);s&&r&&this.form.get(r)?.get(s)&&this.form.get(r).get(s).patchValue(!0,{emitEvent:!1})}),this.allowedTypes.forEach(o=>{Object.values(this.form.get(o).value).every(s=>1==s)?this.typesWithAllActions.add(o):this.typesWithAllActions.delete(o)}),this.updateDisabledStates())}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}ngOnInit(){this.form.valueChanges.subscribe(t=>{let n=[];Object.entries(t).forEach(([o,s])=>{const r=Object.entries(s).filter(([a,l])=>1==l);r.forEach(([a,l])=>{n.push(It[o].replace("%s",Nt[a]))}),r.length==Object.entries(s).length?this.typesWithAllActions.add(o):this.typesWithAllActions.delete(o)}),this.onChange(n.filter(o=>!this._inheritedPermissions.includes(o)))})}toggleAll(t,n){const o=this.form.get(n);t.target.checked?(Object.keys(Nt).forEach(s=>{o.get(s).patchValue(!0)}),this.typesWithAllActions.add(n)):(Object.keys(Nt).forEach(s=>{o.get(s).patchValue(!1)}),this.typesWithAllActions.delete(n))}isInherited(t,n=null){return 0!=this._inheritedPermissions.length&&(n?this._inheritedPermissions.includes(this.permissionsService.getPermissionCode(Nt[n],It[t])):Object.values(Nt).every(o=>this._inheritedPermissions.includes(this.permissionsService.getPermissionCode(o,It[t]))))}updateDisabledStates(){this.allowedTypes.forEach(t=>{const n=this.form.get(t);let o;for(const s in Nt)o=n.get(s),this.isInherited(t,s)||this.disabled?o.disable():o.enable()})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Xn),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-permissions-select"]],inputs:{title:"title",error:"error",inheritedPermissions:"inheritedPermissions"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:20,vars:5,consts:()=>{let t,n,o,s,r,a,l;return t="Tipo",n="Tutto",o="Aggiungi",s="Modifica",r="Elimina",a="Mostra",l="Tutto",[t,n,o,s,r,a,l,[3,"formGroup"],[1,"form-label"],[1,"list-group"],[1,"list-group-item","d-flex"],[1,"col-3"],[1,"col"],[1,"list-group-item","d-flex",3,"formGroupName"],[1,"invalid-feedback","d-block"],["placement","left","triggers","mouseenter:mouseleave",1,"col","form-check","form-check-inline","form-switch",3,"ngbPopover","disablePopover"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label","visually-hidden",3,"for"],["placement","left","triggers","mouseenter:mouseleave",1,"col","form-check","form-check-inline",3,"ngbPopover","disablePopover"],["type","checkbox",1,"form-check-input",3,"id","formControlName"]]},template:function(n,o){1&n&&(c(0,"form",7)(1,"label",8),j(2),h(),c(3,"ul",9)(4,"li",10)(5,"div",11),R(6,0),h(),c(7,"div",12),R(8,1),h(),c(9,"div",12),R(10,2),h(),c(11,"div",12),R(12,3),h(),c(13,"div",12),R(14,4),h(),c(15,"div",12),R(16,5),h()(),ut(17,Ije,10,12,"li",13,Ft),q(19,Lje,2,1,"div",14),h()()),2&n&&(Ye("opacity-50",o.disabled),w("formGroup",o.form),d(2),Pe(o.title),d(15),_t(o.allowedTypes),d(2),J(o.error?19:-1))},dependencies:[Wr,ro,ts,Yt,Wi,Bi,Xi,u5,H8]})}return e})();function xje(e,i){if(1&e&&(c(0,"span",5),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}let nF=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,o,s)}getCreateTitle(){return "Crea un nuovo gruppo utenti"}getEditTitle(){return "Modifica gruppo utenti"}getForm(){return new In({name:new Re(""),permissions:new Re(null)})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(kh),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-group-edit-dialog"]],features:[Ct],decls:16,vars:8,consts:()=>{let t,n,o,s;return t="Nome",n="Permessi",o="Annulla",s="Salva",[o,s,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","permissions",3,"error"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(n,o){1&n&&(c(0,"form",2),F("ngSubmit",function(){return o.save()}),c(1,"div",3)(2,"h4",4),j(3),h(),q(4,xje,2,1,"span",5),c(5,"button",6),F("click",function(){return o.cancel()}),h()(),c(6,"div",7)(7,"div",8)(8,"div",9),k(9,"pngx-input-text",10)(10,"pngx-permissions-select",11),h()()(),c(11,"div",12)(12,"button",13),F("click",function(){return o.cancel()}),R(13,0),h(),c(14,"button",14),R(15,1),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(4),w("error",null==o.error?null:o.error.name),d(),w("error",null==o.error?null:o.error.permissions),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,tF]})}return e})();var uu=function(e){return e[e.None=1]="None",e[e.SSL=2]="SSL",e[e.STARTTLS=3]="STARTTLS",e}(uu||{});let t9=(()=>{class e extends Sa{constructor(t){super(t,"mail_accounts"),this.mailAccounts=[]}reload(){this.loading=!0,this.listAll().subscribe(t=>{this.mailAccounts=t.results,this.loading=!1})}get allAccounts(){return this.mailAccounts}create(t){return super.create(t).pipe(dn(()=>this.reload()))}update(t){return super.update(t).pipe(dn(()=>this.reload()))}patchMany(t){return J0(t.map(n=>super.patch(n))).pipe(dn(()=>this.reload()))}delete(t){return super.delete(t).pipe(dn(()=>this.reload()))}test(t){const n=Object.assign({},t);return delete n.set_permissions,this.http.post(this.getResourceUrl()+"test/",n)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Rje=["testResultAlert"];function Fje(e,i){if(1&e&&(c(0,"span",8),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function kje(e,i){if(1&e){const t=pe();c(0,"ngb-alert",27,0),F("closed",function(){return H(t),$(_().testResult=null)}),j(2),h()}if(2&e){const t=_();w("type",t.testResult),d(2),Pe(t.testResultMessage)}}function zje(e,i){1&e&&(k(0,"div",28),c(1,"span",29),R(2,4),h())}const Vje=[{id:uu.None,name:"Nessuna crittografia"},{id:uu.SSL,name:"SSL"},{id:uu.STARTTLS,name:"STARTTLS"}];let iF=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,o,s),this.testActive=!1}getCreateTitle(){return "Crea un nuovo account email"}getEditTitle(){return "Modifica account email"}getForm(){return new In({name:new Re(null),imap_server:new Re(null),imap_port:new Re(null),imap_security:new Re(uu.SSL),username:new Re(null),password:new Re(null),is_token:new Re(!1),character_set:new Re("UTF-8")})}get imapSecurityOptions(){return Vje}test(){this.testActive=!0,this.testResult=null,clearTimeout(this.alertTimeout);const t=this.service,n=Object.assign(Object.assign({},this.object),this.objectForm.value);t.test(n).subscribe({next:o=>{this.testActive=!1,this.testResult=o.success?"success":"danger",this.alertTimeout=setTimeout(()=>this.testResultAlert.close(),5e3)},error:o=>{this.testActive=!1,this.testResult="danger",this.alertTimeout=setTimeout(()=>this.testResultAlert.close(),5e3)}})}get testResultMessage(){return"success"===this.testResult?"Connesso con successo al server di posta":"Impossibile connettersi al server di posta"}static#e=this.\u0275fac=function(n){return new(n||e)(Y(t9),Y(Gi),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-mail-account-edit-dialog"]],viewQuery:function(n,o){if(1&n&&cn(Rje,5),2&n){let s;Ot(s=yt())&&(o.testResultAlert=s.first)}},features:[Ct],decls:29,vars:17,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie;return t="Nome",n="Server IMAP",o="Porta IMAP",s="Sicurezza IMAP",r="Nome utente",a="Password",l="La password \xE8 il token",u="Controlla se la password sopra \xE8 un token utilizzato per l'autenticazione",p="Set di Caratteri",v="Prova",L="Annulla",z="Salva",ie="Caricamento in corso...",[["testResultAlert",""],v,L,z,ie,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","imap_server",3,"error"],["title",o,"formControlName","imap_port",3,"error"],["title",s,"formControlName","imap_security",3,"items"],["title",r,"formControlName","username",3,"error"],["title",a,"formControlName","password",3,"error"],["title",l,"hint",u,"formControlName","is_token",3,"error"],["title",p,"formControlName","character_set",3,"error"],[1,"modal-footer"],[1,"m-0","me-2"],[1,"mb-0","py-2",3,"type"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"mb-0","py-2",3,"closed","type"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden","mr-1"]]},template:function(n,o){1&n&&(c(0,"form",5),F("ngSubmit",function(){return o.save()}),c(1,"div",6)(2,"h4",7),j(3),h(),q(4,Fje,2,1,"span",8),c(5,"button",9),F("click",function(){return o.cancel()}),h()(),c(6,"div",10)(7,"div",11)(8,"div",12),k(9,"pngx-input-text",13)(10,"pngx-input-text",14)(11,"pngx-input-text",15)(12,"pngx-input-select",16),h(),c(13,"div",12),k(14,"pngx-input-text",17)(15,"pngx-input-password",18)(16,"pngx-input-check",19)(17,"pngx-input-text",20),h()()(),c(18,"div",21)(19,"div",22),q(20,kje,3,2,"ngb-alert",23),h(),c(21,"button",24),F("click",function(){return o.test()}),q(22,zje,3,0),ke(23),R(24,1),ze(),h(),c(25,"button",25),F("click",function(){return o.cancel()}),R(26,2),h(),c(27,"button",26),R(28,3),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(4),w("error",null==o.error?null:o.error.name),d(),w("error",null==o.error?null:o.error.imap_server),d(),w("error",null==o.error?null:o.error.imap_port),d(),w("items",o.imapSecurityOptions),d(2),w("error",null==o.error?null:o.error.username),d(),w("error",null==o.error?null:o.error.password),d(),w("error",null==o.error?null:o.error.is_token),d(),w("error",null==o.error?null:o.error.character_set),d(3),J(o.testResult?20:-1),d(),w("disabled",o.networkActive||o.testActive),d(),J(o.testActive?22:-1),d(3),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[$oe,ro,Yt,Wi,Bi,Xi,Ds,Sr,Y1,Yv],styles:[".alert-dismissible .btn-close{padding-top:.75rem!important;padding-bottom:.75rem!important}"]})}return e})();var V3=function(e){return e[e.Attachments=1]="Attachments",e[e.Everything=2]="Everything",e}(V3||{}),_u=function(e){return e[e.Attachments=1]="Attachments",e[e.Email_Only=2]="Email_Only",e[e.Everything=3]="Everything",e}(_u||{}),Na=function(e){return e[e.Delete=1]="Delete",e[e.Move=2]="Move",e[e.MarkRead=3]="MarkRead",e[e.Flag=4]="Flag",e[e.Tag=5]="Tag",e}(Na||{}),pu=function(e){return e[e.FromSubject=1]="FromSubject",e[e.FromFilename=2]="FromFilename",e[e.None=3]="None",e}(pu||{}),Nl=function(e){return e[e.FromNothing=1]="FromNothing",e[e.FromEmail=2]="FromEmail",e[e.FromName=3]="FromName",e[e.FromCustom=4]="FromCustom",e}(Nl||{});let n9=(()=>{class e extends Sa{constructor(t){super(t,"mail_rules"),this.mailRules=[]}reload(){this.loading=!0,this.listAll().subscribe(t=>{this.mailRules=t.results,this.loading=!1})}get allRules(){return this.mailRules}create(t){return super.create(t).pipe(dn(()=>this.reload()))}update(t){return super.update(t).pipe(dn(()=>this.reload()))}patchMany(t){return J0(t.map(n=>super.patch(n))).pipe(dn(()=>this.reload()))}delete(t){return super.delete(t).pipe(dn(()=>this.reload()))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hje(e,i){if(1&e&&(c(0,"span",7),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function $je(e,i){if(1&e&&k(0,"pngx-input-text",27),2&e){const t=_();w("error",null==t.error?null:t.error.action_parameter)}}function Bje(e,i){1&e&&k(0,"pngx-input-select",32),2&e&&w("items",_().correspondents)("allowNull",!0)}function Gje(e,i){if(1&e&&(c(0,"span",35),ke(1),R(2,3),ze(),j(3),h()),2&e){const t=_();d(3),nt(": ",t.error.non_field_errors,"")}}const Uje=[{id:V3.Attachments,name:"Elabora solo gli allegati"},{id:V3.Everything,name:"Elabora tutti i file, inclusi gli allegati nel corpo"}],Zje=[{id:_u.Attachments,name:"Elabora solo gli allegati"},{id:_u.Email_Only,name:"Elabora il messaggio come .eml"},{id:_u.Everything,name:"Elabora il messaggio come .eml e allegati separatamente"}],jje=[{id:Na.Delete,name:"Elimina"},{id:Na.Move,name:"Sposta nella cartella selezionata"},{id:Na.MarkRead,name:"Segna come letto, non elaborare le email lette"},{id:Na.Flag,name:"Contrassegna la email, non elaborare le email contrassegnate"},{id:Na.Tag,name:"Etichetta la posta con il tag specificato, non processare le email etichettate"}],Wje=[{id:pu.FromSubject,name:"Usa oggetto come titolo"},{id:pu.FromFilename,name:"Usa il nome dell'allegato come titolo"},{id:pu.None,name:"Non assegnare il titolo da questa regola"}],Xje=[{id:Nl.FromNothing,name:"Non assegnare un corrispondente"},{id:Nl.FromEmail,name:"Usa indirizzo email"},{id:Nl.FromName,name:"Usa nome (o indirizzo email se non disponibile)"},{id:Nl.FromCustom,name:"Usa il corrispondente selezionato qui sotto"}];let oF=(()=>{class e extends K1{constructor(t,n,o,s,r,a,l){super(t,n,a,l),o.listAll().pipe(wt()).subscribe(u=>this.accounts=u.results),s.listAll().pipe(wt()).subscribe(u=>this.correspondents=u.results),r.listAll().pipe(wt()).subscribe(u=>this.documentTypes=u.results)}getCreateTitle(){return "Crea nuova regola email"}getEditTitle(){return "Modifica regola email"}getForm(){return new In({name:new Re(null),account:new Re(null),folder:new Re("INBOX"),filter_from:new Re(null),filter_to:new Re(null),filter_subject:new Re(null),filter_body:new Re(null),filter_attachment_filename_include:new Re(null),filter_attachment_filename_exclude:new Re(null),maximum_age:new Re(null),attachment_type:new Re(V3.Attachments),consumption_scope:new Re(_u.Attachments),order:new Re(null),action:new Re(Na.MarkRead),action_parameter:new Re(null),assign_title_from:new Re(pu.FromSubject),assign_tags:new Re([]),assign_document_type:new Re(null),assign_correspondent_from:new Re(Nl.FromNothing),assign_correspondent:new Re(null),assign_owner_from_rule:new Re(!0)})}get showCorrespondentField(){return this.objectForm?.get("assign_correspondent_from")?.value==Nl.FromCustom}get showActionParamField(){return this.objectForm?.get("action")?.value==Na.Move||this.objectForm?.get("action")?.value==Na.Tag}get attachmentTypeOptions(){return Uje}get actionOptions(){return jje}get metadataTitleOptions(){return Wje}get metadataCorrespondentOptions(){return Xje}get consumptionScopeOptions(){return Zje}static#e=this.\u0275fac=function(n){return new(n||e)(Y(n9),Y(Gi),Y(t9),Y(Aa),Y(Oa),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-mail-rule-edit-dialog"]],features:[Ct],decls:41,vars:30,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En,Ut,Hn,Ni;return t="Nome",n="Profilo",o="Cartella",s="Le sottocartelle devono essere separate da un delimitatore, solitamente da un punto ('.') o da uno slash ('/'), ma variano a seconda del server di posta.",r="Et\xE0 massima (giorni)",a="Tipo di allegato",l="Ambito di applicazione",u="Controlla la documentazione per l'elaborazione dei file .eml",p="Ordine regola",v="Filtra da",L="Filtra per",z="Filtro oggetto",ie="Filtro corpo messaggio",se="Filtra il nome del file allegato includendo",he="Elabora esclusivamente i documenti che corrispondono completamente a questo nome. Puoi usare wildcard come *.pdf o *fattura*. Ignora maiuscole e minuscole.",be="Filtra il nome del file allegato escludendo",we="Non elaborare i documenti che corrispondono completamente a questo nome se specificato. Puoi usare wildcard come *.pdf o *fattura*. Ignora maiuscole e minuscole.",Fe="Azione",Ae="L'azione viene eseguita solo quando i documenti vengono elaborati dalle email. Le email senza allegati non vengolo toccate.",Qe="Azione parametro",pt="Assegna tittolo da",gt="Assegna tipo di documento",Mt="Assegna corrispondente da",Pt="Assegna corrispondente",xt="Assegna proprietario dalla regola",En="Paperless elaborer\xE0 solo messaggi che corrispondono a " + "\ufffd#19\ufffd" + "all" + "\ufffd/#19\ufffd" + " o i filtri specificati qui sotto.",Ut="Annulla",Hn="Salva",Ni="Errore",[En,Ut,Hn,Ni,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","account",3,"items"],["title",o,"formControlName","folder","hint",s,3,"error"],["title",r,"formControlName","maximum_age",3,"showAdd","error"],["title",a,"formControlName","attachment_type",3,"items"],["title",l,"formControlName","consumption_scope","hint",u,3,"items"],["title",p,"formControlName","order",3,"showAdd","error"],[1,"small"],["title",v,"formControlName","filter_from",3,"error"],["title",L,"formControlName","filter_to",3,"error"],["title",z,"formControlName","filter_subject",3,"error"],["title",ie,"formControlName","filter_body",3,"error"],["title",se,"formControlName","filter_attachment_filename_include","hint",he,3,"error"],["title",be,"formControlName","filter_attachment_filename_exclude","hint",we,3,"error"],["title",Fe,"formControlName","action","hint",Ae,3,"items"],["title",Qe,"formControlName","action_parameter",3,"error"],["title",pt,"formControlName","assign_title_from",3,"items"],["formControlName","assign_tags",3,"allowCreate"],["title",gt,"formControlName","assign_document_type",3,"items","allowNull"],["title",Mt,"formControlName","assign_correspondent_from",3,"items"],["title",Pt,"formControlName","assign_correspondent",3,"items","allowNull"],["title",xt,"formControlName","assign_owner_from_rule"],[1,"modal-footer"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(n,o){1&n&&(c(0,"form",4),F("ngSubmit",function(){return o.save()}),c(1,"div",5)(2,"h4",6),j(3),h(),q(4,Hje,2,1,"span",7),c(5,"button",8),F("click",function(){return o.cancel()}),h()(),c(6,"div",9)(7,"div",10)(8,"div",11),k(9,"pngx-input-text",12)(10,"pngx-input-select",13)(11,"pngx-input-text",14)(12,"pngx-input-number",15)(13,"pngx-input-select",16)(14,"pngx-input-select",17)(15,"pngx-input-number",18),h(),c(16,"div",11)(17,"p",19),hs(18,0),k(19,"em"),us(),h(),k(20,"pngx-input-text",20)(21,"pngx-input-text",21)(22,"pngx-input-text",22)(23,"pngx-input-text",23)(24,"pngx-input-text",24)(25,"pngx-input-text",25),h(),c(26,"div",11),k(27,"pngx-input-select",26),q(28,$je,1,1,"pngx-input-text",27),k(29,"pngx-input-select",28)(30,"pngx-input-tags",29)(31,"pngx-input-select",30)(32,"pngx-input-select",31),q(33,Bje,1,2,"pngx-input-select",32),k(34,"pngx-input-check",33),h()()(),c(35,"div",34),q(36,Gje,4,1,"span",35),c(37,"button",36),F("click",function(){return o.cancel()}),R(38,1),h(),c(39,"button",37),R(40,2),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(4),w("error",null==o.error?null:o.error.name),d(),w("items",o.accounts),d(),w("error",null==o.error?null:o.error.folder),d(),w("showAdd",!1)("error",null==o.error?null:o.error.maximum_age),d(),w("items",o.attachmentTypeOptions),d(),w("items",o.consumptionScopeOptions),d(),w("showAdd",!1)("error",null==o.error?null:o.error.order),d(5),w("error",null==o.error?null:o.error.filter_from),d(),w("error",null==o.error?null:o.error.filter_to),d(),w("error",null==o.error?null:o.error.filter_subject),d(),w("error",null==o.error?null:o.error.filter_body),d(),w("error",null==o.error?null:o.error.filter_attachment_filename_include),d(),w("error",null==o.error?null:o.error.filter_attachment_filename_exclude),d(2),w("items",o.actionOptions),d(),J(o.showActionParamField?28:-1),d(),w("items",o.metadataTitleOptions),d(),w("allowCreate",!1),d(),w("items",o.documentTypes)("allowNull",!0),d(),w("items",o.metadataCorrespondentOptions),d(),J(o.showCorrespondentField?33:-1),d(3),J(null!=o.error&&o.error.non_field_errors?36:-1),d(),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,Sr,Y1,$v,tu]})}return e})();function Kje(e,i){if(1&e&&(c(0,"span",10),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}let sF=(()=>{class e extends K1{constructor(t,n,o,s){super(t,n,t,s),this.passwordIsSet=!1,o.listAll().pipe(wt()).subscribe(r=>this.groups=r.results)}ngOnInit(){super.ngOnInit(),this.onToggleSuperUser()}getCreateTitle(){return "Crea nuovo account utente"}getEditTitle(){return "Modifica account utente"}getForm(){return new In({username:new Re(""),email:new Re(""),password:new Re(null),first_name:new Re(""),last_name:new Re(""),is_active:new Re(!0),is_staff:new Re(!0),is_superuser:new Re(!1),groups:new Re([]),user_permissions:new Re([])})}onToggleSuperUser(){this.objectForm.get("is_superuser").value?this.objectForm.get("user_permissions").disable():this.objectForm.get("user_permissions").enable()}get inheritedPermissions(){const t=this.objectForm.get("groups").value;return t?t.flatMap(n=>this.groups.find(o=>o.id==n)?.permissions):[]}save(){this.passwordIsSet=this.objectForm.get("password").value?.toString().replaceAll("*","").length>0,super.save()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(vo),Y(Gi),Y(kh),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-user-edit-dialog"]],features:[Ct],decls:41,vars:14,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se;return t="Nome utente",n="Email",o="Password",s="Nome",r="Cognome",a="Gruppi",l="Permessi",u="Attivo",p="Amministratore",v="Log di accesso, backend Django",L="Superutente",z="(Concede tutti i permessi e pu\xF2 vedere gli oggetti)",ie="Annulla",se="Salva",[u,p,v,L,z,ie,se,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],["title",t,"formControlName","username",3,"error"],["title",n,"formControlName","email",3,"error"],["title",o,"formControlName","password",3,"error"],["title",s,"formControlName","first_name",3,"error"],["title",r,"formControlName","last_name",3,"error"],[1,"mb-2","d-flex","flex-column"],[1,"form-check","form-switch","form-check-inline"],["type","checkbox","id","is_active","formControlName","is_active",1,"form-check-input"],["for","is_active",1,"form-check-label"],["type","checkbox","id","is_staff","formControlName","is_staff",1,"form-check-input"],["for","is_staff",1,"form-check-label"],[1,"form-text","text-muted","ms-1"],["type","checkbox","id","is_superuser","formControlName","is_superuser",1,"form-check-input",3,"change"],["for","is_superuser",1,"form-check-label"],["title",a,"multiple","true","formControlName","groups",3,"items"],[1,"col"],["title",l,"formControlName","user_permissions",3,"error","inheritedPermissions"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"]]},template:function(n,o){1&n&&(c(0,"form",7),F("ngSubmit",function(){return o.save()}),c(1,"div",8)(2,"h4",9),j(3),h(),q(4,Kje,2,1,"span",10),c(5,"button",11),F("click",function(){return o.cancel()}),h()(),c(6,"div",12)(7,"div",13)(8,"div",14),k(9,"pngx-input-text",15)(10,"pngx-input-text",16)(11,"pngx-input-password",17)(12,"pngx-input-text",18)(13,"pngx-input-text",19),c(14,"div",20)(15,"div",21),k(16,"input",22),c(17,"label",23),R(18,0),h()(),c(19,"div",21),k(20,"input",24),c(21,"label",25),ke(22),R(23,1),ze(),c(24,"small",26),R(25,2),h()()(),c(26,"div",21)(27,"input",27),F("change",function(){return o.onToggleSuperUser()}),h(),c(28,"label",28),ke(29),R(30,3),ze(),c(31,"small",26),R(32,4),h()()()(),k(33,"pngx-input-select",29),h(),c(34,"div",30),k(35,"pngx-permissions-select",31),h()()(),c(36,"div",32)(37,"button",33),F("click",function(){return o.cancel()}),R(38,5),h(),c(39,"button",34),R(40,6),h()()()),2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(4),w("error",null==o.error?null:o.error.username),d(),w("error",null==o.error?null:o.error.email),d(),w("error",null==o.error?null:o.error.password),d(),w("error",null==o.error?null:o.error.first_name),d(),w("error",null==o.error?null:o.error.first_name),d(20),w("items",o.groups),d(2),w("error",null==o.error?null:o.error.user_permissions)("inheritedPermissions",o.inheritedPermissions),d(2),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[ro,ts,Yt,Wi,Bi,Xi,Ds,Sr,Yv,tF]})}return e})();var H3=function(e){return e[e.ConsumeFolder=1]="ConsumeFolder",e[e.ApiUpload=2]="ApiUpload",e[e.MailFetch=3]="MailFetch",e}(H3||{}),J5=function(e){return e[e.Consumption=1]="Consumption",e[e.DocumentAdded=2]="DocumentAdded",e[e.DocumentUpdated=3]="DocumentUpdated",e}(J5||{}),Q5=function(e){return e[e.Assignment=1]="Assignment",e[e.Removal=2]="Removal",e}(Q5||{});let rF=(()=>{class e extends Sa{constructor(t){super(t,"workflows"),this.workflows=[]}reload(){this.loading=!0,this.listAll().subscribe(t=>{this.workflows=t.results,this.loading=!1})}get allWorkflows(){return this.workflows}create(t){return super.create(t).pipe(dn(()=>this.reload()))}update(t){return super.update(t).pipe(dn(()=>this.reload()))}delete(t){return super.delete(t).pipe(dn(()=>this.reload()))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const qje=(e,i)=>({"align-items-center":e,"d-flex":i});function Yje(e,i){1&e&&k(0,"i-bs",13)}function Jje(e,i){if(1&e){const t=pe();c(0,"button",15),F("click",function(){H(t);const o=_(2);return $(o.removed.emit(o))}),k(1,"i-bs",16),j(2,"\xa0"),ke(3),R(4,2),ze(),h()}}function Qje(e,i){if(1&e&&(c(0,"div",6)(1,"label",12),j(2),q(3,Yje,1,0,"i-bs",13),h(),q(4,Jje,5,0,"button",14),h()),2&e){const t=_(),n=vt(10);d(),w("for",t.inputId)("ngbTooltip",t.showUnsetNote&&t.isUnset?n:null),d(),nt(" ",t.title," "),d(),J(t.showUnsetNote&&t.isUnset?3:-1),d(),J(t.removable?4:-1)}}function eWe(e,i){1&e&&(j(0," \xa0"),k(1,"i-bs",13))}function tWe(e,i){if(1&e&&(c(0,"label",17),j(1),q(2,eWe,2,0,"i-bs",13),h()),2&e){const t=_(),n=vt(10);Ye("text-muted",t.showUnsetNote&&t.isUnset),w("for",t.inputId)("ngbTooltip",t.showUnsetNote&&t.isUnset?n:null),d(),nt(" ",t.title," "),d(),J(t.showUnsetNote&&t.isUnset?2:-1)}}function nWe(e,i){if(1&e&&(c(0,"div",11),j(1),h()),2&e){const t=_();d(),Pe(t.hint)}}function iWe(e,i){1&e&&(c(0,"span",18),R(1,3),h())}let i9=(()=>{class e extends _s{constructor(){super(),this.showUnsetNote=!1}get isUnset(){return null==this.value}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-switch"]],inputs:{showUnsetNote:"showUnsetNote"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:11,vars:10,consts:()=>{let t,n;return t="Rimuovi",n="Nota: il valore non \xE8 stato ancora impostato e non verr\xE0 applicato finch\xE9 non verr\xE0 modificato esplicitamente",[["inputField",""],["tipContent",""],t,n,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container","col-md-3"],[3,"ngClass"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","blur","id","ngModel","disabled"],["placement","end",1,"form-check-label",3,"text-muted","for","ngbTooltip"],[1,"form-text","text-muted"],["placement","end",1,"form-label",3,"for","ngbTooltip"],["width","0.9em","height","0.9em","name","exclamation-triangle"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],["placement","end",1,"form-check-label",3,"for","ngbTooltip"],[1,"text-light","fst-italic"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",4)(1,"div",5),q(2,Qje,5,5,"div",6),c(3,"div",7)(4,"div",8)(5,"input",9,0),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),F("change",function(){return H(s),$(o.onChange(o.value))})("blur",function(){return H(s),$(o.onTouched())}),h(),q(7,tWe,3,6,"label",10)(8,nWe,2,1,"div",11),h()()()(),q(9,iWe,2,0,"ng-template",null,1,on)}2&n&&(d(2),J(o.horizontal?-1:2),d(),w("ngClass",rt(7,qje,o.horizontal,o.horizontal)),d(2),w("id",o.inputId),bt("ngModel",o.value),w("disabled",o.disabled),d(2),J(o.horizontal?7:-1),d(),J(o.hint?8:-1))},dependencies:[va,yh,ts,Yt,Ln,Wt]})}return e})();const oWe=(e,i)=>({formGroup:e,trigger:i}),sWe=(e,i)=>({formGroup:e,action:i});function rWe(e,i){if(1&e&&(c(0,"span",36),j(1),h()),2&e){const t=_();d(),nt("ID: ",t.object.id,"")}}function aWe(e,i){if(1&e&&(c(0,"span",36),j(1),h()),2&e){const t=_().$implicit;d(),nt("ID: ",t.id,"")}}function lWe(e,i){}function cWe(e,i){if(1&e){const t=pe();c(0,"div",47)(1,"div",48)(2,"button",49),j(3),q(4,aWe,2,1,"span",36),c(5,"pngx-confirm-button",63),F("confirm",function(){const o=H(t).$index;return $(_(2).removeTrigger(o))}),h()()(),c(6,"div",50)(7,"div",51),q(8,lWe,0,0,"ng-template",64),h()()()}if(2&e){const t=i.$implicit,n=i.$index,o=_(2),s=vt(36);d(3),l1("",n+1,". ",o.getTriggerTypeOptionName(o.triggerFields.controls[n].value.type)," "),d(),J(t.id?4:-1),d(4),w("ngTemplateOutlet",s)("ngTemplateOutletContext",rt(5,oWe,o.triggerFields.controls[n],t))}}function dWe(e,i){if(1&e){const t=pe();c(0,"div",58)(1,"p",59),R(2,6),h(),c(3,"button",60),F("click",function(){return H(t),$(_().addTrigger())}),k(4,"i-bs",61),j(5,"\xa0"),ke(6),R(7,7),ze(),h()(),c(8,"div",62),ut(9,cWe,9,8,"div",47,Ft),h()}if(2&e){const t=_();d(8),w("closeOthers",!0),d(),_t(null==t.object?null:t.object.triggers)}}function hWe(e,i){if(1&e&&(c(0,"span",36),j(1),h()),2&e){const t=_().$implicit;d(),nt("ID: ",t.id,"")}}function uWe(e,i){}function _We(e,i){if(1&e){const t=pe();c(0,"div",66)(1,"div",48)(2,"button",49),j(3),q(4,hWe,2,1,"span",36),c(5,"pngx-confirm-button",67),F("confirm",function(){const o=H(t).$index;return $(_(2).removeAction(o))}),h()()(),c(6,"div",50)(7,"div",51),q(8,uWe,0,0,"ng-template",64),h()()()}if(2&e){const t=i.$implicit,n=i.$index,o=_(2),s=vt(38);w("formGroup",o.actionFields.controls[n]),d(3),l1("",n+1,". ",o.getActionTypeOptionName(o.actionFields.controls[n].value.type)," "),d(),J(t.id?4:-1),d(4),w("ngTemplateOutlet",s)("ngTemplateOutletContext",rt(6,sWe,o.actionFields.controls[n],t))}}function pWe(e,i){if(1&e){const t=pe();c(0,"div",58)(1,"p",59),R(2,8),h(),c(3,"button",60),F("click",function(){return H(t),$(_().addAction())}),k(4,"i-bs",61),j(5,"\xa0"),ke(6),R(7,9),ze(),h()(),c(8,"div",65),F("cdkDropListDropped",function(o){return H(t),$(_().onActionDrop(o))}),ut(9,_We,9,9,"div",66,Ft),h()}if(2&e){const t=_();d(8),w("closeOthers",!0),d(),_t(null==t.object?null:t.object.actions)}}function gWe(e,i){if(1&e&&(c(0,"span",54),ke(1),R(2,10),ze(),j(3),h()),2&e){const t=_();d(3),nt(": ",t.error.non_field_errors,"")}}function fWe(e,i){if(1&e&&k(0,"pngx-input-select",73)(1,"pngx-input-text",74)(2,"pngx-input-select",75),2&e){const t=_(2);w("items",t.sourceOptions)("multiple",!0)("error",null==t.error?null:t.error.sources),d(),w("error",null==t.error?null:t.error.filter_path),d(),w("items",t.mailRules)("allowNull",!0)("error",null==t.error?null:t.error.filter_mailrule)}}function mWe(e,i){if(1&e&&k(0,"pngx-input-text",77),2&e){const t=_(3);w("error",null==t.error?null:t.error.match)}}function vWe(e,i){1&e&&k(0,"pngx-input-check",78)}function CWe(e,i){if(1&e&&(k(0,"pngx-input-select",76),q(1,mWe,1,1,"pngx-input-text",77)(2,vWe,1,0,"pngx-input-check",78)),2&e){const t=_(2);w("items",t.getMatchingAlgorithms()),d(),J(t.patternRequired?1:-1),d(),J(t.patternRequired?2:-1)}}function wWe(e,i){if(1&e&&(c(0,"div",40),k(1,"pngx-input-tags",79)(2,"pngx-input-select",80)(3,"pngx-input-select",81),h()),2&e){const t=_(2);d(),w("allowCreate",!1),d(),w("items",t.correspondents)("allowNull",!0),d(),w("items",t.documentTypes)("allowNull",!0)}}function MWe(e,i){if(1&e&&(c(0,"div",68),k(1,"input",69)(2,"pngx-input-select",70),c(3,"p",71),hs(4,11),k(5,"em"),us(),h(),c(6,"div",39)(7,"div",44),k(8,"pngx-input-text",72),q(9,fWe,3,7)(10,CWe,3,3),h(),q(11,wWe,4,5,"div",40),h()()),2&e){const t=i.formGroup,n=_();w("formGroup",t),d(2),w("horizontal",!0)("items",n.triggerTypeOptions),d(6),w("error",null==n.error?null:n.error.filter_filename),d(),J(t.get("type").value===n.WorkflowTriggerType.Consumption?9:-1),d(),J(t.get("type").value===n.WorkflowTriggerType.DocumentAdded||t.get("type").value===n.WorkflowTriggerType.DocumentUpdated?10:-1),d(),J(t.get("type").value===n.WorkflowTriggerType.DocumentAdded||t.get("type").value===n.WorkflowTriggerType.DocumentUpdated?11:-1)}}function bWe(e,i){if(1&e&&(c(0,"div",39)(1,"div",44),k(2,"pngx-input-text",83)(3,"pngx-input-tags",84)(4,"pngx-input-select",85)(5,"pngx-input-select",86)(6,"pngx-input-select",87)(7,"pngx-input-select",88),h(),c(8,"div",44),k(9,"pngx-input-select",89),c(10,"div")(11,"label",90),R(12,12),h(),c(13,"div",91)(14,"div",92)(15,"div",93)(16,"label",94),R(17,13),h()(),c(18,"div",95),k(19,"pngx-permissions-user",96),h()(),c(20,"div",39)(21,"div",93)(22,"label",94),R(23,14),h()(),c(24,"div",95),k(25,"pngx-permissions-group",97),h()()(),c(26,"label",90),R(27,15),h(),c(28,"div")(29,"div",92)(30,"div",93)(31,"label",94),R(32,16),h()(),c(33,"div",95),k(34,"pngx-permissions-user",98),h()(),c(35,"div",39)(36,"div",93)(37,"label",94),R(38,17),h()(),c(39,"div",95),k(40,"pngx-permissions-group",99),h()(),c(41,"small",100),R(42,18),h()()()()()),2&e){const t=_(2);d(2),w("error",null==t.error||null==t.error.actions||null==t.error.actions[t.i]?null:t.error.actions[t.i].assign_title),d(),w("allowCreate",!1),d(),w("items",t.documentTypes)("allowNull",!0),d(),w("items",t.correspondents)("allowNull",!0),d(),w("items",t.storagePaths)("allowNull",!0),d(),w("items",t.customFields)("allowNull",!0),d(2),w("items",t.users)("allowNull",!0)}}function TWe(e,i){if(1&e&&(c(0,"div",39)(1,"div",44)(2,"h6",90),R(3,19),h(),k(4,"pngx-input-switch",101),c(5,"div",102),k(6,"pngx-input-tags",103),h(),c(7,"h6",90),R(8,20),h(),k(9,"pngx-input-switch",104),c(10,"div",102),k(11,"pngx-input-select",105),h(),c(12,"h6",90),R(13,21),h(),k(14,"pngx-input-switch",106),c(15,"div",102),k(16,"pngx-input-select",107),h(),c(17,"h6",90),R(18,22),h(),k(19,"pngx-input-switch",108),c(20,"div",102),k(21,"pngx-input-select",109),h(),c(22,"h6",90),R(23,23),h(),k(24,"pngx-input-switch",110),c(25,"div",102),k(26,"pngx-input-select",111),h()(),c(27,"div",44)(28,"h6",90),R(29,24),h(),k(30,"pngx-input-switch",112),c(31,"div",102),k(32,"pngx-input-select",113),h(),c(33,"h6",90),R(34,25),h(),k(35,"pngx-input-switch",114),c(36,"div")(37,"label",90),R(38,26),h(),c(39,"div",91)(40,"div",92)(41,"div",93)(42,"label",94),R(43,27),h()(),c(44,"div",95),k(45,"pngx-permissions-user",115),h()(),c(46,"div",39)(47,"div",93)(48,"label",94),R(49,28),h()(),c(50,"div",95),k(51,"pngx-permissions-group",116),h()()(),c(52,"label",90),R(53,29),h(),c(54,"div")(55,"div",92)(56,"div",93)(57,"label",94),R(58,30),h()(),c(59,"div",95),k(60,"pngx-permissions-user",117),h()(),c(61,"div",39)(62,"div",93)(63,"label",94),R(64,31),h()(),c(65,"div",95),k(66,"pngx-permissions-group",118),h()(),c(67,"small",100),R(68,32),h()()()()()),2&e){const t=_(2);d(4),w("horizontal",!0),d(2),w("allowCreate",!1),d(3),w("horizontal",!0),d(2),w("items",t.correspondents),d(3),w("horizontal",!0),d(2),w("items",t.documentTypes),d(3),w("horizontal",!0),d(2),w("items",t.storagePaths),d(3),w("horizontal",!0),d(2),w("items",t.customFields),d(4),w("horizontal",!0),d(2),w("items",t.users),d(3),w("horizontal",!0)}}function SWe(e,i){if(1&e&&(c(0,"div",68),k(1,"input",69)(2,"pngx-input-select",82),q(3,bWe,43,12,"div",39)(4,TWe,69,13,"div",39),h()),2&e){let t;const n=i.formGroup,o=_();w("formGroup",n),d(2),w("horizontal",!0)("items",o.actionTypeOptions),d(),J((t=n.get("type").value)===o.WorkflowActionType.Assignment?3:t===o.WorkflowActionType.Removal?4:-1)}}const EWe=[{id:H3.ConsumeFolder,name:"Cartella di elaborazione"},{id:H3.ApiUpload,name:"Upload API"},{id:H3.MailFetch,name:"Recupero Posta"}],aF=[{id:J5.Consumption,name:"Elaborazione avviata"},{id:J5.DocumentAdded,name:"Documento Aggiunto"},{id:J5.DocumentUpdated,name:"Documento Aggiornato"}],AWe=[{id:Q5.Assignment,name:"Assegnazione"},{id:Q5.Removal,name:"Rimozione"}],OWe=Om.filter(e=>6!==e.id);let lF=(()=>{class e extends K1{constructor(t,n,o,s,r,a,l,u,p){super(t,n,l,u),this.WorkflowTriggerType=J5,this.WorkflowActionType=Q5,this.expandedItem=null,o.listAll().pipe(wt()).subscribe(v=>this.correspondents=v.results),s.listAll().pipe(wt()).subscribe(v=>this.documentTypes=v.results),r.listAll().pipe(wt()).subscribe(v=>this.storagePaths=v.results),a.listAll().pipe(wt()).subscribe(v=>this.mailRules=v.results),p.listAll().pipe(wt()).subscribe(v=>this.customFields=v.results)}getCreateTitle(){return "Crea un nuovo flusso di lavoro"}getEditTitle(){return "Modifica flusso di lavoro"}getForm(){return new In({name:new Re(null),order:new Re(null),enabled:new Re(!0),triggers:new g5([]),actions:new g5([])})}getMatchingAlgorithms(){return OWe}ngOnInit(){super.ngOnInit(),this.updateAllTriggerActionFields(),this.objectForm.valueChanges.subscribe(this.checkRemovalActionFields.bind(this)),this.checkRemovalActionFields(this.objectForm.value)}checkRemovalActionFields(t){t.actions.filter(n=>n.type===Q5.Removal).forEach((n,o)=>{n.remove_all_tags?this.actionFields.at(o).get("remove_tags").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_tags").enable({emitEvent:!1}),n.remove_all_document_types?this.actionFields.at(o).get("remove_document_types").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_document_types").enable({emitEvent:!1}),n.remove_all_correspondents?this.actionFields.at(o).get("remove_correspondents").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_correspondents").enable({emitEvent:!1}),n.remove_all_storage_paths?this.actionFields.at(o).get("remove_storage_paths").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_storage_paths").enable({emitEvent:!1}),n.remove_all_custom_fields?this.actionFields.at(o).get("remove_custom_fields").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_custom_fields").enable({emitEvent:!1}),n.remove_all_owners?this.actionFields.at(o).get("remove_owners").disable({emitEvent:!1}):this.actionFields.at(o).get("remove_owners").enable({emitEvent:!1}),n.remove_all_permissions?(this.actionFields.at(o).get("remove_view_users").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_view_groups").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_users").disable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_groups").disable({emitEvent:!1})):(this.actionFields.at(o).get("remove_view_users").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_view_groups").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_users").enable({emitEvent:!1}),this.actionFields.at(o).get("remove_change_groups").enable({emitEvent:!1}))})}get triggerFields(){return this.objectForm.get("triggers")}get actionFields(){return this.objectForm.get("actions")}createTriggerField(t,n=!1){this.triggerFields.push(new In({id:new Re(t.id),type:new Re(t.type),sources:new Re(t.sources),filter_filename:new Re(t.filter_filename),filter_path:new Re(t.filter_path),filter_mailrule:new Re(t.filter_mailrule),matching_algorithm:new Re(t.matching_algorithm),match:new Re(t.match),is_insensitive:new Re(t.is_insensitive),filter_has_tags:new Re(t.filter_has_tags),filter_has_correspondent:new Re(t.filter_has_correspondent),filter_has_document_type:new Re(t.filter_has_document_type)}),{emitEvent:n})}createActionField(t,n=!1){this.actionFields.push(new In({id:new Re(t.id),type:new Re(t.type),assign_title:new Re(t.assign_title),assign_tags:new Re(t.assign_tags),assign_owner:new Re(t.assign_owner),assign_document_type:new Re(t.assign_document_type),assign_correspondent:new Re(t.assign_correspondent),assign_storage_path:new Re(t.assign_storage_path),assign_view_users:new Re(t.assign_view_users),assign_view_groups:new Re(t.assign_view_groups),assign_change_users:new Re(t.assign_change_users),assign_change_groups:new Re(t.assign_change_groups),assign_custom_fields:new Re(t.assign_custom_fields),remove_tags:new Re(t.remove_tags),remove_all_tags:new Re(t.remove_all_tags),remove_document_types:new Re(t.remove_document_types),remove_all_document_types:new Re(t.remove_all_document_types),remove_correspondents:new Re(t.remove_correspondents),remove_all_correspondents:new Re(t.remove_all_correspondents),remove_storage_paths:new Re(t.remove_storage_paths),remove_all_storage_paths:new Re(t.remove_all_storage_paths),remove_owners:new Re(t.remove_owners),remove_all_owners:new Re(t.remove_all_owners),remove_view_users:new Re(t.remove_view_users),remove_view_groups:new Re(t.remove_view_groups),remove_change_users:new Re(t.remove_change_users),remove_change_groups:new Re(t.remove_change_groups),remove_all_permissions:new Re(t.remove_all_permissions),remove_custom_fields:new Re(t.remove_custom_fields),remove_all_custom_fields:new Re(t.remove_all_custom_fields)}),{emitEvent:n})}updateAllTriggerActionFields(t=!1){this.triggerFields.clear({emitEvent:!1}),this.object?.triggers.forEach(n=>{this.createTriggerField(n,t)}),this.actionFields.clear({emitEvent:!1}),this.object?.actions.forEach(n=>{this.createActionField(n,t)})}get sourceOptions(){return EWe}get triggerTypeOptions(){return aF}getTriggerTypeOptionName(t){return this.triggerTypeOptions.find(n=>n.id===t)?.name??""}addTrigger(){this.object||(this.object=Object.assign({},this.objectForm.value));const t={type:J5.Consumption,sources:[],filter_filename:null,filter_path:null,filter_mailrule:null,filter_has_tags:[],filter_has_correspondent:null,filter_has_document_type:null,matching_algorithm:0,match:"",is_insensitive:!0};this.object.triggers.push(t),this.createTriggerField(t)}get actionTypeOptions(){return AWe}getActionTypeOptionName(t){return this.actionTypeOptions.find(n=>n.id===t)?.name??""}addAction(){this.object||(this.object=Object.assign({},this.objectForm.value));const t={type:Q5.Assignment,assign_title:null,assign_tags:[],assign_document_type:null,assign_correspondent:null,assign_storage_path:null,assign_owner:null,assign_view_users:[],assign_view_groups:[],assign_change_users:[],assign_change_groups:[],assign_custom_fields:[],remove_tags:[],remove_all_tags:!1,remove_document_types:[],remove_all_document_types:!1,remove_correspondents:[],remove_all_correspondents:!1,remove_storage_paths:[],remove_all_storage_paths:!1,remove_owners:[],remove_all_owners:!1,remove_view_users:[],remove_view_groups:[],remove_change_users:[],remove_change_groups:[],remove_all_permissions:!1,remove_custom_fields:[],remove_all_custom_fields:!1};this.object.actions.push(t),this.createActionField(t)}removeTrigger(t){this.object.triggers.splice(t,1).pop(),this.triggerFields.removeAt(t)}removeAction(t){this.object.actions.splice(t,1),this.actionFields.removeAt(t)}onActionDrop(t){Y5(this.object.actions,t.previousIndex,t.currentIndex);const n=this.actionFields.at(t.previousIndex);this.actionFields.removeAt(t.previousIndex),this.actionFields.insert(t.currentIndex,n),this.object.actions.forEach(o=>o.id=null),this.actionFields.controls.forEach(o=>o.get("id").setValue(null,{emitEvent:!1}))}static#e=this.\u0275fac=function(n){return new(n||e)(Y(rF),Y(Gi),Y(Aa),Y(Oa),Y(d0),Y(n9),Y(vo),Y(Tn),Y(Ea))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-workflow-edit-dialog"]],features:[Ct],decls:39,vars:11,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo,zt,Fs,Pr,ks,Ir,$t,ta,na,Bt,m0,Hl,$l,Lr,ia,v0,C0,La,w0,M0,b0,T0,Cu,wu,Mu;return t="Nome",n="Ordinamento",o="Abilitato",s="Attivatori",r="Azioni",a="Annulla",l="Salva",u="Avvio del Flusso di lavoro quando:",p="Aggiungi trigger",v="Elimina",L="Applica Azioni:",z="Aggiungi Azione",ie="Elimina",se="Errore",he="Tipo di trigger",be="Filtra nome file",we="Elabora i documenti che corrispondono a questo nome. Puoi usare wildcard come *.pdf o *fattura*. Ignora maiuscole e minuscole.",Fe="Attiva per i documenti che corrispondono a " + "\ufffd#5\ufffd" + "tutti" + "\ufffd/#5\ufffd" + " filtri specificati di seguito.",Ae="Filtra sorgenti",Qe="Filtro percorso",pt="Applica ai documenti che corrispondono a questo percorso. I caratteri jolly specificati come * sono consentiti. Case-normalizzato.</a>",gt="Regola e-mail",Mt="Applica ai documenti elaborati attraverso questa regola di posta.",Pt="Algoritmo di corrispondenza contenuti",xt="Modello di corrispondenza contenuti",En="Senza distinzione tra maiuscole e minuscole",Ut="Ha uno dei tag",Hn="Ha corrispondente in",Ni="Ha tipo di documento in",en="Tipo di Azione",ci="Assegna titolo",Si="Pu\xF2 includere alcuni segnaposto, vedere <a target='_blank' href='https://docs.paperless-ngx.com/usage/#workflows'>documentation</a>.",Ro="Assegna tag",qi="Assegna tipo di documento",Fo="Assegna corrispondente",ko="Assegna percorso di archiviazione",Mo="Assegna campi personalizzati",bo="Assegna proprietario",Yi="Assegna permessi di visualizzazione",Vi="Utenti:",To="Gruppi:",zo="Assegna permessi di modifica",zt="Utenti:",Fs="Gruppi:",Pr="I permessi di modifica concedono anche quelli di lettura",ks="Rimuovi tutto",Ir="Rimuovi tutto",$t="Rimuovi tutto",ta="Rimuovi tutto",na="Rimuovi tutto",Bt="Rimuovi tutto",m0="Rimuovi tutto",Hl="Rimuovi tag",$l="Rimuovi corrispondenti",Lr="Rimuovi tipi di documento",ia="Rimuovi percorsi di archiviazione",v0="Rimuovi campi personalizzati",C0="Rimuovi proprietari",La="Rimuovi permessi",w0="Visualizza permessi",M0="Utenti:",b0="Gruppi:",T0="Modifica permessi",Cu="Utenti:",wu="Gruppi:",Mu="I permessi di modifica concedono anche quelli di lettura",[["triggerForm",""],["actionForm",""],s,r,a,l,u,p,L,z,se,Fe,Yi,Vi,To,zo,zt,Fs,Pr,Hl,$l,Lr,ia,v0,C0,La,w0,M0,b0,T0,Cu,wu,Mu,["autocomplete","off",3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"badge","bg-primary","text-primary-text-contrast","ms-2"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],["title",t,"formControlName","name","autocomplete","off",3,"error"],[1,"col-4"],["title",n,"formControlName","order",3,"showAdd","error"],[1,"col"],["title",o,"formControlName","enabled",3,"error"],["ngbAccordion",""],["ngbAccordionItem",""],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["ngbAccordionButton","",1,"btn-lg"],[1,"modal-footer"],[1,"text-danger"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["let","","action","action"],[1,"d-flex"],[1,"p-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-auto","mb-3",3,"click"],["name","plus-circle"],["ngbAccordion","",3,"closeOthers"],["label",v,"buttonClasses","btn-link text-danger ms-2","iconName","trash",3,"confirm"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["ngbAccordion","","cdkDropList","",3,"cdkDropListDropped","closeOthers"],["ngbAccordionItem","","cdkDrag","",3,"formGroup"],["label",ie,"buttonClasses","btn-link text-danger ms-2","iconName","trash",3,"confirm"],[3,"formGroup"],["type","hidden","formControlName","id"],["title",he,"formControlName","type",3,"horizontal","items"],[1,"small"],["title",be,"formControlName","filter_filename","hint",we,3,"error"],["title",Ae,"formControlName","sources",3,"items","multiple","error"],["title",Qe,"formControlName","filter_path","hint",pt,3,"error"],["title",gt,"formControlName","filter_mailrule","hint",Mt,3,"items","allowNull","error"],["title",Pt,"formControlName","matching_algorithm",3,"items"],["title",xt,"formControlName","match",3,"error"],["title",En,"formControlName","is_insensitive"],["title",Ut,"formControlName","filter_has_tags",3,"allowCreate"],["title",Hn,"formControlName","filter_has_correspondent",3,"items","allowNull"],["title",Ni,"formControlName","filter_has_document_type",3,"items","allowNull"],["title",en,"formControlName","type",3,"horizontal","items"],["title",ci,"formControlName","assign_title","hint",Si,3,"error"],["title",Ro,"formControlName","assign_tags",3,"allowCreate"],["title",qi,"formControlName","assign_document_type",3,"items","allowNull"],["title",Fo,"formControlName","assign_correspondent",3,"items","allowNull"],["title",ko,"formControlName","assign_storage_path",3,"items","allowNull"],["title",Mo,"multiple","true","formControlName","assign_custom_fields",3,"items","allowNull"],["title",bo,"bindLabel","username","formControlName","assign_owner",3,"items","allowNull"],[1,"form-label"],[1,"mb-2"],[1,"row","mb-1"],[1,"col-lg-3"],[1,"form-label","d-block","my-2","text-nowrap"],[1,"col-lg-9"],["type","view","formControlName","assign_view_users"],["type","view","formControlName","assign_view_groups"],["type","change","formControlName","assign_change_users"],["type","change","formControlName","assign_change_groups"],[1,"form-text","text-muted","text-end","d-block"],["title",ks,"formControlName","remove_all_tags",3,"horizontal"],[1,"mt-n3"],["title","","formControlName","remove_tags",3,"allowCreate"],["title",Ir,"formControlName","remove_all_correspondents",3,"horizontal"],["title","","multiple","true","formControlName","remove_correspondents",3,"items"],["title",$t,"formControlName","remove_all_document_types",3,"horizontal"],["title","","multiple","true","formControlName","remove_document_types",3,"items"],["title",ta,"formControlName","remove_all_storage_paths",3,"horizontal"],["title","","multiple","true","formControlName","remove_storage_paths",3,"items"],["title",na,"formControlName","remove_all_custom_fields",3,"horizontal"],["title","","multiple","true","formControlName","remove_custom_fields",3,"items"],["title",Bt,"formControlName","remove_all_owners",3,"horizontal"],["title","","multiple","true","bindLabel","username","formControlName","remove_owners",3,"items"],["title",m0,"formControlName","remove_all_permissions",3,"horizontal"],["type","view","formControlName","remove_view_users"],["type","view","formControlName","remove_view_groups"],["type","change","formControlName","remove_change_users"],["type","change","formControlName","remove_change_groups"]]},template:function(n,o){if(1&n){const s=pe();c(0,"form",33),F("ngSubmit",function(){return H(s),$(o.save())}),c(1,"div",34)(2,"h4",35),j(3),h(),q(4,rWe,2,1,"span",36),c(5,"button",37),F("click",function(){return H(s),$(o.cancel())}),h()(),c(6,"div",38)(7,"div",39)(8,"div",40),k(9,"pngx-input-text",41),h(),c(10,"div",42),k(11,"pngx-input-number",43),h(),c(12,"div",44),k(13,"pngx-input-switch",45),h()(),c(14,"div",46)(15,"div",47)(16,"h2",48)(17,"button",49),R(18,2),h()(),c(19,"div",50)(20,"div",51),q(21,dWe,11,1,"ng-template"),h()()(),c(22,"div",47)(23,"h2",48)(24,"button",52),R(25,3),h()(),c(26,"div",50)(27,"div",51),q(28,pWe,11,1,"ng-template"),h()()()()(),c(29,"div",53),q(30,gWe,4,1,"span",54),c(31,"button",55),F("click",function(){return H(s),$(o.cancel())}),R(32,4),h(),c(33,"button",56),R(34,5),h()()(),q(35,MWe,12,7,"ng-template",null,0,on)(37,SWe,5,4,"ng-template",57,1,on)}2&n&&(w("formGroup",o.objectForm),d(3),Pe(o.getTitle()),d(),J(null!=o.object&&o.object.id?4:-1),d(),w("disabled",!o.closeEnabled),d(4),w("error",null==o.error?null:o.error.name),d(2),w("showAdd",!1)("error",null==o.error?null:o.error.order),d(2),w("error",null==o.error?null:o.error.enabled),d(17),J(null!=o.error&&o.error.non_field_errors?30:-1),d(),w("disabled",o.networkActive),d(2),w("disabled",o.networkActive))},dependencies:[es,um,b5,Z1,_m,Dg,Ch,ro,si,Yt,Wi,Bi,Xi,du,cu,Wt,Ds,Sr,Y1,$v,tu,$m,Bm,i9,Jv],styles:[".btn.text-danger[_ngcontent-%COMP%]:hover, .btn.text-danger[_ngcontent-%COMP%]:focus{color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}"]})}return e})(),cF=(()=>{class e{constructor(t,n){this.http=t,this.settingsService=n,this.searchResultObjectLimit=3}autocomplete(t){return this.http.get(`${wi.apiBaseUrl}search/autocomplete/`,{params:(new Mr).set("term",t)})}globalSearch(t){let n=(new Mr).set("query",t);return this.searchDbOnly&&(n=n.set("db_only",!0)),this.http.get(`${wi.apiBaseUrl}search/`,{params:n})}get searchDbOnly(){return this.settingsService.get(Ue.SEARCH_DB_ONLY)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi),Ke(Tn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yWe=["searchInput"],DWe=["resultsDropdown"],NWe=["resultItem"],PWe=["primaryButton"],IWe=["secondaryButton"],qr=(e,i)=>i.id,LWe=(e,i,t)=>({item:e,nameProp:"title",type:i,icon:"file-text",date:t}),xWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"funnel"}),RWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"tag"}),FWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"person"}),kWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"file-earmark"}),zWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"folder"}),VWe=(e,i)=>({item:e,nameProp:"username",type:i,icon:"person-square"}),HWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"people"}),$We=(e,i)=>({item:e,nameProp:"name",type:i,icon:"ui-radios"}),BWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"envelope-at"}),GWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"envelope"}),UWe=(e,i)=>({item:e,nameProp:"name",type:i,icon:"boxes"});function ZWe(e,i){1&e&&k(0,"div",34)}function jWe(e,i){1&e&&(ke(0),R(1,6),ze())}function WWe(e,i){1&e&&(ke(0),R(1,7),ze())}function XWe(e,i){if(1&e){const t=pe();c(0,"button",39),F("click",function(){return H(t),$(_().runFullSearch())}),q(1,jWe,2,0,"ng-container")(2,WWe,2,0,"ng-container"),k(3,"i-bs",40),h()}if(2&e){const t=_();d(),J(t.useAdvancedForFullSearch?1:2)}}function KWe(e,i){if(1&e&&(c(0,"small",44),j(1),ot(2,"customDate"),h()),2&e){const t=_().date;d(),Pe(Et(2,1,t))}}function qWe(e,i){1&e&&(k(0,"i-bs",48),c(1,"span"),j(2,"\xa0"),ke(3),R(4,8),ze(),h())}function YWe(e,i){1&e&&(k(0,"i-bs",49),c(1,"span"),j(2,"\xa0"),ke(3),R(4,9),ze(),h())}function JWe(e,i){1&e&&(k(0,"i-bs",48),c(1,"span"),j(2,"\xa0"),ke(3),R(4,10),ze(),h())}function QWe(e,i){1&e&&(k(0,"i-bs",50),c(1,"span"),j(2,"\xa0"),ke(3),R(4,11),ze(),h())}function eXe(e,i){1&e&&(k(0,"i-bs",51),c(1,"span"),j(2,"\xa0"),ke(3),R(4,12),ze(),h())}function tXe(e,i){1&e&&(k(0,"i-bs",48),c(1,"span"),j(2,"\xa0"),ke(3),R(4,13),ze(),h())}function nXe(e,i){if(1&e){const t=pe();c(0,"button",46,5),F("click",function(o){H(t);const s=_(),r=s.item,a=s.type;return _().secondaryAction(a,r,o),$(o.stopImmediatePropagation())})("keydown",function(o){return H(t),$(_(2).onButtonKeyDown(o))})("mouseenter",function(o){return H(t),$(_(2).onButtonHover(o))}),q(2,eXe,5,0)(3,tXe,5,0),h()}if(2&e){const t=_(),n=t.item,o=t.type,s=_();w("disabled",s.disableSecondaryButton(o,n)),d(2),J(o===s.DataType.Document?2:3)}}function iXe(e,i){if(1&e){const t=pe();c(0,"div",41,3),F("click",function(o){const s=H(t),r=s.item,a=s.type;return $(_().primaryAction(a,r,o))})("mouseenter",function(o){return H(t),$(_().onItemHover(o))}),k(2,"i-bs",42),c(3,"div",43),j(4),q(5,KWe,3,3,"small",44),h(),c(6,"div",45)(7,"button",46,4),F("click",function(o){const s=H(t),r=s.item,a=s.type;return _().primaryAction(a,r,o),$(o.stopImmediatePropagation())})("keydown",function(o){return H(t),$(_().onButtonKeyDown(o))})("mouseenter",function(o){return H(t),$(_().onButtonHover(o))}),q(9,qWe,5,0)(10,YWe,5,0)(11,JWe,5,0)(12,QWe,5,0),h(),q(13,nXe,4,2,"button",47),h()()}if(2&e){const t=i.item,n=i.nameProp,o=i.type,s=i.icon,r=i.date,a=_();d(2),ui("name",s),d(2),nt(" ",t[n]," "),d(),J(r?5:-1),d(2),w("disabled",a.disablePrimaryButton(o,t)),d(2),J(o===a.DataType.Document?9:o===a.DataType.SavedView?10:o===a.DataType.Workflow||o===a.DataType.CustomField||o===a.DataType.Group||o===a.DataType.User||o===a.DataType.MailAccount||o===a.DataType.MailRule?11:12),d(4),J(o!==a.DataType.SavedView&&o!==a.DataType.Workflow&&o!==a.DataType.CustomField&&o!==a.DataType.Group&&o!==a.DataType.User&&o!==a.DataType.MailAccount&&o!==a.DataType.MailRule?13:-1)}}function oXe(e,i){1&e&&(c(0,"h6",38),R(1,14),h())}function sXe(e,i){1&e&&ri(0)}function rXe(e,i){if(1&e&&q(0,sXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",W0(2,LWe,t,n.DataType.Document,t.added))}}function aXe(e,i){if(1&e&&(c(0,"h6",38),R(1,15),h(),ut(2,rXe,1,6,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.documents)}}function lXe(e,i){1&e&&ri(0)}function cXe(e,i){if(1&e&&q(0,lXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,xWe,t,n.DataType.SavedView))}}function dXe(e,i){if(1&e&&(c(0,"h6",38),R(1,16),h(),ut(2,cXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.saved_views)}}function hXe(e,i){1&e&&ri(0)}function uXe(e,i){if(1&e&&q(0,hXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,RWe,t,n.DataType.Tag))}}function _Xe(e,i){if(1&e&&(c(0,"h6",38),R(1,17),h(),ut(2,uXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.tags)}}function pXe(e,i){1&e&&ri(0)}function gXe(e,i){if(1&e&&q(0,pXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,FWe,t,n.DataType.Correspondent))}}function fXe(e,i){if(1&e&&(c(0,"h6",38),R(1,18),h(),ut(2,gXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.correspondents)}}function mXe(e,i){1&e&&ri(0)}function vXe(e,i){if(1&e&&q(0,mXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,kWe,t,n.DataType.DocumentType))}}function CXe(e,i){if(1&e&&(c(0,"h6",38),R(1,19),h(),ut(2,vXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.document_types)}}function wXe(e,i){1&e&&ri(0)}function MXe(e,i){if(1&e&&q(0,wXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,zWe,t,n.DataType.StoragePath))}}function bXe(e,i){if(1&e&&(c(0,"h6",38),R(1,20),h(),ut(2,MXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.storage_paths)}}function TXe(e,i){1&e&&ri(0)}function SXe(e,i){if(1&e&&q(0,TXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,VWe,t,n.DataType.User))}}function EXe(e,i){if(1&e&&(c(0,"h6",38),R(1,21),h(),ut(2,SXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.users)}}function AXe(e,i){1&e&&ri(0)}function OXe(e,i){if(1&e&&q(0,AXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,HWe,t,n.DataType.Group))}}function yXe(e,i){if(1&e&&(c(0,"h6",38),R(1,22),h(),ut(2,OXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.groups)}}function DXe(e,i){1&e&&ri(0)}function NXe(e,i){if(1&e&&q(0,DXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,$We,t,n.DataType.CustomField))}}function PXe(e,i){if(1&e&&(c(0,"h6",38),R(1,23),h(),ut(2,NXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.custom_fields)}}function IXe(e,i){1&e&&ri(0)}function LXe(e,i){if(1&e&&q(0,IXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,BWe,t,n.DataType.MailAccount))}}function xXe(e,i){if(1&e&&(c(0,"h6",38),R(1,24),h(),ut(2,LXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.mail_accounts)}}function RXe(e,i){1&e&&ri(0)}function FXe(e,i){if(1&e&&q(0,RXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,GWe,t,n.DataType.MailRule))}}function kXe(e,i){if(1&e&&(c(0,"h6",38),R(1,25),h(),ut(2,FXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.mail_rules)}}function zXe(e,i){1&e&&ri(0)}function VXe(e,i){if(1&e&&q(0,zXe,1,0,"ng-container",52),2&e){const t=i.$implicit,n=_(3);w("ngTemplateOutlet",vt(12))("ngTemplateOutletContext",rt(2,UWe,t,n.DataType.Workflow))}}function HXe(e,i){if(1&e&&(c(0,"h6",38),R(1,26),h(),ut(2,VXe,1,5,"ng-container",null,qr)),2&e){const t=_(2);d(2),_t(t.searchResults.workflows)}}function $Xe(e,i){if(1&e&&q(0,aXe,4,0)(1,dXe,4,0)(2,_Xe,4,0)(3,fXe,4,0)(4,CXe,4,0)(5,bXe,4,0)(6,EXe,4,0)(7,yXe,4,0)(8,PXe,4,0)(9,xXe,4,0)(10,kXe,4,0)(11,HXe,4,0),2&e){const t=_();J(null!=t.searchResults&&t.searchResults.documents.length?0:-1),d(),J(null!=t.searchResults&&t.searchResults.saved_views.length?1:-1),d(),J(null!=t.searchResults&&t.searchResults.tags.length?2:-1),d(),J(null!=t.searchResults&&t.searchResults.correspondents.length?3:-1),d(),J(null!=t.searchResults&&t.searchResults.document_types.length?4:-1),d(),J(null!=t.searchResults&&t.searchResults.storage_paths.length?5:-1),d(),J(null!=t.searchResults&&t.searchResults.users.length?6:-1),d(),J(null!=t.searchResults&&t.searchResults.groups.length?7:-1),d(),J(null!=t.searchResults&&t.searchResults.custom_fields.length?8:-1),d(),J(null!=t.searchResults&&t.searchResults.mail_accounts.length?9:-1),d(),J(null!=t.searchResults&&t.searchResults.mail_rules.length?10:-1),d(),J(null!=t.searchResults&&t.searchResults.workflows.length?11:-1)}}let BXe=(()=>{class e{get useAdvancedForFullSearch(){return this.settingsService.get(Ue.SEARCH_FULL_TYPE)===$g.ADVANCED}constructor(t,n,o,s,r,a,l,u,p){this.searchService=t,this.router=n,this.modalService=o,this.documentService=s,this.documentListViewService=r,this.permissionsService=a,this.toastService=l,this.hotkeyService=u,this.settingsService=p,this.DataType=pn,this.currentItemIndex=-1,this.domIndex=-1,this.loading=!1,this.queryDebounce=new et,this.queryDebounce.pipe(Tr(400),At(v=>v?.trim()),$n(v=>!v?.length||v?.length>2),Ma()).subscribe(v=>{this.query=v,v&&this.search(v)})}ngOnInit(){this.hotkeyService.addShortcut({keys:"/",description:"Ricerca globale"}).subscribe(()=>{this.searchInput.nativeElement.focus()})}search(t){this.loading=!0,this.searchService.globalSearch(t).subscribe(n=>{this.searchResults=n,this.loading=!1,this.resultsDropdown.open()})}primaryAction(t,n,o=null){const s=o?.metaKey||o?.ctrlKey;this.reset(!0);let r,a,l="md";switch(t){case pn.Document:return void this.navigateOrOpenInNewWindow(["/documents",n.id],s);case pn.SavedView:return void this.navigateOrOpenInNewWindow(["/view",n.id],s);case pn.Correspondent:r=26;break;case pn.DocumentType:r=28;break;case pn.StoragePath:r=30;break;case pn.Tag:r=6;break;case pn.User:a=sF,l="lg";break;case pn.Group:a=nF,l="lg";break;case pn.MailAccount:a=iF,l="xl";break;case pn.MailRule:a=oF,l="xl";break;case pn.CustomField:a=N3;break;case pn.Workflow:a=lF,l="xl"}if(r){let u=Nv({filterRules:[{rule_type:r,value:n.id.toString()}],currentPage:1,sortField:this.documentListViewService.sortField??"created",sortReverse:this.documentListViewService.sortReverse});this.navigateOrOpenInNewWindow(["/documents"],s,{queryParams:u})}else if(a){const u=this.modalService.open(a,{size:l});u.componentInstance.dialogMode=Vn.EDIT,u.componentInstance.object=n,u.componentInstance.succeeded.subscribe(()=>{this.toastService.showInfo("Oggetto aggiornato con successo.")}),u.componentInstance.failed.subscribe(p=>{this.toastService.showError("Errore durante il salvataggio dell'oggetto.",p)})}}secondaryAction(t,n){let o;switch(this.reset(!0),t){case pn.Document:window.open(this.documentService.getDownloadUrl(n.id));break;case pn.Correspondent:o=e3;break;case pn.DocumentType:o=t3;break;case pn.StoragePath:o=f3;break;case pn.Tag:o=A3}if(o){const r=this.modalService.open(o,{size:"md"});r.componentInstance.dialogMode=Vn.EDIT,r.componentInstance.object=n,r.componentInstance.succeeded.subscribe(()=>{this.toastService.showInfo("Oggetto aggiornato con successo.")}),r.componentInstance.failed.subscribe(a=>{this.toastService.showError("Errore durante il salvataggio dell'oggetto.",a)})}}reset(t=!1){this.queryDebounce.next(null),this.query=null,this.searchResults=null,this.currentItemIndex=-1,t&&this.resultsDropdown.close()}setCurrentItem(){const t=this.resultItems.first.nativeElement.parentNode.querySelectorAll(".dropdown-item").item(this.currentItemIndex);this.domIndex=this.resultItems.toArray().indexOf(this.resultItems.find(o=>o.nativeElement===t)),this.primaryButtons.get(this.domIndex).nativeElement.focus()}onItemHover(t){const n=this.resultItems.toArray().find(o=>o.nativeElement===t.currentTarget);this.currentItemIndex=this.resultItems.toArray().indexOf(n),this.setCurrentItem()}onButtonHover(t){t.currentTarget.focus()}searchInputKeyDown(t){"ArrowDown"===t.key&&this.searchResults?.total&&this.resultsDropdown.isOpen()?(t.preventDefault(),this.currentItemIndex=0,this.setCurrentItem()):"ArrowUp"===t.key&&this.searchResults?.total&&this.resultsDropdown.isOpen()?(t.preventDefault(),this.currentItemIndex=this.searchResults.total-1,this.setCurrentItem()):"Enter"===t.key?1===this.searchResults?.total&&this.resultsDropdown.isOpen()?(this.primaryButtons.first.nativeElement.click(),this.searchInput.nativeElement.blur()):this.query?.length&&(this.runFullSearch(),this.reset(!0)):"Escape"===t.key&&!this.resultsDropdown.isOpen()&&(this.query?.length?this.reset(!0):this.searchInput.nativeElement.blur())}dropdownKeyDown(t){this.searchResults?.total&&this.resultsDropdown.isOpen()&&document.activeElement!==this.searchInput.nativeElement&&("ArrowDown"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),this.currentItemIndex<this.searchResults.total-1?(this.currentItemIndex++,this.setCurrentItem()):(this.searchInput.nativeElement.focus(),this.currentItemIndex=-1)):"ArrowUp"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),this.currentItemIndex>0?(this.currentItemIndex--,this.setCurrentItem()):(this.searchInput.nativeElement.focus(),this.currentItemIndex=-1)):"ArrowRight"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),this.secondaryButtons.get(this.domIndex)?.nativeElement.focus()):"ArrowLeft"===t.key?(t.preventDefault(),t.stopImmediatePropagation(),this.primaryButtons.get(this.domIndex).nativeElement.focus()):"Escape"===t.key&&(t.preventDefault(),t.stopImmediatePropagation(),this.reset(!0),this.searchInput.nativeElement.focus()))}onButtonKeyDown(t){"Enter"===t.key&&(t.metaKey||t.ctrlKey)&&t.target.dispatchEvent(new MouseEvent("click",{ctrlKey:!0}))}onDropdownOpenChange(t){t||this.reset()}disablePrimaryButton(t,n){return!![pn.Workflow,pn.CustomField,pn.Group,pn.User].includes(t)&&!this.permissionsService.currentUserHasObjectPermissions(Nt.Change,n)}disableSecondaryButton(t,n){return pn.Document!==t&&!this.permissionsService.currentUserHasObjectPermissions(Nt.Change,n)}runFullSearch(){this.documentListViewService.quickFilter([{rule_type:this.useAdvancedForFullSearch?20:19,value:this.query}]),this.reset(!0)}navigateOrOpenInNewWindow(t,n=!1,o={}){if(n){const s=this.router.serializeUrl(this.router.createUrlTree(t,o));window.open(s,"_blank")}else this.router.navigate(t,o)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(cF),Y(so),Y(Ki),Y(xo),Y(ya),Y(Xn),Y(ki),Y(Yh),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-global-search"]],viewQuery:function(n,o){if(1&n&&(cn(yWe,5),cn(DWe,5),cn(NWe,5),cn(PWe,5),cn(IWe,5)),2&n){let s;Ot(s=yt())&&(o.searchInput=s.first),Ot(s=yt())&&(o.resultsDropdown=s.first),Ot(s=yt())&&(o.resultItems=s),Ot(s=yt())&&(o.primaryButtons=s),Ot(s=yt())&&(o.secondaryButtons=s)}},decls:17,vars:4,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt;return t="Cerca",n="Ricerca avanzata",o="Cerca",s="Apri",r="Apri",a="Modifica",l="Filtra documenti",u="Scarica",p="Modifica",v="Nessun risultato",L="Documenti",z="Viste salvate",ie="Etichette",se="Corrispondenti",he="Tipi di documento",be="Percorsi di archiviazione",we="Utenti",Fe="Gruppi",Ae="Campi personalizzati",Qe="Account email",pt="Regole email",gt="Flussi di Lavoro",[["resultsDropdown","ngbDropdown"],["searchInput",""],["resultItemTemplate",""],["resultItem",""],["primaryButton",""],["secondaryButton",""],n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,["ngbDropdown","",3,"openChange"],[1,"form-inline","position-relative"],["width","1em","height","1em","name","search"],[1,"input-group"],[1,"form-control","form-control-sm"],["type","text","name","query","placeholder",t,"aria-label","Search","autocomplete","off","spellcheck","false","ngbDropdownAnchor","",1,"bg-transparent","border-0","w-100","h-100",3,"ngModelChange","keydown","ngModel"],[1,"position-absolute","top-50","end-0","translate-middle"],[1,"spinner-border","spinner-border-sm","text-muted","mt-1"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],["ngbDropdownMenu","",1,"w-100","mh-75","overflow-y-scroll","shadow-lg"],[3,"keydown"],[1,"dropdown-header"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","arrow-right-short"],["ngbDropdownItem","","tabindex","-1",1,"py-2","d-flex","align-items-center","focus-ring","border-0","cursor-pointer",3,"click","mouseenter"],["width","1.2em","height","1.2em",1,"me-2","text-muted",3,"name"],[1,"text-truncate"],[1,"small","text-muted"],[1,"btn-group","ms-auto"],["type","button",1,"btn","btn-sm","btn-outline-primary","d-flex",3,"click","keydown","mouseenter","disabled"],["type","button",1,"btn","btn-sm","btn-outline-primary","d-flex",3,"disabled"],["width","1em","height","1em","name","pencil"],["width","1em","height","1em","name","eye"],["width","1em","height","1em","name","filter"],["width","1em","height","1em","name","download"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",27,0),F("openChange",function(){return H(s),$(o.onDropdownOpenChange)}),c(2,"form",28),k(3,"i-bs",29),c(4,"div",30)(5,"div",31)(6,"input",32,1),Tt("ngModelChange",function(a){return H(s),mt(o.query,a)||(o.query=a),$(a)}),F("ngModelChange",function(a){return H(s),$(o.queryDebounce.next(a))})("keydown",function(a){return H(s),$(o.searchInputKeyDown(a))}),h(),c(8,"div",33),q(9,ZWe,1,0,"div",34),h()(),q(10,XWe,4,1,"button",35),h()(),q(11,iXe,14,6,"ng-template",null,2,on),c(13,"div",36)(14,"div",37),F("keydown",function(a){return H(s),$(o.dropdownKeyDown(a))}),q(15,oXe,2,0,"h6",38)(16,$Xe,12,12),h()()()}2&n&&(d(6),bt("ngModel",o.query),d(3),J(o.loading?9:-1),d(),J(o.query?10:-1),d(5),J(0===(null==o.searchResults?null:o.searchResults.total)?15:16))},dependencies:[es,Go,Ah,is,wr,ro,si,Yt,Wi,Ln,oh,Wt,Ns],styles:["form[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%] > i-bs[name=search][_ngcontent-%COMP%]{position:absolute;left:.6rem;top:.35rem;color:#fff9}@media screen and (min-width: 768px){form[_ngcontent-%COMP%] > i-bs[name=search][_ngcontent-%COMP%]{top:.25rem}}form[_ngcontent-%COMP%]:focus-within   i-bs[name=search][_ngcontent-%COMP%], form[_ngcontent-%COMP%]:focus-within   .badge[_ngcontent-%COMP%]{display:none!important}form[_ngcontent-%COMP%]:focus-within   .form-control[_ngcontent-%COMP%]::placeholder{color:#fff0}form[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem}form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-color:#fff3;color:var(--pngx-primary-text-contrast);padding-top:.15rem;padding-bottom:.15rem;min-height:calc(1.3em + .5rem + var(--bs-border-width) * 2)!important}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:#ffffff4d;background-color:#00000026;padding-left:1.8rem;border-color:#fff3;transition:all .3s ease,padding-left 0s ease,background-color 0s ease}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{outline:none;color:var(--pngx-primary-text-contrast)}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]::placeholder{color:#fff6}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-within{background-color:#0000004d;color:var(--bs-light);flex-grow:1;padding-left:.5rem}*[_ngcontent-%COMP%]{--pngx-focus-alpha: 0}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.mh-75[_ngcontent-%COMP%]{max-height:75vh}.dropdown-item[_ngcontent-%COMP%]:has(button:focus){background-color:var(--pngx-bg-darker)}.dropdown-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .3s ease,color .15s ease;max-width:2rem;overflow:hidden}.dropdown-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:0;transition:inherit}.dropdown-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:has(button:focus)   button[_ngcontent-%COMP%]{max-width:10rem}.dropdown-item[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:has(button:focus)   span[_ngcontent-%COMP%]{opacity:1}"]})}return e})();const GXe=(e,i)=>i.id,UXe=(e,i,t,n)=>({slim:e,"col-auto col-md-3 col-lg-2 col-xxxl-1":i,"py-3":t,"py-2":n}),gs=(e,i)=>({action:e,type:i}),ZXe=()=>[];function jXe(e,i){if(1&e&&(c(0,"div",41)(1,"span",93),j(2),h(),c(3,"span",94),R(4,10),h()()),2&e){const t=_();d(2),Pe(t.customAppTitle)}}function WXe(e,i){1&e&&j(0," Paperless-ngx ")}function XXe(e,i){if(1&e){const t=pe();c(0,"a",95),F("click",function(){return H(t),$(_().closeMenu())}),k(1,"i-bs",96),ke(2),R(3,11),ze(),h()}}function KXe(e,i){1&e&&k(0,"i-bs",64)}function qXe(e,i){1&e&&k(0,"i-bs",65)}function YXe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",97),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",98),c(3,"span"),j(4,"\xa0"),ke(5),R(6,12),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function JXe(e,i){1&e&&k(0,"div",101)}function QXe(e,i){if(1&e&&(c(0,"h6",74)(1,"span"),R(2,13),h(),q(3,JXe,1,0,"div",101),h()),2&e){const t=_(2);d(3),J(t.savedViewService.loading?3:-1)}}function eKe(e,i){1&e&&(c(0,"div",106),k(1,"i-bs",107),h()),2&e&&Ye("me-n3",_(3).slimSidebarEnabled)}function tKe(e,i){if(1&e){const t=pe();c(0,"li",102),F("cdkDragStarted",function(o){return H(t),$(_(2).onDragStart(o))})("cdkDragEnded",function(o){return H(t),$(_(2).onDragEnd(o))}),c(1,"a",103),F("click",function(){return H(t),$(_(2).closeMenu())}),k(2,"i-bs",104),c(3,"span"),j(4),h()(),q(5,eKe,2,2,"div",105),h()}if(2&e){const t=i.$implicit,n=_(2);w("cdkDragDisabled",!n.settingsService.organizingSidebarSavedViews),d(),Ye("text-truncate",!n.slimSidebarEnabled),ln("routerLink","view/",t.id,""),w("ngbPopover",t.name)("disablePopover",!n.slimSidebarEnabled),d(3),nt("\xa0",t.name,""),d(),J(n.settingsService.organizingSidebarSavedViews?5:-1)}}function nKe(e,i){if(1&e){const t=pe();c(0,"div",73),q(1,QXe,4,1,"h6",74),c(2,"ul",99),F("cdkDropListDropped",function(o){return H(t),$(_().onDrop(o))}),ut(3,tKe,6,9,"li",100,GXe),h()()}if(2&e){const t=_();d(),J(t.savedViewService.loading||(null==t.savedViewService.sidebarViews?null:t.savedViewService.sidebarViews.length)>0?1:-1),d(2),_t(t.savedViewService.sidebarViews)}}function iKe(e,i){1&e&&(c(0,"h6",74)(1,"span"),R(2,14),h()())}function oKe(e,i){if(1&e){const t=pe();c(0,"li",108)(1,"a",109),ot(2,"documentTitle"),F("click",function(){return H(t),$(_(2).closeMenu())}),k(3,"i-bs",110),c(4,"span"),j(5),ot(6,"documentTitle"),h(),c(7,"span",111),F("click",function(o){const s=H(t).$implicit;return _(2).closeDocument(s),$(o.preventDefault())}),k(8,"i-bs",112),h()()()}if(2&e){const t=i.$implicit,n=_(2);d(),Ye("text-truncate",!n.slimSidebarEnabled),ln("routerLink","documents/",t.id,""),w("ngbPopover",Et(2,7,t.title))("disablePopover",!n.slimSidebarEnabled),d(4),nt("\xa0",Et(6,9,t.title),"")}}function sKe(e,i){if(1&e){const t=pe();c(0,"li",108)(1,"a",113),F("click",function(){return H(t),$(_(2).closeAll())}),k(2,"i-bs",114),c(3,"span"),j(4,"\xa0"),ke(5),R(6,15),ze(),h()()()}if(2&e){const t=_(2);d(),Ye("text-truncate",!t.slimSidebarEnabled),w("routerLink",v2(4,ZXe))("disablePopover",!t.slimSidebarEnabled)}}function rKe(e,i){if(1&e&&(c(0,"div",73),q(1,iKe,3,0,"h6",74),c(2,"ul",75),ut(3,oKe,9,11,"li",108,Ft),q(5,sKe,7,5,"li",108),h()()),2&e){const t=_();d(),J(t.openDocuments.length>0?1:-1),d(2),_t(t.openDocuments),d(2),J(t.openDocuments.length>=1?5:-1)}}function aKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",115),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",116),c(3,"span"),j(4,"\xa0"),ke(5),R(6,16),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function lKe(e,i){if(1&e){const t=pe();c(0,"li",117)(1,"a",118),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",119),c(3,"span"),j(4,"\xa0"),ke(5),R(6,17),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function cKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",120),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",121),c(3,"span"),j(4,"\xa0"),ke(5),R(6,18),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function dKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",122),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",123),c(3,"span"),j(4,"\xa0"),ke(5),R(6,19),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function hKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",124),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",125),c(3,"span"),j(4,"\xa0"),ke(5),R(6,20),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function uKe(e,i){if(1&e){const t=pe();c(0,"li",126)(1,"a",127),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",128),c(3,"span"),j(4,"\xa0"),ke(5),R(6,21),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function _Ke(e,i){if(1&e){const t=pe();c(0,"li",129)(1,"a",130),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",131),c(3,"span"),j(4,"\xa0"),ke(5),R(6,22),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function pKe(e,i){if(1&e){const t=pe();c(0,"li",132)(1,"a",133),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",134),c(3,"span"),j(4,"\xa0"),ke(5),R(6,23),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function gKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",135),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",136),c(3,"span"),j(4,"\xa0"),ke(5),R(6,24),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function fKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",137),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",138),c(3,"span"),j(4,"\xa0"),ke(5),R(6,25),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function mKe(e,i){if(1&e&&(c(0,"span")(1,"span",143),j(2),h()()),2&e){const t=_(2);d(2),Pe(t.tasksService.failedFileTasks.length)}}function vKe(e,i){if(1&e&&(c(0,"span",142),j(1),h()),2&e){const t=_(2);d(),Pe(t.tasksService.failedFileTasks.length)}}function CKe(e,i){if(1&e){const t=pe();c(0,"li",139)(1,"a",140),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",141),c(3,"span"),j(4,"\xa0"),ke(5),R(6,26),ze(),q(7,mKe,3,1,"span"),h(),q(8,vKe,2,1,"span",142),h()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled),d(6),J(t.tasksService.failedFileTasks.length>0?7:-1),d(),J(t.tasksService.failedFileTasks.length>0&&t.slimSidebarEnabled?8:-1)}}function wKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",144),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",145),c(3,"span"),j(4,"\xa0"),ke(5),R(6,27),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function MKe(e,i){if(1&e){const t=pe();c(0,"li",68)(1,"a",146),F("click",function(){return H(t),$(_().closeMenu())}),k(2,"i-bs",147),c(3,"span"),j(4,"\xa0"),ke(5),R(6,28),ze(),h()()()}if(2&e){const t=_();d(),w("disablePopover",!t.slimSidebarEnabled)}}function bKe(e,i){if(1&e&&(c(0,"span",149),j(1),ke(2),R(3,29),ze(),k(4,"br"),ke(5),R(6,30),ze(),h()),2&e){const t=_(2);d(),nt("Paperless-ngx ",t.appRemoteVersion.version," ")}}function TKe(e,i){if(1&e){const t=pe();c(0,"p",150),ke(1),R(2,31),ze(),h(),c(3,"div",151)(4,"button",152),F("click",function(){return H(t),$(_(2).setUpdateChecking(!0))}),j(5,"Enable"),h(),c(6,"button",153),F("click",function(){return H(t),$(_(2).setUpdateChecking(!1))}),j(7,"Disable"),h()(),c(8,"p",154)(9,"a",155),R(10,32),h()()}}function SKe(e,i){1&e&&(j(0," \xa0"),ke(1),R(2,33),ze())}function EKe(e,i){if(1&e&&(c(0,"a",156),k(1,"i-bs",157),q(2,SKe,3,0,"ng-container"),h()),2&e){_(2);const t=vt(2),n=_();w("ngbPopover",t),d(2),J(null!=n.appRemoteVersion&&n.appRemoteVersion.update_available?2:-1)}}function AKe(e,i){1&e&&q(0,EKe,3,2,"a",156),2&e&&J(_(2).appRemoteVersion.update_available?0:-1)}function OKe(e,i){1&e&&(c(0,"a",148),k(1,"i-bs",157),h()),2&e&&(_(),w("ngbPopover",vt(4)))}function yKe(e,i){if(1&e&&(c(0,"div",91),q(1,bKe,7,1,"ng-template",null,0,on)(3,TKe,11,0,"ng-template",null,1,on)(5,AKe,1,1)(6,OKe,2,1,"a",148),h()),2&e){const t=_();d(5),J(t.settingsService.updateCheckingIsSet?5:6)}}let DKe=(()=>{class e extends Uo{constructor(t,n,o,s,r,a,l,u,p,v,L){super(),this.router=t,this.activatedRoute=n,this.openDocumentsService=o,this.savedViewService=s,this.remoteVersionService=r,this.settingsService=a,this.tasksService=l,this.toastService=u,this.modalService=p,this.permissionsService=v,this.djangoMessagesService=L,this.versionString=`${wi.appTitle} ${wi.version}`,this.isMenuCollapsed=!0,this.slimSidebarAnimating=!1,v.currentUserCan(Nt.View,It.SavedView)&&this.savedViewService.initialize()}ngOnInit(){this.settingsService.get(Ue.UPDATE_CHECKING_ENABLED)&&this.checkForUpdates(),this.tasksService.reload(),this.djangoMessagesService.get().forEach(t=>{switch(t.level){case c5.ERROR:case c5.WARNING:this.toastService.showError(t.message);break;case c5.SUCCESS:case c5.INFO:case c5.DEBUG:this.toastService.showInfo(t.message)}})}toggleSlimSidebar(){this.slimSidebarAnimating=!0,this.slimSidebarEnabled=!this.slimSidebarEnabled,setTimeout(()=>{this.slimSidebarAnimating=!1},200)}get customAppTitle(){return this.settingsService.get(Ue.APP_TITLE)}get slimSidebarEnabled(){return this.settingsService.get(Ue.SLIM_SIDEBAR)}set slimSidebarEnabled(t){this.settingsService.set(Ue.SLIM_SIDEBAR,t),this.settingsService.storeSettings().pipe(wt()).subscribe({error:n=>{this.toastService.showError("Si \xE8 verificato un errore durante il salvataggio delle impostazioni."),console.warn(n)}})}closeMenu(){this.isMenuCollapsed=!0}editProfile(){this.modalService.open(Dje,{backdrop:"static"}),this.closeMenu()}get openDocuments(){return this.openDocumentsService.getOpenDocuments()}canDeactivate(){return!this.openDocumentsService.hasDirty()}closeDocument(t){this.openDocumentsService.closeDocument(t).pipe(wt()).subscribe(n=>{if(n){this.closeMenu();let o=this.activatedRoute.snapshot;for(;o.firstChild;)o=o.firstChild;o.component==P3&&o.params.id==t.id&&this.router.navigate([""])}})}closeAll(){this.openDocumentsService.closeAll().pipe(wt()).subscribe(t=>{if(t){this.closeMenu();let n=this.activatedRoute;for(;n.firstChild;)n=n.firstChild;n.component===P3&&this.router.navigate([""])}})}onDragStart(t){this.settingsService.globalDropzoneEnabled=!1}onDragEnd(t){this.settingsService.globalDropzoneEnabled=!0}onDrop(t){const n=this.savedViewService.sidebarViews.concat([]);Y5(n,t.previousIndex,t.currentIndex),this.settingsService.updateSidebarViewsSort(n).subscribe({next:()=>{this.toastService.showInfo("Viste barra laterale aggiornate")},error:o=>{this.toastService.showError("Errore nell'aggiornamento delle viste della barra laterale",o)}})}checkForUpdates(){this.remoteVersionService.checkForUpdates().subscribe(t=>{this.appRemoteVersion=t})}setUpdateChecking(t){this.settingsService.set(Ue.UPDATE_CHECKING_ENABLED,t),this.settingsService.storeSettings().pipe(wt()).subscribe({error:n=>{this.toastService.showError("Si \xE8 verificato un errore durante il salvataggio delle impostazioni sugli aggiornamenti."),console.warn(n)}}),t&&this.checkForUpdates()}onLogout(){this.openDocumentsService.closeAll()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(so),Y(_1),Y(M3),Y(Qv),Y(Nje),Y(Tn),Y(e9),Y(ki),Y(Ki),Y(Xn),Y(zee))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-app-frame"]],hostBindings:function(n,o){1&n&&F("beforeunload",function(){return o.canDeactivate()},0,P1)},features:[Ct],decls:94,vars:89,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo,zt,Fs,Pr,ks,Ir,$t,ta,na;return t="Dashboard",n="Documentazione",o="GitHub",s="Accesso effettuato come " + "\ufffd0\ufffd" + "",r="Il mio profilo",a="Esci",l="Documentazione",u="Dashboard",p="Gestisci",v="Amministrazione",L="Documentazione",z="by Paperless-ngx",ie="Impostazioni",se="Documenti",he="Documenti",be="Viste salvate",we="Apri documenti",Fe="Chiudi tutti",Ae="Chiudi tutti",Qe="Corrispondenti",pt="Corrispondenti",gt="Etichette",Mt="Etichette",Pt="Tipi di documento",xt="Tipi di documento",En="Percorsi di archiviazione",Ut="Percorsi di archiviazione",Hn="Campi personalizzati",Ni="Campi personalizzati",en="Flussi Di Lavoro",ci="Flussi Di Lavoro",Si="E-Mail",Ro="E-Mail",qi="Impostazioni",Fo="Impostazioni",ko="Configurazione",Mo="Configurazione",bo="Utenti & gruppi",Yi="Utenti & gruppi",Vi="Attivit\xE0 File",To="Attivit\xE0 File",zo="Log",zt="Log",Fs="Cestino",Pr="Cestino",ks="\xE8 disponibile.",Ir="Clicca per visualizzare.",$t="Paperless-ngx pu\xF2 controllare automaticamente la presenza di aggiornamenti",ta=" Come funziona? ",na="Aggiornamento disponibile",[["updateAvailablePopContent",""],["updateCheckingNotEnabledPopContent",""],s,r,a,l,u,p,v,L,z,ie,he,be,we,Ae,pt,Mt,xt,Ut,Ni,ci,Ro,Fo,Mo,Yi,To,zt,Pr,ks,Ir,$t,ta,na,[1,"navbar","navbar-dark","sticky-top","bg-primary","flex-md-nowrap","p-0","shadow-sm"],["type","button","data-toggle","collapse","data-target","#sidebarMenu","aria-controls","sidebarMenu","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-md-none","collapsed","border-0",3,"click"],[1,"navbar-toggler-icon"],["routerLink","/dashboard","tourAnchor","tour.intro",1,"navbar-brand","d-flex","align-items-center","me-0","px-3","py-3","order-sm-0",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 198.43 238.91","width","1em","height","1.5em","fill","currentColor"],["d","M194.7,0C164.22,70.94,17.64,79.74,64.55,194.06c.58,1.47-10.85,17-18.47,29.9-1.76-6.45-3.81-13.48-3.52-14.07,38.11-45.14-27.26-70.65-30.78-107.58C-4.64,131.62-10.5,182.92,39,212.53c.3,0,2.64,11.14,3.81,16.71a58.55,58.55,0,0,0-2.93,6.45c-1.17,2.93,7.62,2.64,7.62,3.22.88-.29,21.7-36.93,22.28-37.23C187.67,174.72,208.48,68.6,194.7,0ZM134.61,74.75C79.5,124,70.12,160.64,71.88,178.53,53.41,134.85,107.64,86.77,134.61,74.75ZM28.2,145.11c10.55,9.67,28.14,39.28,13.19,56.57C44.91,193.77,46.08,175.89,28.2,145.11Z","transform","translate(0 0)"],[1,"ms-2","ms-md-3","d-inline-block"],[1,"d-flex","flex-column","align-items-start"],[1,"search-container","flex-grow-1","py-2","pb-3","pb-sm-2","px-3","ps-md-4","me-sm-auto","order-3","order-sm-1"],[1,"col-12","col-md-7"],["ngbNav","",1,"order-sm-3"],["ngbDropdown","",1,"nav-item","dropdown"],["id","userDropdown","ngbDropdownToggle","",1,"btn","border-0"],[1,"small","me-2","d-none","d-sm-inline"],["width","1.3em","height","1.3em","name","person-circle"],["ngbDropdownMenu","","aria-labelledby","userDropdown",1,"dropdown-menu-end","shadow","me-2"],[1,"d-sm-none"],[1,"small","mb-0","px-3","text-muted"],[1,"dropdown-divider"],["ngbDropdownItem","",1,"nav-link",3,"click"],["name","person",1,"me-2"],["ngbDropdownItem","","class","nav-link","routerLink","settings",3,"click",4,"pngxIfPermissions"],["ngbDropdownItem","","href","accounts/logout/",1,"nav-link","d-flex",3,"click"],["name","door-open",1,"me-2"],["ngbDropdownItem","","target","_blank","rel","noopener noreferrer","href","https://docs.paperless-ngx.com",1,"nav-link"],["name","question-circle",1,"me-2"],[1,"container-fluid"],[1,"row"],["id","sidebarMenu",1,"d-md-block","bg-light","sidebar","collapse",3,"ngClass","ngbCollapse"],[1,"btn","btn-sm","btn-dark","sidebar-slim-toggler",3,"click"],["width","0.9em","height","0.9em","name","chevron-double-right"],["width","0.9em","height","0.9em","name","chevron-double-left"],[1,"sidebar-sticky","pt-3","d-flex","flex-column","justify-space-around"],[1,"nav","flex-column"],[1,"nav-item","app-link"],["routerLink","dashboard","routerLinkActive","active","ngbPopover",t,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","house",1,"me-1"],["class","nav-item app-link",4,"pngxIfPermissions"],["class","nav-group mt-3 mb-1",4,"pngxIfPermissions"],[1,"nav-group","mt-3","mb-1"],[1,"sidebar-heading","px-3","text-muted"],[1,"nav","flex-column","mb-2"],["class","nav-item app-link","tourAnchor","tour.tags",4,"pngxIfPermissions"],["class","nav-item app-link","tourAnchor","tour.workflows",4,"pngxIfPermissions"],["class","nav-item app-link","tourAnchor","tour.mail",4,"pngxIfPermissions"],[1,"nav-group","mt-auto","mb-1"],[1,"sidebar-heading","px-3","pt-4","text-muted"],["class","nav-item app-link","tourAnchor","tour.settings",4,"pngxIfPermissions"],["class","nav-item app-link","tourAnchor","tour.file-tasks",4,"pngxIfPermissions"],["tourAnchor","tour.outro",1,"nav-item","mt-2"],["target","_blank","rel","noopener noreferrer","href","https://docs.paperless-ngx.com","ngbPopover",n,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"px-3","py-2","text-muted","small","d-flex","align-items-center","flex-wrap","text-decoration-none",3,"disablePopover"],["name","question-circle",1,"d-flex"],[1,"ms-1"],[1,"nav-item"],[1,"px-3","py-0","text-muted","small","d-flex","align-items-center","flex-wrap"],[1,"me-3"],["target","_blank","rel","noopener noreferrer","href","https://github.com/paperless-ngx/paperless-ngx","ngbPopover",o,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"text-muted","text-decoration-none",3,"disablePopover"],[1,"version-check"],["role","main",1,"ms-sm-auto","px-md-4",3,"ngClass"],[1,"title"],[1,"byline","text-uppercase","font-monospace"],["ngbDropdownItem","","routerLink","settings",1,"nav-link",3,"click"],["name","gear",1,"me-2"],["routerLink","documents","routerLinkActive","active","ngbPopover",se,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","files",1,"me-1"],["cdkDropList","",1,"nav","flex-column","mb-2",3,"cdkDropListDropped"],["cdkDrag","","cdkDragPreviewContainer","parent","cdkDragPreviewClass","navItemDrag",1,"nav-item","w-100","app-link",3,"cdkDragDisabled"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2"],["cdkDrag","","cdkDragPreviewContainer","parent","cdkDragPreviewClass","navItemDrag",1,"nav-item","w-100","app-link",3,"cdkDragStarted","cdkDragEnded","cdkDragDisabled"],["routerLinkActive","active","placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","routerLink","ngbPopover","disablePopover"],["name","funnel",1,"me-1"],["cdkDragHandle","",1,"position-absolute","end-0","top-0","px-3","py-2",3,"me-n3"],["cdkDragHandle","",1,"position-absolute","end-0","top-0","px-3","py-2"],["name","grip-vertical"],[1,"nav-item","w-100","app-link"],["routerLinkActive","active","placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link","app-link",3,"click","routerLink","ngbPopover","disablePopover"],["name","file-text",1,"me-1"],[1,"close",3,"click"],["name","x"],["ngbPopover",Fe,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link","app-link",3,"click","routerLink","disablePopover"],["name","x",1,"me-1"],["routerLink","correspondents","routerLinkActive","active","ngbPopover",Qe,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","person",1,"me-1"],["tourAnchor","tour.tags",1,"nav-item","app-link"],["routerLink","tags","routerLinkActive","active","ngbPopover",gt,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","tags",1,"me-1"],["routerLink","documenttypes","routerLinkActive","active","ngbPopover",Pt,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","hash",1,"me-1"],["routerLink","storagepaths","routerLinkActive","active","ngbPopover",En,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","folder",1,"me-1"],["routerLink","customfields","routerLinkActive","active","ngbPopover",Hn,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","ui-radios",1,"me-1"],["tourAnchor","tour.workflows",1,"nav-item","app-link"],["routerLink","workflows","routerLinkActive","active","ngbPopover",en,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","boxes",1,"me-1"],["tourAnchor","tour.mail",1,"nav-item","app-link"],["routerLink","mail","routerLinkActive","active","ngbPopover",Si,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","envelope",1,"me-1"],["tourAnchor","tour.settings",1,"nav-item","app-link"],["routerLink","settings","routerLinkActive","active","ngbPopover",qi,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","gear",1,"me-1"],["routerLink","config","routerLinkActive","active","ngbPopover",ko,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","sliders2-vertical",1,"me-1"],["routerLink","usersgroups","routerLinkActive","active","ngbPopover",bo,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","people",1,"me-1"],["tourAnchor","tour.file-tasks",1,"nav-item","app-link"],["routerLink","tasks","routerLinkActive","active","ngbPopover",Vi,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","list-task",1,"me-1"],[1,"badge","bg-danger","position-absolute","top-0","end-0","d-none","d-md-block"],[1,"badge","bg-danger","ms-2","d-inline"],["routerLink","logs","routerLinkActive","active","ngbPopover",zo,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","text-left",1,"me-1"],["routerLink","trash","routerLinkActive","active","ngbPopover",Fs,"placement","end","container","body","triggers","mouseenter:mouseleave","popoverClass","popover-slim",1,"nav-link",3,"click","disablePopover"],["name","trash",1,"me-1"],["routerLink","/settings","fragment","update-checking","popoverClass","shadow","triggers","mouseenter","container","body",1,"small","text-decoration-none",3,"ngbPopover"],[1,"small"],[1,"small","mb-2"],[1,"btn-group","btn-group-xs","flex-fill","w-100"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"small","mb-0","mt-2"],["routerLink","/settings","fragment","update-checking",1,"small","text-decoration-none","fst-italic"],["target","_blank","rel","noopener noreferrer","href","https://github.com/paperless-ngx/paperless-ngx/releases","popoverClass","shadow","triggers","mouseenter:mouseleave","container","body",1,"small","text-decoration-none",3,"ngbPopover"],["width","1.2em","height","1.2em","name","info-circle"]]},template:function(n,o){1&n&&(c(0,"nav",34)(1,"button",35),F("click",function(){return o.isMenuCollapsed=!o.isMenuCollapsed}),k(2,"span",36),h(),c(3,"a",37),Md(),c(4,"svg",38),k(5,"path",39),h(),function VC(){!function mV(){an.lFrame.currentNamespace=null}()}(),c(6,"div",40),q(7,jXe,5,1,"div",41)(8,WXe,1,0),h()(),c(9,"div",42)(10,"div",43),k(11,"pngx-global-search"),h()(),c(12,"ul",44)(13,"li",45)(14,"button",46)(15,"span",47),j(16),h(),k(17,"i-bs",48),h(),c(18,"div",49)(19,"div",50)(20,"p",51),R(21,2),h(),k(22,"div",52),h(),c(23,"button",53),F("click",function(){return o.editProfile()}),k(24,"i-bs",54),j(25,"\xa0"),ke(26),R(27,3),ze(),h(),q(28,XXe,4,0,"a",55),c(29,"a",56),F("click",function(){return o.onLogout()}),k(30,"i-bs",57),ke(31),R(32,4),ze(),h(),k(33,"div",52),c(34,"a",58),k(35,"i-bs",59),ke(36),R(37,5),ze(),h()()()()(),c(38,"div",60)(39,"div",61)(40,"nav",62)(41,"button",63),F("click",function(){return o.toggleSlimSidebar()}),q(42,KXe,1,0,"i-bs",64)(43,qXe,1,0,"i-bs",65),h(),c(44,"div",66)(45,"ul",67)(46,"li",68)(47,"a",69),F("click",function(){return o.closeMenu()}),k(48,"i-bs",70),c(49,"span"),j(50,"\xa0"),ke(51),R(52,6),ze(),h()()(),q(53,YXe,7,1,"li",71),h(),q(54,nKe,5,1,"div",72)(55,rKe,6,2,"div",72),c(56,"div",73)(57,"h6",74)(58,"span"),R(59,7),h()(),c(60,"ul",75),q(61,aKe,7,1,"li",71)(62,lKe,7,1,"li",76)(63,cKe,7,1,"li",71)(64,dKe,7,1,"li",71)(65,hKe,7,1,"li",71)(66,uKe,7,1,"li",77)(67,_Ke,7,1,"li",78),h()(),c(68,"div",79)(69,"h6",80)(70,"span"),R(71,8),h()(),c(72,"ul",75),q(73,pKe,7,1,"li",81)(74,gKe,7,1,"li",71)(75,fKe,7,1,"li",71)(76,CKe,9,3,"li",82)(77,wKe,7,1,"li",68)(78,MKe,7,1,"li",71),c(79,"li",83)(80,"a",84),k(81,"i-bs",85),c(82,"span",86),j(83,"\xa0"),ke(84),R(85,9),ze(),h()()(),c(86,"li",87)(87,"div",88)(88,"div",89)(89,"a",90),j(90),h()(),q(91,yKe,7,1,"div",91),h()()()()()(),c(92,"main",92),k(93,"router-outlet"),h()()()),2&n&&(d(3),w("ngClass",t8(36,UXe,o.slimSidebarEnabled,!o.slimSidebarEnabled,!(null!=o.customAppTitle&&o.customAppTitle.length)||o.slimSidebarEnabled,null==o.customAppTitle?null:o.customAppTitle.length)),d(3),Ye("d-md-none",o.slimSidebarEnabled),d(),J(null!=o.customAppTitle&&o.customAppTitle.length?7:8),d(9),nt(" ",o.settingsService.displayName," "),d(5),An(o.settingsService.displayName),Dn(21),d(7),w("pngxIfPermissions",rt(41,gs,o.PermissionAction.Change,o.PermissionType.UISettings)),d(12),Ye("animating",o.slimSidebarAnimating),w("ngClass",o.slimSidebarEnabled?"slim":"col-md-3 col-lg-2 col-xxxl-1")("ngbCollapse",o.isMenuCollapsed),d(2),J(o.slimSidebarEnabled?42:43),d(5),w("disablePopover",!o.slimSidebarEnabled),d(6),w("pngxIfPermissions",rt(44,gs,o.PermissionAction.View,o.PermissionType.Document)),d(),w("pngxIfPermissions",rt(47,gs,o.PermissionAction.View,o.PermissionType.SavedView)),d(),w("pngxIfPermissions",rt(50,gs,o.PermissionAction.View,o.PermissionType.Document)),d(6),w("pngxIfPermissions",rt(53,gs,o.PermissionAction.View,o.PermissionType.Correspondent)),d(),w("pngxIfPermissions",rt(56,gs,o.PermissionAction.View,o.PermissionType.Tag)),d(),w("pngxIfPermissions",rt(59,gs,o.PermissionAction.View,o.PermissionType.DocumentType)),d(),w("pngxIfPermissions",rt(62,gs,o.PermissionAction.View,o.PermissionType.StoragePath)),d(),w("pngxIfPermissions",rt(65,gs,o.PermissionAction.View,o.PermissionType.CustomField)),d(),w("pngxIfPermissions",rt(68,gs,o.PermissionAction.View,o.PermissionType.Workflow)),d(),w("pngxIfPermissions",rt(71,gs,o.PermissionAction.View,o.PermissionType.MailAccount)),d(6),w("pngxIfPermissions",rt(74,gs,o.PermissionAction.Change,o.PermissionType.UISettings)),d(),w("pngxIfPermissions",rt(77,gs,o.PermissionAction.Change,o.PermissionType.AppConfig)),d(),w("pngxIfPermissions",rt(80,gs,o.PermissionAction.View,o.PermissionType.User)),d(),w("pngxIfPermissions",rt(83,gs,o.PermissionAction.View,o.PermissionType.PaperlessTask)),d(),J(o.permissionsService.isAdmin()?77:-1),d(),w("pngxIfPermissions",rt(86,gs,o.PermissionAction.Delete,o.PermissionType.Document)),d(2),w("disablePopover",!o.slimSidebarEnabled),d(6),Ye("visually-hidden",o.slimSidebarEnabled),d(3),w("disablePopover",!o.slimSidebarEnabled),d(),nt(" ",o.versionString," "),d(),J(!o.settingsService.updateCheckingIsSet||o.appRemoteVersion?91:-1),d(),w("ngClass",o.slimSidebarEnabled?"col-slim":"col-md-9 col-lg-10 col-xxxl-11"))},dependencies:[va,ig,fr,By,vh,Go,ys,is,wr,j1,W1,Wr,Al,du,cu,YR,Wt,Zo,BXe,U5],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;z-index:995;padding:50px 0 0;box-shadow:inset -1px 0 #0000001a;transition:all .2s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:.8em;height:.8em}.sidebar[_ngcontent-%COMP%]   .nav-group[_ngcontent-%COMP%]:not(:has(.app-link))   .sidebar-heading[_ngcontent-%COMP%]{display:none!important}@media (min-width: 768px){.sidebar[_ngcontent-%COMP%]{max-width:25%}}@media (min-width: 992px){.sidebar[_ngcontent-%COMP%]{max-width:16.66666667%}}@media (min-width: 2400px){.sidebar[_ngcontent-%COMP%]{max-width:8.33333333%}}@media (max-width: 767.98px){.sidebar[_ngcontent-%COMP%]{top:3.5rem}}main[_ngcontent-%COMP%]{transition:all .2s ease}.sidebar-slim-toggler[_ngcontent-%COMP%]{display:none}.sidebar[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all .1s ease}@media (min-width: 768px){.sidebar.slim[_ngcontent-%COMP%]{max-width:50px}.sidebar.slim[_ngcontent-%COMP%]:not(.animating)   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.slim[_ngcontent-%COMP%]:not(.animating)   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.sidebar.animating[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar.animating[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:unset;position:absolute;opacity:0;overflow:hidden}.sidebar[_ngcontent-%COMP%]:not(.slim):not(.animating)   li.nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]:not(.slim):not(.animating)   .sidebar-heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:unset;opacity:1;overflow:auto}.sidebar.slim[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%], .sidebar.animating[_ngcontent-%COMP%]   .text-truncate[_ngcontent-%COMP%]{text-overflow:unset!important;word-wrap:break-word!important}.sidebar.slim[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{display:inline-block;margin-right:2px}.sidebar-slim-toggler[_ngcontent-%COMP%]{display:block;position:absolute;right:-12px;top:60px;z-index:996;--bs-btn-padding-x: .35rem;--bs-btn-padding-y: .125rem}}  .popover-slim .popover-body{--bs-popover-body-padding-x: .5rem;--bs-popover-body-padding-y: .5rem}.sidebar-sticky[_ngcontent-%COMP%]{position:relative;top:0;height:100%;padding-top:.5rem;overflow-x:hidden;overflow-y:auto;min-height:min-content}@supports (position: sticky){.sidebar-sticky[_ngcontent-%COMP%]{position:sticky}}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:var(--bs-primary)}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus-visible{outline:none;background-color:var(--bs-body-bg)}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-weight:700}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{position:relative;top:-1px}.sidebar-heading[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase}.nav[_ngcontent-%COMP%]{flex-wrap:nowrap}.nav-item[_ngcontent-%COMP%]{position:relative;list-style-type:none}.nav-item[_ngcontent-%COMP%]:hover   .close[_ngcontent-%COMP%]{display:block}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{display:none;position:absolute!important;cursor:pointer;opacity:1;top:0;padding:.25rem .3rem 0;right:.4rem;width:1.8rem;height:100%}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{opacity:.5}.nav-item[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover   i-bs[_ngcontent-%COMP%]{opacity:1}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]{margin-top:.1rem;margin-left:.25rem;padding-top:.5rem;text-decoration:none}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]:hover{text-decoration:underline}.nav-item[_ngcontent-%COMP%]   .nav-link-additional[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{margin-bottom:2px}.navbar-brand[_ngcontent-%COMP%]{font-size:1rem}.navbar-brand[_ngcontent-%COMP%]   .flex-column[_ngcontent-%COMP%]{padding:.15rem 0}.navbar-brand[_ngcontent-%COMP%]   .byline[_ngcontent-%COMP%]{font-size:.5rem;letter-spacing:.1rem}@media screen and (min-width: 768px){.navbar-brand.slim[_ngcontent-%COMP%]{max-width:50px}}.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%], .dropdown-toggle[_ngcontent-%COMP%]:hover{opacity:.7}.dropdown-toggle[_ngcontent-%COMP%]:after{margin-left:.4em;vertical-align:.155em}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:.875rem}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i-bs[_ngcontent-%COMP%]{opacity:.6}.version-check[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out 0s 1}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:0}25%{opacity:100%}75%{opacity:0}to{opacity:100%}}.nav-item[_ngcontent-%COMP%] > .position-absolute[_ngcontent-%COMP%]{cursor:move}  .navItemDrag .position-absolute i-bs{display:none}"]})}return e})(),Pl=(()=>{class e{constructor(){this.pngxSortable="",this.currentSortReverse=!1,this.sort=new Be}get asc(){return this.currentSortField===this.pngxSortable&&!this.currentSortReverse}get des(){return this.currentSortField===this.pngxSortable&&this.currentSortReverse}rotate(){this.sort.emit(this.currentSortField!=this.pngxSortable?{column:this.pngxSortable,reverse:!1}:this.currentSortField!=this.pngxSortable||this.currentSortReverse?{column:null,reverse:!1}:{column:this.currentSortField,reverse:!0})}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275dir=st({type:e,selectors:[["th","pngxSortable",""]],hostVars:4,hostBindings:function(n,o){1&n&&F("click",function(){return o.rotate()}),2&n&&Ye("asc",o.asc)("des",o.des)},inputs:{pngxSortable:"pngxSortable",currentSortReverse:"currentSortReverse",currentSortField:"currentSortField"},outputs:{sort:"sort"}})}return e})();function NKe(e,i){if(1&e&&(c(0,"div",13)(1,"h6",17),R(2,3),h(),ke(3),R(4,4),ze(),j(5,":"),k(6,"br"),j(7),h()),2&e){const t=_();d(7),nt(" ",t.error.filter_rules," ")}}let PKe=(()=>{class e{constructor(t){this.modal=t,this.saveClicked=new Be,this.buttonsEnabled=!0,this.closeEnabled=!1,this._defaultName="",this.saveViewConfigForm=new In({name:new Re(""),showInSideBar:new Re(!1),showOnDashboard:new Re(!1)})}get defaultName(){return this._defaultName}set defaultName(t){this._defaultName=t,this.saveViewConfigForm.patchValue({name:t})}ngOnInit(){setTimeout(()=>{this.closeEnabled=!0})}save(){this.saveClicked.emit(this.saveViewConfigForm.value)}cancel(){this.modal.close()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-save-view-config-dialog"]],inputs:{error:"error",buttonsEnabled:"buttonsEnabled",defaultName:"defaultName"},outputs:{saveClicked:"saveClicked"},decls:15,vars:6,consts:()=>{let t,n,o,s,r,a,l,u;return t="Nome",n="Mostra nella barra laterale",o="Mostra nella dashboard",s="Salva vista corrente",r="Annulla",a="Salva",l="Errore di filtro regole durante il salvataggio di questa vista",u="L'errore restituito era",[s,r,a,l,u,[3,"ngSubmit","formGroup"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],["title",t,"formControlName","name","autocomplete","off",3,"error"],["title",n,"formControlName","showInSideBar"],["title",o,"formControlName","showOnDashboard"],["role","alert",1,"alert","alert-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert-heading"]]},template:function(n,o){1&n&&(c(0,"form",5),F("ngSubmit",function(){return o.save()}),c(1,"div",6)(2,"h4",7),R(3,0),h(),c(4,"button",8),F("click",function(){return o.cancel()}),h()(),c(5,"div",9),k(6,"pngx-input-text",10)(7,"pngx-input-check",11)(8,"pngx-input-check",12),q(9,NKe,8,1,"div",13),h(),c(10,"div",14)(11,"button",15),F("click",function(){return o.cancel()}),R(12,1),h(),c(13,"button",16),R(14,2),h()()()),2&n&&(w("formGroup",o.saveViewConfigForm),d(4),w("disabled",!o.closeEnabled),d(2),w("error",null==o.error?null:o.error.name),d(3),J(null!=o.error&&o.error.filter_rules?9:-1),d(2),w("disabled",!o.buttonsEnabled),d(2),w("disabled",!o.buttonsEnabled))},dependencies:[ro,Yt,Wi,Bi,Xi,Ds,Y1]})}return e})();var Co=function(e){return e[e.STARTED=0]="STARTED",e[e.UPLOADING=1]="UPLOADING",e[e.WORKING=2]="WORKING",e[e.SUCCESS=3]="SUCCESS",e[e.FAILED=4]="FAILED",e}(Co||{});const dF={document_already_exists:"Il documento esiste gi\xE0.",asn_already_exists:"Il documento con ASN esiste gi\xE0.",file_not_found:"File non trovato.",pre_consume_script_not_found:"Lo script di pre-consume (pre elaborazione) non esiste.",pre_consume_script_error:"Errore durante l'esecuzione dello script di pre-consume (pre elaborazione).",post_consume_script_not_found:"Lo script di post-consume (post elaborazione) non esiste.",post_consume_script_error:"Errore durante l'esecuzione dello script di post-consume (post elaborazione).",new_file:"Nuovo file ricevuto.",unsupported_type:"Tipo di file non supportato.",parsing_document:"Elaborazione documento in corso...",generating_thumbnail:"Generazione anteprima in corso...",parse_date:"Recupero della data del documento in corso...",save_document:"Salvataggio documento in corso...",finished:"Completato."};class hF{constructor(){this.phase=Co.STARTED}getProgress(){switch(this.phase){case Co.STARTED:return 0;case Co.UPLOADING:return this.currentPhaseProgress/this.currentPhaseMaxProgress*.2;case Co.WORKING:return this.currentPhaseProgress/this.currentPhaseMaxProgress*.8+.2;case Co.SUCCESS:case Co.FAILED:return 1}}updateProgress(i,t,n){i>=this.phase&&(this.phase=i,null!=t&&(this.currentPhaseProgress=t),null!=n&&(this.currentPhaseMaxProgress=n))}}let o9=(()=>{class e{constructor(t){this.settingsService=t,this.consumerStatus=[],this.documentDetectedSubject=new et,this.documentConsumptionFinishedSubject=new et,this.documentConsumptionFailedSubject=new et}get(t,n){let o=this.consumerStatus.find(r=>r.taskId==t)||this.consumerStatus.find(r=>r.filename==n&&null==r.taskId),s=!1;return o||(o=new hF,this.consumerStatus.push(o),s=!0),o.taskId=t,o.filename=n,{status:o,created:s}}newFileUpload(t){let n=new hF;return n.filename=t,this.consumerStatus.push(n),n}getConsumerStatus(t){return null!=t?this.consumerStatus.filter(n=>n.phase==t):this.consumerStatus}getConsumerStatusNotCompleted(){return this.consumerStatus.filter(t=>t.phase<Co.SUCCESS)}getConsumerStatusCompleted(){return this.consumerStatus.filter(t=>t.phase==Co.FAILED||t.phase==Co.SUCCESS)}connect(){this.disconnect(),this.statusWebSocket=new WebSocket(`${wi.webSocketProtocol}//${wi.webSocketHost}${wi.webSocketBaseUrl}status/`),this.statusWebSocket.onmessage=t=>{let n=JSON.parse(t.data);if(n.owner_id&&n.owner_id!==this.settingsService.currentUser?.id&&!this.settingsService.currentUser?.is_superuser)return;let o=this.get(n.task_id,n.filename),s=o.status,r=o.created;switch(s.updateProgress(Co.WORKING,n.current_progress,n.max_progress),n.message&&n.message in dF?s.message=dF[n.message]:n.message&&(s.message=n.message),s.documentId=n.document_id,n.status in Co&&(s.phase=Co[n.status]),s.phase){case Co.STARTED:r&&this.documentDetectedSubject.next(s);break;case Co.SUCCESS:this.documentConsumptionFinishedSubject.next(s);break;case Co.FAILED:this.documentConsumptionFailedSubject.next(s)}}}fail(t,n){t.message=n,t.phase=Co.FAILED,this.documentConsumptionFailedSubject.next(t)}disconnect(){this.statusWebSocket&&(this.statusWebSocket.close(),this.statusWebSocket=null)}dismiss(t){let n;n=this.consumerStatus.findIndex(null!=t.taskId?o=>o.taskId==t.taskId:o=>o.filename==t.filename),n>-1&&this.consumerStatus.splice(n,1)}dismissCompleted(){this.consumerStatus=this.consumerStatus.filter(t=>![Co.SUCCESS,Co.FAILED].includes(t.phase))}onDocumentConsumptionFinished(){return this.documentConsumptionFinishedSubject}onDocumentConsumptionFailed(){return this.documentConsumptionFailedSubject}onDocumentDetected(){return this.documentDetectedSubject}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Tn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IKe(e,i){1&e&&k(0,"i-bs",2)}function LKe(e,i){1&e&&k(0,"i-bs",3)}function xKe(e,i){1&e&&k(0,"i-bs",4)}function RKe(e,i){1&e&&k(0,"pngx-tag",6),2&e&&w("tag",_().item)("clickable",!1)}function FKe(e,i){if(1&e&&(c(0,"small"),j(1),h()),2&e){const t=_();d(),Pe(t.item.name)}}function kKe(e,i){if(1&e&&(c(0,"div",7),j(1),h()),2&e){let t;const n=_();d(),Pe(null!==(t=n.count)&&void 0!==t?t:n.item.document_count)}}var qt=function(e){return e[e.NotSelected=0]="NotSelected",e[e.Selected=1]="Selected",e[e.PartiallySelected=2]="PartiallySelected",e[e.Excluded=3]="Excluded",e}(qt||{});let zKe=(()=>{class e{constructor(){this.disabled=!1,this.hideCount=!1,this.toggle=new Be,this.exclude=new Be}get isTag(){return"is_inbox_tag"in this.item}toggleItem(t){this.state==qt.Selected?this.exclude.emit():this.toggle.emit()}isChecked(){return this.state==qt.Selected}isPartiallyChecked(){return this.state==qt.PartiallySelected}isExcluded(){return this.state==qt.Excluded}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-toggleable-dropdown-button"]],inputs:{item:"item",state:"state",count:"count",disabled:"disabled",hideCount:"hideCount"},outputs:{toggle:"toggle",exclude:"exclude"},decls:9,vars:6,consts:[["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"click","disabled"],[1,"selected-icon","me-1"],["width","1em","height","1em","name","check"],["width","1em","height","1em","name","dash"],["width","1em","height","1em","name","x"],[1,"me-1"],[3,"tag","clickable"],[1,"badge","bg-light","text-dark","rounded-pill","ms-auto","me-1"]],template:function(n,o){1&n&&(c(0,"button",0),F("click",function(r){return o.toggleItem(r)}),c(1,"div",1),q(2,IKe,1,0,"i-bs",2)(3,LKe,1,0,"i-bs",3)(4,xKe,1,0,"i-bs",4),h(),c(5,"div",5),q(6,RKe,1,2,"pngx-tag",6)(7,FKe,2,1,"small"),h(),q(8,kKe,2,1,"div",7),h()),2&n&&(w("disabled",o.disabled),d(2),J(o.isChecked()?2:-1),d(),J(o.isPartiallyChecked()?3:-1),d(),J(o.isExcluded()?4:-1),d(2),J(o.isTag?6:7),d(2),J(o.hideCount?-1:8))},dependencies:[Wt,eu],styles:[".selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}"]})}return e})(),s9=(()=>{class e{transform(t,n){return t?n?t.filter(o=>Object.keys(o).some(s=>String(o[s]).toLowerCase().includes(n.toLowerCase()))):t:[]}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275pipe=Zi({name:"filter",type:e,pure:!0})}return e})();function VKe(e,i){1&e&&k(0,"i-bs",2)}function HKe(e,i){if(1&e&&(c(0,"div",3),j(1),c(2,"span",5),j(3,"selected"),h()()),2&e){const t=_(2);d(),Pe(t.number)}}function $Ke(e,i){if(1&e){const t=pe();c(0,"button",1),F("click",function(o){return H(t),$(_().onClick(o))}),q(1,VKe,1,0,"i-bs",2)(2,HKe,4,1,"div",3),k(3,"i-bs",4),h()}if(2&e){const t=_();d(),J(!t.isNumbered&&t.selected?1:-1),d(),J(t.isNumbered?2:-1)}}let r9=(()=>{class e{constructor(){this.cleared=new Be}get active(){return this.selected||this.number>-1}get isNumbered(){return this.number>-1}onClick(t){this.cleared.emit(!0),t.stopImmediatePropagation(),t.preventDefault()}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-clearable-badge"]],inputs:{number:"number",selected:"selected"},outputs:{cleared:"cleared"},decls:1,vars:1,consts:()=>{let t;return t="Pulisci",[["title",t,1,"position-absolute","top-0","start-100","translate-middle","badge","bg-secondary","border","border-light","rounded-pill","p-1"],["title",t,1,"position-absolute","top-0","start-100","translate-middle","badge","bg-secondary","border","border-light","rounded-pill","p-1",3,"click"],["width","1em","height","1em","name","check-lg",1,"check"],[1,"number"],["width",".9em","height","1em","name","x-lg",1,"x"],[1,"visually-hidden"]]},template:function(n,o){1&n&&q(0,$Ke,4,2,"button",0),2&n&&J(o.active?0:-1)},dependencies:[Wt],styles:[".badge[_ngcontent-%COMP%]{min-width:20px;min-height:20px}.x[_ngcontent-%COMP%]{display:none}.number[_ngcontent-%COMP%]{min-width:1em;min-height:1em;display:inline-block}button[_ngcontent-%COMP%]:hover   .check[_ngcontent-%COMP%], button[_ngcontent-%COMP%]:hover   .number[_ngcontent-%COMP%]{opacity:0!important}button[_ngcontent-%COMP%]:hover   .x[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:.4em;left:calc(50% - .4em)}"]})}return e})();const BKe=["listFilterTextInput"],GKe=["dropdown"],UKe=["buttonItems"],ZKe=e=>({"fw-bold":e});function jKe(e,i){if(1&e){const t=pe();c(0,"pngx-clearable-badge",23),F("cleared",function(){return H(t),$(_().reset())}),h()}if(2&e){const t=_();w("number",t.selectionModel.totalCount)("selected",t.selectionModel.selectionSize()>0)}}function WKe(e,i){if(1&e){const t=pe();c(0,"div",17)(1,"div",24)(2,"input",25),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.selectionModel.logicalOperator,o)||(s.selectionModel.logicalOperator=o),$(o)}),F("ngModelChange",function(){return H(t),$(_().selectionModel.toggleOperator())}),h(),c(3,"label",26),R(4,3),h(),c(5,"input",27),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.selectionModel.logicalOperator,o)||(s.selectionModel.logicalOperator=o),$(o)}),F("ngModelChange",function(){return H(t),$(_().selectionModel.toggleOperator())}),h(),c(6,"label",26),R(7,4),h()()()}if(2&e){const t=_();d(2),ln("id","logicalOperatorAnd_",t.name,""),ln("name","logicalOperatorAnd_",t.name,""),bt("ngModel",t.selectionModel.logicalOperator),w("disabled",!t.modifierToggleEnabled),d(),ln("for","logicalOperatorAnd_",t.name,""),d(2),ln("id","logicalOperatorOr_",t.name,""),ln("name","logicalOperatorOr_",t.name,""),bt("ngModel",t.selectionModel.logicalOperator),w("disabled",!t.modifierToggleEnabled),d(),ln("for","logicalOperatorOr_",t.name,"")}}function XKe(e,i){if(1&e){const t=pe();c(0,"div",17)(1,"div",24)(2,"input",28),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.selectionModel.intersection,o)||(s.selectionModel.intersection=o),$(o)}),F("ngModelChange",function(){return H(t),$(_().selectionModel.toggleIntersection())}),h(),c(3,"label",26),R(4,5),h(),c(5,"input",29),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.selectionModel.intersection,o)||(s.selectionModel.intersection=o),$(o)}),F("ngModelChange",function(){return H(t),$(_().selectionModel.toggleIntersection())}),h(),c(6,"label",26),R(7,6),h()()()}if(2&e){const t=_();d(2),ln("id","intersectionInclude_",t.name,""),ln("name","intersectionInclude_",t.name,""),bt("ngModel",t.selectionModel.intersection),w("disabled",!t.modifierToggleEnabled),d(),ln("for","intersectionInclude_",t.name,""),d(2),ln("id","intersectionExclude_",t.name,""),ln("name","intersectionExclude_",t.name,""),bt("ngModel",t.selectionModel.intersection),w("disabled",!t.modifierToggleEnabled),d(),ln("for","intersectionExclude_",t.name,"")}}function KKe(e,i){if(1&e){const t=pe();c(0,"pngx-toggleable-dropdown-button",31),F("toggle",function(){H(t);const o=_().$implicit;return $(_(2).selectionModel.toggle(o.id))})("exclude",function(){H(t);const o=_().$implicit;return $(_(2).excludeClicked(o.id))})("click",function(){H(t);const o=_().$index;return $(_(2).setButtonItemIndex(o-1))}),h()}if(2&e){const t=_().$implicit,n=_(2);w("item",t)("hideCount",n.hideCount(t))("state",n.selectionModel.get(t.id))("count",n.getUpdatedDocumentCount(t.id))("disabled",n.disabled)}}function qKe(e,i){if(1&e&&q(0,KKe,1,5,"pngx-toggleable-dropdown-button",30),2&e){const t=i.$implicit;J(_(2).allowSelectNone||t.id?0:-1)}}function YKe(e,i){if(1&e&&(c(0,"div",21,2),ut(2,qKe,1,1,null,null,Ft),ot(4,"filter"),h()),2&e){const t=_();d(2),_t(io(4,0,t.selectionModel.itemsSorted,t.filterText))}}function JKe(e,i){if(1&e){const t=pe();c(0,"button",33),F("click",function(){return H(t),$(_(2).createClicked())}),c(1,"small",34),ke(2),R(3,7),ze(),j(4),h(),k(5,"i-bs",35),h()}if(2&e){const t=_(2);w("disabled",t.disabled),d(4),nt(' "',t.filterText,'"')}}function QKe(e,i){if(1&e){const t=pe();c(0,"button",33),F("click",function(){return H(t),$(_(2).applyClicked())}),c(1,"small",36),R(2,8),h(),k(3,"i-bs",37),h()}if(2&e){const t=_(2);w("disabled",!t.modelIsDirty||t.disabled),d(),w("ngClass",No(2,ZKe,t.modelIsDirty))}}function eqe(e,i){if(1&e&&(q(0,JKe,6,2,"button",32),ot(1,"filter"),q(2,QKe,4,4,"button",32),ot(3,"filter")),2&e){const t=_();J(0===io(1,2,t.selectionModel.itemsSorted,t.filterText).length&&void 0!==t.createRef?0:-1),d(2),J(io(3,5,t.selectionModel.itemsSorted,t.filterText).length>0?2:-1)}}function tqe(e,i){1&e&&(c(0,"div",22)(1,"small"),R(2,9),h()())}var Is=function(e){return e.And="and",e.Or="or",e}(Is||{}),er=function(e){return e.Include="include",e.Exclude="exclude",e}(er||{});class w1{constructor(){this.changed=new et,this.manyToOne=!1,this.singleSelect=!1,this._logicalOperator=Is.And,this.temporaryLogicalOperator=this._logicalOperator,this._intersection=er.Include,this.temporaryIntersection=this._intersection,this.items=[],this.selectionStates=new Map,this.temporarySelectionStates=new Map}get itemsSorted(){return this.items.sort((i,t)=>null==i.id&&null!=t.id?-1:null!=i.id&&null==t.id||this.getNonTemporary(i.id)==qt.NotSelected&&this.getNonTemporary(t.id)!=qt.NotSelected?1:this.getNonTemporary(i.id)!=qt.NotSelected&&this.getNonTemporary(t.id)==qt.NotSelected?-1:i.name.localeCompare(t.name))}getSelectedItems(){return this.items.filter(i=>this.temporarySelectionStates.get(i.id)==qt.Selected)}getExcludedItems(){return this.items.filter(i=>this.temporarySelectionStates.get(i.id)==qt.Excluded)}set(i,t,n=!0){t==qt.NotSelected?this.temporarySelectionStates.delete(i):this.temporarySelectionStates.set(i,t),n&&this.changed.next(this)}toggle(i,t=!0){let n=this.temporarySelectionStates.get(i);if(null==n||n!=qt.Selected&&n!=qt.Excluded)if(this.manyToOne||this.singleSelect){if(this.temporarySelectionStates.set(i,qt.Selected),this.singleSelect)for(let o of this.temporarySelectionStates.keys())o!=i&&this.temporarySelectionStates.delete(o)}else{let o=this.intersection==er.Include?qt.Selected:qt.Excluded;i||(o=qt.Selected),n==qt.Excluded&&this.intersection==er.Exclude&&(o=qt.NotSelected),this.temporarySelectionStates.set(i,o)}else(n==qt.Selected||n==qt.Excluded)&&this.temporarySelectionStates.delete(i);if(i)this.temporarySelectionStates.delete(null);else for(let o of this.temporarySelectionStates.keys())o&&this.temporarySelectionStates.delete(o);t&&this.changed.next(this)}exclude(i,t=!0){let n=this.temporarySelectionStates.get(i);if(!i||null!=n&&n==qt.Excluded)(!i||n==qt.Excluded)&&this.temporarySelectionStates.delete(i);else if(this.temporaryLogicalOperator=this._logicalOperator=this.manyToOne?Is.And:Is.Or,this.manyToOne||this.singleSelect){if(this.temporarySelectionStates.set(i,qt.Excluded),this.singleSelect)for(let o of this.temporarySelectionStates.keys())o!=i&&this.temporarySelectionStates.delete(o)}else{let o=this.intersection==er.Include?qt.Selected:qt.Excluded;n==qt.Selected&&this.intersection==er.Include&&(o=qt.NotSelected),this.temporarySelectionStates.set(i,o)}t&&this.changed.next(this)}getNonTemporary(i){return this.selectionStates.get(i)||qt.NotSelected}get logicalOperator(){return this.temporaryLogicalOperator}set logicalOperator(i){this.temporaryLogicalOperator=i}toggleOperator(){this.changed.next(this)}get intersection(){return this.temporaryIntersection}set intersection(i){this.temporaryIntersection=i}toggleIntersection(){if(0===this.temporarySelectionStates.size)return;let i=this.intersection==er.Include?qt.Selected:qt.Excluded;this.temporarySelectionStates.forEach((t,n)=>{this.temporarySelectionStates.set(n,i)}),this.changed.next(this)}get(i){return this.temporarySelectionStates.get(i)||qt.NotSelected}selectionSize(){return this.getSelectedItems().length}get totalCount(){return this.getSelectedItems().length+this.getExcludedItems().length}clear(i=!0){this.temporarySelectionStates.clear(),this.temporaryLogicalOperator=this._logicalOperator=Is.And,this.temporaryIntersection=this._intersection=er.Include,i&&this.changed.next(this)}isDirty(){return!Array.from(this.temporarySelectionStates.keys()).every(i=>this.temporarySelectionStates.get(i)==this.selectionStates.get(i))||!Array.from(this.selectionStates.keys()).every(i=>this.selectionStates.get(i)==this.temporarySelectionStates.get(i))||this.temporaryLogicalOperator!==this._logicalOperator||this.temporaryIntersection!==this._intersection}isNoneSelected(){return 1==this.selectionSize()&&this.get(null)==qt.Selected}init(i){this.temporarySelectionStates=i,this.apply()}apply(){this.selectionStates.clear(),this.temporarySelectionStates.forEach((i,t)=>{this.selectionStates.set(t,i)}),this._logicalOperator=this.temporaryLogicalOperator,this._intersection=this.temporaryIntersection}reset(i=!1){this.temporarySelectionStates.clear(),i?this.selectionStates.clear():this.selectionStates.forEach((t,n)=>{this.temporarySelectionStates.set(n,t)})}diff(){return{itemsToAdd:this.items.filter(i=>this.temporarySelectionStates.get(i.id)==qt.Selected&&this.selectionStates.get(i.id)!=qt.Selected),itemsToRemove:this.items.filter(i=>!this.temporarySelectionStates.has(i.id)&&this.selectionStates.has(i.id))}}}let uF=(()=>{class e{set items(t){t&&(this._selectionModel.items=Array.from(t),this._selectionModel.items.unshift({name:"Non assegnato",id:null}))}get items(){return this._selectionModel.items}set selectionModel(t){this.selectionModel&&(this.selectionModel.changed.complete(),t.items=this.selectionModel.items,t.manyToOne=this.selectionModel.manyToOne,t.singleSelect=this.editing&&!this.selectionModel.manyToOne),t.changed.subscribe(n=>{this.selectionModelChange.next(n)}),this._selectionModel=t}get selectionModel(){return this._selectionModel}set manyToOne(t){this.selectionModel.manyToOne=t}get manyToOne(){return this.selectionModel.manyToOne}get modifierToggleEnabled(){return this.manyToOne?this.selectionModel.selectionSize()>1&&0==this.selectionModel.getExcludedItems().length:!this.selectionModel.isNoneSelected()}get name(){return this.title?this.title.replace(/\s/g,"_").toLowerCase():null}constructor(t,n){this.filterPipe=t,this.hotkeyService=n,this._selectionModel=new w1,this.selectionModelChange=new Be,this.filterPlaceholder="",this.allowSelectNone=!1,this.editing=!1,this.applyOnClose=!1,this.disabled=!1,this.creating=!1,this.apply=new Be,this.opened=new Be,this.modelIsDirty=!1,this.unsubscribeNotifier=new et,this.selectionModelChange.subscribe(o=>{this.modelIsDirty=o.isDirty()})}ngOnInit(){this.shortcutKey&&this.hotkeyService.addShortcut({keys:this.shortcutKey,description:"Apri filtro " + this.title + ""}).pipe(je(this.unsubscribeNotifier),$n(()=>!this.disabled)).subscribe(()=>{this.dropdown.open()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}applyClicked(){this.selectionModel.isDirty()&&(this.dropdown.close(),this.applyOnClose||this.apply.emit(this.selectionModel.diff()))}createClicked(){this.creating=!0,this.createRef(this.filterText)}dropdownOpenChange(t){t?(setTimeout(()=>{this.listFilterTextInput.nativeElement.focus()},0),this.editing&&(this.selectionModel.reset(),this.modelIsDirty=!1),this.opened.next(this)):this.creating?(this.dropdown.open(),this.creating=!1):(this.filterText="",this.applyOnClose&&this.selectionModel.isDirty()&&this.apply.emit(this.selectionModel.diff()))}listFilterEnter(){let t=this.filterPipe.transform(this.items,this.filterText);1==t.length?(this.selectionModel.toggle(t[0].id),setTimeout(()=>{this.editing?this.applyClicked():this.dropdown.close()},200)):0==t.length&&this.createRef&&this.createClicked()}excludeClicked(t){this.editing?this.selectionModel.toggle(t):this.selectionModel.exclude(t)}reset(){this.selectionModel.reset(!0),this.selectionModelChange.emit(this.selectionModel)}getUpdatedDocumentCount(t){if(this.documentCounts)return this.documentCounts.find(n=>n.id===t)?.document_count}listKeyDown(t){switch(t.key){case"ArrowDown":t.target instanceof HTMLInputElement?(!this.filterText||t.target.selectionStart===this.filterText.length)&&(this.keyboardIndex=-1,this.focusNextButtonItem(),t.preventDefault()):t.target instanceof HTMLButtonElement&&(this.focusNextButtonItem(),t.preventDefault());break;case"ArrowUp":t.target instanceof HTMLButtonElement&&(0===this.keyboardIndex?this.listFilterTextInput.nativeElement.focus():this.focusPreviousButtonItem(),t.preventDefault());break;case"Tab":t.target instanceof HTMLInputElement?this.keyboardIndex=0:t.target instanceof HTMLButtonElement&&(t.shiftKey?this.keyboardIndex>0&&this.focusPreviousButtonItem(!1):this.focusNextButtonItem(!1))}}focusNextButtonItem(t=!0){this.keyboardIndex=Math.min(this.items.length-1,this.keyboardIndex+1),t&&this.setButtonItemFocus()}focusPreviousButtonItem(t=!0){this.keyboardIndex=Math.max(0,this.keyboardIndex-1),t&&this.setButtonItemFocus()}setButtonItemFocus(){this.buttonItems.nativeElement.children[this.keyboardIndex]?.children[0].focus()}setButtonItemIndex(t){this.keyboardIndex=t}hideCount(t){return this.selectionModel.logicalOperator===Is.Or&&this.manyToOne&&this.selectionModel.get(t.id)!==qt.Selected}static#e=this.\u0275fac=function(n){return new(n||e)(Y(s9),Y(Yh))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-filterable-dropdown"]],viewQuery:function(n,o){if(1&n&&(cn(BKe,5),cn(GKe,5),cn(UKe,5)),2&n){let s;Ot(s=yt())&&(o.listFilterTextInput=s.first),Ot(s=yt())&&(o.dropdown=s.first),Ot(s=yt())&&(o.buttonItems=s.first)}},inputs:{items:"items",selectionModel:"selectionModel",manyToOne:"manyToOne",title:"title",filterPlaceholder:"filterPlaceholder",icon:"icon",allowSelectNone:"allowSelectNone",editing:"editing",applyOnClose:"applyOnClose",disabled:"disabled",createRef:"createRef",documentCounts:"documentCounts",shortcutKey:"shortcutKey"},outputs:{selectionModelChange:"selectionModelChange",apply:"apply",opened:"opened"},decls:18,vars:16,consts:()=>{let t,n,o,s,r,a,l;return t="Tutto",n="Qualsiasi",o="Includi",s="Escludi",r="Crea",a="Applica",l="Clicca di nuovo per escludere gli elementi.",[["dropdown","ngbDropdown"],["listFilterTextInput",""],["buttonItems",""],t,n,o,s,r,a,l,["ngbDropdown","","role","group",1,"btn-group","w-100",3,"openChange","keydown"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],[3,"name"],[1,"d-none","d-sm-inline"],[3,"number","selected"],["ngbDropdownMenu","",1,"dropdown-menu","py-0","shadow"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex"],[1,"list-group-item"],[1,"input-group","input-group-sm"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],[1,"items"],[1,"list-group-item","list-group-item-note","pt-1","pb-2"],[3,"cleared","number","selected"],["role","group",1,"btn-group","btn-group-xs","flex-fill"],["type","radio","value","and",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","value","or",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],["type","radio","value","include",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],["type","radio","value","exclude",1,"btn-check",3,"ngModelChange","ngModel","disabled","id","name"],[3,"item","hideCount","state","count","disabled"],[3,"toggle","exclude","click","item","hideCount","state","count","disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"disabled"],[1,"list-group-item","list-group-item-action","bg-light",3,"click","disabled"],[1,"ms-2"],["width","1.5em","height","1em","name","plus"],[1,"ms-2",3,"ngClass"],["width","1.5em","height","1em","name","arrow-right"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",10,0),F("openChange",function(a){return H(s),$(o.dropdownOpenChange(a))})("keydown",function(a){return H(s),$(o.listKeyDown(a))}),c(2,"button",11),k(3,"i-bs",12),c(4,"div",13),j(5),h(),q(6,jKe,1,2,"pngx-clearable-badge",14),h(),c(7,"div",15)(8,"div",16),q(9,WKe,8,16,"div",17)(10,XKe,8,16,"div",17),c(11,"div",18)(12,"div",19)(13,"input",20,1),Tt("ngModelChange",function(a){return H(s),mt(o.filterText,a)||(o.filterText=a),$(a)}),F("keyup.enter",function(){return H(s),$(o.listFilterEnter())}),h()()(),q(15,YKe,5,3,"div",21)(16,eqe,4,8)(17,tqe,3,0,"div",22),h()()()}2&n&&(d(2),ln("id","dropdown_",o.name,""),w("ngClass",!o.editing&&o.selectionModel.selectionSize()>0?"btn-primary":"btn-outline-primary")("disabled",o.disabled),d(),ui("name",o.icon),d(2),nt("\xa0",o.title,""),d(),J(!o.editing&&o.selectionModel.totalCount>0?6:-1),d(),c2("aria-labelledby","dropdown_",o.name,""),d(2),J(!o.editing&&o.manyToOne?9:-1),d(),J(o.editing||o.manyToOne?-1:10),d(3),bt("ngModel",o.filterText),w("placeholder",o.filterPlaceholder),d(2),J(o.selectionModel.items?15:-1),d(),J(o.editing?16:-1),d(),J(!o.editing&&o.manyToOne?17:-1))},dependencies:[va,Go,ys,is,si,sh,Yt,Ln,Wt,r9,zKe,s9],styles:[".badge-corner[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-8px}.dropdown-menu[_ngcontent-%COMP%]{min-width:250px}.dropdown-menu[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.2}.btn-group[_ngcontent-%COMP%] > label.disabled[_ngcontent-%COMP%]{filter:brightness(.5)}.btn-group[_ngcontent-%COMP%] > label.disabled.active[_ngcontent-%COMP%]{background-color:var(--pngx-primary-lighten-30)}.list-group-item-note[_ngcontent-%COMP%]{line-height:1}.list-group-item-note[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:65%}.show[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#fff}"]})}return e})();function nqe(e,i){1&e&&k(0,"i-bs",38)}function iqe(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){const o=H(t).$implicit;return $(_().setCreatedRelativeDate(o.id))}),c(1,"div",37),q(2,nqe,1,0,"i-bs",38),h(),c(3,"div",39)(4,"div",40),j(5),h(),c(6,"div",41)(7,"span",42),j(8),ot(9,"customDate"),ke(10),R(11,10),ze(),h()()()()}if(2&e){const t=i.$implicit,n=_();d(2),J(n.createdRelativeDate===t.id?2:-1),d(3),nt(" ",t.name," "),d(3),nt(" ",io(9,3,t.date,"mediumDate")," \u2013 ")}}function oqe(e,i){if(1&e){const t=pe();c(0,"a",43),F("click",function(){return H(t),$(_().clearCreatedAfter())}),k(1,"i-bs",44),c(2,"small"),R(3,11),h()()}}function sqe(e,i){if(1&e){const t=pe();c(0,"a",43),F("click",function(){return H(t),$(_().clearCreatedBefore())}),k(1,"i-bs",44),c(2,"small"),R(3,12),h()()}}function rqe(e,i){1&e&&k(0,"i-bs",38)}function aqe(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){const o=H(t).$implicit;return $(_().setAddedRelativeDate(o.id))}),c(1,"div",37),q(2,rqe,1,0,"i-bs",38),h(),c(3,"div",39)(4,"div",40),j(5),h(),c(6,"div",41)(7,"span",42),j(8),ot(9,"customDate"),ke(10),R(11,13),ze(),h()()()()}if(2&e){const t=i.$implicit,n=_();d(2),J(n.addedRelativeDate===t.id?2:-1),d(3),nt(" ",t.name," "),d(3),nt(" ",io(9,3,t.date,"mediumDate")," \u2013 ")}}function lqe(e,i){if(1&e){const t=pe();c(0,"a",43),F("click",function(){return H(t),$(_().clearAddedAfter())}),k(1,"i-bs",44),c(2,"small"),R(3,14),h()()}}function cqe(e,i){if(1&e){const t=pe();c(0,"a",43),F("click",function(){return H(t),$(_().clearAddedBefore())}),k(1,"i-bs",44),c(2,"small"),R(3,15),h()()}}var Pa=function(e){return e[e.LAST_7_DAYS=0]="LAST_7_DAYS",e[e.LAST_MONTH=1]="LAST_MONTH",e[e.LAST_3_MONTHS=2]="LAST_3_MONTHS",e[e.LAST_YEAR=3]="LAST_YEAR",e}(Pa||{});let dqe=(()=>{class e{constructor(t){this.relativeDates=[{id:Pa.LAST_7_DAYS,name:"Ultimi 7 giorni",date:(new Date).setDate((new Date).getDate()-7)},{id:Pa.LAST_MONTH,name:"Ultimo mese",date:(new Date).setMonth((new Date).getMonth()-1)},{id:Pa.LAST_3_MONTHS,name:"Ultimi 3 mesi",date:(new Date).setMonth((new Date).getMonth()-3)},{id:Pa.LAST_YEAR,name:"Ultimo anno",date:(new Date).setFullYear((new Date).getFullYear()-1)}],this.createdDateBeforeChange=new Be,this.createdDateAfterChange=new Be,this.createdRelativeDateChange=new Be,this.addedDateBeforeChange=new Be,this.addedDateAfterChange=new Be,this.addedRelativeDateChange=new Be,this.datesSet=new Be,this.disabled=!1,this.datesSetDebounce$=new et,this.datePlaceHolder=t.getLocalizedDateInputFormat()}get isActive(){return null!==this.createdRelativeDate||this.createdDateAfter?.length>0||this.createdDateBefore?.length>0||null!==this.addedRelativeDate||this.addedDateAfter?.length>0||this.addedDateBefore?.length>0}ngOnInit(){this.sub=this.datesSetDebounce$.pipe(Tr(400)).subscribe(()=>{this.onChange()})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}reset(){this.createdDateBefore=null,this.createdDateAfter=null,this.createdRelativeDate=null,this.addedDateBefore=null,this.addedDateAfter=null,this.addedRelativeDate=null,this.onChange()}setCreatedRelativeDate(t){this.createdDateBefore=null,this.createdDateAfter=null,this.createdRelativeDate=this.createdRelativeDate==t?null:t,this.onChange()}setAddedRelativeDate(t){this.addedDateBefore=null,this.addedDateAfter=null,this.addedRelativeDate=this.addedRelativeDate==t?null:t,this.onChange()}onChange(){this.createdDateBeforeChange.emit(this.createdDateBefore),this.createdDateAfterChange.emit(this.createdDateAfter),this.createdRelativeDateChange.emit(this.createdRelativeDate),this.addedDateBeforeChange.emit(this.addedDateBefore),this.addedDateAfterChange.emit(this.addedDateAfter),this.addedRelativeDateChange.emit(this.addedRelativeDate),this.datesSet.emit({createdAfter:this.createdDateAfter,createdBefore:this.createdDateBefore,createdRelativeDateID:this.createdRelativeDate,addedAfter:this.addedDateAfter,addedBefore:this.addedDateBefore,addedRelativeDateID:this.addedRelativeDate})}onChangeDebounce(){this.createdRelativeDate=null,this.addedRelativeDate=null,this.datesSetDebounce$.next({createdAfter:this.createdDateAfter,createdBefore:this.createdDateBefore,addedAfter:this.addedDateAfter,addedBefore:this.addedDateBefore})}clearCreatedBefore(){this.createdDateBefore=null,this.onChange()}clearCreatedAfter(){this.createdDateAfter=null,this.onChange()}clearAddedBefore(){this.addedDateBefore=null,this.onChange()}clearAddedAfter(){this.addedDateAfter=null,this.onChange()}onKeyPress(t){"Enter"!==t.key&&!/[0-9,\.\/-]+/.test(t.key)&&t.preventDefault()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-dates-dropdown"]],inputs:{createdDateBefore:"createdDateBefore",createdDateAfter:"createdDateAfter",createdRelativeDate:"createdRelativeDate",addedDateBefore:"addedDateBefore",addedDateAfter:"addedDateAfter",addedRelativeDate:"addedRelativeDate",title:"title",disabled:"disabled"},outputs:{createdDateBeforeChange:"createdDateBeforeChange",createdDateAfterChange:"createdDateAfterChange",createdRelativeDateChange:"createdRelativeDateChange",addedDateBeforeChange:"addedDateBeforeChange",addedDateAfterChange:"addedDateAfterChange",addedRelativeDateChange:"addedRelativeDateChange",datesSet:"datesSet"},features:[Gt([{provide:hl,useClass:Av}])],decls:62,vars:20,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z;return t="Creato",n="Dopo",o="Prima",s="Aggiunto",r="Dopo",a="Prima",l="adesso",u="Pulisci",p="Pulisci",v="adesso",L="Pulisci",z="Pulisci",[["createdDateAfterPicker","ngbDatepicker"],["createdDateBeforePicker","ngbDatepicker"],["addedDateAfterPicker","ngbDatepicker"],["addedDateBeforePicker","ngbDatepicker"],t,n,o,s,r,a,l,u,p,v,L,z,["ngbDropdown","","role","group",1,"btn-group","w-100"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],["width","1em","height","1em","name","calendar-event-fill"],[1,"d-none","d-sm-inline"],[3,"cleared","selected"],[1,"visually-hidden"],["ngbDropdownMenu","",1,"dropdown-menu","date-dropdown","shadow","p-2"],[1,"row","d-flex"],[1,"col","border-end"],[1,"list-group","list-group-flush"],[1,"dropdown-header","border-bottom"],["role","menuitem",1,"list-group-item","small","list-goup","list-group-item-action","d-flex","p-2"],["role","menuitem",1,"list-group-item","d-flex","flex-column","align-items-start"],[1,"mb-2","d-flex","flex-row","w-100","justify-content-between","small"],[1,"btn","btn-link","p-0","m-0"],[1,"input-group","input-group-sm"],["maxlength","10","ngbDatepicker","",1,"form-control",3,"dateSelect","change","keypress","ngModelChange","placeholder","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","calendar"],[1,"col"],["role","menuitem",1,"list-group-item","small","list-goup","list-group-item-action","d-flex","p-2",3,"click"],[1,"selected-icon"],["width","1em","height","1em","name","check"],[1,"d-flex","justify-content-between","w-100","align-items-center","ps-2"],[1,"pe-2","pe-lg-4"],[1,"text-muted","small","pe-2"],[1,"small"],[1,"btn","btn-link","p-0","m-0",3,"click"],["width","1em","height","1em","name","x"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",16)(1,"button",17),k(2,"i-bs",18),c(3,"div",19),j(4),h(),c(5,"pngx-clearable-badge",20),F("cleared",function(){return H(s),$(o.reset())}),h(),c(6,"span",21),j(7,"selected"),h()(),c(8,"div",22)(9,"div",23)(10,"div",24)(11,"div",25)(12,"h6",26),R(13,4),h(),ut(14,iqe,12,6,"button",27,Ft),c(16,"div",28)(17,"div",29)(18,"div"),R(19,5),h(),q(20,oqe,4,0,"a",30),h(),c(21,"div",31)(22,"input",32,0),F("dateSelect",function(){return H(s),$(o.onChangeDebounce())})("change",function(){return H(s),$(o.onChangeDebounce())})("keypress",function(a){return H(s),$(o.onKeyPress(a))}),Tt("ngModelChange",function(a){return H(s),mt(o.createdDateAfter,a)||(o.createdDateAfter=a),$(a)}),h(),c(24,"button",33),F("click",function(){return H(s),$(vt(23).toggle())}),k(25,"i-bs",34),h()()(),c(26,"div",28)(27,"div",29)(28,"div"),R(29,6),h(),q(30,sqe,4,0,"a",30),h(),c(31,"div",31)(32,"input",32,1),F("dateSelect",function(){return H(s),$(o.onChangeDebounce())})("change",function(){return H(s),$(o.onChangeDebounce())})("keypress",function(a){return H(s),$(o.onKeyPress(a))}),Tt("ngModelChange",function(a){return H(s),mt(o.createdDateBefore,a)||(o.createdDateBefore=a),$(a)}),h(),c(34,"button",33),F("click",function(){return H(s),$(vt(33).toggle())}),k(35,"i-bs",34),h()()()()(),c(36,"div",35)(37,"h6",26),R(38,7),h(),c(39,"div",25),ut(40,aqe,12,6,"button",27,Ft),c(42,"div",28)(43,"div",29)(44,"div"),R(45,8),h(),q(46,lqe,4,0,"a",30),h(),c(47,"div",31)(48,"input",32,2),F("dateSelect",function(){return H(s),$(o.onChangeDebounce())})("change",function(){return H(s),$(o.onChangeDebounce())})("keypress",function(a){return H(s),$(o.onKeyPress(a))}),Tt("ngModelChange",function(a){return H(s),mt(o.addedDateAfter,a)||(o.addedDateAfter=a),$(a)}),h(),c(50,"button",33),F("click",function(){return H(s),$(vt(49).toggle())}),k(51,"i-bs",34),h()()(),c(52,"div",28)(53,"div",29)(54,"div"),R(55,9),h(),q(56,cqe,4,0,"a",30),h(),c(57,"div",31)(58,"input",32,3),F("dateSelect",function(){return H(s),$(o.onChangeDebounce())})("change",function(){return H(s),$(o.onChangeDebounce())})("keypress",function(a){return H(s),$(o.onKeyPress(a))}),Tt("ngModelChange",function(a){return H(s),mt(o.addedDateBefore,a)||(o.addedDateBefore=a),$(a)}),h(),c(60,"button",33),F("click",function(){return H(s),$(vt(59).toggle())}),k(61,"i-bs",34),h()()()()()()()()}2&n&&(d(),ln("id","dropdown",o.title,""),w("ngClass",o.createdDateBefore||o.createdDateAfter?"btn-primary":"btn-outline-primary")("disabled",o.disabled),d(3),nt("\xa0",o.title,""),d(),w("selected",o.isActive),d(3),c2("aria-labelledby","dropdown",o.title,""),d(6),_t(o.relativeDates),d(6),J(o.createdDateAfter?20:-1),d(2),w("placeholder",o.datePlaceHolder),bt("ngModel",o.createdDateAfter),d(8),J(o.createdDateBefore?30:-1),d(2),w("placeholder",o.datePlaceHolder),bt("ngModel",o.createdDateBefore),d(8),_t(o.relativeDates),d(6),J(o.addedDateAfter?46:-1),d(2),w("placeholder",o.datePlaceHolder),bt("ngModel",o.addedDateAfter),d(8),J(o.addedDateBefore?56:-1),d(2),w("placeholder",o.datePlaceHolder),bt("ngModel",o.addedDateBefore))},dependencies:[va,Cm,Go,ys,is,si,Yt,ah,Ln,Wt,r9,Ns],styles:[".date-dropdown[_ngcontent-%COMP%]{white-space:nowrap}@media (min-width: 768px){.date-dropdown[_ngcontent-%COMP%]{--bs-dropdown-min-width: 40rem}}.date-dropdown[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{line-height:1}.selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}"]})}return e})();const hqe=(e,i)=>({action:e,type:i});function uqe(e,i){1&e&&k(0,"i-bs",16)}function _qe(e,i){1&e&&k(0,"i-bs",16)}function pqe(e,i){1&e&&k(0,"i-bs",16)}function gqe(e,i){1&e&&k(0,"i-bs",16)}function fqe(e,i){1&e&&k(0,"i-bs",16)}function mqe(e,i){1&e&&k(0,"i-bs",16)}function vqe(e,i){if(1&e){const t=pe();c(0,"div",21)(1,"ng-select",22),Tt("ngModelChange",function(o){H(t);const s=_(2);return mt(s.selectionModel.includeUsers,o)||(s.selectionModel.includeUsers=o),$(o)}),F("change",function(){return H(t),$(_(2).onUserSelect())}),h()()}if(2&e){const t=_(2);d(),bt("ngModel",t.selectionModel.includeUsers),w("disabled",t.disabled)("clearable",!1)("items",t.users)}}function Cqe(e,i){if(1&e&&(c(0,"button",20)(1,"div",15),q(2,mqe,1,0,"i-bs",16),h(),q(3,vqe,2,4,"div",21),h()),2&e){const t=_();w("disabled",t.disabled),d(2),J(t.selectionModel.ownerFilter===t.OwnerFilterType.OTHERS?2:-1),d(),J(t.permissionsService.currentUserCan(t.PermissionAction.View,t.PermissionType.User)?3:-1)}}function wqe(e,i){if(1&e){const t=pe();c(0,"div",19)(1,"div",23)(2,"input",24),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.selectionModel.hideUnowned,o)||(s.selectionModel.hideUnowned=o),$(o)}),F("change",function(){return H(t),$(_().onChange())}),h(),c(3,"label",25)(4,"small"),R(5,5),h()()()()}if(2&e){const t=_();d(2),bt("ngModel",t.selectionModel.hideUnowned),w("disabled",t.disabled)}}class Mqe{clear(){this.ownerFilter=ao.NONE,this.userID=null,this.hideUnowned=!1,this.includeUsers=[],this.excludeUsers=[]}}var ao=function(e){return e[e.NONE=0]="NONE",e[e.SELF=1]="SELF",e[e.NOT_SELF=2]="NOT_SELF",e[e.OTHERS=3]="OTHERS",e[e.UNOWNED=4]="UNOWNED",e[e.SHARED_BY_ME=5]="SHARED_BY_ME",e}(ao||{});let bqe=(()=>{class e extends Uo{get isActive(){return this.selectionModel.ownerFilter!==ao.NONE||this.selectionModel.hideUnowned}constructor(t,n,o){super(),this.permissionsService=t,this.settingsService=o,this.OwnerFilterType=ao,this.disabled=!1,this.ownerFilterSet=new Be,t.currentUserCan(Nt.View,It.User)&&n.listAll().pipe(wt()).subscribe({next:s=>this.users=s.results})}reset(){this.selectionModel.clear(),this.onChange()}setFilter(t){this.selectionModel.ownerFilter=t,this.selectionModel.ownerFilter===ao.SELF?(this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.userID=this.settingsService.currentUser.id,this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ao.NOT_SELF?(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[this.settingsService.currentUser.id],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ao.NONE?(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ao.SHARED_BY_ME?(this.selectionModel.userID=this.settingsService.currentUser.id,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1):this.selectionModel.ownerFilter===ao.UNOWNED&&(this.selectionModel.userID=null,this.selectionModel.includeUsers=[],this.selectionModel.excludeUsers=[],this.selectionModel.hideUnowned=!1),this.onChange()}onChange(){this.ownerFilterSet.emit(this.selectionModel)}onUserSelect(){this.selectionModel.ownerFilter=this.selectionModel.includeUsers?.length?ao.OTHERS:ao.NONE,this.onChange()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Xn),Y(vo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-permissions-filter-dropdown"]],inputs:{title:"title",disabled:"disabled",selectionModel:"selectionModel"},outputs:{ownerFilterSet:"ownerFilterSet"},features:[Ct],decls:42,vars:23,consts:()=>{let t,n,o,s,r,a,l;return t="Tutto",n="I miei documenti",o="Condivisi con me",s="Condiviso da me",r="Non di propriet\xE0",a="Utenti",l="Nascondi non posseduti",[t,n,o,s,r,l,["ngbDropdown","","role","group",1,"btn-group","w-100"],["ngbDropdownToggle","",1,"btn","btn-sm",3,"id","ngClass","disabled"],["name","person-fill-lock"],[1,"d-none","d-sm-inline"],[3,"cleared","selected"],[1,"visually-hidden"],["ngbDropdownMenu","",1,"dropdown-menu","permission-filter-dropdown","shadow","py-0","w-2"],[1,"list-group","list-group-flush"],["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"click","disabled"],[1,"selected-icon","me-1"],["width","1em","height","1em","name","check"],[1,"me-1"],["class","list-group-item list-group-item-action d-flex align-items-center p-2 border-top-0 border-start-0 border-end-0 border-bottom","role","menuitem",3,"disabled",4,"pngxIfPermissions"],[1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","ps-3","border-bottom-0","border-start-0","border-end-0"],["role","menuitem",1,"list-group-item","list-group-item-action","d-flex","align-items-center","p-2","border-top-0","border-start-0","border-end-0","border-bottom",3,"disabled"],[1,"me-1","w-100"],["name","user","bindLabel","username","multiple","true","bindValue","id","placeholder",a,1,"user-select","small",3,"ngModelChange","change","ngModel","disabled","clearable","items"],[1,"form-check","form-switch","w-100"],["type","checkbox","id","hideUnowned",1,"form-check-input",3,"ngModelChange","change","ngModel","disabled"],["for","hideUnowned",1,"form-check-label","w-100"]]},template:function(n,o){1&n&&(c(0,"div",6)(1,"button",7),k(2,"i-bs",8),c(3,"div",9),j(4),h(),c(5,"pngx-clearable-badge",10),F("cleared",function(){return o.reset()}),h(),c(6,"span",11),j(7,"selected"),h()(),c(8,"div",12)(9,"div",13)(10,"button",14),F("click",function(){return o.setFilter(o.OwnerFilterType.NONE)}),c(11,"div",15),q(12,uqe,1,0,"i-bs",16),h(),c(13,"div",17)(14,"small"),R(15,0),h()()(),c(16,"button",14),F("click",function(){return o.setFilter(o.OwnerFilterType.SELF)}),c(17,"div",15),q(18,_qe,1,0,"i-bs",16),h(),c(19,"div",17)(20,"small"),R(21,1),h()()(),c(22,"button",14),F("click",function(){return o.setFilter(o.OwnerFilterType.NOT_SELF)}),c(23,"div",15),q(24,pqe,1,0,"i-bs",16),h(),c(25,"div",17)(26,"small"),R(27,2),h()()(),c(28,"button",14),F("click",function(){return o.setFilter(o.OwnerFilterType.SHARED_BY_ME)}),c(29,"div",15),q(30,gqe,1,0,"i-bs",16),h(),c(31,"div",17)(32,"small"),R(33,3),h()()(),c(34,"button",14),F("click",function(){return o.setFilter(o.OwnerFilterType.UNOWNED)}),c(35,"div",15),q(36,fqe,1,0,"i-bs",16),h(),c(37,"div",17)(38,"small"),R(39,4),h()()(),q(40,Cqe,4,3,"button",18)(41,wqe,6,2,"div",19),h()()()),2&n&&(d(),ln("id","dropdown",o.title,""),w("ngClass",o.isActive?"btn-primary":"btn-outline-primary")("disabled",o.disabled),d(3),nt("\xa0",o.title,""),d(),w("selected",o.isActive),d(3),c2("aria-labelledby","dropdown",o.title,""),d(2),w("disabled",o.disabled),d(2),J(o.selectionModel.ownerFilter===o.OwnerFilterType.NONE?12:-1),d(4),w("disabled",o.disabled),d(2),J(o.selectionModel.ownerFilter===o.OwnerFilterType.SELF?18:-1),d(4),w("disabled",o.disabled),d(2),J(o.selectionModel.ownerFilter===o.OwnerFilterType.NOT_SELF?24:-1),d(4),w("disabled",o.disabled),d(2),J(o.selectionModel.ownerFilter===o.OwnerFilterType.SHARED_BY_ME?30:-1),d(4),w("disabled",o.disabled),d(2),J(o.selectionModel.ownerFilter===o.OwnerFilterType.UNOWNED?36:-1),d(4),w("pngxIfPermissions",rt(20,hqe,o.PermissionAction.Add,o.PermissionType.User)),d(),J(o.selectionModel.ownerFilter===o.OwnerFilterType.NONE||o.selectionModel.ownerFilter===o.OwnerFilterType.NOT_SELF?41:-1))},dependencies:[va,Go,ys,is,ts,Yt,Ln,P5,Wt,r9,Zo],styles:[".user-select[_ngcontent-%COMP%]{min-width:15rem}.selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}"]})}return e})();const Tqe=["textFilterInput"];function Sqe(e,i){if(1&e){const t=pe();c(0,"button",26),F("click",function(){const o=H(t).$implicit;return $(_().changeTextFilterTarget(o.id))}),j(1),h()}if(2&e){const t=i.$implicit;Ye("active",_().textFilterTarget===t.id),d(),Pe(t.name)}}function Eqe(e,i){if(1&e&&(c(0,"option",28),j(1),h()),2&e){const t=i.$implicit;w("value",t.id),d(),Pe(t.label)}}function Aqe(e,i){if(1&e){const t=pe();c(0,"select",27),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.textFilterModifier,o)||(s.textFilterModifier=o),$(o)}),F("change",function(){return H(t),$(_().textFilterModifierChange())}),ut(1,Eqe,2,2,"option",28,Ft),h()}if(2&e){const t=_();bt("ngModel",t.textFilterModifier),d(),_t(t.textFilterModifiers)}}function Oqe(e,i){if(1&e){const t=pe();c(0,"button",29),F("click",function(){return H(t),$(_().resetTextField())}),k(1,"i-bs",30),h()}}function yqe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",31),Tt("selectionModelChange",function(o){H(t);const s=_();return mt(s.tagSelectionModel,o)||(s.tagSelectionModel=o),$(o)}),F("selectionModelChange",function(){return H(t),$(_().updateRules())})("opened",function(){return H(t),$(_().onTagsDropdownOpen())}),h()}if(2&e){const t=_();w("items",t.tags)("manyToOne",!0),bt("selectionModel",t.tagSelectionModel),w("documentCounts",t.tagDocumentCounts)("allowSelectNone",!0)("disabled",t.disabled)}}function Dqe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",32),Tt("selectionModelChange",function(o){H(t);const s=_();return mt(s.correspondentSelectionModel,o)||(s.correspondentSelectionModel=o),$(o)}),F("selectionModelChange",function(){return H(t),$(_().updateRules())})("opened",function(){return H(t),$(_().onCorrespondentDropdownOpen())}),h()}if(2&e){const t=_();w("items",t.correspondents),bt("selectionModel",t.correspondentSelectionModel),w("documentCounts",t.correspondentDocumentCounts)("allowSelectNone",!0)("disabled",t.disabled)}}function Nqe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",33),Tt("selectionModelChange",function(o){H(t);const s=_();return mt(s.documentTypeSelectionModel,o)||(s.documentTypeSelectionModel=o),$(o)}),F("selectionModelChange",function(){return H(t),$(_().updateRules())})("opened",function(){return H(t),$(_().onDocumentTypeDropdownOpen())}),h()}if(2&e){const t=_();w("items",t.documentTypes),bt("selectionModel",t.documentTypeSelectionModel),w("documentCounts",t.documentTypeDocumentCounts)("allowSelectNone",!0)("disabled",t.disabled)}}function Pqe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",34),Tt("selectionModelChange",function(o){H(t);const s=_();return mt(s.storagePathSelectionModel,o)||(s.storagePathSelectionModel=o),$(o)}),F("selectionModelChange",function(){return H(t),$(_().updateRules())})("opened",function(){return H(t),$(_().onStoragePathDropdownOpen())}),h()}if(2&e){const t=_();w("items",t.storagePaths),bt("selectionModel",t.storagePathSelectionModel),w("documentCounts",t.storagePathDocumentCounts)("allowSelectNone",!0)("disabled",t.disabled)}}function Iqe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",35),Tt("selectionModelChange",function(o){H(t);const s=_();return mt(s.customFieldSelectionModel,o)||(s.customFieldSelectionModel=o),$(o)}),F("selectionModelChange",function(){return H(t),$(_().updateRules())})("opened",function(){return H(t),$(_().onCustomFieldsDropdownOpen())}),h()}if(2&e){const t=_();w("items",t.customFields)("manyToOne",!0),bt("selectionModel",t.customFieldSelectionModel),w("documentCounts",t.customFieldDocumentCounts)("allowSelectNone",!0)}}const $3="title",ed="title-content",td="asn",gu="fulltext-query",nd="fulltext-morelike",a9="custom-fields",B3="equals",G3="is null",l9="not null",fu="greater",U3="less",c9=/created:\[([^\]]+)\]/g,d9=/added:\[([^\]]+)\]/g,Z3=[{relativeDate:Pa.LAST_7_DAYS,dateQuery:"-1 week to now"},{relativeDate:Pa.LAST_MONTH,dateQuery:"-1 month to now"},{relativeDate:Pa.LAST_3_MONTHS,dateQuery:"-3 month to now"},{relativeDate:Pa.LAST_YEAR,dateQuery:"-1 year to now"}],_F=[{id:$3,name:"Titolo"},{id:ed,name:"Titolo & contenuto"},{id:td,name:"ASN"},{id:a9,name:"Campi personalizzati"},{id:gu,name:"Ricerca avanzata"}],Lqe={id:nd,name:"Pi\xF9 come"},xqe=[{id:B3,label:"uguale a"},{id:G3,label:"\xE8 vuoto"},{id:l9,label:"non \xE8 vuoto"},{id:fu,label:"maggiore di"},{id:U3,label:"minore di"}];let Rqe=(()=>{class e extends Uo{generateFilterName(){if(1==this.filterRules.length){let t=this.filterRules[0];switch(t.rule_type){case 3:case 26:return t.value?"Corrispondente: " + this.correspondents.find(n => n.id == +t.value)?.name + "":"Senza corrispondente";case 4:case 28:return t.value?"Tipo di documento: " + this.documentTypes.find(n => n.id == +t.value)?.name + "":"Senza tipo di documento";case 25:case 30:return t.value?"Percorso di archiviazione: " + this.storagePaths.find(n => n.id == +t.value)?.name + "":"Senza percorso di archiviazione";case 6:return "Tag: " + this.tags.find(n => n.id == +t.value)?.name + "";case 7:if("false"==t.value)return "Senza alcun tag";case 38:return "Campi personalizzati: " + this.customFields.find(n => n.id == +t.value)?.name + "";case 41:if("false"==t.value)return "Senza alcun campo personalizzato";case 0:return "Titolo: " + t.value + "";case 2:return "ASN: " + t.value + "";case 32:return "Proprietario: " + t.value + "";case 35:return "Proprietario non in: " + t.value + "";case 34:return "Senza proprietario"}}return""}constructor(t,n,o,s,r,a,l,u){super(),this.documentTypeService=t,this.tagService=n,this.correspondentService=o,this.documentService=s,this.storagePathService=r,this.permissionsService=a,this.customFieldService=l,this.searchService=u,this.tags=[],this.correspondents=[],this.documentTypes=[],this.storagePaths=[],this.customFields=[],this._textFilter="",this.unsubscribeNotifier=new et,this.textFilterTarget=ed,this.tagSelectionModel=new w1,this.correspondentSelectionModel=new w1,this.documentTypeSelectionModel=new w1,this.storagePathSelectionModel=new w1,this.customFieldSelectionModel=new w1,this.permissionsSelectionModel=new Mqe,this._unmodifiedFilterRules=[],this._filterRules=[],this.filterRulesChange=new Be,this.rulesModified=!1,this.disabled=!1,this.searchAutoComplete=p=>p.pipe(Tr(200),Ma(),$n(()=>this.textFilterTarget===gu),At(v=>-1!=v.lastIndexOf(" ")?v.substring(v.lastIndexOf(" ")+1):v),zn(v=>v.length<2?xi([[]]):this.searchService.autocomplete(v).pipe(Ya(()=>xi([[]])))))}get textFilterTargets(){return this.textFilterTarget==nd?_F.concat([Lqe]):_F}get textFilterTargetName(){return this.textFilterTargets.find(t=>t.id==this.textFilterTarget)?.name}get textFilterModifiers(){return xqe}get textFilterModifierIsNull(){return[G3,l9].includes(this.textFilterModifier)}set unmodifiedFilterRules(t){this._unmodifiedFilterRules=t,this.rulesModified=b3(this._unmodifiedFilterRules,this._filterRules)}get unmodifiedFilterRules(){return this._unmodifiedFilterRules}set filterRules(t){this._filterRules=t,this.documentTypeSelectionModel.clear(!1),this.storagePathSelectionModel.clear(!1),this.tagSelectionModel.clear(!1),this.correspondentSelectionModel.clear(!1),this.customFieldSelectionModel.clear(!1),this._textFilter=null,this._moreLikeId=null,this.dateAddedBefore=null,this.dateAddedAfter=null,this.dateCreatedBefore=null,this.dateCreatedAfter=null,this.dateCreatedRelativeDate=null,this.dateAddedRelativeDate=null,this.textFilterModifier=B3,this.permissionsSelectionModel.clear(),t.forEach(n=>{switch(n.rule_type){case 0:this._textFilter=n.value,this.textFilterTarget=$3;break;case 19:this._textFilter=n.value,this.textFilterTarget=ed;break;case 2:this._textFilter=n.value,this.textFilterTarget=td;break;case 36:this._textFilter=n.value,this.textFilterTarget=a9;break;case 20:let o=n.value.split(","),s=[];o.forEach(r=>{r.match(c9)?([...r.matchAll(c9)].forEach(a=>{a[1]?.length&&(this.dateCreatedRelativeDate=Z3.find(l=>l.dateQuery==a[1])?.relativeDate??null)}),null===this.dateCreatedRelativeDate&&s.push(r)):r.match(d9)?([...r.matchAll(d9)].forEach(a=>{a[1]?.length&&(this.dateAddedRelativeDate=Z3.find(l=>l.dateQuery==a[1])?.relativeDate??null)}),null===this.dateAddedRelativeDate&&s.push(r)):s.push(r)}),s.length&&(this._textFilter=s.join(","),this.textFilterTarget=gu);break;case 21:this._moreLikeId=+n.value,this.textFilterTarget=nd,this.documentService.get(this._moreLikeId).subscribe(r=>{this._moreLikeDoc=r,this._textFilter=r.title});break;case 9:this.dateCreatedAfter=n.value;break;case 8:this.dateCreatedBefore=n.value;break;case 14:this.dateAddedAfter=n.value;break;case 13:this.dateAddedBefore=n.value;break;case 6:this.tagSelectionModel.logicalOperator=Is.And,this.tagSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 22:this.tagSelectionModel.logicalOperator=Is.Or,this.tagSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 7:this.tagSelectionModel.set(null,qt.Selected,!1);break;case 17:this.tagSelectionModel.set(n.value?+n.value:null,qt.Excluded,!1);break;case 3:case 26:this.correspondentSelectionModel.logicalOperator=Is.Or,this.correspondentSelectionModel.intersection=er.Include,this.correspondentSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 27:this.correspondentSelectionModel.intersection=er.Exclude,this.correspondentSelectionModel.set(n.value?+n.value:null,qt.Excluded,!1);break;case 4:case 28:this.documentTypeSelectionModel.logicalOperator=Is.Or,this.documentTypeSelectionModel.intersection=er.Include,this.documentTypeSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 29:this.documentTypeSelectionModel.intersection=er.Exclude,this.documentTypeSelectionModel.set(n.value?+n.value:null,qt.Excluded,!1);break;case 25:case 30:this.storagePathSelectionModel.logicalOperator=Is.Or,this.storagePathSelectionModel.intersection=er.Include,this.storagePathSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 31:this.storagePathSelectionModel.intersection=er.Exclude,this.storagePathSelectionModel.set(n.value?+n.value:null,qt.Excluded,!1);break;case 38:this.customFieldSelectionModel.logicalOperator=Is.And,this.customFieldSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 39:this.customFieldSelectionModel.logicalOperator=Is.Or,this.customFieldSelectionModel.set(n.value?+n.value:null,qt.Selected,!1);break;case 41:this.customFieldSelectionModel.set(null,qt.Selected,!1);break;case 40:this.customFieldSelectionModel.set(n.value?+n.value:null,qt.Excluded,!1);break;case 18:this.textFilterTarget=td,this.textFilterModifier="true"==n.value||"1"==n.value?G3:l9;break;case 23:this.textFilterTarget=td,this.textFilterModifier=fu,this._textFilter=n.value;break;case 24:this.textFilterTarget=td,this.textFilterModifier=U3,this._textFilter=n.value;break;case 32:this.permissionsSelectionModel.ownerFilter=ao.SELF,this.permissionsSelectionModel.hideUnowned=!1,n.value&&(this.permissionsSelectionModel.userID=parseInt(n.value,10));break;case 33:this.permissionsSelectionModel.ownerFilter=ao.OTHERS,n.value&&this.permissionsSelectionModel.includeUsers.push(parseInt(n.value,10));break;case 35:this.permissionsSelectionModel.ownerFilter=ao.NOT_SELF,n.value&&this.permissionsSelectionModel.excludeUsers.push(parseInt(n.value,10));break;case 37:this.permissionsSelectionModel.ownerFilter=ao.SHARED_BY_ME,n.value&&(this.permissionsSelectionModel.userID=parseInt(n.value,10));break;case 34:if("true"!==n.value&&"1"!==n.value){this.permissionsSelectionModel.hideUnowned="false"===n.value||"0"===n.value;break}this.permissionsSelectionModel.hideUnowned=!1,this.permissionsSelectionModel.ownerFilter=ao.UNOWNED}}),this.rulesModified=b3(this._unmodifiedFilterRules,this._filterRules)}get filterRules(){let t=[];if(this._textFilter&&this.textFilterTarget==ed&&t.push({rule_type:19,value:this._textFilter}),this._textFilter&&this.textFilterTarget==$3&&t.push({rule_type:0,value:this._textFilter}),this.textFilterTarget==td&&(this.textFilterModifier==B3&&this._textFilter?t.push({rule_type:2,value:this._textFilter}):this.textFilterModifierIsNull?t.push({rule_type:18,value:(this.textFilterModifier==G3).toString()}):[fu,U3].includes(this.textFilterModifier)&&this._textFilter&&t.push({rule_type:this.textFilterModifier==fu?23:24,value:this._textFilter})),this._textFilter&&this.textFilterTarget==a9&&t.push({rule_type:36,value:this._textFilter}),this._textFilter&&this.textFilterTarget==gu&&t.push({rule_type:20,value:this._textFilter}),this._moreLikeId&&this.textFilterTarget==nd&&t.push({rule_type:21,value:this._moreLikeId.toString()}),this.tagSelectionModel.isNoneSelected())t.push({rule_type:7,value:"false"});else{const n=this.tagSelectionModel.logicalOperator==Is.And?6:22;this.tagSelectionModel.getSelectedItems().filter(o=>o.id).forEach(o=>{t.push({rule_type:n,value:o.id?.toString()})}),this.tagSelectionModel.getExcludedItems().filter(o=>o.id).forEach(o=>{t.push({rule_type:17,value:o.id?.toString()})})}if(this.correspondentSelectionModel.isNoneSelected()?t.push({rule_type:3,value:null}):(this.correspondentSelectionModel.getSelectedItems().forEach(n=>{t.push({rule_type:26,value:n.id?.toString()})}),this.correspondentSelectionModel.getExcludedItems().forEach(n=>{t.push({rule_type:27,value:n.id?.toString()})})),this.documentTypeSelectionModel.isNoneSelected()?t.push({rule_type:4,value:null}):(this.documentTypeSelectionModel.getSelectedItems().forEach(n=>{t.push({rule_type:28,value:n.id?.toString()})}),this.documentTypeSelectionModel.getExcludedItems().forEach(n=>{t.push({rule_type:29,value:n.id?.toString()})})),this.storagePathSelectionModel.isNoneSelected()?t.push({rule_type:25,value:null}):(this.storagePathSelectionModel.getSelectedItems().forEach(n=>{t.push({rule_type:30,value:n.id?.toString()})}),this.storagePathSelectionModel.getExcludedItems().forEach(n=>{t.push({rule_type:31,value:n.id?.toString()})})),this.customFieldSelectionModel.isNoneSelected())t.push({rule_type:41,value:"false"});else{const n=this.customFieldSelectionModel.logicalOperator==Is.And?38:39;this.customFieldSelectionModel.getSelectedItems().filter(o=>o.id).forEach(o=>{t.push({rule_type:n,value:o.id?.toString()})}),this.customFieldSelectionModel.getExcludedItems().filter(o=>o.id).forEach(o=>{t.push({rule_type:40,value:o.id?.toString()})})}if(this.dateCreatedBefore&&t.push({rule_type:8,value:this.dateCreatedBefore}),this.dateCreatedAfter&&t.push({rule_type:9,value:this.dateCreatedAfter}),this.dateAddedBefore&&t.push({rule_type:13,value:this.dateAddedBefore}),this.dateAddedAfter&&t.push({rule_type:14,value:this.dateAddedAfter}),null!==this.dateAddedRelativeDate||null!==this.dateCreatedRelativeDate){let n=[],o=t.find(r=>20==r.rule_type);!o&&this._textFilter?.length>0&&(this.textFilterTarget==ed||this.textFilterTarget==$3)&&(o=t.find(r=>19==r.rule_type||0==r.rule_type),o.rule_type=20);let s=o?.value.split(",");null!==this.dateCreatedRelativeDate&&(n.push(`created:[${Z3.find(r=>r.relativeDate==this.dateCreatedRelativeDate).dateQuery}]`),o&&(n=s.filter(r=>!r.match(c9)).concat(n))),null!==this.dateAddedRelativeDate&&(n.push(`added:[${Z3.find(r=>r.relativeDate==this.dateAddedRelativeDate).dateQuery}]`),o&&(n=s.filter(r=>!r.match(d9)).concat(n))),o?o.value=n.join(","):t.push({rule_type:20,value:n.join(",")})}return this.permissionsSelectionModel.ownerFilter==ao.SELF?t.push({rule_type:32,value:this.permissionsSelectionModel.userID.toString()}):this.permissionsSelectionModel.ownerFilter==ao.NOT_SELF?t.push({rule_type:35,value:this.permissionsSelectionModel.excludeUsers?.join(",")}):this.permissionsSelectionModel.ownerFilter==ao.OTHERS?t.push({rule_type:33,value:this.permissionsSelectionModel.includeUsers?.join(",")}):this.permissionsSelectionModel.ownerFilter==ao.SHARED_BY_ME?t.push({rule_type:37,value:this.permissionsSelectionModel.userID.toString()}):this.permissionsSelectionModel.ownerFilter==ao.UNOWNED&&t.push({rule_type:34,value:"true"}),this.permissionsSelectionModel.hideUnowned&&t.push({rule_type:34,value:"false"}),t}set selectionData(t){this.tagDocumentCounts=t?.selected_tags??null,this.documentTypeDocumentCounts=t?.selected_document_types??null,this.correspondentDocumentCounts=t?.selected_correspondents??null,this.storagePathDocumentCounts=t?.selected_storage_paths??null,this.customFieldDocumentCounts=t?.selected_custom_fields??null}updateRules(){this.filterRulesChange.next(this.filterRules)}get textFilter(){return this.textFilterModifierIsNull?"":this._textFilter}set textFilter(t){this.textFilterDebounce.next(t)}ngOnInit(){this.permissionsService.currentUserCan(Nt.View,It.Tag)&&this.tagService.listAll().subscribe(t=>this.tags=t.results),this.permissionsService.currentUserCan(Nt.View,It.Correspondent)&&this.correspondentService.listAll().subscribe(t=>this.correspondents=t.results),this.permissionsService.currentUserCan(Nt.View,It.DocumentType)&&this.documentTypeService.listAll().subscribe(t=>this.documentTypes=t.results),this.permissionsService.currentUserCan(Nt.View,It.StoragePath)&&this.storagePathService.listAll().subscribe(t=>this.storagePaths=t.results),this.permissionsService.currentUserCan(Nt.View,It.CustomField)&&this.customFieldService.listAll().subscribe(t=>this.customFields=t.results),this.textFilterDebounce=new et,this.textFilterDebounce.pipe(je(this.unsubscribeNotifier),Tr(400),Ma(),$n(t=>!t.length||t.length>2)).subscribe(t=>this.updateTextFilter(t,this.textFilterTarget!==gu)),this._textFilter&&(this.documentService.searchQuery=this._textFilter)}ngAfterViewInit(){this.textFilterInput.nativeElement.focus()}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}resetSelected(){this.textFilterTarget=ed,this.filterRules=this._unmodifiedFilterRules,this.updateRules()}toggleTag(t){this.tagSelectionModel.toggle(t)}toggleCorrespondent(t){this.correspondentSelectionModel.toggle(t)}toggleDocumentType(t){this.documentTypeSelectionModel.toggle(t)}toggleStoragePath(t){this.storagePathSelectionModel.toggle(t)}onTagsDropdownOpen(){this.tagSelectionModel.apply()}onCorrespondentDropdownOpen(){this.correspondentSelectionModel.apply()}onDocumentTypeDropdownOpen(){this.documentTypeSelectionModel.apply()}onStoragePathDropdownOpen(){this.storagePathSelectionModel.apply()}onCustomFieldsDropdownOpen(){this.customFieldSelectionModel.apply()}updateTextFilter(t,n=!0){this._textFilter=t,n&&(this.documentService.searchQuery=t,this.updateRules())}textFilterKeyup(t){if("Enter"==t.key){const n=this.textFilterInput.nativeElement.value;n.length&&this.updateTextFilter(n)}else"Escape"===t.key&&(this._textFilter?.length?this.resetTextField():this.textFilterInput.nativeElement.blur())}resetTextField(){this.updateTextFilter("")}changeTextFilterTarget(t){this.textFilterTarget==nd&&t!=nd&&(this._textFilter=""),this.textFilterTarget=t,this.textFilterInput.nativeElement.focus(),this.updateRules()}textFilterModifierChange(){(this.textFilterModifierIsNull||[B3,fu,U3].includes(this.textFilterModifier)&&this._textFilter)&&this.updateRules()}itemSelected(t){t.preventDefault();let n=this._textFilter??"",o=n.lastIndexOf(" ");-1!=o?(n=n.substring(0,o+1),n+=t.item+" "):n=t.item+" ",this.updateTextFilter(n)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Oa),Y(G5),Y(Aa),Y(xo),Y(d0),Y(Xn),Y(Ea),Y(cF))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-filter-editor"]],viewQuery:function(n,o){if(1&n&&cn(Tqe,5),2&n){let s;Ot(s=yt())&&(o.textFilterInput=s.first)}},inputs:{unmodifiedFilterRules:"unmodifiedFilterRules",filterRules:"filterRules",selectionData:"selectionData",disabled:"disabled"},outputs:{filterRulesChange:"filterRulesChange"},features:[Ct],decls:29,vars:20,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie;return t="Etichette",n="Filtra tag",o="Corrispondente",s="Filtra corrispondenti",r="Tipo di documento",a="Filtra tipi di documento",l="Percorso archiviazione",u="Filtra percorsi di archiviazione",p="Campi personalizzati",v="Filtra campi personalizzati",L="Date",z="Permessi",ie="Ripristina filtri",[["textFilterInput",""],ie,["tourAnchor","tour.documents-filter-editor",1,"row","flex-wrap","row-gap-3"],[1,"col"],[1,"form-inline","d-flex","align-items-center"],[1,"input-group","input-group-sm","flex-fill","w-auto","flex-nowrap"],["ngbDropdown",""],["ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["ngbDropdownMenu","",1,"dropdown-menu","shadow"],["ngbDropdownItem","",3,"active"],[1,"form-select","flex-grow-0","w-auto",3,"ngModel"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","keyup","selectItem","disabled","ngModel","ngbTypeahead","readonly"],[1,"col-auto"],[1,"d-flex","flex-wrap","gap-3"],[1,"d-flex","flex-wrap","gap-2"],["title",t,"icon","tag-fill","filterPlaceholder",n,"shortcutKey","t",1,"flex-fill",3,"items","manyToOne","selectionModel","documentCounts","allowSelectNone","disabled"],["title",o,"icon","person-fill","filterPlaceholder",s,"shortcutKey","y",1,"flex-fill",3,"items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",r,"icon","file-earmark-fill","filterPlaceholder",a,"shortcutKey","u",1,"flex-fill",3,"items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",l,"icon","folder-fill","filterPlaceholder",u,"shortcutKey","i",1,"flex-fill",3,"items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",p,"icon","ui-radios","filterPlaceholder",v,1,"flex-fill",3,"items","manyToOne","selectionModel","documentCounts","allowSelectNone"],["title",L,3,"datesSet","createdDateBeforeChange","createdDateAfterChange","createdRelativeDateChange","addedDateBeforeChange","addedDateAfterChange","addedRelativeDateChange","createdDateBefore","createdDateAfter","createdRelativeDate","addedDateBefore","addedDateAfter","addedRelativeDate"],["title",z,3,"ownerFilterSet","selectionModelChange","selectionModel"],[1,"d-flex","flex-wrap","d-none","d-sm-inline-block"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","x",1,"ms-n1"],["ngbDropdownItem","",3,"click"],[1,"form-select","flex-grow-0","w-auto",3,"ngModelChange","change","ngModel"],["ngbDropdownItem","",3,"value"],[1,"btn","btn-link","btn-sm","px-2","position-absolute","top-0","end-0","z-10",3,"click"],["width","1em","height","1em","name","x"],["title",t,"icon","tag-fill","filterPlaceholder",n,"shortcutKey","t",1,"flex-fill",3,"selectionModelChange","opened","items","manyToOne","selectionModel","documentCounts","allowSelectNone","disabled"],["title",o,"icon","person-fill","filterPlaceholder",s,"shortcutKey","y",1,"flex-fill",3,"selectionModelChange","opened","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",r,"icon","file-earmark-fill","filterPlaceholder",a,"shortcutKey","u",1,"flex-fill",3,"selectionModelChange","opened","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",l,"icon","folder-fill","filterPlaceholder",u,"shortcutKey","i",1,"flex-fill",3,"selectionModelChange","opened","items","selectionModel","documentCounts","allowSelectNone","disabled"],["title",p,"icon","ui-radios","filterPlaceholder",v,1,"flex-fill",3,"selectionModelChange","opened","items","manyToOne","selectionModel","documentCounts","allowSelectNone"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"button",7),j(6),h(),c(7,"div",8),ut(8,Sqe,2,3,"button",9,Ft),h()(),q(10,Aqe,3,1,"select",10)(11,Oqe,2,0,"button",11),c(12,"input",12,0),Tt("ngModelChange",function(a){return H(s),mt(o.textFilter,a)||(o.textFilter=a),$(a)}),F("keyup",function(a){return H(s),$(o.textFilterKeyup(a))})("selectItem",function(a){return H(s),$(o.itemSelected(a))}),h()()()(),c(14,"div",13)(15,"div",14)(16,"div",15),q(17,yqe,1,6,"pngx-filterable-dropdown",16)(18,Dqe,1,5,"pngx-filterable-dropdown",17)(19,Nqe,1,5,"pngx-filterable-dropdown",18)(20,Pqe,1,5,"pngx-filterable-dropdown",19)(21,Iqe,1,5,"pngx-filterable-dropdown",20),c(22,"pngx-dates-dropdown",21),F("datesSet",function(){return H(s),$(o.updateRules())}),Tt("createdDateBeforeChange",function(a){return H(s),mt(o.dateCreatedBefore,a)||(o.dateCreatedBefore=a),$(a)})("createdDateAfterChange",function(a){return H(s),mt(o.dateCreatedAfter,a)||(o.dateCreatedAfter=a),$(a)})("createdRelativeDateChange",function(a){return H(s),mt(o.dateCreatedRelativeDate,a)||(o.dateCreatedRelativeDate=a),$(a)})("addedDateBeforeChange",function(a){return H(s),mt(o.dateAddedBefore,a)||(o.dateAddedBefore=a),$(a)})("addedDateAfterChange",function(a){return H(s),mt(o.dateAddedAfter,a)||(o.dateAddedAfter=a),$(a)})("addedRelativeDateChange",function(a){return H(s),mt(o.dateAddedRelativeDate,a)||(o.dateAddedRelativeDate=a),$(a)}),h(),c(23,"pngx-permissions-filter-dropdown",22),F("ownerFilterSet",function(){return H(s),$(o.updateRules())}),Tt("selectionModelChange",function(a){return H(s),mt(o.permissionsSelectionModel,a)||(o.permissionsSelectionModel=a),$(a)}),h()(),c(24,"div",23)(25,"button",24),F("click",function(){return H(s),$(o.resetSelected())}),k(26,"i-bs",25),ke(27),R(28,1),ze(),h()()()()()}2&n&&(d(6),Pe(o.textFilterTargetName),d(2),_t(o.textFilterTargets),d(2),J("asn"===o.textFilterTarget?10:-1),d(),J(o._textFilter?11:-1),d(),w("disabled",o.textFilterModifierIsNull),bt("ngModel",o.textFilter),w("ngbTypeahead",o.searchAutoComplete)("readonly","fulltext-morelike"===o.textFilterTarget),d(5),J(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.Tag)?17:-1),d(),J(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.Correspondent)?18:-1),d(),J(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.DocumentType)?19:-1),d(),J(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.StoragePath)&&o.storagePaths.length>0?20:-1),d(),J(o.permissionsService.currentUserCan(o.PermissionAction.View,o.PermissionType.CustomField)&&o.customFields.length>0?21:-1),d(),bt("createdDateBefore",o.dateCreatedBefore)("createdDateAfter",o.dateCreatedAfter)("createdRelativeDate",o.dateCreatedRelativeDate)("addedDateBefore",o.dateAddedBefore)("addedDateAfter",o.dateAddedAfter)("addedRelativeDate",o.dateAddedRelativeDate),d(),bt("selectionModel",o.permissionsSelectionModel),d(2),w("disabled",!o.rulesModified))},dependencies:[Go,ys,is,wr,j1,vre,_5,p5,si,sl,Yt,Ln,Al,Wt,uF,dqe,bqe],styles:[".quick-filter[_ngcontent-%COMP%]{min-width:250px;max-height:400px;overflow-y:scroll}.quick-filter[_ngcontent-%COMP%]   .selected-icon[_ngcontent-%COMP%]{min-width:1em;min-height:1em}.input-group[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.d-flex.flex-wrap[_ngcontent-%COMP%]{column-gap:.7rem}input[type=text][_ngcontent-%COMP%]{min-width:120px}.z-10[_ngcontent-%COMP%]{z-index:10}"]})}return e})();function Fqe(e,i){1&e&&(c(0,"div",2)(1,"p",3),R(2,0),h()())}function kqe(e,i){if(1&e&&(k(0,"object",5),ot(1,"safeUrl")),2&e){const t=_(2);Ye("p-2",!t.isPdf),w("data",Et(1,3,t.previewURL),Rd)}}function zqe(e,i){1&e&&(c(0,"div",2),k(1,"i-bs",7),h())}function Vqe(e,i){if(1&e){const t=pe();c(0,"pdf-viewer",8),F("error",function(o){return H(t),$(_(3).onError(o))}),h()}2&e&&w("src",_(3).previewURL)("original-size",!1)("show-borders",!1)("show-all",!0)}function Hqe(e,i){if(1&e&&q(0,zqe,2,0,"div",2)(1,Vqe,1,4,"pdf-viewer",6),2&e){const t=_(2);J(t.requiresPassword?0:-1),d(),J(t.requiresPassword?-1:1)}}function $qe(e,i){1&e&&q(0,kqe,2,5,"object",4)(1,Hqe,2,2),2&e&&J(_().renderAsObject?0:1)}let pF=(()=>{class e{get renderAsObject(){return this.isPdf&&this.useNativePdfViewer||!this.isPdf}get previewURL(){return this.documentService.getPreviewUrl(this.document.id)}get useNativePdfViewer(){return this.settingsService.get(Ue.USE_NATIVE_PDF_VIEWER)}get isPdf(){return this.document?.original_file_name?.endsWith(".pdf")||this.document?.archived_file_name?.endsWith(".pdf")}constructor(t,n){this.settingsService=t,this.documentService=n,this.error=!1,this.requiresPassword=!1}onError(t){"PasswordException"==t.name?this.requiresPassword=!0:this.error=!0}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(xo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-preview-popup"]],inputs:{document:"document"},decls:3,vars:1,consts:()=>{let t;return t="Errore nel caricamento dell'anteprima",[t,[1,"preview-popup-container"],[1,"w-100","h-100","position-relative"],[1,"fst-italic","position-absolute","top-50","start-50","translate-middle"],["width","100%",1,"bg-light",3,"data","p-2"],["width","100%",1,"bg-light",3,"data"],[3,"src","original-size","show-borders","show-all"],["width","2em","height","2em","name","file-earmark-lock",1,"position-absolute","top-50","start-50","translate-middle"],[3,"error","src","original-size","show-borders","show-all"]]},template:function(n,o){1&n&&(c(0,"div",1),q(1,Fqe,3,0,"div",2)(2,$qe,2,1),h()),2&n&&(d(),J(o.error?1:2))},dependencies:[C3,Wt,MR],styles:[".preview-popup-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:30rem!important;height:22rem!important;overflow-y:scroll}  .popover.popover-preview{max-width:32rem}"]})}return e})();function Bqe(e,i){if(1&e&&(c(0,"div",6),j(1),h()),2&e){const t=_(3);d(),nt(" ",t.field.name," ")}}function Gqe(e,i){if(1&e&&(c(0,"span",2),j(1),ot(2,"currency"),h()),2&e){_();const t=vt(1),n=_(2);w("ngbTooltip",t),d(),Pe(io(2,2,n.value,n.currency))}}function Uqe(e,i){if(1&e&&(c(0,"span",2),j(1),ot(2,"customDate"),h()),2&e){_();const t=vt(1),n=_(2);w("ngbTooltip",t),d(),Pe(Et(2,2,n.value))}}function Zqe(e,i){if(1&e&&(c(0,"a",3),j(1),h()),2&e){_();const t=vt(1),n=_(2);w("ngbTooltip",t)("href",n.value,$o),d(),Pe(n.value)}}function jqe(e,i){if(1&e&&(c(0,"a",7),k(1,"i-bs",8),j(2,"\xa0"),c(3,"span"),j(4),h()()),2&e){const t=i.$implicit,n=_(4);ln("routerLink","/documents/",t,""),d(4),Pe(n.getDocumentTitle(t))}}function Wqe(e,i){if(1&e&&(c(0,"div",4),ut(1,jqe,5,3,"a",7,Ft),h()),2&e){_();const t=vt(1),n=_(2);w("ngbTooltip",t),d(),_t(n.value)}}function Xqe(e,i){if(1&e&&(c(0,"div",5)(1,"span"),j(2),h(),k(3,"input",9),h()),2&e){const t=_(3);d(2),nt("",t.field.name,":"),d(),ui("id",t.field.name),ui("name",t.field.name),w("checked",t.value)}}function Kqe(e,i){if(1&e&&(c(0,"span",2),j(1),h()),2&e){_();const t=vt(1),n=_(2);w("ngbTooltip",t),d(),Pe(n.getSelectValue(n.field,n.value))}}function qqe(e,i){if(1&e&&(c(0,"span",2),j(1),h()),2&e){_();const t=vt(1),n=_(2);w("ngbTooltip",t),d(),Pe(n.value)}}function Yqe(e,i){if(1&e&&q(0,Bqe,2,1,"ng-template",null,0,on)(2,Gqe,3,5,"span",2)(3,Uqe,3,4,"span",2)(4,Zqe,2,3,"a",3)(5,Wqe,3,1,"div",4)(6,Xqe,4,4,"div",5)(7,Kqe,2,2,"span",2)(8,qqe,2,2,"span",2),2&e){let t;const n=_(2);d(2),J((t=n.field.data_type)===n.CustomFieldDataType.Monetary?2:t===n.CustomFieldDataType.Date?3:t===n.CustomFieldDataType.Url?4:t===n.CustomFieldDataType.DocumentLink?5:t===n.CustomFieldDataType.Boolean?6:t===n.CustomFieldDataType.Select?7:8)}}function Jqe(e,i){if(1&e&&(c(0,"span",1),j(1),h()),2&e){const t=_(2);d(),Pe(t.field.name)}}function Qqe(e,i){if(1&e&&q(0,Yqe,9,1)(1,Jqe,2,1,"span",1),2&e){const t=_();J((null==t.value?null:t.value.toString().length)>0?0:t.showNameIfEmpty?1:-1)}}let h9=(()=>{class e{set document(t){this._document=t,this.init()}get document(){return this._document}set fieldId(t){this._fieldId=t,this.init()}get fieldId(){return this._fieldId}set fieldDisplayKey(t){this.fieldId=parseInt(t.replace(Jn.CUSTOM_FIELD,""),10)}constructor(t,n,o){this.customFieldService=t,this.documentService=n,this.CustomFieldDataType=ps,this.showNameIfEmpty=!1,this.customFields=[],this.docLinkDocuments=[],this.unsubscribeNotifier=new et,this.defaultCurrencyCode=RA(o),this.customFieldService.listAll().subscribe(s=>{this.customFields=s.results,this.init()})}ngOnInit(){this.init()}init(){this.value||!this._fieldId||!this._document||!this.customFields||(this.field=this.customFields.find(t=>t.id===this._fieldId),this.value=this._document.custom_fields.find(t=>t.field===this._fieldId)?.value,this.value&&this.field.data_type===ps.Monetary?(this.currency=this.value.match(/([A-Z]{3})/)?.[0]??this.defaultCurrencyCode,this.value=parseFloat(this.value.replace(this.currency,""))):this.value?.length&&this.field.data_type===ps.DocumentLink&&this.getDocuments())}getDocuments(){this.documentService.getFew(this.value,{fields:"id,title"}).pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.docLinkDocuments=this.value.map(n=>t.results.find(o=>o.id===n))})}getDocumentTitle(t){return this.docLinkDocuments?.find(n=>n.id===t)?.title}getSelectValue(t,n){return t.extra_data.select_options[n]}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ea),Y(xo),Y(Ss))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-custom-field-display"]],inputs:{document:"document",fieldId:"fieldId",fieldDisplayKey:"fieldDisplayKey",showNameIfEmpty:"showNameIfEmpty"},decls:1,vars:1,consts:()=>{let t;return t="Mostra",[["nameTooltip",""],[1,"fst-italic","text-muted"],[3,"ngbTooltip"],["target","_blank",1,"btn-link","text-dark","text-decoration-none",3,"ngbTooltip","href"],[1,"d-flex","gap-1","flex-wrap",3,"ngbTooltip"],[1,"d-flex","flex-row","align-items-center"],[1,"d-flex","flex-column","text-light"],["title",t,1,"badge","bg-body","text-primary",3,"routerLink"],["width","0.9em","height","0.9em","name","file-text"],["type","checkbox","value","",1,"form-check-input","ms-2","mt-0","pe-none",3,"id","name","checked"]]},template:function(n,o){1&n&&q(0,Qqe,2,1),2&n&&J(o.field?0:-1)},dependencies:[fr,yh,Wt,B8,Ns]})}return e})(),j3=(()=>{class e{constructor(t,n){t.currentUserCan(Nt.View,It.User)&&n.listAll().subscribe(o=>this.users=o.results)}transform(t){return this.users?this.getName(this.users.find(n=>n.id===t))??"":"Condiviso"}getName(t){if(!t)return"";const n=[t.first_name,t.last_name].join(" ");return n.length>1?n.trim():t.username}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Xn,16),Y(vo,16))};static#t=this.\u0275pipe=Zi({name:"username",type:e,pure:!0})}return e})(),gF=(()=>{class e{transform(t){return"number"==typeof t&&!isNaN(t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275pipe=Zi({name:"isNumber",type:e,pure:!0})}return e})();const eYe=["popover"],tYe=(e,i)=>i.field,nYe=(e,i)=>({action:e,type:i});function iYe(e,i){if(1&e){const t=pe();c(0,"a",46),F("click",function(o){H(t);const s=_(2);return s.clickCorrespondent.emit(s.document.correspondent),$(o.stopPropagation())}),j(1),ot(2,"async"),h()}if(2&e){let t;const n=_(2);d(),Pe(null==(t=Et(2,1,n.document.correspondent$))?null:t.name)}}function oYe(e,i){if(1&e&&(j(0),ot(1,"async")),2&e){let t;nt(" ",null==(t=Et(1,1,_(2).document.correspondent$))?null:t.name," ")}}function sYe(e,i){1&e&&(q(0,iYe,3,3,"a",45)(1,oYe,2,3),j(2," : ")),2&e&&J(_().clickCorrespondent.observers.length?0:1)}function rYe(e,i){1&e&&(j(0),ot(1,"documentTitle")),2&e&&nt(" ",Et(1,1,_().document.title)," ")}function aYe(e,i){if(1&e){const t=pe();c(0,"pngx-tag",48),F("click",function(o){const s=H(t).$implicit;return _(2).clickTag.emit(s.id),$(o.stopPropagation())}),h()}if(2&e){const t=i.$implicit,n=_(2);w("tag",t)("clickable",n.clickTag.observers.length)}}function lYe(e,i){1&e&&(ut(0,aYe,1,2,"pngx-tag",47,Ft),ot(2,"async")),2&e&&_t(Et(2,0,_().document.tags$))}function cYe(e,i){1&e&&k(0,"span",25),2&e&&w("innerHtml",_().document.__search_hit__.highlights,Qi)}function dYe(e,i){if(1&e&&(c(0,"span",26),k(1,"i-bs",49)(2,"span",25),h()),2&e){const t=i.$implicit;d(2),w("innerHtml",t,Qi)}}function hYe(e,i){if(1&e&&(c(0,"span",27),j(1),h()),2&e){const t=_();d(),Pe(t.contentTrimmed)}}function uYe(e,i){1&e&&(c(0,"a",50),k(1,"i-bs",51),j(2,"\xa0"),c(3,"span",32),R(4,6),h()()),2&e&&ln("routerLink","/documents/",_().document.id,"")}function _Ye(e,i){1&e&&k(0,"pngx-preview-popup",52),2&e&&w("document",_().document)}function pYe(e,i){if(1&e&&(c(0,"button",39),k(1,"i-bs",53),c(2,"small"),j(3),h()()),2&e){const t=_();ln("routerLink","/documents/",t.document.id,"/notes"),d(3),nt("",t.document.notes.length," Notes")}}function gYe(e,i){if(1&e){const t=pe();c(0,"button",54),F("click",function(o){H(t);const s=_();return s.clickDocumentType.emit(s.document.document_type),$(o.stopPropagation())}),k(1,"i-bs",55),c(2,"small"),j(3),ot(4,"async"),h()()}if(2&e){let t;const n=_();d(3),Pe(null==(t=Et(4,1,n.document.document_type$))?null:t.name)}}function fYe(e,i){if(1&e){const t=pe();c(0,"button",56),F("click",function(o){H(t);const s=_();return s.clickStoragePath.emit(s.document.storage_path),$(o.stopPropagation())}),k(1,"i-bs",57),c(2,"small"),j(3),ot(4,"async"),h()()}if(2&e){let t;const n=_();d(3),Pe(null==(t=Et(4,1,n.document.storage_path$))?null:t.name)}}function mYe(e,i){if(1&e&&(c(0,"div",42),k(1,"i-bs",58),c(2,"small"),j(3),h()()),2&e){const t=_();d(3),nt("#",t.document.archive_serial_number,"")}}function vYe(e,i){if(1&e&&(c(0,"div",60)(1,"span"),R(2,7),ot(3,"customDate"),h(),c(4,"span"),R(5,8),ot(6,"customDate"),h(),c(7,"span"),R(8,9),ot(9,"customDate"),h()()),2&e){const t=_(2);d(3),An(Et(3,3,t.document.created_date)),Dn(2),d(3),An(Et(6,5,t.document.added)),Dn(5),d(3),An(Et(9,7,t.document.modified)),Dn(8)}}function CYe(e,i){if(1&e&&(c(0,"div",59),k(1,"i-bs",61),c(2,"small"),j(3),ot(4,"customDate"),h()()),2&e){_();const t=vt(1),n=_();w("ngbTooltip",t),d(3),Pe(io(4,2,n.document.created_date,"mediumDate"))}}function wYe(e,i){if(1&e&&(c(0,"div",59),k(1,"i-bs",61),c(2,"small"),j(3),ot(4,"customDate"),h()()),2&e){_();const t=vt(1),n=_();w("ngbTooltip",t),d(3),Pe(io(4,2,n.document.added,"mediumDate"))}}function MYe(e,i){if(1&e&&q(0,vYe,10,9,"ng-template",null,2,on)(2,CYe,5,5,"div",59)(3,wYe,5,5,"div",59),2&e){const t=_();d(2),J(t.displayFields.includes(t.DisplayField.CREATED)?2:-1),d(),J(t.displayFields.includes(t.DisplayField.ADDED)?3:-1)}}function bYe(e,i){if(1&e&&(c(0,"div",43),k(1,"i-bs",62),c(2,"small"),j(3),ot(4,"username"),h()()),2&e){const t=_();d(3),Pe(Et(4,1,t.document.owner))}}function TYe(e,i){1&e&&(c(0,"div",43),k(1,"i-bs",63),c(2,"small"),R(3,10),h()())}function SYe(e,i){if(1&e&&(c(0,"div",44)(1,"small",64),R(2,11),h(),k(3,"ngb-progressbar",65),h()),2&e){const t=_();d(3),w("type",t.searchScoreClass)("value",t.document.__search_hit__.score)("max",1)}}function EYe(e,i){if(1&e&&(c(0,"div",43),k(1,"i-bs",66),c(2,"small"),k(3,"pngx-custom-field-display",67),h()()),2&e){const t=_().$implicit,n=_();d(3),w("document",n.document)("fieldId",t.field)}}function AYe(e,i){if(1&e&&q(0,EYe,4,2,"div",43),2&e){const t=i.$implicit,n=_();J(n.displayFields.includes(n.DisplayField.CUSTOM_FIELD+t.field)?0:-1)}}let OYe=(()=>{class e extends Uo{constructor(t,n){super(),this.documentService=t,this.settingsService=n,this.DisplayField=Jn,this.selected=!1,this.displayFields=Ih.map(o=>o.id),this.toggleSelected=new Be,this.dblClickDocument=new Be,this.clickTag=new Be,this.clickCorrespondent=new Be,this.clickDocumentType=new Be,this.clickStoragePath=new Be,this.clickMoreLike=new Be,this.mouseOnPreview=!1,this.popoverHidden=!0}get selectable(){return this.toggleSelected.observers.length>0}get searchScoreClass(){if(this.document.__search_hit__)return this.document.__search_hit__.score>.7?"success":this.document.__search_hit__.score>.3?"warning":"danger"}get searchNoteHighlights(){let t=[];return this.document.__search_hit__&&this.document.__search_hit__.note_highlights&&(t=this.document.__search_hit__.note_highlights.split(",").filter(n=>n.includes("<span"))),t}getIsThumbInverted(){return this.settingsService.get(Ue.DARK_MODE_THUMB_INVERTED)}getThumbUrl(){return this.documentService.getThumbUrl(this.document.id)}getDownloadUrl(){return this.documentService.getDownloadUrl(this.document.id)}get previewUrl(){return this.documentService.getPreviewUrl(this.document.id)}mouseEnterPreview(){this.mouseOnPreview=!0,this.popover.isOpen()||(this.popover.open(),this.popoverHidden=!0,setTimeout(()=>{this.mouseOnPreview?this.popoverHidden=!1:this.popover.close()},600))}mouseLeavePreview(){this.mouseOnPreview=!1}mouseLeaveCard(){this.popover.close()}get contentTrimmed(){return this.document.content.substring(0,500)+(this.document.content.length>500?"...":"")}get notesEnabled(){return this.settingsService.get(Ue.NOTES_ENABLED)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-card-large"]],viewQuery:function(n,o){if(1&n&&cn(eYe,5),2&n){let s;Ot(s=yt())&&(o.popover=s.first)}},inputs:{selected:"selected",displayFields:"displayFields",document:"document"},outputs:{toggleSelected:"toggleSelected",dblClickDocument:"dblClickDocument",clickTag:"clickTag",clickCorrespondent:"clickCorrespondent",clickDocumentType:"clickDocumentType",clickStoragePath:"clickStoragePath",clickMoreLike:"clickMoreLike"},features:[Ct],decls:54,vars:41,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se;return t="Visualizza note",n="Filtra per tipo di documento",o="Filtra per percorso di archiviazione",s="Altro come questo",r="Mostra",a="Scarica",l="Filtra per corrispondente",u="Filtra per tag",p="Modifica",v="Creato: " + "\ufffd0\ufffd" + "",L="Aggiunto il: " + "\ufffd0\ufffd" + "",z="Modificato il: " + "\ufffd0\ufffd" + "",ie="Condiviso",se="Rilevanza:",[["popover","ngbPopover"],["previewContent",""],["dateTooltip",""],s,r,a,p,v,L,z,ie,se,[1,"card","mb-3","shadow-sm","bg-light",3,"mouseleave"],[1,"row","g-0"],[1,"col-md-2","doc-img-background","rounded-start",3,"click","dblclick"],[1,"card-img","doc-img","border-end","rounded-start",3,"src"],[1,"border-end","border-bottom","bg-light","document-card-check"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],[1,"col"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title"],[1,"card-text"],[3,"innerHtml"],[1,"d-block"],[1,"result-content"],[1,"d-flex","flex-column","flex-md-row","align-items-md-center"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","diagram-3"],[1,"d-none","d-md-inline"],["class","btn btn-sm btn-outline-secondary",3,"routerLink",4,"pngxIfPermissions"],["target","_blank","autoClose","true","popoverClass","shadow popover-preview",1,"btn","btn-sm","btn-outline-secondary",3,"mouseenter","mouseleave","href","ngbPopover","popoverTitle"],["name","eye"],[1,"btn","btn-sm","btn-outline-secondary",3,"href"],["name","download"],[1,"list-group","list-group-horizontal","border-0","card-info","ms-md-auto","mt-2","mt-md-0"],["title",t,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"routerLink"],["type","button","title",n,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center"],["type","button","title",o,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center"],[1,"list-group-item","me-2","bg-light","text-dark","p-1","border-0","d-flex","align-items-center"],[1,"list-group-item","bg-light","text-dark","p-1","border-0","d-flex","align-items-center"],[1,"list-group-item","bg-light","text-dark","border-0","d-flex","p-0","ps-4","search-score"],["title",l,1,"fw-bold","btn-link"],["title",l,1,"fw-bold","btn-link",3,"click"],["linkTitle",u,1,"ms-1",3,"tag","clickable"],["linkTitle",u,1,"ms-1",3,"click","tag","clickable"],["name","chat-left-text"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],["name","pencil"],[3,"document"],["width",".9em","height",".9em","name","chat-left-text",1,"me-2","text-muted"],["type","button","title",n,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"click"],["width",".9em","height",".9em","name","file-earmark",1,"me-2","text-muted"],["type","button","title",o,1,"list-group-item","btn","btn-sm","bg-light","text-dark","p-1","border-0","me-2","d-flex","align-items-center",3,"click"],["width",".9em","height",".9em","name","archive",1,"me-2","text-muted"],["width",".9em","height",".9em","name","upc-scan",1,"me-2","text-muted"],[1,"list-group-item","bg-light","text-dark","p-1","border-0","d-flex","align-items-center",3,"ngbTooltip"],[1,"d-flex","flex-column","text-light"],["width",".9em","height",".9em","name","calendar-event",1,"me-2","text-muted"],["width",".9em","height",".9em","name","person-fill-lock",1,"me-2","text-muted"],["width",".9em","height",".9em","name","people-fill",1,"me-2","text-muted"],[1,"me-2","text-muted"],[1,"search-score-bar","mx-2","mt-1",3,"type","value","max"],["width",".9em","height",".9em","name","ui-radios",1,"me-2","text-muted"],["showNameIfEmpty","true",3,"document","fieldId"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",12),F("mouseleave",function(){return H(s),$(o.mouseLeaveCard())}),c(1,"div",13)(2,"div",14),F("click",function(a){return H(s),$(o.toggleSelected.emit(a))})("dblclick",function(){return H(s),$(o.dblClickDocument.emit())}),k(3,"img",15),c(4,"div",16)(5,"div",17)(6,"input",18),F("click",function(a){return H(s),$(o.toggleSelected.emit(a))}),h(),k(7,"label",19),h()()(),c(8,"div",20)(9,"div",21)(10,"div",22)(11,"h5",23),q(12,sYe,3,1)(13,rYe,2,3)(14,lYe,3,2),h()(),c(15,"p",24),q(16,cYe,1,1,"span",25),ut(17,dYe,3,1,"span",26,Ft),q(19,hYe,2,1,"span",27),h(),c(20,"div",28)(21,"div",29)(22,"a",30),F("click",function(){return H(s),$(o.clickMoreLike.emit())}),k(23,"i-bs",31),j(24,"\xa0"),c(25,"span",32),R(26,3),h()(),q(27,uYe,5,2,"a",33),c(28,"a",34,0),ot(30,"documentTitle"),F("mouseenter",function(){return H(s),$(o.mouseEnterPreview())})("mouseleave",function(){return H(s),$(o.mouseLeavePreview())}),k(31,"i-bs",35),j(32,"\xa0"),c(33,"span",32),R(34,4),h()(),q(35,_Ye,1,1,"ng-template",null,1,on),c(37,"a",36),k(38,"i-bs",37),j(39,"\xa0"),c(40,"span",32),R(41,5),h()()(),c(42,"div",38),q(43,pYe,4,3,"button",39)(44,gYe,5,3,"button",40)(45,fYe,5,3,"button",41)(46,mYe,4,1,"div",42),ot(47,"isNumber"),q(48,MYe,4,2)(49,bYe,5,3,"div",43)(50,TYe,4,0,"div",43)(51,SYe,4,3,"div",44),ut(52,AYe,1,1,null,null,tYe),h()()()()()()}if(2&n){const s=vt(36);Ye("card-selected",o.selected)("document-card",o.selectable)("popover-hidden",o.popoverHidden),d(2),Ye("doc-img-background-selected",o.selected),d(),Ye("inverted",o.getIsThumbInverted()),w("src",o.getThumbUrl(),$o),d(3),ln("id","smallCardCheck",o.document.id,""),w("checked",o.selected),d(),ln("for","smallCardCheck",o.document.id,""),d(5),J(o.displayFields.includes(o.DisplayField.CORRESPONDENT)&&o.document.correspondent?12:-1),d(),J(o.displayFields.includes(o.DisplayField.TITLE)?13:-1),d(),J(o.displayFields.includes(o.DisplayField.TAGS)?14:-1),d(2),J(o.document.__search_hit__&&o.document.__search_hit__.highlights?16:-1),d(),_t(o.searchNoteHighlights),d(2),J(null!=o.document.__search_hit__&&o.document.__search_hit__.score?-1:19),d(8),w("pngxIfPermissions",rt(38,nYe,o.PermissionAction.Change,o.PermissionType.Document)),d(),w("href",o.previewUrl,$o)("ngbPopover",s)("popoverTitle",Et(30,34,o.document.title)),d(9),w("href",o.getDownloadUrl(),$o),d(6),J(o.displayFields.includes(o.DisplayField.NOTES)&&o.notesEnabled&&o.document.notes.length?43:-1),d(),J(o.displayFields.includes(o.DisplayField.DOCUMENT_TYPE)&&o.document.document_type?44:-1),d(),J(o.displayFields.includes(o.DisplayField.STORAGE_PATH)&&o.document.storage_path?45:-1),d(),J(Et(47,36,o.displayFields.includes(o.DisplayField.ASN)&&o.document.archive_serial_number)?46:-1),d(2),J(o.displayFields.includes(o.DisplayField.CREATED)||o.displayFields.includes(o.DisplayField.ADDED)?48:-1),d(),J(o.displayFields.includes(o.DisplayField.OWNER)&&o.document.owner&&o.document.owner!==o.settingsService.currentUser.id?49:-1),d(),J(o.displayFields.includes(o.DisplayField.SHARED)&&o.document.is_shared_by_requester?50:-1),d(),J(null!=o.document.__search_hit__&&o.document.__search_hit__.score?51:-1),d(),_t(o.document.custom_fields)}},dependencies:[fr,Wr,Oh,yh,Wt,eu,Zo,pF,h9,k1,U5,Ns,j3,gF],styles:[".result-content[_ngcontent-%COMP%]{overflow-wrap:anywhere}.doc-img-background[_ngcontent-%COMP%]{position:relative}.doc-img[_ngcontent-%COMP%]{object-fit:cover;object-position:top left;height:100%;position:absolute;mix-blend-mode:multiply}.card-title[_ngcontent-%COMP%]{word-break:break-word}.search-score-bar[_ngcontent-%COMP%]{width:100px;height:5px;margin-top:1px}.document-card-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.document-card[_ngcontent-%COMP%]:hover   .document-card-check[_ngcontent-%COMP%]{display:block}.card-selected[_ngcontent-%COMP%]{border-color:var(--bs-primary)}.card-selected[_ngcontent-%COMP%]   .document-card-check[_ngcontent-%COMP%]{display:block}.doc-img-background-selected[_ngcontent-%COMP%]{background-color:var(--pngx-primary-faded)}.card-info[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1}.card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important}.card-info[_ngcontent-%COMP%]   .search-score[_ngcontent-%COMP%]{padding-top:.35rem!important}span[_ngcontent-%COMP%]     .match{color:#000;background-color:#ffd342}a[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})();const yYe=["popover"],DYe=(e,i)=>i.field,NYe=(e,i)=>({action:e,type:i});function PYe(e,i){if(1&e){const t=pe();c(0,"pngx-tag",36),F("click",function(o){const s=H(t).$implicit;return _(2).clickTag.emit(s.id),$(o.stopPropagation())}),h()}2&e&&w("tag",i.$implicit)("clickable",!0)}function IYe(e,i){if(1&e&&(c(0,"div")(1,"span",37),j(2),h()()),2&e){const t=_(2);d(2),nt("+ ",t.moreTags,"")}}function LYe(e,i){if(1&e&&(c(0,"div",18),ut(1,PYe,1,2,"pngx-tag",35,Ft),ot(3,"async"),q(4,IYe,3,1,"div"),h()),2&e){const t=_();d(),_t(Et(3,1,t.getTagsLimited$())),d(3),J(t.moreTags?4:-1)}}function xYe(e,i){if(1&e&&(c(0,"a",19)(1,"span",38),k(2,"i-bs",39),j(3),h()()),2&e){const t=_();ln("routerLink","/documents/",t.document.id,"/notes"),d(3),nt(" ",t.document.notes.length,"")}}function RYe(e,i){if(1&e){const t=pe();c(0,"a",40),F("click",function(o){H(t);const s=_();return s.clickCorrespondent.emit(s.document.correspondent),$(o.stopPropagation())}),j(1),ot(2,"async"),h(),j(3,": ")}if(2&e){let t;const n=_();d(),Pe(null!==(t=null==(t=Et(2,1,n.document.correspondent$))?null:t.name)&&void 0!==t?t:n.privateName)}}function FYe(e,i){1&e&&(j(0),ot(1,"documentTitle")),2&e&&nt(" ",Et(1,1,_().document.title)," ")}function kYe(e,i){if(1&e){const t=pe();c(0,"button",41),F("click",function(o){H(t);const s=_();return s.clickDocumentType.emit(s.document.document_type),$(o.stopPropagation())}),k(1,"i-bs",42),c(2,"small"),j(3),ot(4,"async"),h()()}if(2&e){let t;const n=_();d(3),Pe(null!==(t=null==(t=Et(4,1,n.document.document_type$))?null:t.name)&&void 0!==t?t:n.privateName)}}function zYe(e,i){if(1&e){const t=pe();c(0,"button",43),F("click",function(o){H(t);const s=_();return s.clickStoragePath.emit(s.document.storage_path),$(o.stopPropagation())}),k(1,"i-bs",44),c(2,"small"),j(3),ot(4,"async"),h()()}if(2&e){let t;const n=_();d(3),Pe(null!==(t=null==(t=Et(4,1,n.document.storage_path$))?null:t.name)&&void 0!==t?t:n.privateName)}}function VYe(e,i){if(1&e&&(c(0,"div",47)(1,"span"),R(2,3),ot(3,"customDate"),h(),c(4,"span"),R(5,4),ot(6,"customDate"),h(),c(7,"span"),R(8,5),ot(9,"customDate"),h()()),2&e){const t=_(2);d(3),An(Et(3,3,t.document.created_date)),Dn(2),d(3),An(Et(6,5,t.document.added)),Dn(5),d(3),An(Et(9,7,t.document.modified)),Dn(8)}}function HYe(e,i){if(1&e&&(c(0,"div",26),q(1,VYe,10,9,"ng-template",null,2,on),c(3,"div",45),k(4,"i-bs",46),c(5,"small"),j(6),ot(7,"customDate"),h()()()),2&e){const t=vt(2),n=_();d(3),w("ngbTooltip",t),d(3),Pe(io(7,2,n.document.created_date,"mediumDate"))}}function $Ye(e,i){if(1&e&&(c(0,"div",47)(1,"span"),R(2,6),ot(3,"customDate"),h(),c(4,"span"),R(5,7),ot(6,"customDate"),h(),c(7,"span"),R(8,8),ot(9,"customDate"),h()()),2&e){const t=_(2);d(3),An(Et(3,3,t.document.created)),Dn(2),d(3),An(Et(6,5,t.document.added)),Dn(5),d(3),An(Et(9,7,t.document.modified)),Dn(8)}}function BYe(e,i){if(1&e&&(c(0,"div",26),q(1,$Ye,10,9,"ng-template",null,2,on),c(3,"div",45),k(4,"i-bs",46),c(5,"small"),j(6),ot(7,"customDate"),h()()()),2&e){const t=vt(2),n=_();d(3),w("ngbTooltip",t),d(3),Pe(io(7,2,n.document.added,"mediumDate"))}}function GYe(e,i){if(1&e&&(c(0,"div",27),k(1,"i-bs",48),c(2,"small"),j(3),h()()),2&e){const t=_();d(3),nt("#",t.document.archive_serial_number,"")}}function UYe(e,i){if(1&e&&(c(0,"div",27),k(1,"i-bs",49),c(2,"small"),j(3),ot(4,"username"),h()()),2&e){const t=_();d(3),Pe(Et(4,1,t.document.owner))}}function ZYe(e,i){1&e&&(c(0,"div",27),k(1,"i-bs",50),c(2,"small"),R(3,9),h()())}function jYe(e,i){if(1&e&&(c(0,"div",51),k(1,"i-bs",52),c(2,"small"),k(3,"pngx-custom-field-display",53),h()()),2&e){const t=_().$implicit,n=_();d(3),w("document",n.document)("fieldId",t.field)}}function WYe(e,i){if(1&e&&q(0,jYe,4,2,"div",51),2&e){const t=i.$implicit,n=_();J(n.displayFields.includes(n.DisplayField.CUSTOM_FIELD+t.field)?0:-1)}}function XYe(e,i){1&e&&(c(0,"a",54),k(1,"i-bs",55),h()),2&e&&ln("routerLink","/documents/",_().document.id,"")}function KYe(e,i){1&e&&k(0,"pngx-preview-popup",56),2&e&&w("document",_().document)}let qYe=(()=>{class e extends Uo{constructor(t,n){super(),this.documentService=t,this.settingsService=n,this.DisplayField=Jn,this.selected=!1,this.toggleSelected=new Be,this.displayFields=Ih.map(o=>o.id),this.dblClickDocument=new Be,this.clickTag=new Be,this.clickCorrespondent=new Be,this.clickDocumentType=new Be,this.clickStoragePath=new Be,this.moreTags=null,this.mouseOnPreview=!1,this.popoverHidden=!0}getIsThumbInverted(){return this.settingsService.get(Ue.DARK_MODE_THUMB_INVERTED)}getThumbUrl(){return this.documentService.getThumbUrl(this.document.id)}getDownloadUrl(){return this.documentService.getDownloadUrl(this.document.id)}get previewUrl(){return this.documentService.getPreviewUrl(this.document.id)}get privateName(){return "Privato"}getTagsLimited$(){const t=this.document.notes.length>0?6:7;return this.document.tags$?.pipe(At(n=>n.length>t?(this.moreTags=n.length-(t-1),n.slice(0,t-1)):n))}mouseEnterPreview(){this.mouseOnPreview=!0,this.popover.isOpen()||(this.popover.open(),this.popoverHidden=!0,setTimeout(()=>{this.mouseOnPreview?this.popoverHidden=!1:this.popover.close()},600))}mouseLeavePreview(){this.mouseOnPreview=!1}mouseLeaveCard(){this.popover.close()}get notesEnabled(){return this.settingsService.get(Ue.NOTES_ENABLED)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-card-small"]],viewQuery:function(n,o){if(1&n&&cn(yYe,5),2&n){let s;Ot(s=yt())&&(o.popover=s.first)}},inputs:{selected:"selected",document:"document",displayFields:"displayFields"},outputs:{toggleSelected:"toggleSelected",dblClickDocument:"dblClickDocument",clickTag:"clickTag",clickCorrespondent:"clickCorrespondent",clickDocumentType:"clickDocumentType",clickStoragePath:"clickStoragePath"},features:[Ct],decls:37,vars:37,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie;return t="Attiva/Disattiva filtro tipo documento",n="Attiva/Disattiva filtro percorso di archiviazione",o="Modifica",s="Scarica",r="Attiva/Disattiva filtro tag",a="Attiva/Disattiva filtro corrispondente",l="Creato: " + "\ufffd0\ufffd" + "",u="Aggiunto il: " + "\ufffd0\ufffd" + "",p="Modificato il: " + "\ufffd0\ufffd" + "",v="Creato: " + "\ufffd0\ufffd" + "",L="Aggiunto il: " + "\ufffd0\ufffd" + "",z="Modificato il: " + "\ufffd0\ufffd" + "",ie="Condiviso",[["popover","ngbPopover"],["previewContent",""],["dateTooltip",""],l,u,p,v,L,z,ie,[1,"col","p-2","h-100"],[1,"card","h-100","shadow-sm","document-card",3,"mouseleave"],[1,"border-bottom","doc-img-container",3,"click","dblclick"],[1,"card-img","doc-img","rounded-top",3,"src"],[1,"border-end","border-bottom","bg-light","py-1","px-2","document-card-check"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],[1,"tags","d-flex","flex-column","text-end","position-absolute","me-1","fs-6"],[1,"document-card-notes","py-2","px-1",3,"routerLink"],[1,"card-body","bg-light","p-2"],[1,"card-text"],[1,"card-footer","pt-0","pb-2","px-2"],[1,"list-group","list-group-flush","border-0","pt-1","pb-2","card-info"],["type","button","title",t,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0"],["type","button","title",n,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0"],[1,"list-group-item","bg-transparent","p-0","border-0","d-flex","flex-wrap-reverse","justify-content-between"],[1,"ps-0","p-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group","w-100"],["class","btn btn-sm btn-outline-secondary","title",o,3,"routerLink",4,"pngxIfPermissions"],["target","_blank","autoClose","true","popoverClass","shadow popover-preview",1,"btn","btn-sm","btn-outline-secondary",3,"mouseenter","mouseleave","href","ngbPopover","popoverTitle"],["name","eye"],["title",s,1,"btn","btn-sm","btn-outline-secondary",3,"click","href"],["name","download"],["linkTitle",r,3,"tag","clickable"],["linkTitle",r,3,"click","tag","clickable"],[1,"badge","text-dark"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],["title",a,1,"fw-bold","btn-link",3,"click"],["type","button","title",t,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0",3,"click"],["width","1em","height","1em","name","file-earmark",1,"me-2","text-muted"],["type","button","title",n,1,"list-group-item","list-group-item-action","bg-transparent","ps-0","p-1","border-0",3,"click"],["width","1em","height","1em","name","folder",1,"me-2","text-muted"],["placement","top",1,"ps-0","p-1",3,"ngbTooltip"],["width","1em","height","1em","name","calendar-event",1,"me-2","text-muted"],[1,"d-flex","flex-column","text-light"],["width","1em","height","1em","name","upc-scan",1,"me-2","text-muted"],["width","1em","height","1em","name","person-fill-lock",1,"me-2","text-muted"],["width","1em","height","1em","name","people-fill",1,"me-2","text-muted"],[1,"ps-0","p-1","d-flex","align-items-center","overflow-hidden"],["width","1em","height","1em","name","ui-radios",1,"me-2","text-muted"],["showNameIfEmpty","true",3,"document","fieldId"],["title",o,1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],["name","pencil"],[3,"document"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",10)(1,"div",11),F("mouseleave",function(){return H(s),$(o.mouseLeaveCard())}),c(2,"div",12),F("click",function(a){return H(s),$(o.toggleSelected.emit(a))})("dblclick",function(){return H(s),$(o.dblClickDocument.emit(o))}),k(3,"img",13),c(4,"div",14)(5,"div",15)(6,"input",16),F("click",function(a){return H(s),$(o.toggleSelected.emit(a))}),h(),k(7,"label",17),h()(),q(8,LYe,5,3,"div",18),h(),q(9,xYe,4,3,"a",19),c(10,"div",20)(11,"p",21),q(12,RYe,4,3)(13,FYe,2,3),h()(),c(14,"div",22)(15,"div",23),q(16,kYe,5,3,"button",24)(17,zYe,5,3,"button",25)(18,HYe,8,5,"div",26)(19,BYe,8,5,"div",26)(20,GYe,4,1,"div",27),ot(21,"isNumber"),q(22,UYe,5,3,"div",27)(23,ZYe,4,0,"div",27),ut(24,WYe,1,1,null,null,DYe),h(),c(26,"div",28)(27,"div",29),q(28,XYe,2,2,"a",30),c(29,"a",31,0),ot(31,"documentTitle"),F("mouseenter",function(){return H(s),$(o.mouseEnterPreview())})("mouseleave",function(){return H(s),$(o.mouseLeavePreview())}),k(32,"i-bs",32),h(),q(33,KYe,1,1,"ng-template",null,1,on),c(35,"a",33),F("click",function(a){return H(s),$(a.stopPropagation())}),k(36,"i-bs",34),h()()()()()()}if(2&n){const s=vt(34);d(),Ye("card-selected",o.selected)("popover-hidden",o.popoverHidden),d(),Ye("doc-img-background-selected",o.selected),d(),Ye("inverted",o.getIsThumbInverted()),w("src",o.getThumbUrl(),$o),d(3),ln("id","smallCardCheck",o.document.id,""),w("checked",o.selected),d(),ln("for","smallCardCheck",o.document.id,""),d(),J(null!=o.displayFields&&o.displayFields.includes(o.DisplayField.TAGS)?8:-1),d(),J(o.displayFields.includes(o.DisplayField.NOTES)&&o.notesEnabled&&o.document.notes.length?9:-1),d(3),J(o.displayFields.includes(o.DisplayField.CORRESPONDENT)&&o.document.correspondent?12:-1),d(),J(o.displayFields.includes(o.DisplayField.TITLE)?13:-1),d(3),J(o.displayFields.includes(o.DisplayField.DOCUMENT_TYPE)&&o.document.document_type?16:-1),d(),J(o.displayFields.includes(o.DisplayField.STORAGE_PATH)&&o.document.storage_path?17:-1),d(),J(o.displayFields.includes(o.DisplayField.CREATED)?18:-1),d(),J(o.displayFields.includes(o.DisplayField.ADDED)?19:-1),d(),J(Et(21,30,o.displayFields.includes(o.DisplayField.ASN)&&o.document.archive_serial_number)?20:-1),d(2),J(o.displayFields.includes(o.DisplayField.OWNER)&&o.document.owner&&o.document.owner!==o.settingsService.currentUser.id?22:-1),d(),J(o.displayFields.includes(o.DisplayField.SHARED)&&o.document.is_shared_by_requester?23:-1),d(),_t(o.document.custom_fields),d(4),w("pngxIfPermissions",rt(34,NYe,o.PermissionAction.Change,o.PermissionType.Document)),d(),w("href",o.previewUrl,$o)("ngbPopover",s)("popoverTitle",Et(31,32,o.document.title)),d(6),w("href",o.getDownloadUrl(),$o)}},dependencies:[fr,Wr,yh,Wt,eu,Zo,pF,h9,k1,U5,Ns,j3,gF],styles:[".card-text[_ngcontent-%COMP%]{font-size:90%}.doc-img[_ngcontent-%COMP%]{object-fit:cover;object-position:top left;height:180px;mix-blend-mode:multiply}.document-card-check[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;padding:.5rem;border-top-left-radius:.25rem;border-bottom-right-radius:.25rem;pointer-events:none}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0;min-height:0;margin-bottom:0}.document-card-check[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}.document-card[_ngcontent-%COMP%]:hover   .document-card-check[_ngcontent-%COMP%]{display:block}.document-card-notes[_ngcontent-%COMP%]{position:absolute;right:0;top:142px}.card-selected[_ngcontent-%COMP%]{border-color:var(--bs-primary)}.card-selected[_ngcontent-%COMP%]   .document-card-check[_ngcontent-%COMP%]{display:block}.doc-img-background-selected[_ngcontent-%COMP%]{background-color:var(--pngx-primary-faded)}.card-info[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:1}.card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .card-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:transparent!important;color:var(--bs-primary)}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding-top:.1rem}  .tooltip-inner{text-align:left!important;font-size:90%}a[_ngcontent-%COMP%]{cursor:pointer}.tags[_ngcontent-%COMP%]{top:.2rem;right:0;max-width:80%;row-gap:.2rem;line-height:1}"]})}return e})();var YYe=ge(578);function JYe(e,i){1&e&&(k(0,"div",16),c(1,"span",17),R(2,2),h())}let u9=(()=>{class e{constructor(t,n){this.activeModal=t,this.userService=n,this.o=void 0,this.confirmClicked=new Be,this.title="Imposta permessi",this.form=new In({permissions_form:new Re,merge:new Re(!0)}),this.buttonsEnabled=!0,this.userService.listAll().subscribe(o=>this.users=o.results)}set object(t){this.o=t,this.title="Modifica permessi per "+t.name,this.form.patchValue({merge:!0,permissions_form:{owner:t.owner,set_permissions:t.permissions}})}get object(){return this.o}get permissions(){return{owner:this.form.get("permissions_form").value?.owner??null,set_permissions:this.form.get("permissions_form").value?.set_permissions??{view:{users:[],groups:[]},change:{users:[],groups:[]}}}}get hint(){return this.object?null:this.form.get("merge").value?"Le autorizzazioni proprietario, utente e gruppo esistenti verranno unite con queste impostazioni.":"Tutti i permessi proprietario, utente e gruppo esistenti saranno sostituiti."}cancelClicked(){this.activeModal.close()}confirm(){this.confirmClicked.emit({permissions:this.permissions,merge:this.form.get("merge").value})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi),Y(vo))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-permissions-dialog"]],inputs:{title:"title",object:"object"},outputs:{confirmClicked:"confirmClicked"},decls:17,vars:8,consts:()=>{let t,n,o,s;return t="Unisci con i permessi esistenti",n="Annulla",o="Conferma",s="Caricamento in corso...",[n,o,s,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["formControlName","permissions_form",3,"users"],[1,"form-group","mt-4"],[1,"offset-lg-3","row"],["title",t,"formControlName","merge",3,"horizontal","hint"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"]]},template:function(n,o){1&n&&(c(0,"div",3)(1,"h4",4),j(2),h(),c(3,"button",5),F("click",function(){return o.cancelClicked()}),h()(),c(4,"div",6)(5,"form",7)(6,"div",8),k(7,"pngx-permissions-form",9),h(),c(8,"div",10)(9,"div",11),k(10,"pngx-input-switch",12),h()()()(),c(11,"div",13),q(12,JYe,3,0),c(13,"button",14),F("click",function(){return o.cancelClicked()}),R(14,0),h(),c(15,"button",15),F("click",function(){return o.confirm()}),R(16,1),h()()),2&n&&(d(2),Pe(o.title),d(3),w("formGroup",o.form),d(2),w("users",o.users),d(3),w("horizontal",!0)("hint",o.hint),d(2),J(o.buttonsEnabled?-1:12),d(),w("disabled",!o.buttonsEnabled),d(2),w("disabled",!o.buttonsEnabled))},dependencies:[ro,Yt,Wi,Bi,Xi,I5,i9]})}return e})();const QYe=(e,i)=>i.id;function eJe(e,i){if(1&e&&(c(0,"li",12),k(1,"i-bs",23),j(2),h()),2&e){let t;const n=i.$implicit,o=_();d(2),nt(" ",null==(t=o.getDocument(n))?null:t.title," ")}}function tJe(e,i){if(1&e&&(c(0,"option",15),j(1),h()),2&e){const t=i.$implicit;w("ngValue",t.id),d(),Pe(t.title)}}let nJe=(()=>{class e extends pi{get documents(){return this._documents}constructor(t,n,o){super(t),this.documentService=n,this.permissionService=o,this.documentIDs=[],this.deleteOriginals=!1,this._documents=[],this.metadataDocumentID=-1,this.unsubscribeNotifier=new et}ngOnInit(){this.documentService.getFew(this.documentIDs).pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this._documents=t.results})}onDrop(t){Y5(this.documentIDs,t.previousIndex,t.currentIndex)}getDocument(t){return this.documents.find(n=>n.id===t)}get userOwnsAllDocuments(){return this.documents.every(t=>this.permissionService.currentUserOwnsObject(t))}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi),Y(xo),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-merge-confirm-dialog"]],features:[Ct],decls:33,vars:14,consts:()=>{let t,n,o,s,r;return t="Documenti:",n="Usa i metadati da:",o="Rigenera tutti i metadati",s="Elimina documenti originali dopo l'unione",r="Nota che solo i PDF saranno inclusi.",[t,n,o,s,r,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","metadataDocumentID",1,"form-label"],["cdkDropList","",1,"list-group",3,"cdkDropListDropped"],["cdkDrag","",1,"list-group-item"],[1,"form-group","mt-4"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"form-check","form-switch","mt-4"],["type","checkbox","role","switch","id","deleteOriginalsSwitch",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","deleteOriginalsSwitch",1,"form-check-label"],[1,"small","text-muted","fst-italic","mt-4"],[1,"modal-footer"],["type","button",1,"btn",3,"click","disabled"],[1,"d-inline-block",2,"padding-bottom","1px"],["name","grip-vertical",1,"me-2"]]},template:function(n,o){1&n&&(c(0,"div",5)(1,"h4",6),j(2),h(),c(3,"button",7),F("click",function(){return o.cancel()}),h()(),c(4,"div",8)(5,"p"),j(6),h(),c(7,"div",9)(8,"label",10),R(9,0),h(),c(10,"ul",11),F("cdkDropListDropped",function(r){return o.onDrop(r)}),ut(11,eJe,3,1,"li",12,Ft),h()(),c(13,"div",13)(14,"label",10),R(15,1),h(),c(16,"select",14),Tt("ngModelChange",function(r){return mt(o.metadataDocumentID,r)||(o.metadataDocumentID=r),r}),c(17,"option",15),R(18,2),h(),ut(19,tJe,2,2,"option",15,QYe),h()(),c(21,"div",16)(22,"input",17),Tt("ngModelChange",function(r){return mt(o.deleteOriginals,r)||(o.deleteOriginals=r),r}),h(),c(23,"label",18),R(24,3),h()(),c(25,"p",19),R(26,4),h()(),c(27,"div",20)(28,"button",21),F("click",function(){return o.cancel()}),c(29,"span",22),j(30),h()(),c(31,"button",21),F("click",function(){return o.confirm()}),j(32),h()()),2&n&&(d(2),Pe(o.title),d(4),Pe(o.message),d(5),_t(o.documentIDs),d(5),bt("ngModel",o.metadataDocumentID),d(),w("ngValue",-1),d(2),_t(o.documents),d(3),bt("ngModel",o.deleteOriginals),w("disabled",!o.userOwnsAllDocuments),d(6),Ai(o.cancelBtnClass),w("disabled",!o.buttonsEnabled),d(2),Pe(o.cancelBtnCaption),d(),Ai(o.btnClass),w("disabled",!o.confirmButtonEnabled||!o.buttonsEnabled),d(),nt(" ",o.btnCaption," "))},dependencies:[_5,p5,ts,sl,Yt,Ln,du,cu,Wt],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:move}"]})}return e})();const fF=(e,i)=>({action:e,type:i});function iJe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",63),F("opened",function(){return H(t),$(_(2).openTagsDropdown())}),Tt("selectionModelChange",function(o){H(t);const s=_(2);return mt(s.tagSelectionModel,o)||(s.tagSelectionModel=o),$(o)}),F("apply",function(o){return H(t),$(_(2).setTags(o))}),h()}if(2&e){const t=_(2);w("items",t.tags)("disabled",!t.userCanEditAll||t.disabled)("editing",!0)("manyToOne",!0)("applyOnClose",t.applyOnClose)("createRef",t.createTag.bind(t)),bt("selectionModel",t.tagSelectionModel),w("documentCounts",t.tagDocumentCounts)}}function oJe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",64),F("opened",function(){return H(t),$(_(2).openCorrespondentDropdown())}),Tt("selectionModelChange",function(o){H(t);const s=_(2);return mt(s.correspondentSelectionModel,o)||(s.correspondentSelectionModel=o),$(o)}),F("apply",function(o){return H(t),$(_(2).setCorrespondents(o))}),h()}if(2&e){const t=_(2);w("items",t.correspondents)("disabled",!t.userCanEditAll||t.disabled)("editing",!0)("applyOnClose",t.applyOnClose)("createRef",t.createCorrespondent.bind(t)),bt("selectionModel",t.correspondentSelectionModel),w("documentCounts",t.correspondentDocumentCounts)}}function sJe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",65),F("opened",function(){return H(t),$(_(2).openDocumentTypeDropdown())}),Tt("selectionModelChange",function(o){H(t);const s=_(2);return mt(s.documentTypeSelectionModel,o)||(s.documentTypeSelectionModel=o),$(o)}),F("apply",function(o){return H(t),$(_(2).setDocumentTypes(o))}),h()}if(2&e){const t=_(2);w("items",t.documentTypes)("disabled",!t.userCanEditAll||t.disabled)("editing",!0)("applyOnClose",t.applyOnClose)("createRef",t.createDocumentType.bind(t)),bt("selectionModel",t.documentTypeSelectionModel),w("documentCounts",t.documentTypeDocumentCounts)}}function rJe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",66),F("opened",function(){return H(t),$(_(2).openStoragePathDropdown())}),Tt("selectionModelChange",function(o){H(t);const s=_(2);return mt(s.storagePathsSelectionModel,o)||(s.storagePathsSelectionModel=o),$(o)}),F("apply",function(o){return H(t),$(_(2).setStoragePaths(o))}),h()}if(2&e){const t=_(2);w("items",t.storagePaths)("disabled",!t.userCanEditAll||t.disabled)("editing",!0)("applyOnClose",t.applyOnClose)("createRef",t.createStoragePath.bind(t)),bt("selectionModel",t.storagePathsSelectionModel),w("documentCounts",t.storagePathDocumentCounts)}}function aJe(e,i){if(1&e){const t=pe();c(0,"pngx-filterable-dropdown",67),F("opened",function(){return H(t),$(_(2).openCustomFieldsDropdown())}),Tt("selectionModelChange",function(o){H(t);const s=_(2);return mt(s.customFieldsSelectionModel,o)||(s.customFieldsSelectionModel=o),$(o)}),F("apply",function(o){return H(t),$(_(2).setCustomFields(o))}),h()}if(2&e){const t=_(2);w("items",t.customFields)("disabled",!t.userCanEditAll)("editing",!0)("manyToOne",!0)("applyOnClose",t.applyOnClose)("createRef",t.createCustomField.bind(t)),bt("selectionModel",t.customFieldsSelectionModel),w("documentCounts",t.customFieldDocumentCounts)}}function lJe(e,i){if(1&e&&(c(0,"div",57)(1,"label",21),R(2,14),h(),q(3,iJe,1,8,"pngx-filterable-dropdown",58)(4,oJe,1,7,"pngx-filterable-dropdown",59)(5,sJe,1,7,"pngx-filterable-dropdown",60)(6,rJe,1,7,"pngx-filterable-dropdown",61)(7,aJe,1,8,"pngx-filterable-dropdown",62),h()),2&e){const t=_();d(3),J(t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.Tag)?3:-1),d(),J(t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.Correspondent)?4:-1),d(),J(t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.DocumentType)?5:-1),d(),J(t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.StoragePath)?6:-1),d(),J(t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.CustomField)?7:-1)}}function cJe(e,i){1&e&&k(0,"i-bs",42)}function dJe(e,i){1&e&&(c(0,"div",43)(1,"span",68),j(2,"Preparing download..."),h()())}function hJe(e,i){if(1&e){const t=pe();c(0,"button",69),F("click",function(){return H(t),$(_().applyDelete())}),k(1,"i-bs",70),j(2,"\xa0"),ke(3),R(4,15),ze(),h()}2&e&&w("disabled",!_().userOwnsAll)}let uJe=(()=>{class e extends Uo{constructor(t,n,o,s,r,a,l,u,p,v,L,z){super(),this.documentTypeService=t,this.tagService=n,this.correspondentService=o,this.list=s,this.documentService=r,this.modalService=a,this.openDocumentService=l,this.settings=u,this.toastService=p,this.storagePathService=v,this.customFieldService=L,this.permissionService=z,this.tagSelectionModel=new w1,this.correspondentSelectionModel=new w1,this.documentTypeSelectionModel=new w1,this.storagePathsSelectionModel=new w1,this.customFieldsSelectionModel=new w1,this.unsubscribeNotifier=new et,this.downloadForm=new In({downloadFileTypeArchive:new Re(!0),downloadFileTypeOriginals:new Re(!1),downloadUseFormatting:new Re(!1)}),this.disabled=!1,this.applyOnClose=this.settings.get(Ue.BULK_EDIT_APPLY_ON_CLOSE),this.showConfirmationDialogs=this.settings.get(Ue.BULK_EDIT_CONFIRMATION_DIALOGS)}get userCanEditAll(){let t=this.permissionService.currentUserCan(Nt.Change,It.Document);return!!t&&(t=this.list.documents.filter(o=>this.list.selected.has(o.id)).every(o=>this.permissionService.currentUserHasObjectPermissions(this.PermissionAction.Change,o)),t)}get userOwnsAll(){let t=!0;return t=this.list.documents.filter(o=>this.list.selected.has(o.id)).every(o=>this.permissionService.currentUserOwnsObject(o)),t}ngOnInit(){this.permissionService.currentUserCan(Nt.View,It.Tag)&&this.tagService.listAll().pipe(wt()).subscribe(t=>this.tags=t.results),this.permissionService.currentUserCan(Nt.View,It.Correspondent)&&this.correspondentService.listAll().pipe(wt()).subscribe(t=>this.correspondents=t.results),this.permissionService.currentUserCan(Nt.View,It.DocumentType)&&this.documentTypeService.listAll().pipe(wt()).subscribe(t=>this.documentTypes=t.results),this.permissionService.currentUserCan(Nt.View,It.StoragePath)&&this.storagePathService.listAll().pipe(wt()).subscribe(t=>this.storagePaths=t.results),this.permissionService.currentUserCan(Nt.View,It.CustomField)&&this.customFieldService.listAll().pipe(wt()).subscribe(t=>this.customFields=t.results),this.downloadForm.get("downloadFileTypeArchive").valueChanges.pipe(je(this.unsubscribeNotifier)).subscribe(t=>{t||this.downloadForm.get("downloadFileTypeOriginals").patchValue(!0,{emitEvent:!1})}),this.downloadForm.get("downloadFileTypeOriginals").valueChanges.pipe(je(this.unsubscribeNotifier)).subscribe(t=>{t||this.downloadForm.get("downloadFileTypeArchive").patchValue(!0,{emitEvent:!1})})}ngOnDestroy(){this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}executeBulkOperation(t,n,o,s){t&&(t.componentInstance.buttonsEnabled=!1),this.documentService.bulkEdit(s??Array.from(this.list.selected),n,o).pipe(wt()).subscribe({next:()=>{this.list.reload(),this.list.reduceSelectionToFilter(),this.list.selected.forEach(r=>{this.openDocumentService.refreshDocument(r)}),t&&t.close()},error:r=>{t&&(t.componentInstance.buttonsEnabled=!0),this.toastService.showError("Errore nell'esecuzione dell'operazione in blocco",r)}})}applySelectionData(t,n){let o=new Map;t.forEach(s=>{s.document_count==this.list.selected.size?o.set(s.id,qt.Selected):s.document_count>0&&o.set(s.id,qt.PartiallySelected)}),n.init(o)}openTagsDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(wt()).subscribe(t=>{this.tagDocumentCounts=t.selected_tags,this.applySelectionData(t.selected_tags,this.tagSelectionModel)})}openDocumentTypeDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(wt()).subscribe(t=>{this.documentTypeDocumentCounts=t.selected_document_types,this.applySelectionData(t.selected_document_types,this.documentTypeSelectionModel)})}openCorrespondentDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(wt()).subscribe(t=>{this.correspondentDocumentCounts=t.selected_correspondents,this.applySelectionData(t.selected_correspondents,this.correspondentSelectionModel)})}openStoragePathDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(wt()).subscribe(t=>{this.storagePathDocumentCounts=t.selected_storage_paths,this.applySelectionData(t.selected_storage_paths,this.storagePathsSelectionModel)})}openCustomFieldsDropdown(){this.documentService.getSelectionData(Array.from(this.list.selected)).pipe(wt()).subscribe(t=>{this.customFieldDocumentCounts=t.selected_custom_fields,this.applySelectionData(t.selected_custom_fields,this.customFieldsSelectionModel)})}_localizeList(t){if(0==t.length)return"";if(1==t.length)return "\"" + t[0].name + "\"";if(2==t.length)return "\"" + t[0].name + "\" e \"" + t[1].name + "\"";{let n=t.slice(0,t.length-1).map(o=>"\"" + o.name + "\"").join(",");return "" + n + "e  \"" + t[t.length - 1].name + "\""}}setTags(t){if(0!=t.itemsToAdd.length||0!=t.itemsToRemove.length)if(this.showConfirmationDialogs){let n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma assegnazione tag",n.componentInstance.message=1==t.itemsToAdd.length&&0==t.itemsToRemove.length?"Questa operazione aggiunger\xE0 il tag \"" + t.itemsToAdd[0].name + "\" a " + this.list.selected.size + " documento/i selezionato/i.":t.itemsToAdd.length>1&&0==t.itemsToRemove.length?"Questa operazione aggiunger\xE0 i tag " + this._localizeList(t.itemsToAdd) + " a " + this.list.selected.size + " documento/i selezionato/i.":0==t.itemsToAdd.length&&1==t.itemsToRemove.length?"Questa operazione rimuover\xE0 il tag \"" + t.itemsToRemove[0].name + "\" da " + this.list.selected.size + " documento/i selezionato/i. ":0==t.itemsToAdd.length&&t.itemsToRemove.length>1?"Questa operazione rimuover\xE0 i tag " + this._localizeList(t.itemsToRemove) + " da " + this.list.selected.size + " documento/i selezionato/i.":"Questa operazione aggiunger\xE0 i tag " + this._localizeList(t.itemsToAdd) + " e rimuover\xE0 i tag " + this._localizeList(t.itemsToRemove) + " a " + this.list.selected.size + " documento/i selezionato/i.",n.componentInstance.btnClass="btn-warning",n.componentInstance.btnCaption="Conferma",n.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(n,"modify_tags",{add_tags:t.itemsToAdd.map(o=>o.id),remove_tags:t.itemsToRemove.map(o=>o.id)})})}else this.executeBulkOperation(null,"modify_tags",{add_tags:t.itemsToAdd.map(n=>n.id),remove_tags:t.itemsToRemove.map(n=>n.id)})}setCorrespondents(t){if(0==t.itemsToAdd.length&&0==t.itemsToRemove.length)return;let n=t.itemsToAdd.length>0?t.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(pi,{backdrop:"static"});o.componentInstance.title="Conferma assegnazione corrispondente",o.componentInstance.message=n?"Questa operazione assegner\xE0 il corrispondente \"" + n.name + "\" a " + this.list.selected.size + " documento/i selezionato/i.":"Questa operazione rimuover\xE0 il corrispondente da " + this.list.selected.size + " documento/i selezionato/i.",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Conferma",o.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_correspondent",{correspondent:n?n.id:null})})}else this.executeBulkOperation(null,"set_correspondent",{correspondent:n?n.id:null})}setDocumentTypes(t){if(0==t.itemsToAdd.length&&0==t.itemsToRemove.length)return;let n=t.itemsToAdd.length>0?t.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(pi,{backdrop:"static"});o.componentInstance.title="Conferma assegnazione tipo di documento",o.componentInstance.message=n?"Questa operazione assegner\xE0 il tipo di documento \"" + n.name + "\" a " + this.list.selected.size + " documento/i selezionato/i.":"Questa operazione eliminer\xE0 il tipo di documento da " + this.list.selected.size + " documento/i selezionato/i. ",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Conferma",o.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_document_type",{document_type:n?n.id:null})})}else this.executeBulkOperation(null,"set_document_type",{document_type:n?n.id:null})}setStoragePaths(t){if(0==t.itemsToAdd.length&&0==t.itemsToRemove.length)return;let n=t.itemsToAdd.length>0?t.itemsToAdd[0]:null;if(this.showConfirmationDialogs){let o=this.modalService.open(pi,{backdrop:"static"});o.componentInstance.title="Conferma assegnazione percorso di archiviazione",o.componentInstance.message=n?"Questa operazione assegner\xE0 il percorso di archiviazione \"" + n.name + "\" a " + this.list.selected.size + " documento/i selezionato/i.":"Questa operazione rimuover\xE0 il percorso di archiviazione da " + this.list.selected.size + " documento/i selezionato/i.",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Conferma",o.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(o,"set_storage_path",{storage_path:n?n.id:null})})}else this.executeBulkOperation(null,"set_storage_path",{storage_path:n?n.id:null})}setCustomFields(t){if(0!=t.itemsToAdd.length||0!=t.itemsToRemove.length)if(this.showConfirmationDialogs){let n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma assegnazione campo personalizzato",n.componentInstance.message=1==t.itemsToAdd.length&&0==t.itemsToRemove.length?"Questa operazione assegner\xE0 il campo personalizzato \"" + t.itemsToAdd[0].name + "\" a " + this.list.selected.size + " documenti selezionati.":t.itemsToAdd.length>1&&0==t.itemsToRemove.length?"Questa operazione assegner\xE0 i campi personalizzati " + this._localizeList(t.itemsToAdd) + " a " + this.list.selected.size + " documenti selezionati.":0==t.itemsToAdd.length&&1==t.itemsToRemove.length?"Questa operazione rimuover\xE0 il campo personalizzato \"" + t.itemsToRemove[0].name + "\" da " + this.list.selected.size + " documenti selezionati.":0==t.itemsToAdd.length&&t.itemsToRemove.length>1?"Questa operazione assegner\xE0 i campi personalizzati " + this._localizeList(t.itemsToRemove) + " da " + this.list.selected.size + " documenti selezionati.":"Questa operazione assegner\xE0 i campi personalizzati " + this._localizeList(t.itemsToAdd) + " e rimuover\xE0 i campi personalizzati " + this._localizeList(t.itemsToRemove) + " su " + this.list.selected.size + " documenti selezionati.",n.componentInstance.btnClass="btn-warning",n.componentInstance.btnCaption="Conferma",n.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.executeBulkOperation(n,"modify_custom_fields",{add_custom_fields:t.itemsToAdd.map(o=>o.id),remove_custom_fields:t.itemsToRemove.map(o=>o.id)})})}else this.executeBulkOperation(null,"modify_custom_fields",{add_custom_fields:t.itemsToAdd.map(n=>n.id),remove_custom_fields:t.itemsToRemove.map(n=>n.id)})}createTag(t){let n=this.modalService.open(A3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,n.componentInstance.object={name:t},n.componentInstance.succeeded.pipe(zn(o=>this.tagService.listAll().pipe(At(s=>({newTag:o,tags:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newTag:o,tags:s})=>{this.tags=s.results,this.tagSelectionModel.toggle(o.id)})}createCorrespondent(t){let n=this.modalService.open(e3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,n.componentInstance.object={name:t},n.componentInstance.succeeded.pipe(zn(o=>this.correspondentService.listAll().pipe(At(s=>({newCorrespondent:o,correspondents:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newCorrespondent:o,correspondents:s})=>{this.correspondents=s.results,this.correspondentSelectionModel.toggle(o.id)})}createDocumentType(t){let n=this.modalService.open(t3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,n.componentInstance.object={name:t},n.componentInstance.succeeded.pipe(zn(o=>this.documentTypeService.listAll().pipe(At(s=>({newDocumentType:o,documentTypes:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newDocumentType:o,documentTypes:s})=>{this.documentTypes=s.results,this.documentTypeSelectionModel.toggle(o.id)})}createStoragePath(t){let n=this.modalService.open(f3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,n.componentInstance.object={name:t},n.componentInstance.succeeded.pipe(zn(o=>this.storagePathService.listAll().pipe(At(s=>({newStoragePath:o,storagePaths:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newStoragePath:o,storagePaths:s})=>{this.storagePaths=s.results,this.storagePathsSelectionModel.toggle(o.id)})}createCustomField(t){let n=this.modalService.open(N3,{backdrop:"static"});n.componentInstance.dialogMode=Vn.CREATE,n.componentInstance.object={name:t},n.componentInstance.succeeded.pipe(zn(o=>this.customFieldService.listAll().pipe(At(s=>({newCustomField:o,customFields:s}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({newCustomField:o,customFields:s})=>{this.customFields=s.results,this.customFieldsSelectionModel.toggle(o.id)})}applyDelete(){if(this.showConfirmationDialogs){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Conferma",t.componentInstance.messageBold="Spostare " + this.list.selected.size + " documenti selezionati nel cestino?",t.componentInstance.message="I documenti possono essere ripristinati prima della cancellazione definitiva.",t.componentInstance.btnClass="btn-danger",t.componentInstance.btnCaption="Sposta nel cestino",t.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(t,"delete",{})})}else this.executeBulkOperation(null,"delete",{})}downloadSelected(){this.awaitingDownload=!0;let t=this.downloadForm.get("downloadFileTypeArchive").value&&this.downloadForm.get("downloadFileTypeOriginals").value?"both":this.downloadForm.get("downloadFileTypeArchive").value?"archive":"originals";this.documentService.bulkDownload(Array.from(this.list.selected),t,this.downloadForm.get("downloadUseFormatting").value).pipe(wt()).subscribe(n=>{(0,YYe.saveAs)(n,"documents.zip"),this.awaitingDownload=!1})}reprocessSelected(){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Conferma rielaborazione",t.componentInstance.messageBold="Questa operazione ricreer\xE0 in modo permanente i file di archivio per i " + this.list.selected.size + " documenti selezionati.",t.componentInstance.message="I file di archivio verranno rigenerati con le impostazioni attuali.",t.componentInstance.btnClass="btn-danger",t.componentInstance.btnCaption="Continua",t.componentInstance.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(t,"reprocess",{})})}setPermissions(){let t=this.modalService.open(u9,{backdrop:"static"});t.componentInstance.confirmClicked.subscribe(({permissions:n,merge:o})=>{t.componentInstance.buttonsEnabled=!1,this.executeBulkOperation(t,"set_permissions",{...n,merge:o})})}rotateSelected(){let t=this.modalService.open(qx,{backdrop:"static"});const n=t.componentInstance;n.title="Conferma rotazione",n.messageBold="Questa operazione ruoter\xE0 in modo permanente la versione originale di " + this.list.selected.size + " documenti.",n.message="Questa azione modificher\xE0 la copia originale.",n.btnClass="btn-danger",n.btnCaption="Continua",n.documentID=Array.from(this.list.selected)[0],n.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{n.buttonsEnabled=!1,this.executeBulkOperation(t,"rotate",{degrees:n.degrees})})}mergeSelected(){let t=this.modalService.open(nJe,{backdrop:"static"});const n=t.componentInstance;n.title="Conferma unione",n.messageBold="Questa operazione unir\xE0 " + this.list.selected.size + " documenti selezionati in nuovi documenti.",n.btnCaption="Continua",n.documentIDs=Array.from(this.list.selected),n.confirmClicked.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{const o={};n.metadataDocumentID>-1&&(o.metadata_document_id=n.metadataDocumentID),n.deleteOriginals&&(o.delete_originals=!0),n.buttonsEnabled=!1,this.executeBulkOperation(t,"merge",o,n.documentIDs),this.toastService.showInfo("Il documento unito sar\xE0 messo in coda per l'elaborazione.")})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Oa),Y(G5),Y(Aa),Y(ya),Y(xo),Y(Ki),Y(M3),Y(Tn),Y(ki),Y(d0),Y(Ea),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-bulk-editor"]],inputs:{disabled:"disabled"},features:[Ct],decls:82,vars:16,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En;return t="Annulla",n="Seleziona:",o="Pagina",s="Tutto",r="Permessi",a="Azioni",l="Rielabora",u="Ruota",p="Unisci",v="Scarica",L="Includere:",z="File archiviati",ie="File originali",se="Usa nome file formattato",he="Etichette",be="Filtra tag",we="Corrispondente",Fe="Filtra corrispondenti",Ae="Tipo di documento",Qe="Filtra tipi di documento",pt="Percorso archiviazione",gt="Filtra percorsi di archiviazione",Mt="Campi personalizzati",Pt="Filtra campi personalizzati",xt="Modifica:",En="Elimina",[t,n,o,s,r,a,l,u,p,v,L,z,ie,se,xt,En,[1,"d-flex","flex-wrap","gap-4"],["role","group","aria-label","Select",1,"d-flex","align-items-center"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","slash-circle"],["role","group","aria-label","Select",1,"d-flex","align-items-center","gap-2"],[1,"me-2"],[1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","file-earmark-check"],["name","check-all"],["class","d-flex align-items-center gap-2",4,"pngxIfPermissions"],[1,"d-flex","align-items-center","gap-2","ms-auto"],[1,"btn-toolbar"],["type","button",1,"btn","btn-sm","btn-outline-primary","me-2",3,"click","disabled"],["name","person-fill-lock"],[1,"d-none","d-sm-inline"],["ngbDropdown",""],["id","dropdownSelect","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","three-dots"],["ngbDropdownMenu","","aria-labelledby","dropdownSelect",1,"shadow"],["ngbDropdownItem","",3,"click","disabled"],["name","body-text"],["name","arrow-clockwise"],["name","journals"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","arrow-down"],["role","status",1,"spinner-border","spinner-border-sm"],["ngbDropdown","","role","group",1,"me-2","d-flex","btn-group"],["type","button","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle-split","rounded-end"],[1,"px-3","py-1",3,"formGroup"],[1,"mb-1"],[1,"form-group","ps-3","mb-2"],[1,"form-check"],["type","checkbox","id","downloadFileType_archive","formControlName","downloadFileTypeArchive",1,"form-check-input"],["for","downloadFileType_archive",1,"form-check-label"],["type","checkbox","id","downloadFileType_originals","formControlName","downloadFileTypeOriginals",1,"form-check-input"],["for","downloadFileType_originals",1,"form-check-label"],["type","checkbox","id","downloadUseFormatting","formControlName","downloadUseFormatting",1,"form-check-input"],["for","downloadUseFormatting",1,"form-check-label"],["type","button","class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[1,"d-flex","align-items-center","gap-2"],["title",he,"icon","tag-fill","filterPlaceholder",be,"shortcutKey","t",3,"items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],["title",we,"icon","person-fill","filterPlaceholder",Fe,"shortcutKey","y",3,"items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",Ae,"icon","file-earmark-fill","filterPlaceholder",Qe,"shortcutKey","u",3,"items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",pt,"icon","folder-fill","filterPlaceholder",gt,"shortcutKey","i",3,"items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",Mt,"icon","ui-radios","filterPlaceholder",Pt,3,"items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],["title",he,"icon","tag-fill","filterPlaceholder",be,"shortcutKey","t",3,"opened","selectionModelChange","apply","items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],["title",we,"icon","person-fill","filterPlaceholder",Fe,"shortcutKey","y",3,"opened","selectionModelChange","apply","items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",Ae,"icon","file-earmark-fill","filterPlaceholder",Qe,"shortcutKey","u",3,"opened","selectionModelChange","apply","items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",pt,"icon","folder-fill","filterPlaceholder",gt,"shortcutKey","i",3,"opened","selectionModelChange","apply","items","disabled","editing","applyOnClose","createRef","selectionModel","documentCounts"],["title",Mt,"icon","ui-radios","filterPlaceholder",Pt,3,"opened","selectionModelChange","apply","items","disabled","editing","manyToOne","applyOnClose","createRef","selectionModel","documentCounts"],[1,"visually-hidden"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"]]},template:function(n,o){1&n&&(c(0,"div",16)(1,"div",17)(2,"button",18),F("click",function(){return o.list.selectNone()}),k(3,"i-bs",19),j(4,"\xa0"),ke(5),R(6,0),ze(),h()(),c(7,"div",20)(8,"label",21),R(9,1),h(),c(10,"div",22)(11,"button",23),F("click",function(){return o.list.selectPage()}),k(12,"i-bs",24),j(13,"\xa0"),ke(14),R(15,2),ze(),h(),c(16,"button",23),F("click",function(){return o.list.selectAll()}),k(17,"i-bs",25),j(18,"\xa0"),ke(19),R(20,3),ze(),h()()(),q(21,lJe,8,5,"div",26),c(22,"div",27)(23,"div",28)(24,"button",29),F("click",function(){return o.setPermissions()}),k(25,"i-bs",30),c(26,"div",31),j(27,"\xa0"),ke(28),R(29,4),ze(),h()(),c(30,"div",32)(31,"button",33),k(32,"i-bs",34),c(33,"div",31),j(34,"\xa0"),ke(35),R(36,5),ze(),h()(),c(37,"div",35)(38,"button",36),F("click",function(){return o.reprocessSelected()}),k(39,"i-bs",37),j(40,"\xa0"),ke(41),R(42,6),ze(),h(),c(43,"button",36),F("click",function(){return o.rotateSelected()}),k(44,"i-bs",38),j(45,"\xa0"),ke(46),R(47,7),ze(),h(),c(48,"button",36),F("click",function(){return o.mergeSelected()}),k(49,"i-bs",39),j(50,"\xa0"),ke(51),R(52,8),ze(),h()()()(),c(53,"div",40)(54,"button",41),F("click",function(){return o.downloadSelected()}),q(55,cJe,1,0,"i-bs",42)(56,dJe,3,0,"div",43),c(57,"div",31),j(58,"\xa0"),ke(59),R(60,9),ze(),h()(),c(61,"div",44),k(62,"button",45),c(63,"div",35)(64,"form",46)(65,"p",47),R(66,10),h(),c(67,"div",48)(68,"div",49),k(69,"input",50),c(70,"label",51),R(71,11),h()(),c(72,"div",49),k(73,"input",52),c(74,"label",53),R(75,12),h()()(),c(76,"div",49),k(77,"input",54),c(78,"label",55),R(79,13),h()()()()()(),c(80,"div",40),q(81,hJe,5,1,"button",56),h()()()),2&n&&(d(21),w("pngxIfPermissions",rt(10,fF,o.PermissionAction.Change,o.PermissionType.Document)),d(3),w("disabled",!o.userOwnsAll||!o.userCanEditAll),d(14),w("disabled",!o.userCanEditAll),d(5),w("disabled",!o.userOwnsAll),d(5),w("disabled",!o.userCanEditAll||o.list.selected.size<2),d(6),w("disabled",o.awaitingDownload),d(),J(o.awaitingDownload?-1:55),d(),J(o.awaitingDownload?56:-1),d(8),w("formGroup",o.downloadForm),d(17),w("pngxIfPermissions",rt(13,fF,o.PermissionAction.Delete,o.PermissionType.Document)))},dependencies:[Go,ys,is,wr,j1,ro,ts,Yt,Wi,Bi,Xi,Wt,uF,Zo],styles:[".dropdown-toggle-split[_ngcontent-%COMP%]{--bs-border-radius: .25rem}.dropdown-menu[_ngcontent-%COMP%]{--bs-dropdown-min-width: 12rem}"]})}return e})();const _Je=["filterEditor"],pJe=(e,i)=>i.id,_9=(e,i)=>({action:e,type:i});function gJe(e,i){if(1&e){const t=pe();c(0,"div",41)(1,"input",70),F("change",function(){const o=H(t).$implicit;return $(_().toggleDisplayField(o.id))}),h(),c(2,"label",71),j(3),h()()}if(2&e){const t=i.$implicit,n=_();d(),ln("id","displayField",t.id,""),w("checked",n.activeDisplayFields.includes(t.id)),d(),ln("for","displayField",t.id,""),d(),Pe(t.name)}}function fJe(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){const o=H(t).$implicit;return $(_().list.sortField=o.field)}),j(1),h()}if(2&e){const t=i.$implicit;Ye("active",_().list.sortField===t.field),d(),nt("",t.name," ")}}function mJe(e,i){1&e&&(c(0,"div",74)(1,"span",78),j(2,"selected"),h()())}function vJe(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){const o=H(t).$implicit;return $(_(3).loadViewConfig(o.id))}),j(1),h()}if(2&e){const t=i.$implicit;d(),Pe(t.name)}}function CJe(e,i){1&e&&k(0,"div",80)}function wJe(e,i){if(1&e&&(ut(0,vJe,2,1,"button",79,Ft),q(2,CJe,1,0,"div",80)),2&e){const t=_(2);_t(t.savedViewService.allViews),d(2),J(t.savedViewService.allViews.length>0?2:-1)}}function MJe(e,i){if(1&e){const t=pe();c(0,"button",82),F("click",function(){return H(t),$(_(3).saveViewConfig())}),R(1,9),h()}if(2&e){const t=_(3);w("disabled",!t.savedViewIsModified),d(),An(t.list.activeSavedViewTitle),Dn(1)}}function bJe(e,i){if(1&e&&(c(0,"div"),q(1,MJe,2,2,"button",81),h()),2&e){const t=_(2);d(),J(t.list.activeSavedViewId?1:-1)}}function TJe(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){return H(t),$(_(2).saveViewConfigAs())}),R(1,10),h()}}function SJe(e,i){if(1&e&&(c(0,"div",72)(1,"button",73),ke(2),R(3,8),ze(),q(4,mJe,3,0,"div",74),h(),c(5,"div",75),q(6,wJe,3,1)(7,bJe,2,1,"div",76)(8,TJe,2,0,"button",77),h()()),2&e){const t=_();d(4),J(t.savedViewIsModified?4:-1),d(2),J(t.list.activeSavedViewId?-1:6),d(),w("pngxIfPermissions",rt(4,_9,t.PermissionAction.Change,t.PermissionType.SavedView)),d(),w("pngxIfPermissions",rt(7,_9,t.PermissionAction.Add,t.PermissionType.SavedView))}}function EJe(e,i){1&e&&(k(0,"div",87),ke(1),R(2,11),ze())}function AJe(e,i){if(1&e&&(c(0,"span"),R(1,12),h()),2&e){const t=_(2);d(),An(t.list.collectionSize)(t.list.selected.size)(t.list.collectionSize||0),Dn(1)}}function OJe(e,i){if(1&e&&(c(0,"span"),R(1,13),h()),2&e){const t=_(3);d(),An(t.list.collectionSize)(t.list.collectionSize||0),Dn(1)}}function yJe(e,i){1&e&&(j(0," \xa0"),c(1,"span"),R(2,14),h())}function DJe(e,i){if(1&e&&q(0,OJe,2,2,"span")(1,yJe,3,0,"span"),2&e){const t=_(2);J(0===t.list.selected.size?0:-1),d(),J(t.isFiltered?1:-1)}}function NJe(e,i){if(1&e){const t=pe();c(0,"button",88),F("click",function(){return H(t),$(_(2).resetFilters())}),k(1,"i-bs",89),c(2,"small"),R(3,15),h()()}}function PJe(e,i){if(1&e){const t=pe();c(0,"ngb-pagination",90),Tt("pageChange",function(o){H(t);const s=_(2);return mt(s.list.currentPage,o)||(s.list.currentPage=o),$(o)}),h()}if(2&e){const t=_(2);w("pageSize",t.list.pageSize)("collectionSize",t.list.collectionSize),bt("page",t.list.currentPage),w("maxSize",5)("rotate",!0)}}function IJe(e,i){if(1&e&&(c(0,"div",83)(1,"div",84),q(2,EJe,3,0)(3,AJe,2,3,"span")(4,DJe,2,2)(5,NJe,4,0,"button",85),h(),q(6,PJe,1,5,"ngb-pagination",86),h()),2&e){const t=_();d(2),J(t.list.isReloading?2:-1),d(),J(t.list.selected.size>0?3:-1),d(),J(t.list.isReloading?-1:4),d(),J(!t.list.isReloading&&t.isFiltered?5:-1),d(),J(t.list.collectionSize?6:-1)}}function LJe(e,i){1&e&&ri(0)}function xJe(e,i){if(1&e&&(c(0,"div",69),ke(1),R(2,16),ze(),j(3),h()),2&e){const t=_();d(3),nt(": ",t.list.error,"")}}function RJe(e,i){if(1&e){const t=pe();c(0,"pngx-document-card-large",95),F("toggleSelected",function(o){const s=H(t).$implicit;return $(_(3).toggleSelected(s,o))})("dblClickDocument",function(){const o=H(t).$implicit;return $(_(3).openDocumentDetail(o))})("clickTag",function(o){return H(t),$(_(3).clickTag(o))})("clickCorrespondent",function(o){return H(t),$(_(3).clickCorrespondent(o))})("clickDocumentType",function(o){return H(t),$(_(3).clickDocumentType(o))})("clickStoragePath",function(o){return H(t),$(_(3).clickStoragePath(o))})("clickMoreLike",function(){const o=H(t).$implicit;return $(_(3).clickMoreLike(o.id))}),h()}if(2&e){const t=i.$implicit,n=_(3);w("selected",n.list.isSelected(t))("document",t)("displayFields",n.activeDisplayFields)}}function FJe(e,i){if(1&e&&(c(0,"div"),ut(1,RJe,1,3,"pngx-document-card-large",94,$c().trackByDocumentId,!0),h()),2&e){const t=_(2);d(),_t(t.list.documents)}}function kJe(e,i){if(1&e){const t=pe();c(0,"th",107),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,17),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function zJe(e,i){if(1&e){const t=pe();c(0,"th",108),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,18),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function VJe(e,i){if(1&e){const t=pe();c(0,"th",109),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,19),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function HJe(e,i){1&e&&(c(0,"th"),R(1,20),h())}function $Je(e,i){if(1&e){const t=pe();c(0,"th",110),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,21),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function BJe(e,i){if(1&e){const t=pe();c(0,"th",111),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,22),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function GJe(e,i){if(1&e){const t=pe();c(0,"th",112),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,23),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function UJe(e,i){if(1&e){const t=pe();c(0,"th",113),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,24),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function ZJe(e,i){if(1&e){const t=pe();c(0,"th",114),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,25),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function jJe(e,i){if(1&e){const t=pe();c(0,"th",115),F("sort",function(o){return H(t),$(_(3).onSort(o))}),R(1,26),h()}if(2&e){const t=_(3);w("currentSortField",t.list.sortField)("currentSortReverse",t.list.sortReverse)}}function WJe(e,i){1&e&&(c(0,"th"),R(1,27),h())}function XJe(e,i){if(1&e&&(c(0,"th"),j(1),h()),2&e){const t=i.$implicit,n=_(3);d(),nt(" ",n.getDisplayCustomFieldTitle(t)," ")}}function KJe(e,i){if(1&e&&(c(0,"td",119),j(1),h()),2&e){const t=_().$implicit;d(),nt(" ",t.archive_serial_number," ")}}function qJe(e,i){if(1&e){const t=pe();c(0,"a",122),F("click",function(o){H(t);const s=_(2).$implicit;return _(3).clickCorrespondent(s.correspondent),$(o.stopPropagation())}),j(1),ot(2,"async"),h()}if(2&e){let t;const n=_(2).$implicit;d(),Pe(null==(t=Et(2,1,n.correspondent$))?null:t.name)}}function YJe(e,i){if(1&e&&(c(0,"td",119),q(1,qJe,3,3,"a",121),h()),2&e){const t=_().$implicit;d(),J(t.correspondent?1:-1)}}function JJe(e,i){if(1&e&&(c(0,"a",123),j(1),ot(2,"documentTitle"),h()),2&e){const t=_(2).$implicit;ln("routerLink","/documents/",t.id,""),d(),Pe(Et(2,3,t.title))}}function QJe(e,i){if(1&e){const t=pe();c(0,"pngx-tag",125),F("click",function(o){const s=H(t).$implicit;return _(6).clickTag(s.id),$(o.stopPropagation())}),h()}2&e&&w("tag",i.$implicit)}function eQe(e,i){1&e&&(ut(0,QJe,1,1,"pngx-tag",124,Ft),ot(2,"async")),2&e&&_t(Et(2,0,_(2).$implicit.tags$))}function tQe(e,i){if(1&e&&(c(0,"td",120),q(1,JJe,3,5,"a",123)(2,eQe,3,2),h()),2&e){const t=_(4);d(),J(t.activeDisplayFields.includes(t.DisplayField.TITLE)?1:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.TAGS)?2:-1)}}function nQe(e,i){if(1&e&&(c(0,"td"),j(1),ot(2,"username"),h()),2&e){const t=_().$implicit;d(),nt(" ",Et(2,1,t.owner)," ")}}function iQe(e,i){if(1&e&&(c(0,"a",126)(1,"span",127),k(2,"i-bs",128),j(3),h()()),2&e){const t=_(2).$implicit;ln("routerLink","/documents/",t.id,"/notes"),d(3),nt(" ",t.notes.length,"")}}function oQe(e,i){if(1&e&&(c(0,"td",119),q(1,iQe,4,3,"a",126),h()),2&e){const t=_().$implicit;d(),J(t.notes.length?1:-1)}}function sQe(e,i){if(1&e){const t=pe();c(0,"a",130),F("click",function(o){H(t);const s=_(2).$implicit;return _(3).clickDocumentType(s.document_type),$(o.stopPropagation())}),j(1),ot(2,"async"),h()}if(2&e){let t;const n=_(2).$implicit;d(),Pe(null==(t=Et(2,1,n.document_type$))?null:t.name)}}function rQe(e,i){if(1&e&&(c(0,"td",119),q(1,sQe,3,3,"a",129),h()),2&e){const t=_().$implicit;d(),J(t.document_type?1:-1)}}function aQe(e,i){if(1&e){const t=pe();c(0,"a",132),F("click",function(o){H(t);const s=_(2).$implicit;return _(3).clickStoragePath(s.storage_path),$(o.stopPropagation())}),j(1),ot(2,"async"),h()}if(2&e){let t;const n=_(2).$implicit;d(),Pe(null==(t=Et(2,1,n.storage_path$))?null:t.name)}}function lQe(e,i){if(1&e&&(c(0,"td",119),q(1,aQe,3,3,"a",131),h()),2&e){const t=_().$implicit;d(),J(t.storage_path?1:-1)}}function cQe(e,i){if(1&e&&(c(0,"td"),j(1),ot(2,"customDate"),h()),2&e){const t=_().$implicit;d(),nt(" ",Et(2,1,t.created_date)," ")}}function dQe(e,i){if(1&e&&(c(0,"td"),j(1),ot(2,"customDate"),h()),2&e){const t=_().$implicit;d(),nt(" ",Et(2,1,t.added)," ")}}function hQe(e,i){1&e&&(ke(0),R(1,28),ze())}function uQe(e,i){1&e&&(ke(0),R(1,29),ze())}function _Qe(e,i){if(1&e&&(c(0,"td"),q(1,hQe,2,0,"ng-container")(2,uQe,2,0,"ng-container"),h()),2&e){const t=_().$implicit;d(),J(t.is_shared_by_requester?1:2)}}function pQe(e,i){if(1&e&&(c(0,"td",119),k(1,"pngx-custom-field-display",133),h()),2&e){const t=i.$implicit,n=_().$implicit;d(),w("document",n)("fieldDisplayKey",t)}}function gQe(e,i){if(1&e){const t=pe();c(0,"tr",116),F("click",function(o){const s=H(t).$implicit;return _(3).toggleSelected(s,o),$(o.stopPropagation())})("dblclick",function(){const o=H(t).$implicit;return $(_(3).openDocumentDetail(o))}),c(1,"td")(2,"div",117)(3,"input",118),F("click",function(o){const s=H(t).$implicit;return _(3).toggleSelected(s,o),$(o.stopPropagation())}),h(),k(4,"label",71),h()(),q(5,KJe,2,1,"td",119)(6,YJe,2,1,"td",119)(7,tQe,3,2,"td",120)(8,nQe,3,3,"td")(9,oQe,2,1,"td",119)(10,rQe,2,1,"td",119)(11,lQe,2,1,"td",119)(12,cQe,3,3,"td")(13,dQe,3,3,"td")(14,_Qe,3,1,"td"),ut(15,pQe,2,2,"td",119,Ft),h()}if(2&e){const t=i.$implicit,n=_(3);w("ngClass",n.list.isSelected(t)?"table-row-selected":""),d(3),ln("id","docCheck",t.id,""),w("checked",n.list.isSelected(t)),d(),ln("for","docCheck",t.id,""),d(),J(n.activeDisplayFields.includes(n.DisplayField.ASN)?5:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.CORRESPONDENT)&&n.permissionService.currentUserCan(n.PermissionAction.View,n.PermissionType.Correspondent)?6:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.TITLE)||n.activeDisplayFields.includes(n.DisplayField.TAGS)?7:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.OWNER)&&n.permissionService.currentUserCan(n.PermissionAction.View,n.PermissionType.User)?8:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.NOTES)&&n.notesEnabled?9:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.DOCUMENT_TYPE)&&n.permissionService.currentUserCan(n.PermissionAction.View,n.PermissionType.DocumentType)?10:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.STORAGE_PATH)&&n.permissionService.currentUserCan(n.PermissionAction.View,n.PermissionType.StoragePath)?11:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.CREATED)?12:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.ADDED)?13:-1),d(),J(n.activeDisplayFields.includes(n.DisplayField.SHARED)?14:-1),d(),_t(n.activeDisplayCustomFields)}}function fQe(e,i){if(1&e&&(c(0,"div",91)(1,"table",96)(2,"thead"),k(3,"th"),q(4,kJe,2,2,"th",97)(5,zJe,2,2,"th",98)(6,VJe,2,2,"th",99)(7,HJe,2,0,"th")(8,$Je,2,2,"th",100)(9,BJe,2,2,"th",101)(10,GJe,2,2,"th",102)(11,UJe,2,2,"th",103)(12,ZJe,2,2,"th",104)(13,jJe,2,2,"th",105)(14,WJe,2,0,"th"),ut(15,XJe,2,1,"th",null,Ft),h(),c(17,"tbody"),ut(18,gQe,17,16,"tr",106,$c().trackByDocumentId,!0),h()()()),2&e){const t=_(2);d(4),J(t.activeDisplayFields.includes(t.DisplayField.ASN)?4:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.CORRESPONDENT)&&t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.Correspondent)?5:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.TITLE)?6:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.TAGS)&&!t.activeDisplayFields.includes(t.DisplayField.TITLE)?7:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.OWNER)&&t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.User)?8:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.NOTES)&&t.notesEnabled?9:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.DOCUMENT_TYPE)&&t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.DocumentType)?10:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.STORAGE_PATH)&&t.permissionService.currentUserCan(t.PermissionAction.View,t.PermissionType.StoragePath)?11:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.CREATED)?12:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.ADDED)?13:-1),d(),J(t.activeDisplayFields.includes(t.DisplayField.SHARED)?14:-1),d(),_t(t.activeDisplayCustomFields),d(3),_t(t.list.documents)}}function mQe(e,i){if(1&e){const t=pe();c(0,"pngx-document-card-small",135),F("toggleSelected",function(o){const s=H(t).$implicit;return $(_(3).toggleSelected(s,o))})("dblClickDocument",function(){const o=H(t).$implicit;return $(_(3).openDocumentDetail(o))})("clickTag",function(o){return H(t),$(_(3).clickTag(o))})("clickCorrespondent",function(o){return H(t),$(_(3).clickCorrespondent(o))})("clickStoragePath",function(o){return H(t),$(_(3).clickStoragePath(o))})("clickDocumentType",function(o){return H(t),$(_(3).clickDocumentType(o))}),h()}if(2&e){const t=i.$implicit,n=_(3);w("selected",n.list.isSelected(t))("document",t)("displayFields",n.activeDisplayFields)}}function vQe(e,i){if(1&e&&(c(0,"div",92),ut(1,mQe,1,3,"pngx-document-card-small",134,$c().trackByDocumentId,!0),h()),2&e){const t=_(2);d(),_t(t.list.documents)}}function CQe(e,i){1&e&&ri(0)}function wQe(e,i){if(1&e&&(c(0,"div",93),q(1,CQe,1,0,"ng-container",68),h()),2&e){_(2);const t=vt(56);d(),w("ngTemplateOutlet",t)}}function MQe(e,i){if(1&e&&q(0,FJe,3,0,"div")(1,fQe,20,11,"div",91)(2,vQe,3,0,"div",92)(3,wQe,2,1,"div",93),2&e){const t=_();J(t.list.displayMode===t.DisplayMode.LARGE_CARDS?0:-1),d(),J(t.list.displayMode===t.DisplayMode.TABLE?1:-1),d(),J(t.list.displayMode===t.DisplayMode.SMALL_CARDS?2:-1),d(),J((null==t.list.documents?null:t.list.documents.length)>15?3:-1)}}let p9=(()=>{class e extends Uo{constructor(t,n,o,s,r,a,l,u,p,v,L){super(),this.list=t,this.savedViewService=n,this.route=o,this.router=s,this.toastService=r,this.modalService=a,this.consumerStatusService=l,this.openDocumentsService=u,this.settingsService=p,this.hotKeyService=v,this.permissionService=L,this.DisplayField=Jn,this.DisplayMode=N5,this.activeDisplayCustomFields=new Set,this.unmodifiedFilterRules=[],this.unsubscribeNotifier=new et}get activeDisplayFields(){return this.list.displayFields}set activeDisplayFields(t){this.list.displayFields=t,this.updateDisplayCustomFields()}updateDisplayCustomFields(){this.activeDisplayCustomFields=new Set(Array.from(this.activeDisplayFields).filter(t=>"string"==typeof t&&t.startsWith(Jn.CUSTOM_FIELD)))}get savedViewIsModified(){return!(!this.list.activeSavedViewId||!this.unmodifiedSavedView)&&(this.unmodifiedSavedView.sort_field!==this.list.sortField||this.unmodifiedSavedView.sort_reverse!==this.list.sortReverse||this.unmodifiedSavedView.page_size&&this.unmodifiedSavedView.page_size!==this.list.pageSize||this.unmodifiedSavedView.display_mode&&this.unmodifiedSavedView.display_mode!==this.list.displayMode||!this.unmodifiedSavedView.display_mode&&this.list.displayMode!==N5.SMALL_CARDS||this.unmodifiedSavedView.display_fields&&this.unmodifiedSavedView.display_fields.join(",")!==this.activeDisplayFields.join(",")||b3(this.unmodifiedSavedView.filter_rules,this.list.filterRules))}get isFiltered(){return!!this.filterEditor?.rulesModified}getTitle(){let t=this.list.activeSavedViewTitle;return t&&this.savedViewIsModified?t+="*":t||(t="Documenti"),t}getSortFields(){return Yx(this.list.filterRules)?this.list.sortFieldsFullText:this.list.sortFields}set listSortReverse(t){this.list.sortReverse=t}get listSortReverse(){return this.list.sortReverse}onSort(t){this.list.setSort(t.column,t.reverse)}get isBulkEditing(){return this.list.selected.size>0}toggleDisplayField(t){this.activeDisplayFields=this.activeDisplayFields.includes(t)?this.activeDisplayFields.filter(n=>n!==t):[...this.activeDisplayFields,t],this.updateDisplayCustomFields()}getDisplayCustomFieldTitle(t){return this.settingsService.allDisplayFields.find(n=>n.id===t)?.name}ngOnInit(){this.consumerStatusService.onDocumentConsumptionFinished().pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.list.reload()}),this.route.paramMap.pipe($n(t=>t.has("id")),zn(t=>this.savedViewService.getCached(+t.get("id")).pipe(At(n=>({view:n}))))).pipe(je(this.unsubscribeNotifier)).subscribe(({view:t})=>{t?(this.unmodifiedSavedView=t,this.list.activateSavedViewWithQueryParams(t,Q0(this.route.snapshot.queryParams)),this.list.reload(),this.updateDisplayCustomFields(),this.unmodifiedFilterRules=t.filter_rules):this.router.navigate(["404"],{replaceUrl:!0})}),this.route.queryParamMap.pipe($n(()=>!this.route.snapshot.paramMap.has("id")),je(this.unsubscribeNotifier)).subscribe(t=>{this.updateDisplayCustomFields(),t.has("view")?this.loadViewConfig(parseInt(t.get("view"))):(this.list.activateSavedView(null),this.list.loadFromQueryParams(t),this.unmodifiedFilterRules=[])}),this.hotKeyService.addShortcut({keys:"escape",description:"Ripristina filtri / selezione"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.list.selected.size>0?this.list.selectNone():this.isFiltered&&this.filterEditor.resetSelected()}),this.hotKeyService.addShortcut({keys:"a",description:"Seleziona tutti"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.list.selectAll()}),this.hotKeyService.addShortcut({keys:"p",description:"Seleziona pagina"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.list.selectPage()}),this.hotKeyService.addShortcut({keys:"o",description:"Apri il primo documento [selezionato]"}).pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.list.documents.length>0&&this.openDocumentDetail(this.list.selected.size>0?Array.from(this.list.selected)[0]:this.list.documents[0])})}ngOnDestroy(){this.list.cancelPending(),this.unsubscribeNotifier.next(this),this.unsubscribeNotifier.complete()}saveViewConfig(){null!=this.list.activeSavedViewId&&this.savedViewService.patch({id:this.list.activeSavedViewId,filter_rules:this.list.filterRules,sort_field:this.list.sortField,sort_reverse:this.list.sortReverse,display_mode:this.list.displayMode,display_fields:this.activeDisplayFields}).pipe(wt()).subscribe(n=>{this.unmodifiedSavedView=n,this.toastService.showInfo("La vista \"" + this.list.activeSavedViewTitle + "\" \xE8 stata salvata."),this.unmodifiedFilterRules=this.list.filterRules})}loadViewConfig(t){this.savedViewService.getCached(t).pipe(wt()).subscribe(n=>{this.unmodifiedSavedView=n,this.list.activateSavedView(n),this.list.reload()})}saveViewConfigAs(){let t=this.modalService.open(PKe,{backdrop:"static"});t.componentInstance.defaultName=this.filterEditor.generateFilterName(),t.componentInstance.saveClicked.pipe(wt()).subscribe(n=>{t.componentInstance.buttonsEnabled=!1;let o={name:n.name,show_on_dashboard:n.showOnDashboard,show_in_sidebar:n.showInSideBar,filter_rules:this.list.filterRules,sort_reverse:this.list.sortReverse,sort_field:this.list.sortField,display_mode:this.list.displayMode,display_fields:this.activeDisplayFields};this.savedViewService.create(o).pipe(wt()).subscribe({next:()=>{t.close(),this.toastService.showInfo("La vista \"" + o.name + "\" \xE8 stata creata.")},error:s=>{let r=s.error;r.filter_rules&&(r.filter_rules=r.filter_rules.map(a=>a.value)),t.componentInstance.error=r,t.componentInstance.buttonsEnabled=!0}})})}openDocumentDetail(t){this.router.navigate(["documents","number"==typeof t?t:t.id])}toggleSelected(t,n){n.shiftKey?this.list.selectRangeTo(t):this.list.toggleSelected(t)}clickTag(t){this.list.selectNone(),this.filterEditor.toggleTag(t)}clickCorrespondent(t){this.list.selectNone(),this.filterEditor.toggleCorrespondent(t)}clickDocumentType(t){this.list.selectNone(),this.filterEditor.toggleDocumentType(t)}clickStoragePath(t){this.list.selectNone(),this.filterEditor.toggleStoragePath(t)}clickMoreLike(t){this.list.quickFilter([{rule_type:21,value:t.toString()}])}trackByDocumentId(t,n){return n.id}get notesEnabled(){return this.settingsService.get(Ue.NOTES_ENABLED)}resetFilters(){this.filterEditor.resetSelected()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(ya),Y(Qv),Y(_1),Y(so),Y(ki),Y(Ki),Y(o9),Y(M3),Y(Tn),Y(Yh),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-list"]],viewQuery:function(n,o){if(1&n&&(cn(_Je,5),cn(Pl,5)),2&n){let s;Ot(s=yt())&&(o.filterEditor=s.first),Ot(s=yt())&&(o.headers=s)}},features:[Ct],decls:61,vars:21,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo;return t="Seleziona",n="Seleziona nessuno",o="Seleziona pagina",s="Seleziona tutti",r="Mostra",a="Ordina",l="Viste",u="Salva \"" + "\ufffd0\ufffd" + "\"",p="Salva come...",v="Caricamento in corso...",L="{VAR_PLURAL, plural, =1 {Selezionato {INTERPOLATION} di un documento} other {Selezionati {INTERPOLATION} di {INTERPOLATION_1} documenti}}",L=Xa(L,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),z="{VAR_PLURAL, plural, =1 {Un documento} other {{INTERPOLATION} documenti}}",z=Xa(z,{INTERPOLATION:"\ufffd1\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),ie="(filtrato)",se="Ripristina filtri",he="Errore durante il caricamento dei documenti",be="Ordina per ASN",we="Ordina per corrispondente",Fe="Ordina per titolo",Ae="Ordina per proprietario",Qe="Ordina per note",pt="Ordina per tipo di documento",gt="Ordina per percorso di archiviazione",Mt="Filtra per data di creazione",Pt="Ordina per data di aggiunta",xt="ASN",En="Corrispondente",Ut="Titolo",Hn="Etichette",Ni="Proprietario",en="Note",ci="Tipo di documento",Si="Percorso archiviazione",Ro="Creato",qi="Aggiunto",Fo=" Condiviso ",ko="Filtra per corrispondente",Mo="Modifica documento",bo="Filtra per tag",Yi="Filtra per tipo di documento",Vi="Filtra per percorso di archiviazione",To="S\xEC",zo="No",[["filterEditor",""],["pagination",""],t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,To,zo,[3,"title"],["ngbDropdown","",1,"d-flex"],["id","dropdownSelect","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","text-indent-left"],[1,"d-none","d-sm-inline"],["ngbDropdownMenu","","aria-labelledby","dropdownSelect",1,"shadow"],["ngbDropdownItem","",3,"click"],["id","dropdownDisplayFields","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary"],["name","card-heading"],["ngbDropdownMenu","","aria-labelledby","dropdownDisplayFields",1,"shadow"],[1,"px-3"],[1,"form-check","my-1"],["role","group",1,"btn-group","flex-fill"],["type","radio","value","table","id","displayModeDetails","name","displayModeDetails",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeDetails",1,"btn","btn-outline-primary","btn-sm"],["name","list-ul"],["type","radio","value","smallCards","id","displayModeSmall","name","displayModeSmall",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeSmall",1,"btn","btn-outline-primary","btn-sm"],["name","grid"],["type","radio","value","largeCards","id","displayModeLarge","name","displayModeLarge",1,"btn-check",3,"ngModelChange","ngModel"],["for","displayModeLarge",1,"btn","btn-outline-primary","btn-sm"],["name","hdd-stack"],["ngbDropdown","",1,"btn-group","flex-fill"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-sm"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1",1,"shadow","dropdown-menu-right"],[1,"w-100","d-flex","pb-2","mb-1","border-bottom"],["type","radio","id","listSortReverseFalse",1,"btn-check",3,"ngModelChange","value","ngModel"],["for","listSortReverseFalse",1,"btn","btn-outline-primary","btn-sm","mx-2","flex-fill"],["name","sort-alpha-down"],["type","radio","id","listSortReverseTrue",1,"btn-check",3,"ngModelChange","value","ngModel"],["for","listSortReverseTrue",1,"btn","btn-outline-primary","btn-sm","me-2","flex-fill"],["name","sort-alpha-up-alt"],["ngbDropdownItem","",3,"active"],["class","btn-group flex-fill","ngbDropdown","","role","group",4,"pngxIfPermissions"],[1,"row","sticky-top","py-3","mt-n2","mt-md-n3","bg-body"],[3,"filterRulesChange","hidden","disabled","filterRules","unmodifiedFilterRules","selectionData"],[3,"hidden","disabled"],["tourAnchor","tour.documents"],[4,"ngTemplateOutlet"],["role","alert",1,"alert","alert-danger"],["type","checkbox",1,"form-check-input","mt-1",3,"change","id","checked"],[1,"form-check-label",3,"for"],["ngbDropdown","","role","group",1,"btn-group","flex-fill"],["tourAnchor","tour.documents-views","ngbDropdownToggle","",1,"btn","btn-sm","btn-outline-primary","dropdown-toggle","flex-fill"],[1,"position-absolute","top-0","start-100","p-2","translate-middle","badge","bg-secondary","border","border-light","rounded-circle"],["ngbDropdownMenu","",1,"dropdown-menu","shadow","dropdown-menu-right"],[4,"pngxIfPermissions"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],[1,"visually-hidden"],["ngbDropdownItem",""],[1,"dropdown-divider"],["ngbDropdownItem","",3,"disabled"],["ngbDropdownItem","",3,"click","disabled"],[1,"d-flex","flex-wrap","gap-3","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center"],[1,"btn","btn-link","py-0"],["aria-label","Default pagination","size","sm",3,"pageSize","collectionSize","page","maxSize","rotate"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"btn","btn-link","py-0",3,"click"],["width","1em","height","1em","name","x"],["aria-label","Default pagination","size","sm",3,"pageChange","pageSize","collectionSize","page","maxSize","rotate"],[1,"table-responsive"],[1,"row","row-cols-paperless-cards"],[1,"mt-3"],[3,"selected","document","displayFields"],[3,"toggleSelected","dblClickDocument","clickTag","clickCorrespondent","clickDocumentType","clickStoragePath","clickMoreLike","selected","document","displayFields"],[1,"table","table-sm","align-middle","border","shadow-sm"],["pngxSortable","archive_serial_number","title",be,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","correspondent__name","title",we,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","title","title",Fe,1,"cursor-pointer",2,"min-width","150px",3,"currentSortField","currentSortReverse"],["pngxSortable","owner","title",Ae,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","num_notes","title",Qe,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","document_type__name","title",pt,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","storage_path__name","title",gt,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","created","title",Mt,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],["pngxSortable","added","title",Pt,1,"cursor-pointer",3,"currentSortField","currentSortReverse"],[3,"ngClass"],["pngxSortable","archive_serial_number","title",be,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","correspondent__name","title",we,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","title","title",Fe,1,"cursor-pointer",2,"min-width","150px",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","owner","title",Ae,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","num_notes","title",Qe,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","document_type__name","title",pt,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","storage_path__name","title",gt,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","created","title",Mt,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],["pngxSortable","added","title",Pt,1,"cursor-pointer",3,"sort","currentSortField","currentSortReverse"],[3,"click","dblclick","ngClass"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,""],["width","30%"],["title",ko],["title",ko,3,"click"],["title",Mo,2,"overflow-wrap","anywhere",3,"routerLink"],["clickable","true","linkTitle",bo,1,"ms-1",3,"tag"],["clickable","true","linkTitle",bo,1,"ms-1",3,"click","tag"],[1,"btn","btn-sm","p-0",3,"routerLink"],[1,"badge","rounded-pill","bg-light","border","text-primary"],["width","1.2em","height","1.2em","name","chat-left-text",1,"ms-1","me-1"],["title",Yi],["title",Yi,3,"click"],["title",Vi],["title",Vi,3,"click"],[3,"document","fieldDisplayKey"],[1,"p-0",3,"selected","document","displayFields"],[1,"p-0",3,"toggleSelected","dblClickDocument","clickTag","clickCorrespondent","clickStoragePath","clickDocumentType","selected","document","displayFields"]]},template:function(n,o){if(1&n){const s=pe();c(0,"pngx-page-header",30)(1,"div",31)(2,"button",32),k(3,"i-bs",33),c(4,"div",34),j(5,"\xa0"),ke(6),R(7,2),ze(),h()(),c(8,"div",35)(9,"button",36),F("click",function(){return H(s),$(o.list.selectNone())}),R(10,3),h(),c(11,"button",36),F("click",function(){return H(s),$(o.list.selectPage())}),R(12,4),h(),c(13,"button",36),F("click",function(){return H(s),$(o.list.selectAll())}),R(14,5),h()()(),c(15,"div",31)(16,"button",37),k(17,"i-bs",38),c(18,"div",34),j(19,"\xa0"),ke(20),R(21,6),ze(),h()(),c(22,"div",39)(23,"div",40),ut(24,gJe,4,6,"div",41,pJe),h()()(),c(26,"div",42)(27,"input",43),Tt("ngModelChange",function(a){return H(s),mt(o.list.displayMode,a)||(o.list.displayMode=a),$(a)}),h(),c(28,"label",44),k(29,"i-bs",45),h(),c(30,"input",46),Tt("ngModelChange",function(a){return H(s),mt(o.list.displayMode,a)||(o.list.displayMode=a),$(a)}),h(),c(31,"label",47),k(32,"i-bs",48),h(),c(33,"input",49),Tt("ngModelChange",function(a){return H(s),mt(o.list.displayMode,a)||(o.list.displayMode=a),$(a)}),h(),c(34,"label",50),k(35,"i-bs",51),h()(),c(36,"div",52)(37,"button",53),R(38,7),h(),c(39,"div",54)(40,"div",55)(41,"input",56),Tt("ngModelChange",function(a){return H(s),mt(o.listSortReverse,a)||(o.listSortReverse=a),$(a)}),h(),c(42,"label",57),k(43,"i-bs",58),h(),c(44,"input",59),Tt("ngModelChange",function(a){return H(s),mt(o.listSortReverse,a)||(o.listSortReverse=a),$(a)}),h(),c(45,"label",60),k(46,"i-bs",61),h()(),c(47,"div"),ut(48,fJe,2,3,"button",62,Ft),h()()(),q(50,SJe,9,10,"div",63),h(),c(51,"div",64)(52,"pngx-filter-editor",65,0),Tt("filterRulesChange",function(a){return H(s),mt(o.list.filterRules,a)||(o.list.filterRules=a),$(a)}),h(),k(54,"pngx-bulk-editor",66),h(),q(55,IJe,7,5,"ng-template",null,1,on),c(57,"div",67),q(58,LJe,1,0,"ng-container",68),h(),q(59,xJe,4,1,"div",69)(60,MQe,4,4)}if(2&n){const s=vt(56);w("title",o.getTitle()),d(24),_t(o.settingsService.allDisplayFields),d(3),bt("ngModel",o.list.displayMode),d(3),bt("ngModel",o.list.displayMode),d(3),bt("ngModel",o.list.displayMode),d(8),w("value",!1),bt("ngModel",o.listSortReverse),d(3),w("value",!0),bt("ngModel",o.listSortReverse),d(4),_t(o.getSortFields()),d(2),w("pngxIfPermissions",rt(18,_9,o.PermissionAction.View,o.PermissionType.SavedView)),d(2),w("hidden",o.isBulkEditing)("disabled",o.isBulkEditing),bt("filterRules",o.list.filterRules),w("unmodifiedFilterRules",o.unmodifiedFilterRules)("selectionData",o.list.selectionData),d(2),w("hidden",!o.isBulkEditing)("disabled",!o.isBulkEditing),d(4),w("ngTemplateOutlet",s),d(),J(o.list.error?59:60)}},dependencies:[va,es,fr,Go,ys,is,wr,j1,gl,si,sh,Yt,Ln,Al,Wt,eu,Qs,Rqe,OYe,qYe,uJe,Zo,Pl,h9,k1,U5,Ns,j3],styles:["app-document-list app-page-header>div.mb-3{margin-bottom:0!important}tr[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.table-row-selected[_ngcontent-%COMP%]{background-color:var(--pngx-primary-faded)}.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}@media (min-width: 768px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}}@media (min-width: 992px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}}@media (min-width: 1200px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}}@media (min-width: 1400px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}}@media (min-width: 1600px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:14.2857142857%}}@media (min-width: 1800px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:12.5%}}@media (min-width: 2000px){.row-cols-paperless-cards[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:11.1111111111%}}@media (min-width: 768px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:25%!important}}@media (min-width: 992px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:20%!important}}@media (min-width: 1200px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:16.6666666667%!important}}@media (min-width: 1400px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:14.2857142857%!important}}@media (min-width: 1600px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:12.5%!important}}@media (min-width: 1800px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:11.1111111111%!important}}@media (min-width: 2000px){  .col-slim .row-cols-paperless-cards>*{flex:0 0 auto;width:10%!important}}.dropdown-menu-right[_ngcontent-%COMP%]{right:0!important;left:auto!important}.sticky-top[_ngcontent-%COMP%]{z-index:990;top:calc(7rem - 2px)}@media (min-width: 580px){.sticky-top[_ngcontent-%COMP%]{top:3.5rem}}.table[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:.2rem;min-height:0;margin-bottom:0}.table[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-left:0}a[_ngcontent-%COMP%]{cursor:pointer}pngx-page-header[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{--bs-dropdown-min-width: 12em}"]})}return e})(),W3=(()=>{class e extends Uo{constructor(t,n,o,s,r,a,l,u,p,v,L){super(),this.service=t,this.modalService=n,this.editDialogComponent=o,this.toastService=s,this.documentListViewService=r,this.permissionsService=a,this.filterRuleType=l,this.typeName=u,this.typeNamePlural=p,this.permissionType=v,this.extraColumns=L,this.data=[],this.page=1,this.collectionSize=0,this.isLoading=!1,this.unsubscribeNotifier=new et,this.selectedObjects=new Set,this.togggleAll=!1}ngOnInit(){this.reloadData(),this.nameFilterDebounce=new et,this.nameFilterDebounce.pipe(je(this.unsubscribeNotifier),Tr(400),Ma()).subscribe(t=>{this._nameFilter=t,this.page=1,this.reloadData()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}getMatching(t){return 6==t.matching_algorithm?"Automatico":0==t.matching_algorithm?"Niente":t.match&&t.match.length>0?`${Om.find(n=>n.id==t.matching_algorithm).shortName}: ${t.match}`:"-"}onSort(t){this.sortField=t.column,this.sortReverse=t.reverse,this.reloadData()}reloadData(){this.isLoading=!0,this.service.listFiltered(this.page,null,this.sortField,this.sortReverse,this._nameFilter,!0).pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.data=t.results,this.collectionSize=t.count,this.isLoading=!1})}openCreateDialog(){var t=this.modalService.open(this.editDialogComponent,{backdrop:"static"});t.componentInstance.dialogMode=Vn.CREATE,t.componentInstance.succeeded.subscribe(()=>{this.reloadData(),this.toastService.showInfo("" + this.typeName + " \xE8 stato creato con successo.")}),t.componentInstance.failed.subscribe(n=>{this.toastService.showError("Errore durante la creazione di " + this.typeName + ".",n)})}openEditDialog(t){var n=this.modalService.open(this.editDialogComponent,{backdrop:"static"});n.componentInstance.object=t,n.componentInstance.dialogMode=Vn.EDIT,n.componentInstance.succeeded.subscribe(()=>{this.reloadData(),this.toastService.showInfo("" + this.typeName + " \xE8 stato aggiornato con successo.")}),n.componentInstance.failed.subscribe(o=>{this.toastService.showError("Errore durante e il salvataggio di " + this.typeName + ".",o)})}filterDocuments(t){this.documentListViewService.quickFilter([{rule_type:this.filterRuleType,value:t.id.toString()}])}openDeleteDialog(t){var n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma eliminazione",n.componentInstance.messageBold=this.getDeleteMessage(t),n.componentInstance.message="I documenti associati non verranno eliminati.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Elimina",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.service.delete(t).pipe(je(this.unsubscribeNotifier)).subscribe({next:()=>{n.close(),this.reloadData()},error:o=>{n.componentInstance.buttonsEnabled=!0,this.toastService.showError("Errore durante l'eliminazione dell'elemento",o)}})})}get nameFilter(){return this._nameFilter}set nameFilter(t){this.nameFilterDebounce.next(t)}onNameFilterKeyUp(t){"Escape"==t.code&&this.nameFilterDebounce.next(null)}userCanDelete(t){return this.permissionsService.currentUserOwnsObject(t)}userCanEdit(t){return this.permissionsService.currentUserHasObjectPermissions(this.PermissionAction.Change,t)}userCanBulkEdit(t){if(!this.permissionsService.currentUserCan(t,this.permissionType))return!1;let n=!0;return n=this.data.filter(s=>this.selectedObjects.has(s.id)).every(s=>this.permissionsService.currentUserOwnsObject(s)),n}toggleAll(t){t.target.checked?this.selectedObjects=new Set(this.data.map(n=>n.id)):this.clearSelection()}clearSelection(){this.togggleAll=!1,this.selectedObjects.clear()}toggleSelected(t){this.selectedObjects.has(t.id)?this.selectedObjects.delete(t.id):this.selectedObjects.add(t.id)}setPermissions(){let t=this.modalService.open(u9,{backdrop:"static"});t.componentInstance.confirmClicked.subscribe(({permissions:n,merge:o})=>{t.componentInstance.buttonsEnabled=!1,this.service.bulk_edit_objects(Array.from(this.selectedObjects),Wg.SetPermissions,n,o).subscribe({next:()=>{t.close(),this.toastService.showInfo("Permessi aggiornati"),this.reloadData()},error:s=>{t.componentInstance.buttonsEnabled=!0,this.toastService.showError("Errore durante l'aggiornamento dei permnessi",s)}})})}delete(){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Conferma eliminazione",t.componentInstance.messageBold="Questa operazione eliminer\xE0 permanentemente tutti gli oggetti.",t.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",t.componentInstance.btnClass="btn-danger",t.componentInstance.btnCaption="Continua",t.componentInstance.confirmClicked.subscribe(()=>{t.componentInstance.buttonsEnabled=!1,this.service.bulk_edit_objects(Array.from(this.selectedObjects),Wg.Delete).subscribe({next:()=>{t.close(),this.toastService.showInfo("Oggetti eliminati con successo"),this.reloadData()},error:n=>{t.componentInstance.buttonsEnabled=!0,this.toastService.showError("Errore nell'eliminazione degli oggetti",n)}})})}static#e=this.\u0275fac=function(n){z6()};static#t=this.\u0275dir=st({type:e,viewQuery:function(n,o){if(1&n&&cn(Pl,5),2&n){let s;Ot(s=yt())&&(o.headers=s)}},features:[Ct]})}return e})();const Il=(e,i)=>({action:e,type:i});function bQe(e,i){if(1&e){const t=pe();c(0,"button",43),F("click",function(){return H(t),$(_().openCreateDialog())}),k(1,"i-bs",44),j(2,"\xa0"),ke(3),R(4,8),ze(),h()}}function TQe(e,i){if(1&e){const t=pe();c(0,"th",45),F("sort",function(o){return H(t),$(_().onSort(o))}),j(1),h()}if(2&e){const t=i.$implicit,n=_();ui("pngxSortable",t.key),w("currentSortField",n.sortField)("currentSortReverse",n.sortReverse),d(),Pe(t.name)}}function SQe(e,i){1&e&&(c(0,"tr")(1,"td",46),k(2,"div",47),ke(3),R(4,9),ze(),h()())}function EQe(e,i){if(1&e&&(k(0,"div",65),ot(1,"safeHtml")),2&e){const t=_().$implicit,n=_().$implicit;w("innerHtml",Et(1,1,t.valueFn.call(null,n)),Qi)}}function AQe(e,i){if(1&e&&j(0),2&e){const t=_().$implicit,n=_().$implicit;nt(" ",t.valueFn.call(null,n)," ")}}function OQe(e,i){if(1&e&&(c(0,"td",51),q(1,EQe,2,3,"div",65)(2,AQe,1,1),h()),2&e){const t=i.$implicit;d(),J(t.rendersHtml?1:2)}}function yQe(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().filterDocuments(o))}),R(1,10),h()}}function DQe(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().openEditDialog(o))}),R(1,11),h()}}function NQe(e,i){if(1&e){const t=pe();c(0,"button",67),F("click",function(){H(t);const o=_().$implicit;return $(_().openDeleteDialog(o))}),R(1,12),h()}}function PQe(e,i){if(1&e){const t=pe();c(0,"button",68),F("click",function(o){H(t);const s=_().$implicit;return _().filterDocuments(s),$(o.stopPropagation())}),k(1,"i-bs",69),j(2,"\xa0"),ke(3),R(4,13),ze(),h()}}function IQe(e,i){if(1&e){const t=pe();c(0,"button",70),F("click",function(o){H(t);const s=_().$implicit;return _().openEditDialog(s),$(o.stopPropagation())}),k(1,"i-bs",71),j(2,"\xa0"),ke(3),R(4,14),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanEdit(t))}}function LQe(e,i){if(1&e){const t=pe();c(0,"button",72),F("click",function(o){H(t);const s=_().$implicit;return _().openDeleteDialog(s),$(o.stopPropagation())}),k(1,"i-bs",73),j(2,"\xa0"),ke(3),R(4,15),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanDelete(t))}}function xQe(e,i){if(1&e){const t=pe();c(0,"tr",48),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),c(1,"td")(2,"div",34)(3,"input",49),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),h(),k(4,"label",50),h()(),c(5,"td",51)(6,"button",52),F("click",function(o){const s=H(t).$implicit,r=_();return r.userCanEdit(s)&&r.openEditDialog(s),$(o.stopPropagation())}),j(7),h()(),c(8,"td",53),j(9),h(),c(10,"td",51),j(11),h(),ut(12,OQe,3,1,"td",51,Ft),c(14,"td",51)(15,"div",54)(16,"div",55)(17,"button",56),F("click",function(o){return H(t),$(o.stopPropagation())}),k(18,"i-bs",57),h(),c(19,"div",58),q(20,yQe,2,0,"button",59)(21,DQe,2,0,"button",59)(22,NQe,2,0,"button",60),h()()(),c(23,"div",61),q(24,PQe,5,0,"button",62)(25,IQe,5,1,"button",63)(26,LQe,5,1,"button",64),h()()()}if(2&e){const t=i.$implicit,n=_();d(3),Ks("id","",n.typeName,"",t.id,""),w("checked",n.selectedObjects.has(t.id)),d(),Ks("for","",n.typeName,"",t.id,""),d(3),Pe(t.name),d(2),Pe(n.getMatching(t)),d(2),Pe(t.document_count),d(),_t(n.extraColumns),d(8),w("pngxIfPermissions",rt(16,Il,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(19,Il,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(22,Il,n.PermissionAction.Delete,n.permissionType)),d(2),w("pngxIfPermissions",rt(25,Il,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(28,Il,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(31,Il,n.PermissionAction.Delete,n.permissionType))}}function RQe(e,i){1&e&&j(0),2&e&&nt(" \xa0(",_(3).selectedObjects.size," selected) ")}function FQe(e,i){if(1&e&&(c(0,"div"),ke(1),R(2,16),ze(),q(3,RQe,1,1),h()),2&e){const t=_(2);d(2),An(t.collectionSize)(t.typeName)(t.collectionSize||0)(t.typeNamePlural),Dn(2),d(),J(t.selectedObjects.size>0?3:-1)}}function kQe(e,i){if(1&e){const t=pe();c(0,"ngb-pagination",75),Tt("pageChange",function(o){H(t);const s=_(2);return mt(s.page,o)||(s.page=o),$(o)}),F("pageChange",function(){return H(t),$(_(2).reloadData())}),h()}if(2&e){const t=_(2);w("pageSize",25)("collectionSize",t.collectionSize),bt("page",t.page),w("maxSize",5)}}function zQe(e,i){if(1&e&&(c(0,"div",42),q(1,FQe,4,5,"div")(2,kQe,1,4,"ngb-pagination",74),h()),2&e){const t=_();d(),J(t.collectionSize>0?1:-1),d(),J(t.collectionSize>20?2:-1)}}let VQe=(()=>{class e extends W3{constructor(t,n,o,s,r,a){super(t,n,e3,o,s,r,26,"corrispondente","corrispondenti",It.Correspondent,[{key:"last_correspondence",name:"Ultimo utilizzato",valueFn:l=>{if(l.last_correspondence){let u=new Date(l.last_correspondence);return"Invalid Date"==u.toString()&&(u=new Date(l.last_correspondence?.toString().replace(/-(\d\d):\d\d:\d\d/gm,"-$1:00"))),this.datePipe.transform(u)}return""}}]),this.datePipe=a}reloadData(){this.isLoading=!0,this.service.listFiltered(this.page,null,this.sortField,this.sortReverse,this._nameFilter,!0,{last_correspondence:!0}).pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.data=t.results,this.collectionSize=t.count,this.isLoading=!1})}getDeleteMessage(t){return "Vuoi eliminare il corrispondente \"" + t.name + "\"?"}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Aa),Y(Ki),Y(ki),Y(ya),Y(Xn),Y(Ns))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-correspondent-list"]],features:[Gt([{provide:Ns}]),Ct],decls:48,vars:25,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe;return t="Nome",n="Azzera selezione",o="Permessi",s="Elimina",r="Filtra per:",a="Nome",l="Assegnazione",u="Numero di documenti",p="Azioni",v="Crea",L="Caricamento in corso...",z="Filtra Documenti",ie="Modifica",se="Elimina",he="Documenti",be="Modifica",we="Elimina",Fe="{VAR_PLURAL, plural, =1 {Uno {INTERPOLATION}} other {{INTERPOLATION_1} totale {INTERPOLATION_2}}}",Fe=Xa(Fe,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",t,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],[1,"btn-group","d-none","d-sm-block"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(n,o){1&n&&(c(0,"pngx-page-header",17),ot(1,"titlecase"),c(2,"button",18),F("click",function(){return o.clearSelection()}),k(3,"i-bs",19),j(4,"\xa0"),ke(5),R(6,0),ze(),h(),c(7,"button",20),F("click",function(){return o.setPermissions()}),k(8,"i-bs",21),j(9,"\xa0"),ke(10),R(11,1),ze(),h(),c(12,"button",22),F("click",function(){return o.delete()}),k(13,"i-bs",23),j(14,"\xa0"),ke(15),R(16,2),ze(),h(),q(17,bQe,5,0,"button",24),h(),c(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),R(22,3),h(),c(23,"input",29),Tt("ngModelChange",function(r){return mt(o.nameFilter,r)||(o.nameFilter=r),r}),F("keyup",function(r){return o.onNameFilterKeyUp(r)}),h()()(),c(24,"ngb-pagination",30),Tt("pageChange",function(r){return mt(o.page,r)||(o.page=r),r}),F("pageChange",function(){return o.reloadData()}),h()(),c(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),Tt("ngModelChange",function(r){return mt(o.togggleAll,r)||(o.togggleAll=r),r}),F("click",function(r){return o.toggleAll(r),r.stopPropagation()}),h(),k(32,"label",36),h()(),c(33,"th",37),F("sort",function(r){return o.onSort(r)}),R(34,4),h(),c(35,"th",38),F("sort",function(r){return o.onSort(r)}),R(36,5),h(),c(37,"th",39),F("sort",function(r){return o.onSort(r)}),R(38,6),h(),ut(39,TQe,2,4,"th",40,Ft),c(41,"th",41),R(42,7),h()()(),c(43,"tbody"),q(44,SQe,5,0,"tr"),ut(45,xQe,27,34,"tr",null,Ft),h()()(),q(47,zQe,3,2,"div",42)),2&n&&(ui("title",Et(1,20,o.typeNamePlural)),d(2),w("hidden",0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),d(5),w("pngxIfPermissions",rt(22,Il,o.PermissionAction.Add,o.permissionType)),d(6),bt("ngModel",o.nameFilter),d(),w("pageSize",25)("collectionSize",o.collectionSize),bt("page",o.page),w("maxSize",5),d(7),bt("ngModel",o.togggleAll),w("disabled",0===o.data.length),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),_t(o.extraColumns),d(5),J(o.isLoading?44:-1),d(),_t(o.data),d(2),J(o.isLoading?-1:47))},dependencies:[Go,ys,is,wr,j1,gl,si,ts,Yt,Ln,Wt,Qs,Zo,Pl,Wc,m1],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}return e})();const Ll=(e,i)=>({action:e,type:i});function HQe(e,i){if(1&e){const t=pe();c(0,"button",43),F("click",function(){return H(t),$(_().openCreateDialog())}),k(1,"i-bs",44),j(2,"\xa0"),ke(3),R(4,8),ze(),h()}}function $Qe(e,i){if(1&e){const t=pe();c(0,"th",45),F("sort",function(o){return H(t),$(_().onSort(o))}),j(1),h()}if(2&e){const t=i.$implicit,n=_();ui("pngxSortable",t.key),w("currentSortField",n.sortField)("currentSortReverse",n.sortReverse),d(),Pe(t.name)}}function BQe(e,i){1&e&&(c(0,"tr")(1,"td",46),k(2,"div",47),ke(3),R(4,9),ze(),h()())}function GQe(e,i){if(1&e&&(k(0,"div",65),ot(1,"safeHtml")),2&e){const t=_().$implicit,n=_().$implicit;w("innerHtml",Et(1,1,t.valueFn.call(null,n)),Qi)}}function UQe(e,i){if(1&e&&j(0),2&e){const t=_().$implicit,n=_().$implicit;nt(" ",t.valueFn.call(null,n)," ")}}function ZQe(e,i){if(1&e&&(c(0,"td",51),q(1,GQe,2,3,"div",65)(2,UQe,1,1),h()),2&e){const t=i.$implicit;d(),J(t.rendersHtml?1:2)}}function jQe(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().filterDocuments(o))}),R(1,10),h()}}function WQe(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().openEditDialog(o))}),R(1,11),h()}}function XQe(e,i){if(1&e){const t=pe();c(0,"button",67),F("click",function(){H(t);const o=_().$implicit;return $(_().openDeleteDialog(o))}),R(1,12),h()}}function KQe(e,i){if(1&e){const t=pe();c(0,"button",68),F("click",function(o){H(t);const s=_().$implicit;return _().filterDocuments(s),$(o.stopPropagation())}),k(1,"i-bs",69),j(2,"\xa0"),ke(3),R(4,13),ze(),h()}}function qQe(e,i){if(1&e){const t=pe();c(0,"button",70),F("click",function(o){H(t);const s=_().$implicit;return _().openEditDialog(s),$(o.stopPropagation())}),k(1,"i-bs",71),j(2,"\xa0"),ke(3),R(4,14),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanEdit(t))}}function YQe(e,i){if(1&e){const t=pe();c(0,"button",72),F("click",function(o){H(t);const s=_().$implicit;return _().openDeleteDialog(s),$(o.stopPropagation())}),k(1,"i-bs",73),j(2,"\xa0"),ke(3),R(4,15),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanDelete(t))}}function JQe(e,i){if(1&e){const t=pe();c(0,"tr",48),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),c(1,"td")(2,"div",34)(3,"input",49),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),h(),k(4,"label",50),h()(),c(5,"td",51)(6,"button",52),F("click",function(o){const s=H(t).$implicit,r=_();return r.userCanEdit(s)&&r.openEditDialog(s),$(o.stopPropagation())}),j(7),h()(),c(8,"td",53),j(9),h(),c(10,"td",51),j(11),h(),ut(12,ZQe,3,1,"td",51,Ft),c(14,"td",51)(15,"div",54)(16,"div",55)(17,"button",56),F("click",function(o){return H(t),$(o.stopPropagation())}),k(18,"i-bs",57),h(),c(19,"div",58),q(20,jQe,2,0,"button",59)(21,WQe,2,0,"button",59)(22,XQe,2,0,"button",60),h()()(),c(23,"div",61),q(24,KQe,5,0,"button",62)(25,qQe,5,1,"button",63)(26,YQe,5,1,"button",64),h()()()}if(2&e){const t=i.$implicit,n=_();d(3),Ks("id","",n.typeName,"",t.id,""),w("checked",n.selectedObjects.has(t.id)),d(),Ks("for","",n.typeName,"",t.id,""),d(3),Pe(t.name),d(2),Pe(n.getMatching(t)),d(2),Pe(t.document_count),d(),_t(n.extraColumns),d(8),w("pngxIfPermissions",rt(16,Ll,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(19,Ll,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(22,Ll,n.PermissionAction.Delete,n.permissionType)),d(2),w("pngxIfPermissions",rt(25,Ll,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(28,Ll,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(31,Ll,n.PermissionAction.Delete,n.permissionType))}}function QQe(e,i){1&e&&j(0),2&e&&nt(" \xa0(",_(3).selectedObjects.size," selected) ")}function eet(e,i){if(1&e&&(c(0,"div"),ke(1),R(2,16),ze(),q(3,QQe,1,1),h()),2&e){const t=_(2);d(2),An(t.collectionSize)(t.typeName)(t.collectionSize||0)(t.typeNamePlural),Dn(2),d(),J(t.selectedObjects.size>0?3:-1)}}function tet(e,i){if(1&e){const t=pe();c(0,"ngb-pagination",75),Tt("pageChange",function(o){H(t);const s=_(2);return mt(s.page,o)||(s.page=o),$(o)}),F("pageChange",function(){return H(t),$(_(2).reloadData())}),h()}if(2&e){const t=_(2);w("pageSize",25)("collectionSize",t.collectionSize),bt("page",t.page),w("maxSize",5)}}function net(e,i){if(1&e&&(c(0,"div",42),q(1,eet,4,5,"div")(2,tet,1,4,"ngb-pagination",74),h()),2&e){const t=_();d(),J(t.collectionSize>0?1:-1),d(),J(t.collectionSize>20?2:-1)}}let iet=(()=>{class e extends W3{constructor(t,n,o,s,r){super(t,n,t3,o,s,r,28,"tipo di documento","tipi di documento",It.DocumentType,[])}getDeleteMessage(t){return "Vuoi eliminare il tipo di documento \"" + t.name + "\"?"}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Oa),Y(Ki),Y(ki),Y(ya),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-type-list"]],features:[Ct],decls:48,vars:25,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe;return t="Nome",n="Azzera selezione",o="Permessi",s="Elimina",r="Filtra per:",a="Nome",l="Assegnazione",u="Numero di documenti",p="Azioni",v="Crea",L="Caricamento in corso...",z="Filtra Documenti",ie="Modifica",se="Elimina",he="Documenti",be="Modifica",we="Elimina",Fe="{VAR_PLURAL, plural, =1 {Uno {INTERPOLATION}} other {{INTERPOLATION_1} totale {INTERPOLATION_2}}}",Fe=Xa(Fe,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",t,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],[1,"btn-group","d-none","d-sm-block"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(n,o){1&n&&(c(0,"pngx-page-header",17),ot(1,"titlecase"),c(2,"button",18),F("click",function(){return o.clearSelection()}),k(3,"i-bs",19),j(4,"\xa0"),ke(5),R(6,0),ze(),h(),c(7,"button",20),F("click",function(){return o.setPermissions()}),k(8,"i-bs",21),j(9,"\xa0"),ke(10),R(11,1),ze(),h(),c(12,"button",22),F("click",function(){return o.delete()}),k(13,"i-bs",23),j(14,"\xa0"),ke(15),R(16,2),ze(),h(),q(17,HQe,5,0,"button",24),h(),c(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),R(22,3),h(),c(23,"input",29),Tt("ngModelChange",function(r){return mt(o.nameFilter,r)||(o.nameFilter=r),r}),F("keyup",function(r){return o.onNameFilterKeyUp(r)}),h()()(),c(24,"ngb-pagination",30),Tt("pageChange",function(r){return mt(o.page,r)||(o.page=r),r}),F("pageChange",function(){return o.reloadData()}),h()(),c(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),Tt("ngModelChange",function(r){return mt(o.togggleAll,r)||(o.togggleAll=r),r}),F("click",function(r){return o.toggleAll(r),r.stopPropagation()}),h(),k(32,"label",36),h()(),c(33,"th",37),F("sort",function(r){return o.onSort(r)}),R(34,4),h(),c(35,"th",38),F("sort",function(r){return o.onSort(r)}),R(36,5),h(),c(37,"th",39),F("sort",function(r){return o.onSort(r)}),R(38,6),h(),ut(39,$Qe,2,4,"th",40,Ft),c(41,"th",41),R(42,7),h()()(),c(43,"tbody"),q(44,BQe,5,0,"tr"),ut(45,JQe,27,34,"tr",null,Ft),h()()(),q(47,net,3,2,"div",42)),2&n&&(ui("title",Et(1,20,o.typeNamePlural)),d(2),w("hidden",0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),d(5),w("pngxIfPermissions",rt(22,Ll,o.PermissionAction.Add,o.permissionType)),d(6),bt("ngModel",o.nameFilter),d(),w("pageSize",25)("collectionSize",o.collectionSize),bt("page",o.page),w("maxSize",5),d(7),bt("ngModel",o.togggleAll),w("disabled",0===o.data.length),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),_t(o.extraColumns),d(5),J(o.isLoading?44:-1),d(),_t(o.data),d(2),J(o.isLoading?-1:47))},dependencies:[Go,ys,is,wr,j1,gl,si,ts,Yt,Ln,Wt,Qs,Zo,Pl,Wc,m1],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}return e})(),oet=(()=>{class e{constructor(t){this.http=t}list(){return this.http.get(`${wi.apiBaseUrl}logs/`)}get(t){return this.http.get(`${wi.apiBaseUrl}logs/${t}/`)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const set=["logContainer"];function ret(e,i){if(1&e&&(c(0,"li",10)(1,"a",15),j(2),h()()),2&e){const t=i.$implicit;w("ngbNavItem",t),d(2),nt(" ",t,".log ")}}function aet(e,i){1&e&&(ke(0),R(1,3),ze())}function cet(e,i){if(1&e&&(c(0,"div",11),k(1,"div",16),q(2,aet,2,0,"ng-container"),h()),2&e){const t=_();d(2),J(t.logFiles.length?-1:2)}}function det(e,i){1&e&&(c(0,"div"),k(1,"div",16),ke(2),R(3,4),ze(),h())}function het(e,i){if(1&e&&(c(0,"p"),j(1),h()),2&e){const t=i.$implicit;h2("m-0 p-0 log-entry-",_().getLogLevel(t),""),d(),Pe(t)}}let uet=(()=>{class e{constructor(t,n){this.logService=t,this.changedetectorRef=n,this.logs=[],this.logFiles=[],this.unsubscribeNotifier=new et,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.logService.list().pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.logFiles=t,this.isLoading=!1,this.logFiles.length>0&&(this.activeLog=this.logFiles[0],this.reloadLogs()),this.toggleAutoRefresh()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete(),clearInterval(this.autoRefreshInterval)}reloadLogs(){this.isLoading=!0,this.logService.get(this.activeLog).pipe(je(this.unsubscribeNotifier)).subscribe({next:t=>{this.logs=t,this.isLoading=!1,this.scrollToBottom()},error:()=>{this.logs=[],this.isLoading=!1}})}getLogLevel(t){return-1!=t.indexOf("[DEBUG]")?10:-1!=t.indexOf("[WARNING]")?30:-1!=t.indexOf("[ERROR]")?40:-1!=t.indexOf("[CRITICAL]")?50:20}scrollToBottom(){this.changedetectorRef.detectChanges(),this.logContainer?.nativeElement.scroll({top:this.logContainer.nativeElement.scrollHeight,left:0,behavior:"auto"})}toggleAutoRefresh(){this.autoRefreshInterval?(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=null):this.autoRefreshInterval=setInterval(()=>{this.reloadLogs()},5e3)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(oet),Y(Po))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-logs"]],viewQuery:function(n,o){if(1&n&&cn(set,5),2&n){let s;Ot(s=yt())&&(o.logContainer=s.first)}},decls:16,vars:5,consts:()=>{let t,n,o,s,r;return t="Log",n="Esaminare i file di registro per l'applicazione e per il controllo della posta elettronica.",o="Aggiornamento automatico",s="Caricamento in corso...",r="Caricamento in corso...",[["nav","ngbNav"],["logContainer",""],o,s,r,["title",t,"info",n],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","autoRefreshSwitch",1,"form-check-input",3,"click"],["for","autoRefreshSwitch",1,"form-check-label"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],[1,"ps-2","d-flex","align-items-center"],[1,"mt-2",3,"ngbNavOutlet"],[1,"bg-dark","p-3","text-light","font-monospace","log-container"],[3,"class"],["ngbNavLink",""],["role","status",1,"spinner-border","spinner-border-sm","me-2"]]},template:function(n,o){if(1&n){const s=pe();c(0,"pngx-page-header",5)(1,"div",6)(2,"input",7),F("click",function(){return H(s),$(o.toggleAutoRefresh())}),h(),c(3,"label",8),R(4,2),h()()(),c(5,"ul",9,0),Tt("activeIdChange",function(a){return H(s),mt(o.activeLog,a)||(o.activeLog=a),$(a)}),F("activeIdChange",function(){return H(s),$(o.reloadLogs())}),ut(7,ret,3,2,"li",10,Ft),q(9,cet,3,1,"div",11),h(),k(10,"div",12),c(11,"div",13,1),q(13,det,4,0,"div"),ut(14,het,2,4,"p",14,Ft),h()}if(2&n){const s=vt(6);d(2),Mn("checked",o.autoRefreshInterval),d(3),bt("activeId",o.activeLog),d(2),_t(o.logFiles),d(2),J(o.isLoading||!o.logFiles.length?9:-1),d(),w("ngbNavOutlet",s),d(3),J(o.isLoading&&o.logFiles.length?13:-1),d(),_t(o.logs)}},dependencies:[W1,a0,A5,O5,Ta,y5,Qs],styles:[".log-entry-10[_ngcontent-%COMP%]{color:#789!important}.log-entry-30[_ngcontent-%COMP%]{color:#ff0!important}.log-entry-40[_ngcontent-%COMP%]{color:red!important}.log-entry-50[_ngcontent-%COMP%]{color:#f08080!important;font-weight:700}.log-container[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 200px);top:70px}.log-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:pre-wrap}"]})}return e})();var xl=function(e){return e.OK="OK",e.ERROR="ERROR",e.WARNING="WARNING",e}(xl||{});function pet(e,i){1&e&&(c(0,"div",31)(1,"div"),k(2,"div",35),ke(3),R(4,5),ze(),h()())}function get(e,i){1&e&&k(0,"i-bs",45),2&e&&ui("ngbPopover",_(2).status.database.url)}function fet(e,i){if(1&e&&k(0,"i-bs",46),2&e){const t=_(2);Ks("ngbPopover","",t.status.database.url,": ",t.status.database.error,"")}}function met(e,i){if(1&e&&(ke(0),R(1,22),ze(),k(2,"i-bs",45)),2&e){_();const t=vt(57);d(2),w("ngbPopover",t)}}function vet(e,i){if(1&e&&(ke(0),j(1),ze(),k(2,"i-bs",50)),2&e){_();const t=vt(57),n=_();d(),nt("",n.status.database.migration_status.unapplied_migrations.length," Pending"),d(),w("ngbPopover",t)}}function Cet(e,i){if(1&e&&(c(0,"li",51),j(1),h()),2&e){const t=i.$implicit;d(),Pe(t)}}function wet(e,i){if(1&e&&(c(0,"h6",52),ke(1),R(2,24),ze(),j(3,":"),h(),c(4,"ul"),ut(5,Cet,2,1,"li",51,Ft),h()),2&e){const t=_(3);d(5),_t(t.status.database.migration_status.unapplied_migrations)}}function Met(e,i){if(1&e&&(c(0,"h6"),ke(1),R(2,23),ze(),j(3,":"),h(),c(4,"span",51),j(5),h(),q(6,wet,7,0)),2&e){const t=_(2);d(5),Pe(t.status.database.migration_status.latest_migration),d(),J(t.status.database.migration_status.unapplied_migrations.length>0?6:-1)}}function bet(e,i){1&e&&k(0,"i-bs",45),2&e&&ui("ngbPopover",_(2).status.tasks.redis_url)}function Tet(e,i){if(1&e&&k(0,"i-bs",46),2&e){const t=_(2);Ks("ngbPopover","",t.status.tasks.redis_url,": ",t.status.tasks.redis_error,"")}}function Eet(e,i){1&e&&k(0,"i-bs",47)}function Aet(e,i){1&e&&k(0,"i-bs",48)}function Oet(e,i){1&e&&k(0,"i-bs",50),2&e&&(_(2),w("ngbPopover",vt(84)))}function yet(e,i){1&e&&k(0,"i-bs",45),2&e&&(_(2),w("ngbPopover",vt(84)))}function Det(e,i){if(1&e&&q(0,Oet,1,1,"i-bs",50)(1,yet,1,1,"i-bs",45),2&e){const t=_(2);J(t.isStale(t.status.tasks.index_last_modified)?0:1)}}function Net(e,i){1&e&&k(0,"i-bs",46),2&e&&ui("ngbPopover",_(2).status.tasks.index_error)}function Pet(e,i){if(1&e&&(c(0,"h6"),ke(1),R(2,25),ze(),j(3,":"),h(),c(4,"span",51),j(5),ot(6,"customDate"),h()),2&e){const t=_(2);d(5),Pe(io(6,1,t.status.tasks.index_last_modified,"medium"))}}function Iet(e,i){1&e&&k(0,"i-bs",50),2&e&&(_(2),w("ngbPopover",vt(92)))}function Let(e,i){1&e&&k(0,"i-bs",45),2&e&&(_(2),w("ngbPopover",vt(92)))}function xet(e,i){if(1&e&&q(0,Iet,1,1,"i-bs",50)(1,Let,1,1,"i-bs",45),2&e){const t=_(2);J(t.isStale(t.status.tasks.classifier_last_trained)?0:1)}}function Ret(e,i){if(1&e&&k(0,"i-bs",53),2&e){const t=_(2);Ye("text-danger",t.status.tasks.classifier_status===t.SystemStatusItemStatus.ERROR)("text-warning",t.status.tasks.classifier_status===t.SystemStatusItemStatus.WARNING),ui("ngbPopover",t.status.tasks.classifier_error)}}function Fet(e,i){if(1&e&&(c(0,"h6"),ke(1),R(2,26),ze(),j(3,":"),h(),c(4,"span",51),j(5),ot(6,"customDate"),h()),2&e){const t=_(2);d(5),Pe(io(6,1,t.status.tasks.classifier_last_trained,"medium"))}}function ket(e,i){if(1&e&&(c(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38)(4,"h5",39),R(5,6),h()(),c(6,"div",40)(7,"dl",41)(8,"dt"),R(9,7),h(),c(10,"dd"),j(11),h(),c(12,"dt"),R(13,8),h(),c(14,"dd"),j(15),h(),c(16,"dt"),R(17,9),h(),c(18,"dd"),j(19),h(),c(20,"dt"),R(21,10),h(),c(22,"dd"),k(23,"ngb-progressbar",42),c(24,"span",43),j(25),ot(26,"fileSize"),ke(27),R(28,11),ze(),j(29),ot(30,"fileSize"),ke(31),R(32,12),ze(),j(33,")"),h()()()()()(),c(34,"div",36)(35,"div",37)(36,"div",38)(37,"h5",39),R(38,13),h()(),c(39,"div",40)(40,"dl",41)(41,"dt"),R(42,14),h(),c(43,"dd"),j(44),h(),c(45,"dt"),R(46,15),h(),c(47,"dd",44),j(48),q(49,get,1,1,"i-bs",45)(50,fet,1,3,"i-bs",46),h(),c(51,"dt"),R(52,16),h(),c(53,"dd",44),q(54,met,3,1)(55,vet,3,2)(56,Met,7,2,"ng-template",null,0,on),h()()()()(),c(58,"div",36)(59,"div",37)(60,"div",38)(61,"h5",39),R(62,17),h()(),c(63,"div",40)(64,"dl",41)(65,"dt"),R(66,18),h(),c(67,"dd",44),j(68),q(69,bet,1,1,"i-bs",45)(70,Tet,1,3,"i-bs",46),h(),c(71,"dt"),R(72,19),h(),c(73,"dd",44),j(74),q(75,Eet,1,0,"i-bs",47)(76,Aet,1,0,"i-bs",48),h(),c(77,"dt"),R(78,20),h(),c(79,"dd",44),j(80),q(81,Det,2,1)(82,Net,1,1,"i-bs",46),h(),q(83,Pet,7,4,"ng-template",null,1,on),c(85,"dt"),R(86,21),h(),c(87,"dd",44),j(88),q(89,xet,2,1)(90,Ret,1,5,"i-bs",49),h(),q(91,Fet,7,4,"ng-template",null,2,on),h()()()()()),2&e){const t=_();d(11),Pe(t.status.pngx_version),d(4),Pe(t.status.install_type),d(4),Pe(t.status.server_os),d(4),w("max",t.status.storage.total)("value",t.status.storage.total-t.status.storage.available),d(2),nt("",Et(26,19,t.status.storage.available)," "),d(4),nt(" (",Et(30,21,t.status.storage.total)," "),d(15),Pe(t.status.database.type),d(4),nt(" ",t.status.database.status," "),d(),J("OK"===t.status.database.status?49:50),d(5),J(0===t.status.database.migration_status.unapplied_migrations.length?54:55),d(14),nt(" ",t.status.tasks.redis_status," "),d(),J("OK"===t.status.tasks.redis_status?69:70),d(5),nt(" ",t.status.tasks.celery_status," "),d(),J("OK"===t.status.tasks.celery_status?75:76),d(5),nt(" ",t.status.tasks.index_status," "),d(),J("OK"===t.status.tasks.index_status?81:82),d(7),nt(" ",t.status.tasks.classifier_status," "),d(),J("OK"===t.status.tasks.classifier_status?89:90)}}function zet(e,i){1&e&&(k(0,"i-bs",54),j(1,"\xa0 "))}function Vet(e,i){1&e&&(k(0,"i-bs",55),j(1,"\xa0 "))}let Het=(()=>{class e{constructor(t,n){this.activeModal=t,this.clipboard=n,this.SystemStatusItemStatus=xl,this.copied=!1}close(){this.activeModal.close()}copy(){this.clipboard.copy(JSON.stringify(this.status,null,4)),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}isStale(t,n=24){const o=new Date(t);return(new Date).getTime()-o.getTime()>60*n*60*1e3}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Gi),Y(D3))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-system-status-dialog"]],decls:13,vars:3,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt;return t="Stato sistema",n="Copia",o="Caricamento in corso...",s="Ambiente",r="Versione Paperless-ngx",a="Tipo di installazione",l="Sistema operativo server",u="Spazio di archiviazione",p="disponibile",v="totale",L="Database",z="Tipo",ie="Stato",se="Stato Migrazione",he="Attivit\xE0",be="Stato Redis",we="Stato Celery",Fe="Indice di ricerca",Ae="Classificatore",Qe="Aggiornato",pt="Ultima Migrazione",gt="Migrazioni in sospeso",Mt="Ultimo aggiornamento",Pt="Ultimo Addestramento",[["migrationStatus",""],["indexStatus",""],["classifierStatus",""],t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"w-100","h-100","d-flex","align-items-center","justify-content-center"],[1,"row","row-cols-1","row-cols-md-3","g-3"],[1,"modal-footer"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"col"],[1,"card","bg-light","h-100"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[1,"card-text"],["type","primary",1,"mt-2","mb-1",2,"height","4px",3,"max","value"],[1,"small"],[1,"d-flex","align-items-center"],["name","check-circle-fill","triggers","mouseenter:mouseleave",1,"text-primary","ms-2","lh-1",3,"ngbPopover"],["name","exclamation-triangle-fill","triggers","mouseenter:mouseleave",1,"text-danger","ms-2","lh-1",3,"ngbPopover"],["name","check-circle-fill",1,"text-primary","ms-2","lh-1"],["name","exclamation-triangle-fill",1,"text-danger","ms-2","lh-1"],["name","exclamation-triangle-fill","triggers","mouseenter:mouseleave",1,"ms-2","lh-1",3,"text-danger","text-warning","ngbPopover"],["name","exclamation-triangle-fill","triggers","mouseenter:mouseleave",1,"text-warning","ms-2","lh-1",3,"ngbPopover"],[1,"font-monospace","small"],[1,"mt-3"],["name","exclamation-triangle-fill","triggers","mouseenter:mouseleave",1,"ms-2","lh-1",3,"ngbPopover"],["name","clipboard-fill"],["name","clipboard-check-fill"]]},template:function(n,o){1&n&&(c(0,"div",27)(1,"h5",28),R(2,3),h(),c(3,"button",29),F("click",function(){return o.close()}),h()(),c(4,"div",30),q(5,pet,5,0,"div",31)(6,ket,93,23,"div",32),h(),c(7,"div",33)(8,"button",34),F("click",function(){return o.copy()}),q(9,zet,2,0)(10,Vet,2,0),ke(11),R(12,4),ze(),h()()),2&n&&(d(5),J(o.status?6:5),d(4),J(o.copied?-1:9),d(),J(o.copied?10:-1))},dependencies:[Wr,Oh,Wt,wR,Ns]})}return e})(),$et=(()=>{class e{constructor(t){this.http=t,this.endpoint="status"}get(){return this.http.get(`${wi.apiBaseUrl}${this.endpoint}/`)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Bet=["selectedList"],Get=["unselectedList"],mF=(e,i)=>i.id,vF=e=>[e];function Uet(e,i){if(1&e&&(c(0,"div",5),j(1),h()),2&e){const t=i.$implicit;d(),Pe(t.name)}}function Zet(e,i){if(1&e&&(c(0,"div",6),j(1),h()),2&e){const t=_();d(),Pe(t.emptyText)}}function jet(e,i){if(1&e&&(c(0,"div",9),j(1),h()),2&e){const t=i.$implicit;d(),Pe(t.name)}}let Wet=(()=>{class e extends _s{constructor(){super(...arguments),this.title="Elementi selezionati",this.items=[],this.selectedItems=[],this.emptyText="Nessun elemento selezionato"}get unselectedItems(){return this.items.filter(t=>!this.selectedItems.includes(t))}writeValue(t){super.writeValue(t),this.selectedItems=t?.map(n=>this.items.find(o=>o.id===n))??[]}drop(t){t.previousContainer===t.container&&t.container===this.selectedList?Y5(this.selectedItems,t.previousIndex,t.currentIndex):t.container===this.selectedList?this.selectedItems.splice(t.currentIndex,0,this.unselectedItems[t.previousIndex]):t.container===this.unselectedList&&t.previousContainer===this.selectedList&&this.selectedItems.splice(t.previousIndex,1),this.onChange(this.selectedItems.map(n=>n.id))}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-drag-drop-select"]],viewQuery:function(n,o){if(1&n&&(cn(Bet,5),cn(Get,5)),2&n){let s;Ot(s=yt())&&(o.selectedList=s.first),Ot(s=yt())&&(o.unselectedList=s.first)}},inputs:{title:"title",items:"items",emptyText:"emptyText"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:13,vars:8,consts:[["selectedList","cdkDropList"],["unselectedList","cdkDropList"],[1,"d-flex","flex-row","mt-2","align-items-center"],[1,"me-2"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"d-flex","flex-row","gap-2","w-100","mh-1",2,"min-height","1em",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","",1,"badge","bg-primary"],[1,"badge","bg-light","text-secondary","fst-italic"],[1,"mt-2","align-items-center","bg-light","p-2"],["cdkDropList","","cdkDropListOrientation","mixed",1,"d-flex","flex-wrap","flex-row","gap-2","w-100",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","",1,"badge","bg-secondary","opacity-50"]],template:function(n,o){if(1&n){const s=pe();c(0,"div",2)(1,"span",3),j(2),h(),c(3,"div",4,0),F("cdkDropListDropped",function(a){return H(s),$(o.drop(a))}),ut(5,Uet,2,1,"div",5,mF),q(7,Zet,2,1,"div",6),h()(),c(8,"div",7)(9,"div",8,1),F("cdkDropListDropped",function(a){return H(s),$(o.drop(a))}),ut(11,jet,2,1,"div",9,mF),h()()}if(2&n){const s=vt(4),r=vt(10);d(2),nt("",o.title,":"),d(),w("cdkDropListConnectedTo",No(4,vF,r)),d(2),_t(o.selectedItems),d(2),J(0===o.selectedItems.length?7:-1),d(2),w("cdkDropListConnectedTo",No(6,vF,s)),d(2),_t(o.unselectedItems)}},dependencies:[du,cu],styles:[".badge[_ngcontent-%COMP%]{cursor:move}"]})}return e})();const mu=(e,i)=>({action:e,type:i});function Xet(e,i){1&e&&k(0,"div",69)}function Ket(e,i){1&e&&(c(0,"span",73),k(1,"i-bs",74),h())}function qet(e,i){1&e&&(c(0,"span",73),k(1,"i-bs",75),h())}function Yet(e,i){if(1&e&&(k(0,"i-bs",72),q(1,Ket,2,0,"span",73)(2,qet,2,0,"span",73)),2&e){const t=_(2);d(),J(t.systemStatusHasErrors?1:2)}}function Jet(e,i){if(1&e){const t=pe();c(0,"button",68),F("click",function(){return H(t),$(_().showSystemStatus())}),q(1,Xet,1,0,"div",69)(2,Yet,3,1),ke(3),R(4,8),ze(),h(),c(5,"a",70),ke(6),R(7,9),ze(),j(8," \xa0"),k(9,"i-bs",71),h()}if(2&e){const t=_();w("disabled",!t.systemStatus),d(),J(t.systemStatus?2:1)}}function Qet(e,i){if(1&e&&(c(0,"span"),j(1),h()),2&e){const t=_().$implicit;d(),nt(" - ",t.englishName,"")}}function ett(e,i){if(1&e&&(c(0,"option",80),j(1),q(2,Qet,2,1,"span"),h()),2&e){const t=i.$implicit,n=_(2);w("ngValue",t.code),d(),Pe(t.name),d(),J(t.code&&"en-US"!==n.currentLocale?2:-1)}}function ttt(e,i){1&e&&(c(0,"small",81),R(1,33),h())}function ntt(e,i){if(1&e&&(c(0,"span"),j(1),ot(2,"customDate"),h()),2&e){const t=_().$implicit,n=_(2);d(),nt(" - ",w2(2,1,n.today,"shortDate",null,t.code),"")}}function itt(e,i){if(1&e&&(c(0,"option",80),j(1),q(2,ntt,3,6,"span"),h()),2&e){const t=i.$implicit;w("ngValue",t.code),d(),Pe(t.name),d(),J(t.code?2:-1)}}function ott(e,i){if(1&e){const t=pe();c(0,"h4"),R(1,10),h(),c(2,"div",76)(3,"div",77)(4,"span"),R(5,11),h()(),c(6,"div",78)(7,"select",79),ut(8,ett,3,3,"option",80,Ft),h(),q(10,ttt,2,0,"small",81),h()(),c(11,"div",76)(12,"div",77)(13,"span"),R(14,12),h()(),c(15,"div",78)(16,"select",82),ut(17,itt,3,3,"option",80,Ft),h()()(),c(19,"div",76)(20,"div",77)(21,"span"),R(22,13),h()(),c(23,"div",78)(24,"div",83),k(25,"input",84),c(26,"label",85),R(27,14),ot(28,"customDate"),h()(),c(29,"div",83),k(30,"input",86),c(31,"label",87),R(32,15),ot(33,"customDate"),h()(),c(34,"div",83),k(35,"input",88),c(36,"label",89),R(37,16),ot(38,"customDate"),h()()()(),c(39,"div",76)(40,"div",77)(41,"span"),R(42,17),h()(),c(43,"div",78)(44,"select",90)(45,"option",80),j(46,"10"),h(),c(47,"option",80),j(48,"25"),h(),c(49,"option",80),j(50,"50"),h(),c(51,"option",80),j(52,"100"),h()()()(),c(53,"div",76)(54,"div",77)(55,"span"),R(56,18),h()(),c(57,"div",78),k(58,"pngx-input-check",91),h()(),c(59,"div",76)(60,"div",77)(61,"span"),R(62,19),h()(),c(63,"div",78),k(64,"pngx-input-check",92),h()(),c(65,"div",76)(66,"div",77)(67,"span"),R(68,20),h()(),c(69,"div",78),k(70,"pngx-input-check",93)(71,"pngx-input-check",94)(72,"pngx-input-check",95),h()(),c(73,"div",76)(74,"div",77)(75,"span"),R(76,21),h()(),c(77,"div",96),k(78,"pngx-input-color",97),h(),c(79,"div",98)(80,"button",99),F("click",function(){return H(t),$(_().clearThemeColor())}),k(81,"i-bs",100),ke(82),R(83,22),ze(),h()()(),c(84,"h4",101),R(85,23),h(),c(86,"div",76)(87,"div",102)(88,"p"),hs(89,24),k(90,"a",103)(91,"br"),us(),h(),c(92,"p"),hs(93,25),k(94,"em"),us(),h(),k(95,"pngx-input-check",104),h()(),c(96,"h4",105),R(97,26),h(),c(98,"div",76)(99,"div",102),k(100,"pngx-input-check",106),h()(),c(101,"h4",105),R(102,27),h(),c(103,"div",76)(104,"div",102),k(105,"pngx-input-check",107)(106,"pngx-input-check",108),h()(),c(107,"h4",105),R(108,28),h(),c(109,"div",76)(110,"div",102),k(111,"pngx-input-check",109),h()(),c(112,"div",76)(113,"div",102)(114,"div",110)(115,"div",111)(116,"span"),R(117,29),h()(),c(118,"div",78)(119,"select",112)(120,"option",80),R(121,30),h(),c(122,"option",80),R(123,31),h()()()()()(),c(124,"h4",105),R(125,32),h(),c(126,"div",76)(127,"div",102),k(128,"pngx-input-check",113),h()()}if(2&e){const t=_();d(8),_t(t.displayLanguageOptions),d(2),J(t.displayLanguageIsDirty?10:-1),d(7),_t(t.dateLocaleOptions),d(11),An(w2(28,13,t.today,"shortDate",null,t.computedDateLocale)),Dn(27),d(5),An(w2(33,18,t.today,"mediumDate",null,t.computedDateLocale)),Dn(32),d(5),An(w2(38,23,t.today,"longDate",null,t.computedDateLocale)),Dn(37),d(7),w("ngValue",10),d(2),w("ngValue",25),d(2),w("ngValue",50),d(2),w("ngValue",100),d(20),w("hidden",t.settingsForm.value.darkModeUseSystem),d(7),w("error",null==t.error?null:t.error.color),d(2),w("disabled",!t.settingsForm.get("themeColor").value),d(40),w("ngValue",t.GlobalSearchType.TITLE_CONTENT),d(2),w("ngValue",t.GlobalSearchType.ADVANCED)}}function stt(e,i){1&e&&(ke(0),k(1,"pngx-permissions-user",121),ze())}function rtt(e,i){1&e&&(ke(0),k(1,"pngx-permissions-group",122),ze())}function att(e,i){1&e&&(ke(0),k(1,"pngx-permissions-user",123),ze())}function ltt(e,i){1&e&&(ke(0),k(1,"pngx-permissions-group",124),ze())}function ctt(e,i){if(1&e&&(c(0,"h4"),R(1,34),h(),c(2,"div",76)(3,"div",102)(4,"p"),R(5,35),h()()(),c(6,"div",76)(7,"div",77)(8,"span"),R(9,36),h()(),c(10,"div",114),k(11,"pngx-input-select",115),c(12,"small",116),R(13,37),h()()(),c(14,"div",76)(15,"div",77)(16,"span"),R(17,38),h()(),c(18,"div",114)(19,"div",110)(20,"div",117)(21,"span",118),R(22,39),h()(),c(23,"div",78),q(24,stt,2,0,"ng-container",119),h()(),c(25,"div",110)(26,"div",117)(27,"span",118),R(28,40),h()(),c(29,"div",78),q(30,rtt,2,0,"ng-container",119),h()()()(),c(31,"div",76)(32,"div",77)(33,"span"),R(34,41),h()(),c(35,"div",114)(36,"div",110)(37,"div",117)(38,"span",118),R(39,42),h()(),c(40,"div",78),q(41,att,2,0,"ng-container",119),h()(),c(42,"div",110)(43,"div",117)(44,"span",118),R(45,43),h()(),c(46,"div",78),q(47,ltt,2,0,"ng-container",119),h()(),c(48,"div",110)(49,"small",120),R(50,44),h()()()()),2&e){const t=_();d(11),w("items",t.users)("allowNull",!0),d(13),w("pngxIfPermissions",rt(6,mu,t.PermissionAction.View,t.PermissionType.User)),d(6),w("pngxIfPermissions",rt(9,mu,t.PermissionAction.View,t.PermissionType.Group)),d(11),w("pngxIfPermissions",rt(12,mu,t.PermissionAction.View,t.PermissionType.User)),d(6),w("pngxIfPermissions",rt(15,mu,t.PermissionAction.View,t.PermissionType.Group))}}function dtt(e,i){1&e&&(c(0,"h4"),R(1,45),h(),c(2,"div",76)(3,"div",102),k(4,"pngx-input-check",125)(5,"pngx-input-check",126)(6,"pngx-input-check",127)(7,"pngx-input-check",128),h()())}function htt(e,i){if(1&e){const t=pe();c(0,"pngx-confirm-button",146),F("confirm",function(){H(t);const o=_().$implicit;return $(_(2).deleteSavedView(o))}),h()}}function utt(e,i){1&e&&k(0,"pngx-input-drag-drop-select",145),2&e&&w("items",_(3).displayFields)}function _tt(e,i){if(1&e&&(c(0,"li",131)(1,"div",133)(2,"div",110)(3,"div",78),k(4,"pngx-input-text",134),h(),c(5,"div",78)(6,"div",135),k(7,"input",136),c(8,"label",137),R(9,48),h()(),c(10,"div",138),k(11,"input",139),c(12,"label",137),R(13,49),h()()(),c(14,"div",140)(15,"label",141),R(16,50),h(),q(17,htt,1,0,"pngx-confirm-button",142),h()(),c(18,"div",110)(19,"div",78),k(20,"pngx-input-number",143),h(),c(21,"div",78)(22,"label",141),R(23,51),h(),c(24,"select",144)(25,"option",80),R(26,52),h(),c(27,"option",80),R(28,53),h(),c(29,"option",80),R(30,54),h()()(),q(31,utt,1,1,"pngx-input-drag-drop-select",145),h()()()),2&e){const t=i.$implicit,n=_(2);d(),w("formGroupName",t.id),d(6),ln("id","show_on_dashboard_",t.id,""),d(),ln("for","show_on_dashboard_",t.id,""),d(3),ln("id","show_in_sidebar_",t.id,""),d(),ln("for","show_in_sidebar_",t.id,""),d(3),ln("for","name_",t.id,""),d(2),w("pngxIfPermissions",rt(19,mu,n.PermissionAction.Delete,n.PermissionType.SavedView)),d(3),w("showAdd",!1),d(2),ln("for","display_mode_",t.id,""),d(3),w("ngValue",n.DisplayMode.TABLE),d(2),w("ngValue",n.DisplayMode.SMALL_CARDS),d(2),w("ngValue",n.DisplayMode.LARGE_CARDS),d(2),J(n.displayFields?31:-1)}}function ptt(e,i){1&e&&(c(0,"li",132)(1,"div"),R(2,55),h()())}function gtt(e,i){1&e&&(c(0,"li",132),k(1,"div",147),c(2,"div",148),R(3,56),h()())}function ftt(e,i){if(1&e&&(c(0,"h4"),R(1,46),h(),c(2,"div",76)(3,"div",102),k(4,"pngx-input-check",129),h()(),c(5,"h4"),R(6,47),h(),c(7,"ul",130),ut(8,_tt,32,22,"li",131,Ft),q(10,ptt,3,0,"li",132)(11,gtt,4,0,"li",132),h()),2&e){const t=_();d(8),_t(t.savedViews),d(2),J(t.savedViews&&0===t.savedViews.length?10:-1),d(),J(t.savedViews?-1:11)}}var Rl=function(e){return e[e.General=1]="General",e[e.Permissions=2]="Permissions",e[e.Notifications=3]="Notifications",e[e.SavedViews=4]="SavedViews",e}(Rl||{});const mtt={code:"",name:"Usa lingua di sistema"},vtt={code:"",name:"Usa il formato data della lingua"};let CF=(()=>{class e extends Uo{get displayFields(){return this.settings.allDisplayFields}get systemStatusHasErrors(){return this.systemStatus.database.status===xl.ERROR||this.systemStatus.tasks.redis_status===xl.ERROR||this.systemStatus.tasks.celery_status===xl.ERROR||this.systemStatus.tasks.index_status===xl.ERROR||this.systemStatus.tasks.classifier_status===xl.ERROR}get computedDateLocale(){return this.settingsForm.value.dateLocale||this.settingsForm.value.displayLanguage||this.currentLocale}constructor(t,n,o,s,r,a,l,u,p,v,L,z,ie,se){super(),this.savedViewService=t,this.documentListViewService=n,this.toastService=o,this.settings=s,this.currentLocale=r,this.viewportScroller=a,this.activatedRoute=l,this.tourService=u,this.usersService=p,this.groupsService=v,this.router=L,this.permissionsService=z,this.modalService=ie,this.systemStatusService=se,this.DisplayMode=N5,this.savedViewGroup=new In({}),this.settingsForm=new In({bulkEditConfirmationDialogs:new Re(null),bulkEditApplyOnClose:new Re(null),documentListItemPerPage:new Re(null),slimSidebarEnabled:new Re(null),darkModeUseSystem:new Re(null),darkModeEnabled:new Re(null),darkModeInvertThumbs:new Re(null),themeColor:new Re(null),useNativePdfViewer:new Re(null),displayLanguage:new Re(null),dateLocale:new Re(null),dateFormat:new Re(null),notesEnabled:new Re(null),updateCheckingEnabled:new Re(null),defaultPermsOwner:new Re(null),defaultPermsViewUsers:new Re(null),defaultPermsViewGroups:new Re(null),defaultPermsEditUsers:new Re(null),defaultPermsEditGroups:new Re(null),documentEditingRemoveInboxTags:new Re(null),searchDbOnly:new Re(null),searchLink:new Re(null),notificationsConsumerNewDocument:new Re(null),notificationsConsumerSuccess:new Re(null),notificationsConsumerFailed:new Re(null),notificationsConsumerSuppressOnDashboard:new Re(null),savedViewsWarnOnUnsavedChange:new Re(null),savedViews:this.savedViewGroup}),this.SettingsNavIDs=Rl,this.isDirty=!1,this.unsubscribeNotifier=new et,this.savePending=!1,this.GlobalSearchType=$g,this.settings.settingsSaved.subscribe(()=>{this.savePending||this.initialize()})}ngOnInit(){this.initialize(),this.permissionsService.currentUserCan(Nt.View,It.User)&&this.usersService.listAll().pipe(wt()).subscribe({next:t=>{this.users=t.results},error:t=>{this.toastService.showError("Errore nel recupero degli utenti",t)}}),this.permissionsService.currentUserCan(Nt.View,It.Group)&&this.groupsService.listAll().pipe(wt()).subscribe({next:t=>{this.groups=t.results},error:t=>{this.toastService.showError("Errore nel recupero dei gruppi",t)}}),this.permissionsService.currentUserCan(Nt.View,It.SavedView)&&this.savedViewService.listAll().subscribe(t=>{this.savedViews=t.results,this.initialize(!1)}),this.activatedRoute.paramMap.subscribe(t=>{const n=t.get("section");if(n){const o=Object.keys(Rl).find(s=>s.toLowerCase()==n);o&&(this.activeNavID=Rl[o]),this.activeNavID===Rl.SavedViews&&(this.settings.organizingSidebarSavedViews=!0)}})}ngAfterViewInit(){this.activatedRoute.snapshot.fragment&&this.viewportScroller.scrollToAnchor(this.activatedRoute.snapshot.fragment)}getCurrentSettings(){return{bulkEditConfirmationDialogs:this.settings.get(Ue.BULK_EDIT_CONFIRMATION_DIALOGS),bulkEditApplyOnClose:this.settings.get(Ue.BULK_EDIT_APPLY_ON_CLOSE),documentListItemPerPage:this.settings.get(Ue.DOCUMENT_LIST_SIZE),slimSidebarEnabled:this.settings.get(Ue.SLIM_SIDEBAR),darkModeUseSystem:this.settings.get(Ue.DARK_MODE_USE_SYSTEM),darkModeEnabled:this.settings.get(Ue.DARK_MODE_ENABLED),darkModeInvertThumbs:this.settings.get(Ue.DARK_MODE_THUMB_INVERTED),themeColor:this.settings.get(Ue.THEME_COLOR),useNativePdfViewer:this.settings.get(Ue.USE_NATIVE_PDF_VIEWER),displayLanguage:this.settings.getLanguage(),dateLocale:this.settings.get(Ue.DATE_LOCALE),dateFormat:this.settings.get(Ue.DATE_FORMAT),notesEnabled:this.settings.get(Ue.NOTES_ENABLED),updateCheckingEnabled:this.settings.get(Ue.UPDATE_CHECKING_ENABLED),notificationsConsumerNewDocument:this.settings.get(Ue.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT),notificationsConsumerSuccess:this.settings.get(Ue.NOTIFICATIONS_CONSUMER_SUCCESS),notificationsConsumerFailed:this.settings.get(Ue.NOTIFICATIONS_CONSUMER_FAILED),notificationsConsumerSuppressOnDashboard:this.settings.get(Ue.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD),savedViewsWarnOnUnsavedChange:this.settings.get(Ue.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE),defaultPermsOwner:this.settings.get(Ue.DEFAULT_PERMS_OWNER),defaultPermsViewUsers:this.settings.get(Ue.DEFAULT_PERMS_VIEW_USERS),defaultPermsViewGroups:this.settings.get(Ue.DEFAULT_PERMS_VIEW_GROUPS),defaultPermsEditUsers:this.settings.get(Ue.DEFAULT_PERMS_EDIT_USERS),defaultPermsEditGroups:this.settings.get(Ue.DEFAULT_PERMS_EDIT_GROUPS),documentEditingRemoveInboxTags:this.settings.get(Ue.DOCUMENT_EDITING_REMOVE_INBOX_TAGS),searchDbOnly:this.settings.get(Ue.SEARCH_DB_ONLY),searchLink:this.settings.get(Ue.SEARCH_FULL_TYPE),savedViews:{}}}onNavChange(t){const[n]=Object.entries(Rl).find(([,o])=>o==t.nextId);n&&this.router.navigate(["settings",n.toLowerCase()]).then(o=>{this.settings.organizingSidebarSavedViews=!1,!o&&this.isDirty?this.activeNavID=t.activeId:o&&this.isDirty&&this.initialize(),this.activeNavID===Rl.SavedViews&&(this.settings.organizingSidebarSavedViews=!0)})}initialize(t=!0){this.unsubscribeNotifier.next(!0);const n=this.settingsForm.value;let o=this.getCurrentSettings();if(this.savedViews){this.emptyGroup(this.savedViewGroup);for(let s of this.savedViews)o.savedViews[s.id.toString()]={id:s.id,name:s.name,show_on_dashboard:s.show_on_dashboard,show_in_sidebar:s.show_in_sidebar,page_size:s.page_size,display_mode:s.display_mode,display_fields:s.display_fields},this.savedViewGroup.addControl(s.id.toString(),new In({id:new Re(null),name:new Re(null),show_on_dashboard:new Re(null),show_in_sidebar:new Re(null),page_size:new Re(null),display_mode:new Re(null),display_fields:new Re([])}))}this.store=new Bn(o),this.storeSub=this.store.asObservable().subscribe(s=>{this.settingsForm.patchValue(s,{emitEvent:!1})}),this.isDirty$=dv(this.settingsForm,this.store.asObservable()),this.isDirty$.pipe(je(this.unsubscribeNotifier)).subscribe(s=>{this.isDirty=s}),this.settingsForm.valueChanges.pipe(je(this.unsubscribeNotifier)).subscribe(()=>{this.settings.updateAppearanceSettings(this.settingsForm.get("darkModeUseSystem").value,this.settingsForm.get("darkModeEnabled").value,this.settingsForm.get("themeColor").value)}),!t&&n&&this.settingsForm.patchValue(n),this.permissionsService.isAdmin()&&this.systemStatusService.get().subscribe(s=>{this.systemStatus=s})}emptyGroup(t){Object.keys(t.controls).forEach(n=>t.removeControl(n))}ngOnDestroy(){this.isDirty&&this.settings.updateAppearanceSettings(),this.storeSub&&this.storeSub.unsubscribe(),this.settings.organizingSidebarSavedViews=!1}deleteSavedView(t){this.savedViewService.delete(t).subscribe(()=>{this.savedViewGroup.removeControl(t.id.toString()),this.savedViews.splice(this.savedViews.indexOf(t),1),this.toastService.showInfo("La vista \"" + t.name + "\" \xE8 stata eliminata. "),this.savedViewService.clearCache(),this.savedViewService.listAll().subscribe(n=>{this.savedViews=n.results,this.initialize(!0)})})}saveLocalSettings(){this.savePending=!0;const t=this.settingsForm.value.displayLanguage!=this.store?.getValue().displayLanguage||this.settingsForm.value.updateCheckingEnabled!=this.store?.getValue().updateCheckingEnabled&&this.settingsForm.value.updateCheckingEnabled;this.settings.set(Ue.BULK_EDIT_APPLY_ON_CLOSE,this.settingsForm.value.bulkEditApplyOnClose),this.settings.set(Ue.BULK_EDIT_CONFIRMATION_DIALOGS,this.settingsForm.value.bulkEditConfirmationDialogs),this.settings.set(Ue.DOCUMENT_LIST_SIZE,this.settingsForm.value.documentListItemPerPage),this.settings.set(Ue.SLIM_SIDEBAR,this.settingsForm.value.slimSidebarEnabled),this.settings.set(Ue.DARK_MODE_USE_SYSTEM,this.settingsForm.value.darkModeUseSystem),this.settings.set(Ue.DARK_MODE_ENABLED,(1==this.settingsForm.value.darkModeEnabled).toString()),this.settings.set(Ue.DARK_MODE_THUMB_INVERTED,(1==this.settingsForm.value.darkModeInvertThumbs).toString()),this.settings.set(Ue.THEME_COLOR,this.settingsForm.value.themeColor),this.settings.set(Ue.USE_NATIVE_PDF_VIEWER,this.settingsForm.value.useNativePdfViewer),this.settings.set(Ue.DATE_LOCALE,this.settingsForm.value.dateLocale),this.settings.set(Ue.DATE_FORMAT,this.settingsForm.value.dateFormat),this.settings.set(Ue.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,this.settingsForm.value.notificationsConsumerNewDocument),this.settings.set(Ue.NOTIFICATIONS_CONSUMER_SUCCESS,this.settingsForm.value.notificationsConsumerSuccess),this.settings.set(Ue.NOTIFICATIONS_CONSUMER_FAILED,this.settingsForm.value.notificationsConsumerFailed),this.settings.set(Ue.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,this.settingsForm.value.notificationsConsumerSuppressOnDashboard),this.settings.set(Ue.NOTES_ENABLED,this.settingsForm.value.notesEnabled),this.settings.set(Ue.UPDATE_CHECKING_ENABLED,this.settingsForm.value.updateCheckingEnabled),this.settings.set(Ue.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,this.settingsForm.value.savedViewsWarnOnUnsavedChange),this.settings.set(Ue.DEFAULT_PERMS_OWNER,this.settingsForm.value.defaultPermsOwner),this.settings.set(Ue.DEFAULT_PERMS_VIEW_USERS,this.settingsForm.value.defaultPermsViewUsers),this.settings.set(Ue.DEFAULT_PERMS_VIEW_GROUPS,this.settingsForm.value.defaultPermsViewGroups),this.settings.set(Ue.DEFAULT_PERMS_EDIT_USERS,this.settingsForm.value.defaultPermsEditUsers),this.settings.set(Ue.DEFAULT_PERMS_EDIT_GROUPS,this.settingsForm.value.defaultPermsEditGroups),this.settings.set(Ue.DOCUMENT_EDITING_REMOVE_INBOX_TAGS,this.settingsForm.value.documentEditingRemoveInboxTags),this.settings.set(Ue.SEARCH_DB_ONLY,this.settingsForm.value.searchDbOnly),this.settings.set(Ue.SEARCH_FULL_TYPE,this.settingsForm.value.searchLink),this.settings.setLanguage(this.settingsForm.value.displayLanguage),this.settings.storeSettings().pipe(wt()).pipe(dn(()=>this.savePending=!1)).subscribe({next:()=>{this.store.next(this.settingsForm.value),this.settings.updateAppearanceSettings(),this.settings.initializeDisplayFields();let n={content:"Impostazioni salvate con successo.",delay:5e3};t&&(n.content="Impostazioni salvate con successo. \xC8 necessario ricaricare per applicare alcune modifiche.",n.actionName="Ricarica ora",n.action=()=>{location.reload()}),this.toastService.show(n)},error:n=>{this.toastService.showError("Si \xE8 verificato un errore durante il salvataggio delle impostazioni.",n)}})}get displayLanguageOptions(){return[mtt].concat(this.settings.getLanguageOptions())}get dateLocaleOptions(){return[vtt].concat(this.settings.getDateLocaleOptions())}get today(){return new Date}saveSettings(){const t=[];Object.values(this.savedViewGroup.controls).filter(n=>!n.pristine).forEach(n=>{t.push(n.value)}),t.length>0?this.savedViewService.patchMany(t).subscribe({next:()=>{this.saveLocalSettings()},error:n=>{this.toastService.showError("Errore durante il salvataggio delle impostazioni sul server.",n)}}):this.saveLocalSettings()}reset(){this.settingsForm.patchValue(this.store.getValue())}clearThemeColor(){this.settingsForm.get("themeColor").patchValue("")}showSystemStatus(){this.modalService.open(Het,{size:"xl"}).componentInstance.status=this.systemStatus}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Qv),Y(ya),Y(ki),Y(Tn),Y(Ss),Y(tO),Y(_1),Y(Jh),Y(vo),Y(kh),Y(so),Y(Xn),Y(Ki),Y($et))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-settings"]],features:[Ct],decls:33,vars:14,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,Pt,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo,zt,Fs,Pr,ks,Ir,$t,ta,na,Bt,m0,Hl,$l,Lr,ia,v0,C0,La,w0,M0,b0,T0,Cu,wu,Mu,Lt,C9,DF,NF,PF,IF,LF,xF,RF,FF,kF,zF,VF,HF;return t="Impostazioni",n="Opzioni per personalizzare l'aspetto, le notifiche, le visualizzazioni salvate e altro ancora. Le impostazioni si applicano <strong>solo all'utente corrente</strong>.",o="Inizia tour",s="Generale",r="Permessi",a="Notifiche",l="Viste salvate",u="Salva",p="Annulla",v="Stato sistema",L="Apri Admin Django",z="Usa il visualizzatore PDF fornito dal browser",ie="Di solito \xE8 pi\xF9 rapido nel visualizzare documenti PDF grandi, ma potrebbe non funzionare su tutti i browser.",se="Usa barra laterale 'snella' (solo icone)",he="Usa impostazioni di sistema",be="Abilita modalit\xE0 notte",we="Inverti anteptime in modalit\xE0 notte",Fe="Abilita controllo aggiornamenti",Ae="Rimuovi automaticamente l'etichetta \"in arrivo\" al salvataggio",Qe="Mostra dialoghi di conferma",pt="Applica in chiusura",gt="Non includere i risultati di ricerca avanzati",Mt="Abilita note",Pt="Aspetto",xt="Lingua",En="Visualizzazione data",Ut="Formato data",Hn="Breve: " + "\ufffd0\ufffd" + "",Ni="Media: " + "\ufffd0\ufffd" + "",en="Lunga: " + "\ufffd0\ufffd" + "",ci="Elementi per pagina",Si="Editor dei documenti",Ro="Barra laterale",qi="Modalit\xE0 notte",Fo="Colore del tema",ko="Reimposta",Mo="Controllo aggiornamenti",bo=" Il controllo degli aggiornamenti funziona tramite ping alle " + "\ufffd#90\ufffd" + " API di Github " + "\ufffd/#90\ufffd" + " per determinare se \xE8 disponibile una nuova versione." + "\ufffd#91\ufffd\ufffd/#91\ufffd" + " L'aggiornamento effettivo dell'applicazione deve comunque essere eseguito manualmente. ",Yi="" + "\ufffd#94\ufffd" + "L'app non raccoglie assolutamente alcun dato di tracciamento." + "\ufffd/#94\ufffd" + "",Vi="Modifica documenti",To="Modifica in blocco",zo="Ricerca globale",zt="La ricerca globale porta a",Fs="Ricerca titolo e contenuto",Pr="Ricerca avanzata",ks="Note",Ir="Riavviare la pagina dopo avere impostato la nuova lingua.",$t="Permessi predefiniti",ta=" Le impostazioni si applicano a questo account per gli oggetti (Tag, Regole e-mail, ecc.) creati tramite l'interfaccia web ",na="Proprietario predefinito",Bt="Gli oggetti senza un proprietario possono essere visualizzati e modificati da tutti gli utenti",m0="Permessi predefiniti di visualizzazione",Hl="Utenti:",$l="Gruppi:",Lr="Permessi predefiniti di modifica",ia="Utenti:",v0="Gruppi:",C0="I permessi di modifica concedono anche quelli di lettura",La="Notifica quando vengono trovati nuovi documenti",w0="Notifica quando l'elaborazione del documento viene completata con successo.",M0="Notifica quando l'elaborazione del documento fallisce",b0="Non mostrare notifiche nella dashboard",T0="Verranno interrotte tutte le notifiche nella dashboard riguardo lo stato dell'elaborazione dei documenti.",Cu="Elaborazione del documento",wu="Mostra un avviso quando chiudi le viste salvate con modifiche non salvate",Mu="Impostazioni",Lt="Viste",C9="Elimina",DF="Dimensione pagina documenti",NF="Mostra",PF="Predefinito",IF="Mostra nella dashboard",LF="Mostra nella barra laterale",xF="Azioni",RF="Visualizza come",FF="Tabella",kF="Small Cards",zF="Large Cards",VF="Nessuna vista salvata.",HF="Caricamento in corso...",[["nav","ngbNav"],o,s,r,a,l,u,p,v,L,Pt,xt,En,Ut,Hn,Ni,en,ci,Si,Ro,qi,Fo,ko,Mo,bo,Yi,Vi,To,zo,zt,Fs,Pr,ks,Ir,$t,ta,na,Bt,m0,Hl,$l,Lr,ia,v0,C0,Cu,Mu,Lt,IF,LF,xF,RF,FF,kF,zF,VF,HF,["title",t,"info",n],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","airplane",1,"me-1"],[3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs",3,"navChange","activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"border-start","border-end","border-bottom","p-3","mb-3","shadow-sm",3,"ngbNavOutlet"],["type","submit",1,"btn","btn-primary","mb-2",3,"disabled"],["type","button",1,"btn","btn-secondary","ms-2","mb-2",3,"click","disabled"],[1,"btn","btn-sm","btn-outline-primary","position-relative","ms-md-5","me-1",3,"click","disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-1","h-75"],["href","admin/","target","_blank",1,"btn","btn-sm","btn-primary"],["name","arrow-up-right"],["name","card-checklist",1,"me-2"],[1,"badge","bg-body","position-absolute","top-0","start-100","translate-middle","rounded-pill","p-0"],["name","exclamation-circle-fill","width","1.75em","height","1.75em",1,"text-danger"],["name","check-circle-fill","width","1.75em","height","1.75em",1,"text-primary"],[1,"row","mb-3"],[1,"col-md-3","col-form-label","pt-0"],[1,"col"],["formControlName","displayLanguage",1,"form-select"],[3,"ngValue"],[1,"form-text","text-primary"],["formControlName","dateLocale",1,"form-select"],[1,"form-check"],["type","radio","id","dateFormatShort","name","dateFormat","formControlName","dateFormat","value","shortDate",1,"form-check-input"],["for","dateFormatShort",1,"form-check-label"],["type","radio","id","dateFormatMedium","name","dateFormat","formControlName","dateFormat","value","mediumDate",1,"form-check-input"],["for","dateFormatMedium",1,"form-check-label"],["type","radio","id","dateFormatLong","name","dateFormat","formControlName","dateFormat","value","longDate",1,"form-check-input"],["for","dateFormatLong",1,"form-check-label"],["formControlName","documentListItemPerPage",1,"form-select"],["title",z,"hint",ie,"formControlName","useNativePdfViewer"],["title",se,"formControlName","slimSidebarEnabled"],["title",he,"formControlName","darkModeUseSystem"],["title",be,"formControlName","darkModeEnabled",3,"hidden"],["title",we,"formControlName","darkModeInvertThumbs"],[1,"col","col-md-3"],["formControlName","themeColor",3,"error"],[1,"col-2"],[1,"btn","btn-link","btn-sm","pt-2","ps-0",3,"click","disabled"],["width","1em","height","1em","name","x"],["id","update-checking",1,"mt-4"],[1,"offset-md-3","col"],["href","https://api.github.com/repos/paperless-ngx/paperless-ngx/releases/latest","target","_blank","rel","noopener noreferrer"],["title",Fe,"formControlName","updateCheckingEnabled"],[1,"mt-4"],["title",Ae,"formControlName","documentEditingRemoveInboxTags"],["title",Qe,"formControlName","bulkEditConfirmationDialogs"],["title",pt,"formControlName","bulkEditApplyOnClose"],["title",gt,"formControlName","searchDbOnly"],[1,"row"],[1,"col-md-2","col-form-label","pt-0"],["formControlName","searchLink",1,"form-select"],["title",Mt,"formControlName","notesEnabled"],[1,"col-md-5"],["bindLabel","username","formControlName","defaultPermsOwner",3,"items","allowNull"],[1,"form-text","text-muted","text-end","d-block","mt-n2"],[1,"col-3"],[1,"d-block","pt-1"],[4,"pngxIfPermissions"],[1,"form-text","text-muted","text-end","d-block"],["type","view","formControlName","defaultPermsViewUsers"],["type","view","formControlName","defaultPermsViewGroups"],["type","view","formControlName","defaultPermsEditUsers"],["type","view","formControlName","defaultPermsEditGroups"],["title",La,"formControlName","notificationsConsumerNewDocument"],["title",w0,"formControlName","notificationsConsumerSuccess"],["title",M0,"formControlName","notificationsConsumerFailed"],["title",b0,"formControlName","notificationsConsumerSuppressOnDashboard","hint",T0],["title",wu,"formControlName","savedViewsWarnOnUnsavedChange"],["formGroupName","savedViews",1,"list-group"],[1,"list-group-item","py-3"],[1,"list-group-item"],[3,"formGroupName"],["title","Name","formControlName","name"],[1,"form-check","form-switch","mt-3"],["type","checkbox","formControlName","show_on_dashboard",1,"form-check-input",3,"id"],[1,"form-check-label",3,"for"],[1,"form-check","form-switch"],["type","checkbox","formControlName","show_in_sidebar",1,"form-check-input",3,"id"],[1,"col-auto"],[1,"form-label",3,"for"],["label",C9,"buttonClasses","btn-sm btn-outline-danger form-control","iconName","trash",3,"confirm",4,"pngxIfPermissions"],["title",DF,"formControlName","page_size",3,"showAdd"],["formControlName","display_mode",1,"form-select"],["title",NF,"emptyText",PF,"formControlName","display_fields",3,"items"],["label",C9,"buttonClasses","btn-sm btn-outline-danger form-control","iconName","trash",3,"confirm"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(n,o){if(1&n){const s=pe();c(0,"pngx-page-header",57)(1,"button",58),F("click",function(){return H(s),$(o.tourService.start())}),k(2,"i-bs",59),j(3,"\xa0"),ke(4),R(5,1),ze(),h(),q(6,Jet,10,2),h(),c(7,"form",60),F("ngSubmit",function(){return H(s),$(o.saveSettings())}),c(8,"ul",61,0),F("navChange",function(a){return H(s),$(o.onNavChange(a))}),Tt("activeIdChange",function(a){return H(s),mt(o.activeNavID,a)||(o.activeNavID=a),$(a)}),c(10,"li",62)(11,"a",63),R(12,2),h(),q(13,ott,129,28,"ng-template",64),h(),c(14,"li",62)(15,"a",63),R(16,3),h(),q(17,ctt,51,18,"ng-template",64),h(),c(18,"li",62)(19,"a",63),R(20,4),h(),q(21,dtt,8,0,"ng-template",64),h(),c(22,"li",62)(23,"a",63),R(24,5),h(),q(25,ftt,12,2,"ng-template",64),h()(),k(26,"div",65),c(27,"button",66),ot(28,"async"),R(29,6),h(),c(30,"button",67),ot(31,"async"),F("click",function(){return H(s),$(o.reset())}),R(32,7),h()()}if(2&n){const s=vt(9);d(6),J(o.permissionsService.isAdmin()?6:-1),d(),w("formGroup",o.settingsForm),d(),bt("activeId",o.activeNavID),d(2),w("ngbNavItem",o.SettingsNavIDs.General),d(4),w("ngbNavItem",o.SettingsNavIDs.Permissions),d(4),w("ngbNavItem",o.SettingsNavIDs.Notifications),d(4),w("ngbNavItem",o.SettingsNavIDs.SavedViews),d(4),w("ngbNavOutlet",s),d(),w("disabled",!1===Et(28,10,o.isDirty$)),d(3),w("disabled",!1===Et(31,12,o.isDirty$))}},dependencies:[E5,W1,a0,A5,O5,Ta,y5,ro,_5,p5,si,ts,sl,sh,Yt,Wi,Bi,Xi,u5,Wt,Qs,Ds,Sr,Y1,Zo,tu,mR,$m,Bm,Jv,Wet,k1,Ns]})}return e})();const Fl=(e,i)=>({action:e,type:i});function Ctt(e,i){if(1&e){const t=pe();c(0,"button",43),F("click",function(){return H(t),$(_().openCreateDialog())}),k(1,"i-bs",44),j(2,"\xa0"),ke(3),R(4,8),ze(),h()}}function wtt(e,i){if(1&e){const t=pe();c(0,"th",45),F("sort",function(o){return H(t),$(_().onSort(o))}),j(1),h()}if(2&e){const t=i.$implicit,n=_();ui("pngxSortable",t.key),w("currentSortField",n.sortField)("currentSortReverse",n.sortReverse),d(),Pe(t.name)}}function Mtt(e,i){1&e&&(c(0,"tr")(1,"td",46),k(2,"div",47),ke(3),R(4,9),ze(),h()())}function btt(e,i){if(1&e&&(k(0,"div",65),ot(1,"safeHtml")),2&e){const t=_().$implicit,n=_().$implicit;w("innerHtml",Et(1,1,t.valueFn.call(null,n)),Qi)}}function Ttt(e,i){if(1&e&&j(0),2&e){const t=_().$implicit,n=_().$implicit;nt(" ",t.valueFn.call(null,n)," ")}}function Stt(e,i){if(1&e&&(c(0,"td",51),q(1,btt,2,3,"div",65)(2,Ttt,1,1),h()),2&e){const t=i.$implicit;d(),J(t.rendersHtml?1:2)}}function Ett(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().filterDocuments(o))}),R(1,10),h()}}function Att(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().openEditDialog(o))}),R(1,11),h()}}function Ott(e,i){if(1&e){const t=pe();c(0,"button",67),F("click",function(){H(t);const o=_().$implicit;return $(_().openDeleteDialog(o))}),R(1,12),h()}}function ytt(e,i){if(1&e){const t=pe();c(0,"button",68),F("click",function(o){H(t);const s=_().$implicit;return _().filterDocuments(s),$(o.stopPropagation())}),k(1,"i-bs",69),j(2,"\xa0"),ke(3),R(4,13),ze(),h()}}function Dtt(e,i){if(1&e){const t=pe();c(0,"button",70),F("click",function(o){H(t);const s=_().$implicit;return _().openEditDialog(s),$(o.stopPropagation())}),k(1,"i-bs",71),j(2,"\xa0"),ke(3),R(4,14),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanEdit(t))}}function Ntt(e,i){if(1&e){const t=pe();c(0,"button",72),F("click",function(o){H(t);const s=_().$implicit;return _().openDeleteDialog(s),$(o.stopPropagation())}),k(1,"i-bs",73),j(2,"\xa0"),ke(3),R(4,15),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanDelete(t))}}function Ptt(e,i){if(1&e){const t=pe();c(0,"tr",48),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),c(1,"td")(2,"div",34)(3,"input",49),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),h(),k(4,"label",50),h()(),c(5,"td",51)(6,"button",52),F("click",function(o){const s=H(t).$implicit,r=_();return r.userCanEdit(s)&&r.openEditDialog(s),$(o.stopPropagation())}),j(7),h()(),c(8,"td",53),j(9),h(),c(10,"td",51),j(11),h(),ut(12,Stt,3,1,"td",51,Ft),c(14,"td",51)(15,"div",54)(16,"div",55)(17,"button",56),F("click",function(o){return H(t),$(o.stopPropagation())}),k(18,"i-bs",57),h(),c(19,"div",58),q(20,Ett,2,0,"button",59)(21,Att,2,0,"button",59)(22,Ott,2,0,"button",60),h()()(),c(23,"div",61),q(24,ytt,5,0,"button",62)(25,Dtt,5,1,"button",63)(26,Ntt,5,1,"button",64),h()()()}if(2&e){const t=i.$implicit,n=_();d(3),Ks("id","",n.typeName,"",t.id,""),w("checked",n.selectedObjects.has(t.id)),d(),Ks("for","",n.typeName,"",t.id,""),d(3),Pe(t.name),d(2),Pe(n.getMatching(t)),d(2),Pe(t.document_count),d(),_t(n.extraColumns),d(8),w("pngxIfPermissions",rt(16,Fl,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(19,Fl,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(22,Fl,n.PermissionAction.Delete,n.permissionType)),d(2),w("pngxIfPermissions",rt(25,Fl,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(28,Fl,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(31,Fl,n.PermissionAction.Delete,n.permissionType))}}function Itt(e,i){1&e&&j(0),2&e&&nt(" \xa0(",_(3).selectedObjects.size," selected) ")}function Ltt(e,i){if(1&e&&(c(0,"div"),ke(1),R(2,16),ze(),q(3,Itt,1,1),h()),2&e){const t=_(2);d(2),An(t.collectionSize)(t.typeName)(t.collectionSize||0)(t.typeNamePlural),Dn(2),d(),J(t.selectedObjects.size>0?3:-1)}}function xtt(e,i){if(1&e){const t=pe();c(0,"ngb-pagination",75),Tt("pageChange",function(o){H(t);const s=_(2);return mt(s.page,o)||(s.page=o),$(o)}),F("pageChange",function(){return H(t),$(_(2).reloadData())}),h()}if(2&e){const t=_(2);w("pageSize",25)("collectionSize",t.collectionSize),bt("page",t.page),w("maxSize",5)}}function Rtt(e,i){if(1&e&&(c(0,"div",42),q(1,Ltt,4,5,"div")(2,xtt,1,4,"ngb-pagination",74),h()),2&e){const t=_();d(),J(t.collectionSize>0?1:-1),d(),J(t.collectionSize>20?2:-1)}}let Ftt=(()=>{class e extends W3{constructor(t,n,o,s,r){super(t,n,A3,o,s,r,6,"tag","tag",It.Tag,[{key:"color",name:"Colore",rendersHtml:!0,valueFn:a=>`<span class="badge" style="color: ${a.text_color}; background-color: ${a.color}">${a.color}</span>`}])}getDeleteMessage(t){return "Vuoi eliminare il tag \"" + t.name + "\"?"}static#e=this.\u0275fac=function(n){return new(n||e)(Y(G5),Y(Ki),Y(ki),Y(ya),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-tag-list"]],features:[Ct],decls:48,vars:25,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe;return t="Nome",n="Azzera selezione",o="Permessi",s="Elimina",r="Filtra per:",a="Nome",l="Assegnazione",u="Numero di documenti",p="Azioni",v="Crea",L="Caricamento in corso...",z="Filtra Documenti",ie="Modifica",se="Elimina",he="Documenti",be="Modifica",we="Elimina",Fe="{VAR_PLURAL, plural, =1 {Uno {INTERPOLATION}} other {{INTERPOLATION_1} totale {INTERPOLATION_2}}}",Fe=Xa(Fe,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",t,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],[1,"btn-group","d-none","d-sm-block"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(n,o){1&n&&(c(0,"pngx-page-header",17),ot(1,"titlecase"),c(2,"button",18),F("click",function(){return o.clearSelection()}),k(3,"i-bs",19),j(4,"\xa0"),ke(5),R(6,0),ze(),h(),c(7,"button",20),F("click",function(){return o.setPermissions()}),k(8,"i-bs",21),j(9,"\xa0"),ke(10),R(11,1),ze(),h(),c(12,"button",22),F("click",function(){return o.delete()}),k(13,"i-bs",23),j(14,"\xa0"),ke(15),R(16,2),ze(),h(),q(17,Ctt,5,0,"button",24),h(),c(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),R(22,3),h(),c(23,"input",29),Tt("ngModelChange",function(r){return mt(o.nameFilter,r)||(o.nameFilter=r),r}),F("keyup",function(r){return o.onNameFilterKeyUp(r)}),h()()(),c(24,"ngb-pagination",30),Tt("pageChange",function(r){return mt(o.page,r)||(o.page=r),r}),F("pageChange",function(){return o.reloadData()}),h()(),c(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),Tt("ngModelChange",function(r){return mt(o.togggleAll,r)||(o.togggleAll=r),r}),F("click",function(r){return o.toggleAll(r),r.stopPropagation()}),h(),k(32,"label",36),h()(),c(33,"th",37),F("sort",function(r){return o.onSort(r)}),R(34,4),h(),c(35,"th",38),F("sort",function(r){return o.onSort(r)}),R(36,5),h(),c(37,"th",39),F("sort",function(r){return o.onSort(r)}),R(38,6),h(),ut(39,wtt,2,4,"th",40,Ft),c(41,"th",41),R(42,7),h()()(),c(43,"tbody"),q(44,Mtt,5,0,"tr"),ut(45,Ptt,27,34,"tr",null,Ft),h()()(),q(47,Rtt,3,2,"div",42)),2&n&&(ui("title",Et(1,20,o.typeNamePlural)),d(2),w("hidden",0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),d(5),w("pngxIfPermissions",rt(22,Fl,o.PermissionAction.Add,o.permissionType)),d(6),bt("ngModel",o.nameFilter),d(),w("pageSize",25)("collectionSize",o.collectionSize),bt("page",o.page),w("maxSize",5),d(7),bt("ngModel",o.togggleAll),w("disabled",0===o.data.length),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),_t(o.extraColumns),d(5),J(o.isLoading?44:-1),d(),_t(o.data),d(2),J(o.isLoading?-1:47))},dependencies:[Go,ys,is,wr,j1,gl,si,ts,Yt,Ln,Wt,Qs,Zo,Pl,Wc,m1],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}return e})();function ktt(e,i){if(1&e&&k(0,"img",2),2&e){const t=_();Ai(t.getClasses()),ui("src",t.customLogo,$o),Mn("style","height:"+t.height,E6)}}function ztt(e,i){if(1&e&&(Md(),c(0,"svg",3),k(1,"path",4),c(2,"g",5),k(3,"path",6)(4,"path",7)(5,"path",8)(6,"path",9)(7,"rect",10)(8,"path",11)(9,"path",12)(10,"path",13)(11,"rect",14)(12,"path",15)(13,"path",16)(14,"polygon",17)(15,"path",18),h()()),2&e){const t=_();Ai(t.getClasses()),Mn("style","height:"+t.height,E6)}}let Vtt=(()=>{class e{get customLogo(){return this.settingsService.get(Ue.APP_LOGO)?.length?wi.apiBaseUrl.replace(/\/api\/$/,this.settingsService.get(Ue.APP_LOGO)):null}constructor(t){this.settingsService=t,this.height="6em"}getClasses(){return["logo"].concat(this.extra_classes).join(" ")}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-logo"]],inputs:{extra_classes:"extra_classes",height:"height"},decls:2,vars:1,consts:[[3,"src","class"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 2897.4 896.6",3,"class"],[3,"src"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 2897.4 896.6"],["d","M140,713.7c-3.4-16.4-10.3-49.1-11.2-49.1c-145.7-87.1-128.4-238-80.2-324.2C59,449,251.2,524,139.1,656.8 c-0.9,1.7,5.2,22.4,10.3,41.4c22.4-37.9,56-83.6,54.3-87.9C65.9,273.9,496.9,248.1,586.6,39.4c40.5,201.8-20.7,513.9-367.2,593.2 c-1.7,0.9-62.9,108.6-65.5,109.5c0-1.7-25.9-0.9-22.4-9.5C133.1,727.4,136.6,720.6,140,713.7L140,713.7z M135.7,632.6 c44-50.9-7.8-137.9-38.8-166.4C149.5,556.7,146,609.3,135.7,632.6L135.7,632.6z","transform","translate(0)",1,"leaf",2,"fill","#17541f"],[1,"text",2,"fill","#000"],["d","M1022.3,428.7c-17.8-19.9-42.7-29.8-74.7-29.8c-22.3,0-42.4,5.7-60.5,17.3c-18.1,11.6-32.3,27.5-42.5,47.8 s-15.3,42.9-15.3,67.8c0,24.9,5.1,47.5,15.3,67.8c10.3,20.3,24.4,36.2,42.5,47.8c18.1,11.5,38.3,17.3,60.5,17.3 c32,0,56.9-9.9,74.7-29.8v20.4v0.2h84.5V408.3h-84.5V428.7z M1010.5,575c-10.2,11.7-23.6,17.6-40.2,17.6s-29.9-5.9-40-17.6 s-15.1-26.1-15.1-43.3c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6c16.6,0,30,5.9,40.2,17.6s15.3,26.1,15.3,43.3 S1020.7,563.3,1010.5,575z","transform","translate(0)"],["d","M1381,416.1c-18.1-11.5-38.3-17.3-60.5-17.4c-32,0-56.9,9.9-74.7,29.8v-20.4h-84.5v390.7h84.5v-164 c17.8,19.9,42.7,29.8,74.7,29.8c22.3,0,42.4-5.7,60.5-17.3s32.3-27.5,42.5-47.8c10.2-20.3,15.3-42.9,15.3-67.8s-5.1-47.5-15.3-67.8 C1413.2,443.6,1399.1,427.7,1381,416.1z M1337.9,575c-10.1,11.7-23.4,17.6-40,17.6s-29.9-5.9-40-17.6s-15.1-26.1-15.1-43.3 c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6s29.9,5.9,40,17.6s15.1,26.1,15.1,43.3S1347.9,563.3,1337.9,575z","transform","translate(0)"],["d","M1672.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6c-20.4,11.7-36.5,27.7-48.2,48s-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S1692.6,428.8,1672.2,416.8z M1558.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H1558.3z","transform","translate(0)"],["d","M1895.3,411.7c-11,5.6-20.3,13.7-28,24.4h-0.1v-28h-84.5v247.3h84.5V536.3c0-22.6,4.7-38.1,14.2-46.5 c9.5-8.5,22.7-12.7,39.6-12.7c6.2,0,13.5,1,21.8,3.1l10.7-72c-5.9-3.3-14.5-4.9-25.8-4.9C1917.1,403.3,1906.3,406.1,1895.3,411.7z","transform","translate(0)"],["x","1985","y","277.4","width","84.5","height","377.8","transform","translate(0)"],["d","M2313.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6s-36.5,27.7-48.2,48c-11.7,20.3-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S2333.6,428.8,2313.2,416.8z M2199.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H2199.3z","transform","translate(0)"],["d","M2583.6,507.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9 c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8 c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7 c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6 c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9 c34.7,0,62.9-7.4,84.5-22.4c21.7-15,32.5-37.3,32.5-66.9c0-19.3-5-34.2-15.1-44.9S2597.4,512.1,2583.6,507.7z","transform","translate(0)"],["d","M2883.4,575.3c0-19.3-5-34.2-15.1-44.9s-22-18.3-35.8-22.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6 c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4 l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7 c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6 c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2 l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9c34.7,0,62.9-7.4,84.5-22.4 C2872.6,627.2,2883.4,604.9,2883.4,575.3z","transform","translate(0)"],["x","2460.7","y","738.7","width","59.6","height","17.2","transform","translate(0)"],["d","M2596.5,706.4c-5.7,0-11,1-15.8,3s-9,5-12.5,8.9v-9.4h-19.4v93.6h19.4v-52c0-8.6,2.1-15.3,6.3-20c4.2-4.7,9.5-7.1,15.9-7.1 c7.8,0,13.4,2.3,16.8,6.7c3.4,4.5,5.1,11.3,5.1,20.5v52h19.4v-56.8c0-12.8-3.2-22.6-9.5-29.3 C2615.8,709.8,2607.3,706.4,2596.5,706.4z","transform","translate(0)"],["d","M2733.8,717.7c-3.6-3.4-7.9-6.1-13.1-8.2s-10.6-3.1-16.2-3.1c-8.7,0-16.5,2.1-23.5,6.3s-12.5,10-16.5,17.3 c-4,7.3-6,15.4-6,24.4c0,8.9,2,17.1,6,24.3c4,7.3,9.5,13,16.5,17.2s14.9,6.3,23.5,6.3c5.6,0,11-1,16.2-3.1 c5.1-2.1,9.5-4.8,13.1-8.2v24.4c0,8.5-2.5,14.8-7.6,18.7c-5,3.9-11,5.9-18,5.9c-6.7,0-12.4-1.6-17.3-4.7c-4.8-3.1-7.6-7.7-8.3-13.8 h-19.4c0.6,7.7,2.9,14.2,7.1,19.5s9.6,9.3,16.2,12c6.6,2.7,13.8,4,21.7,4c12.8,0,23.5-3.4,32-10.1c8.6-6.7,12.8-17.1,12.8-31.1 V708.9h-19.2V717.7z M2732.2,770.1c-2.5,4.7-6,8.3-10.4,11.2c-4.4,2.7-9.4,4-14.9,4c-5.7,0-10.8-1.4-15.2-4.3s-7.8-6.7-10.2-11.4 c-2.3-4.8-3.5-9.8-3.5-15.2c0-5.5,1.1-10.6,3.5-15.3s5.8-8.5,10.2-11.3s9.5-4.2,15.2-4.2c5.5,0,10.5,1.4,14.9,4s7.9,6.3,10.4,11 s3.8,10,3.8,15.8S2734.7,765.4,2732.2,770.1z","transform","translate(0)"],["points","2867.9,708.9 2846.5,708.9 2820.9,741.9 2795.5,708.9 2773.1,708.9 2809.1,755 2771.5,802.5 2792.9,802.5  2820.1,767.9 2847.2,802.6 2869.6,802.6 2832,754.4 \t","transform","translate(0)"],["d","M757.6,293.7c-20-10.8-42.6-16.2-67.8-16.2H600c-8.5,39.2-21.1,76.4-37.6,111.3c-9.9,20.8-21.1,40.6-33.6,59.4v207.2h88.9 V521.5h72c25.2,0,47.8-5.4,67.8-16.2s35.7-25.6,47.1-44.2c11.4-18.7,17.1-39.1,17.1-61.3c0.1-22.7-5.6-43.3-17-61.9 C793.3,319.2,777.6,304.5,757.6,293.7z M716.6,434.3c-9.3,8.9-21.6,13.3-36.7,13.3l-62.2,0.4v-92.5l62.2-0.4 c15.1,0,27.3,4.4,36.7,13.3c9.4,8.9,14,19.9,14,32.9C730.6,414.5,726,425.4,716.6,434.3z","transform","translate(0)"]],template:function(n,o){1&n&&q(0,ktt,1,4,"img",0)(1,ztt,16,3,":svg:svg",1),2&n&&J(o.customLogo?0:1)}})}return e})(),Htt=(()=>{class e{constructor(){}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-not-found"]],decls:14,vars:0,consts:()=>{let t,n;return t="Non trovato",n="Vai alla dashboard",[t,n,[1,"d-sm-flex","flex-wrap","p-2","align-items-center","justify-content-center",2,"height","75vh"],[1,"p-4","pt-0"],[1,"fw-bold",2,"font-size","10rem"],[1,"display-6"],["routerLink","/dashboard",1,"btn","btn-primary"],["width","1.2em","height","1.2em","name","house"],["extra_classes","p-3 position-absolute bottom-0 start-50 translate-middle"]]},template:function(n,o){1&n&&(c(0,"div",2)(1,"div",3)(2,"h1",4),j(3,"404"),h()(),c(4,"div",3)(5,"h1",5),R(6,0),h(),c(7,"p")(8,"a",6),k(9,"i-bs",7),j(10,"\xa0"),ke(11),R(12,1),ze(),h()()(),k(13,"pngx-logo",8),h())},dependencies:[fr,Wt,Vtt]})}return e})(),$tt=(()=>{class e{constructor(t,n,o){this.documentsService=t,this.route=n,this.router=o}ngOnInit(){this.route.paramMap.subscribe(t=>{this.asn=t.get("id"),this.documentsService.listAllFilteredIds([{rule_type:2,value:this.asn}]).subscribe(n=>{1==n.length?this.router.navigate(["documents",n[0]]):this.router.navigate(["404"],{replaceUrl:!0})})})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(xo),Y(_1),Y(so))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-document-asncomponent"]],decls:2,vars:1,consts:()=>{let t;return t="Cercando documento con asn " + "\ufffd0\ufffd" + "",[t]},template:function(n,o){1&n&&(c(0,"p"),R(1,0),h()),2&n&&(d(),An(o.asn),Dn(1))}})}return e})(),wF=(()=>{class e extends SHe{constructor(t){super(),this.modalService=t}confirmChanges(){let t=this.modalService.open(pi,{backdrop:"static"});t.componentInstance.title="Modifiche non salvate",t.componentInstance.messageBold="Hai delle modifiche non salvate.",t.componentInstance.message="Sei sicuro di voler uscire?",t.componentInstance.btnClass="btn-warning",t.componentInstance.btnCaption="Esci dalla pagina",t.componentInstance.confirmClicked.subscribe(()=>{t.componentInstance.buttonsEnabled=!1,t.close()});const n=new et;return t.componentInstance.confirmSubject=n,n.asObservable()}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Ki))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kl=(e,i)=>({action:e,type:i});function Btt(e,i){if(1&e){const t=pe();c(0,"button",43),F("click",function(){return H(t),$(_().openCreateDialog())}),k(1,"i-bs",44),j(2,"\xa0"),ke(3),R(4,8),ze(),h()}}function Gtt(e,i){if(1&e){const t=pe();c(0,"th",45),F("sort",function(o){return H(t),$(_().onSort(o))}),j(1),h()}if(2&e){const t=i.$implicit,n=_();ui("pngxSortable",t.key),w("currentSortField",n.sortField)("currentSortReverse",n.sortReverse),d(),Pe(t.name)}}function Utt(e,i){1&e&&(c(0,"tr")(1,"td",46),k(2,"div",47),ke(3),R(4,9),ze(),h()())}function Ztt(e,i){if(1&e&&(k(0,"div",65),ot(1,"safeHtml")),2&e){const t=_().$implicit,n=_().$implicit;w("innerHtml",Et(1,1,t.valueFn.call(null,n)),Qi)}}function jtt(e,i){if(1&e&&j(0),2&e){const t=_().$implicit,n=_().$implicit;nt(" ",t.valueFn.call(null,n)," ")}}function Wtt(e,i){if(1&e&&(c(0,"td",51),q(1,Ztt,2,3,"div",65)(2,jtt,1,1),h()),2&e){const t=i.$implicit;d(),J(t.rendersHtml?1:2)}}function Xtt(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().filterDocuments(o))}),R(1,10),h()}}function Ktt(e,i){if(1&e){const t=pe();c(0,"button",66),F("click",function(){H(t);const o=_().$implicit;return $(_().openEditDialog(o))}),R(1,11),h()}}function qtt(e,i){if(1&e){const t=pe();c(0,"button",67),F("click",function(){H(t);const o=_().$implicit;return $(_().openDeleteDialog(o))}),R(1,12),h()}}function Ytt(e,i){if(1&e){const t=pe();c(0,"button",68),F("click",function(o){H(t);const s=_().$implicit;return _().filterDocuments(s),$(o.stopPropagation())}),k(1,"i-bs",69),j(2,"\xa0"),ke(3),R(4,13),ze(),h()}}function Jtt(e,i){if(1&e){const t=pe();c(0,"button",70),F("click",function(o){H(t);const s=_().$implicit;return _().openEditDialog(s),$(o.stopPropagation())}),k(1,"i-bs",71),j(2,"\xa0"),ke(3),R(4,14),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanEdit(t))}}function Qtt(e,i){if(1&e){const t=pe();c(0,"button",72),F("click",function(o){H(t);const s=_().$implicit;return _().openDeleteDialog(s),$(o.stopPropagation())}),k(1,"i-bs",73),j(2,"\xa0"),ke(3),R(4,15),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_().userCanDelete(t))}}function ent(e,i){if(1&e){const t=pe();c(0,"tr",48),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),c(1,"td")(2,"div",34)(3,"input",49),F("click",function(o){const s=H(t).$implicit;return _().toggleSelected(s),$(o.stopPropagation())}),h(),k(4,"label",50),h()(),c(5,"td",51)(6,"button",52),F("click",function(o){const s=H(t).$implicit,r=_();return r.userCanEdit(s)&&r.openEditDialog(s),$(o.stopPropagation())}),j(7),h()(),c(8,"td",53),j(9),h(),c(10,"td",51),j(11),h(),ut(12,Wtt,3,1,"td",51,Ft),c(14,"td",51)(15,"div",54)(16,"div",55)(17,"button",56),F("click",function(o){return H(t),$(o.stopPropagation())}),k(18,"i-bs",57),h(),c(19,"div",58),q(20,Xtt,2,0,"button",59)(21,Ktt,2,0,"button",59)(22,qtt,2,0,"button",60),h()()(),c(23,"div",61),q(24,Ytt,5,0,"button",62)(25,Jtt,5,1,"button",63)(26,Qtt,5,1,"button",64),h()()()}if(2&e){const t=i.$implicit,n=_();d(3),Ks("id","",n.typeName,"",t.id,""),w("checked",n.selectedObjects.has(t.id)),d(),Ks("for","",n.typeName,"",t.id,""),d(3),Pe(t.name),d(2),Pe(n.getMatching(t)),d(2),Pe(t.document_count),d(),_t(n.extraColumns),d(8),w("pngxIfPermissions",rt(16,kl,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(19,kl,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(22,kl,n.PermissionAction.Delete,n.permissionType)),d(2),w("pngxIfPermissions",rt(25,kl,n.PermissionAction.View,n.PermissionType.Document)),d(),w("pngxIfPermissions",rt(28,kl,n.PermissionAction.Change,n.permissionType)),d(),w("pngxIfPermissions",rt(31,kl,n.PermissionAction.Delete,n.permissionType))}}function tnt(e,i){1&e&&j(0),2&e&&nt(" \xa0(",_(3).selectedObjects.size," selected) ")}function nnt(e,i){if(1&e&&(c(0,"div"),ke(1),R(2,16),ze(),q(3,tnt,1,1),h()),2&e){const t=_(2);d(2),An(t.collectionSize)(t.typeName)(t.collectionSize||0)(t.typeNamePlural),Dn(2),d(),J(t.selectedObjects.size>0?3:-1)}}function int(e,i){if(1&e){const t=pe();c(0,"ngb-pagination",75),Tt("pageChange",function(o){H(t);const s=_(2);return mt(s.page,o)||(s.page=o),$(o)}),F("pageChange",function(){return H(t),$(_(2).reloadData())}),h()}if(2&e){const t=_(2);w("pageSize",25)("collectionSize",t.collectionSize),bt("page",t.page),w("maxSize",5)}}function ont(e,i){if(1&e&&(c(0,"div",42),q(1,nnt,4,5,"div")(2,int,1,4,"ngb-pagination",74),h()),2&e){const t=_();d(),J(t.collectionSize>0?1:-1),d(),J(t.collectionSize>20?2:-1)}}let snt=(()=>{class e extends W3{constructor(t,n,o,s,r){super(t,n,f3,o,s,r,30,"percorso di archiviazione","percorsi di archiviazione",It.StoragePath,[{key:"path",name:"Percorso",valueFn:a=>a.path}])}getDeleteMessage(t){return "Vuoi eliminare il percorso di archiviazione \"" + t.name + "\"?"}static#e=this.\u0275fac=function(n){return new(n||e)(Y(d0),Y(Ki),Y(ki),Y(ya),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-storage-path-list"]],features:[Ct],decls:48,vars:25,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe;return t="Nome",n="Azzera selezione",o="Permessi",s="Elimina",r="Filtra per:",a="Nome",l="Assegnazione",u="Numero di documenti",p="Azioni",v="Crea",L="Caricamento in corso...",z="Filtra Documenti",ie="Modifica",se="Elimina",he="Documenti",be="Modifica",we="Elimina",Fe="{VAR_PLURAL, plural, =1 {Uno {INTERPOLATION}} other {{INTERPOLATION_1} totale {INTERPOLATION_2}}}",Fe=Xa(Fe,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",INTERPOLATION_2:"\ufffd3\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),[n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,[3,"title"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","hidden"],["name","x"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["name","person-fill-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["name","trash"],["type","button","class","btn btn-sm btn-outline-primary ms-md-5",3,"click",4,"pngxIfPermissions"],[1,"row","mb-3"],[1,"col-md","mb-2","mb-xl-0"],[1,"form-inline","d-flex","align-items-center"],[1,"text-muted","me-2","mb-0"],["type","text","autofocus","","placeholder",t,1,"form-control","form-control-sm","flex-fill","w-auto",3,"ngModelChange","keyup","ngModel"],["size","sm","aria-label","Pagination",1,"col-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"],[1,"card","border","table-responsive","mb-3"],[1,"table","table-striped","align-middle","shadow-sm","mb-0"],["scope","col"],[1,"form-check","m-0","ms-2","me-n2"],["type","checkbox","id","all-objects",1,"form-check-input",3,"ngModelChange","click","ngModel","disabled"],["for","all-objects",1,"form-check-label"],["scope","col","pngxSortable","name",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","matching_algorithm",1,"fw-normal","d-none","d-sm-table-cell",3,"sort","currentSortField","currentSortReverse"],["scope","col","pngxSortable","document_count",1,"fw-normal",3,"sort","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal",3,"pngxSortable","currentSortField","currentSortReverse"],["scope","col",1,"fw-normal"],[1,"d-flex","mb-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-md-5",3,"click"],["name","plus-circle"],["scope","col",1,"fw-normal",3,"sort","pngxSortable","currentSortField","currentSortReverse"],["colspan","5"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],["scope","row"],[1,"btn","btn-link","ms-0","ps-0","text-start",3,"click"],["scope","row",1,"d-none","d-sm-table-cell"],[1,"btn-group","d-block","d-sm-none"],["ngbDropdown","","container","body",1,"d-inline-block"],["type","button","id","actionsMenuMobile","ngbDropdownToggle","",1,"btn","btn-link",3,"click"],["name","three-dots-vertical"],["ngbDropdownMenu","","aria-labelledby","actionsMenuMobile"],["ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],["class","text-danger","ngbDropdownItem","",3,"click",4,"pngxIfPermissions"],[1,"btn-group","d-none","d-sm-block"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger",3,"disabled","click",4,"pngxIfPermissions"],[3,"innerHtml"],["ngbDropdownItem","",3,"click"],["ngbDropdownItem","",1,"text-danger",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","filter"],[1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageSize","collectionSize","page","maxSize"],["size","sm","aria-label","Pagination",1,"ms-auto",3,"pageChange","pageSize","collectionSize","page","maxSize"]]},template:function(n,o){1&n&&(c(0,"pngx-page-header",17),ot(1,"titlecase"),c(2,"button",18),F("click",function(){return o.clearSelection()}),k(3,"i-bs",19),j(4,"\xa0"),ke(5),R(6,0),ze(),h(),c(7,"button",20),F("click",function(){return o.setPermissions()}),k(8,"i-bs",21),j(9,"\xa0"),ke(10),R(11,1),ze(),h(),c(12,"button",22),F("click",function(){return o.delete()}),k(13,"i-bs",23),j(14,"\xa0"),ke(15),R(16,2),ze(),h(),q(17,Btt,5,0,"button",24),h(),c(18,"div",25)(19,"div",26)(20,"div",27)(21,"label",28),R(22,3),h(),c(23,"input",29),Tt("ngModelChange",function(r){return mt(o.nameFilter,r)||(o.nameFilter=r),r}),F("keyup",function(r){return o.onNameFilterKeyUp(r)}),h()()(),c(24,"ngb-pagination",30),Tt("pageChange",function(r){return mt(o.page,r)||(o.page=r),r}),F("pageChange",function(){return o.reloadData()}),h()(),c(25,"div",31)(26,"table",32)(27,"thead")(28,"tr")(29,"th",33)(30,"div",34)(31,"input",35),Tt("ngModelChange",function(r){return mt(o.togggleAll,r)||(o.togggleAll=r),r}),F("click",function(r){return o.toggleAll(r),r.stopPropagation()}),h(),k(32,"label",36),h()(),c(33,"th",37),F("sort",function(r){return o.onSort(r)}),R(34,4),h(),c(35,"th",38),F("sort",function(r){return o.onSort(r)}),R(36,5),h(),c(37,"th",39),F("sort",function(r){return o.onSort(r)}),R(38,6),h(),ut(39,Gtt,2,4,"th",40,Ft),c(41,"th",41),R(42,7),h()()(),c(43,"tbody"),q(44,Utt,5,0,"tr"),ut(45,ent,27,34,"tr",null,Ft),h()()(),q(47,ont,3,2,"div",42)),2&n&&(ui("title",Et(1,20,o.typeNamePlural)),d(2),w("hidden",0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Change)||0===o.selectedObjects.size),d(5),w("disabled",!o.userCanBulkEdit(o.PermissionAction.Delete)||0===o.selectedObjects.size),d(5),w("pngxIfPermissions",rt(22,kl,o.PermissionAction.Add,o.permissionType)),d(6),bt("ngModel",o.nameFilter),d(),w("pageSize",25)("collectionSize",o.collectionSize),bt("page",o.page),w("maxSize",5),d(7),bt("ngModel",o.togggleAll),w("disabled",0===o.data.length),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),w("currentSortField",o.sortField)("currentSortReverse",o.sortReverse),d(2),_t(o.extraColumns),d(5),J(o.isLoading?44:-1),d(),_t(o.data),d(2),J(o.isLoading?-1:47))},dependencies:[Go,ys,is,wr,j1,gl,si,ts,Yt,Ln,Wt,Qs,Zo,Pl,Wc,m1],styles:[".d-block.d-sm-none[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none!important}.form-check[_ngcontent-%COMP%]{min-height:0}"]})}return e})();const g9=(e,i)=>({action:e,type:i}),X3=e=>({tasks:e});function rnt(e,i){if(1&e){const t=pe();c(0,"button",39),F("click",function(){return H(t),$(_().dismissTasks())}),k(1,"i-bs",40),j(2),h()}if(2&e){const t=_();w("disabled",0===t.tasksService.total),d(2),nt("\xa0",t.dismissButtonText," ")}}function ant(e,i){1&e&&(k(0,"div",41),c(1,"div",42),R(2,10),h())}function lnt(e,i){1&e&&(c(0,"th",48),R(1,15),h())}function cnt(e,i){if(1&e){const t=pe();c(0,"div",70),F("click",function(o){H(t);const s=_(2).$implicit;return _(2).expandTask(s),$(o.stopPropagation())}),c(1,"span",69),j(2),ot(3,"slice"),h()()}if(2&e){_();const t=vt(4),n=_().$implicit;w("ngbPopover",t),d(2),nt("",sp(3,2,n.result,0,50),"\u2026")}}function dnt(e,i){if(1&e&&(c(0,"span",69),j(1),h()),2&e){const t=_(2).$implicit;d(),Pe(t.result)}}function hnt(e,i){1&e&&j(0,"\n                  \u2026\n                ")}function unt(e,i){1&e&&(k(0,"br"),c(1,"em"),j(2,"("),ke(3),R(4,16),ze(),j(5,")"),h())}function _nt(e,i){if(1&e&&(c(0,"pre",71),j(1),ot(2,"slice"),q(3,hnt,1,0),h(),q(4,unt,6,0)),2&e){const t=_(2).$implicit;d(),Pe(sp(2,3,t.result,0,300)),d(2),J(t.result.length>300?3:-1),d(),J((null==t.result?null:t.result.length)>300?4:-1)}}function pnt(e,i){if(1&e&&(c(0,"td",57),q(1,cnt,4,6,"div",68)(2,dnt,2,1,"span",69)(3,_nt,5,7,"ng-template",null,3,on),h()),2&e){const t=_().$implicit;d(),J((null==t.result?null:t.result.length)>50?1:-1),d(),J((null==t.result?null:t.result.length)<=50?2:-1)}}function gnt(e,i){if(1&e){const t=pe();c(0,"button",72),F("click",function(o){H(t);const s=_().$implicit;return _(2).dismissTask(s),$(o.stopPropagation())}),k(1,"i-bs",73),j(2,"\xa0"),ke(3),R(4,17),ze(),h()}}function fnt(e,i){if(1&e){const t=pe();c(0,"button",75),F("click",function(o){H(t);const s=_(2).$implicit;return _(2).dismissAndGo(s),$(o.stopPropagation())}),k(1,"i-bs",76),j(2,"\xa0"),ke(3),R(4,18),ze(),h()}}function mnt(e,i){if(1&e&&(ke(0),q(1,fnt,5,0,"button",74),ze()),2&e){const t=_().$implicit;d(),J(t.related_document?1:-1)}}function vnt(e,i){if(1&e){const t=pe();c(0,"tr",53),F("click",function(o){const s=H(t).$implicit;return _(2).toggleSelected(s,o),$(o.stopPropagation())}),c(1,"td")(2,"div",45)(3,"input",54),F("click",function(o){const s=H(t).$implicit;return _(2).toggleSelected(s,o),$(o.stopPropagation())}),h(),k(4,"label",55),h()(),c(5,"td",56),j(6),h(),c(7,"td",57),j(8),ot(9,"customDate"),h(),q(10,pnt,5,2,"td",57),c(11,"td",58)(12,"button",59),F("click",function(o){const s=H(t).$implicit;return _(2).expandTask(s),$(o.stopPropagation())}),k(13,"i-bs",60),h()(),c(14,"td",61)(15,"div",62),q(16,gnt,5,0,"button",63)(17,mnt,2,1,"ng-container",64),h()()(),c(18,"tr")(19,"td",65)(20,"pre",66,2)(22,"div",67),j(23),h()()()()}if(2&e){const t=i.$implicit,n=_(2);d(3),ln("id","task",t.id,""),w("checked",n.selectedTasks.has(t.id)),d(),ln("for","task",t.id,""),d(2),Pe(t.task_file_name),d(2),Pe(io(9,14,t.date_created,"short")),d(2),J("started"!==n.activeTab&&"queued"!==n.activeTab?10:-1),d(6),w("pngxIfPermissions",rt(17,g9,n.PermissionAction.Change,n.PermissionType.PaperlessTask)),d(),w("pngxIfPermissions",rt(20,g9,n.PermissionAction.View,n.PermissionType.Document)),d(2),Ye("border-0",n.expandedTask!==t.id),d(),w("ngbCollapse",n.expandedTask!==t.id),d(3),Pe(t.result)}}function Cnt(e,i){if(1&e&&(ke(0),R(1,20),ze()),2&e){const t=_(3);d(),An(t.selectedTasks.size),Dn(1)}}function wnt(e,i){if(1&e&&(c(0,"div",51),ke(1),R(2,19),ze(),q(3,Cnt,2,1,"ng-container"),h()),2&e){const t=_().tasks,n=_();d(2),An(t.length)(n.activeTabLocalized)(t.length||0),Dn(2),d(),J(n.selectedTasks.size>0?3:-1)}}function Mnt(e,i){if(1&e){const t=pe();c(0,"ngb-pagination",77),Tt("pageChange",function(o){H(t);const s=_(2);return mt(s.page,o)||(s.page=o),$(o)}),h()}if(2&e){const t=_().tasks,n=_();bt("page",n.page),w("pageSize",n.pageSize)("collectionSize",t.length)}}function bnt(e,i){if(1&e){const t=pe();c(0,"table",43)(1,"thead")(2,"tr")(3,"th",44)(4,"div",45)(5,"input",46),Tt("ngModelChange",function(o){H(t);const s=_();return mt(s.togggleAll,o)||(s.togggleAll=o),$(o)}),F("click",function(o){return H(t),_().toggleAll(o),$(o.stopPropagation())}),h(),k(6,"label",47),h()(),c(7,"th",44),R(8,11),h(),c(9,"th",48),R(10,12),h(),q(11,lnt,2,0,"th",48),c(12,"th",49),R(13,13),h(),c(14,"th",44),R(15,14),h()()(),c(16,"tbody"),ut(17,vnt,24,23,null,null,Ft),ot(19,"slice"),h()(),c(20,"div",50),q(21,wnt,4,4,"div",51)(22,Mnt,1,3,"ngb-pagination",52),h()}if(2&e){const t=i.tasks,n=_();d(5),w("disabled",0===n.currentTasks.length),bt("ngModel",n.togggleAll),d(6),J("started"!==n.activeTab&&"queued"!==n.activeTab?11:-1),d(6),_t(sp(19,5,t,(n.page-1)*n.pageSize,n.page*n.pageSize)),d(4),J(t.length>0?21:-1),d(),J(t.length>n.pageSize?22:-1)}}function Tnt(e,i){if(1&e&&(hs(0,6,1),k(1,"span",32),us()),2&e){const t=_();d(),An(t.tasksService.failedFileTasks.length),Dn(0)}}function Snt(e,i){if(1&e&&ri(0,78),2&e){const t=_();w("ngTemplateOutlet",vt(14))("ngTemplateOutletContext",No(2,X3,t.tasksService.failedFileTasks))}}function Ent(e,i){if(1&e&&(hs(0,7,1),k(1,"span",35),us()),2&e){const t=_();d(),An(t.tasksService.completedFileTasks.length),Dn(0)}}function Ant(e,i){if(1&e&&ri(0,78),2&e){const t=_();w("ngTemplateOutlet",vt(14))("ngTemplateOutletContext",No(2,X3,t.tasksService.completedFileTasks))}}function Ont(e,i){if(1&e&&(hs(0,8,1),k(1,"span",35),us()),2&e){const t=_();d(),An(t.tasksService.startedFileTasks.length),Dn(0)}}function ynt(e,i){if(1&e&&ri(0,78),2&e){const t=_();w("ngTemplateOutlet",vt(14))("ngTemplateOutletContext",No(2,X3,t.tasksService.startedFileTasks))}}function Dnt(e,i){if(1&e&&(hs(0,9,1),k(1,"span",35),us()),2&e){const t=_();d(),An(t.tasksService.queuedFileTasks.length),Dn(0)}}function Nnt(e,i){if(1&e&&ri(0,78),2&e){const t=_();w("ngTemplateOutlet",vt(14))("ngTemplateOutletContext",No(2,X3,t.tasksService.queuedFileTasks))}}let Pnt=(()=>{class e extends Uo{get dismissButtonText(){return this.selectedTasks.size>0?"Ignora selezionati":"Ignora tutto"}constructor(t,n,o){super(),this.tasksService=t,this.modalService=n,this.router=o,this.selectedTasks=new Set,this.togggleAll=!1,this.pageSize=25,this.page=1}ngOnInit(){this.tasksService.reload(),this.toggleAutoRefresh()}ngOnDestroy(){this.tasksService.cancelPending(),clearInterval(this.autoRefreshInterval)}dismissTask(t){this.dismissTasks(t)}dismissTasks(t=void 0){let n=t?new Set([t.id]):new Set(this.selectedTasks.values());if(!t&&0==n.size&&(n=new Set(this.tasksService.allFileTasks.map(o=>o.id))),n.size>1){let o=this.modalService.open(pi,{backdrop:"static"});o.componentInstance.title="Conferma Ignora Tutto",o.componentInstance.messageBold="Ignorare tutte le attivit\xE0 " + n.size + "?",o.componentInstance.btnClass="btn-warning",o.componentInstance.btnCaption="Ignora",o.componentInstance.confirmClicked.pipe(wt()).subscribe(()=>{o.componentInstance.buttonsEnabled=!1,o.close(),this.tasksService.dismissTasks(n),this.selectedTasks.clear()})}else this.tasksService.dismissTasks(n),this.selectedTasks.clear()}dismissAndGo(t){this.dismissTask(t),this.router.navigate(["documents",t.related_document])}expandTask(t){this.expandedTask=this.expandedTask==t.id?void 0:t.id}toggleSelected(t){this.selectedTasks.has(t.id)?this.selectedTasks.delete(t.id):this.selectedTasks.add(t.id)}get currentTasks(){let t=[];switch(this.activeTab){case"queued":t=this.tasksService.queuedFileTasks;break;case"started":t=this.tasksService.startedFileTasks;break;case"completed":t=this.tasksService.completedFileTasks;break;case"failed":t=this.tasksService.failedFileTasks}return t}toggleAll(t){t.target.checked?this.selectedTasks=new Set(this.currentTasks.map(n=>n.id)):this.clearSelection()}clearSelection(){this.togggleAll=!1,this.selectedTasks.clear()}duringTabChange(t){this.page=1}get activeTabLocalized(){switch(this.activeTab){case"queued":return "in coda";case"started":return "avviato";case"completed":return "completato";case"failed":return "fallito"}}toggleAutoRefresh(){this.autoRefreshInterval?(clearInterval(this.autoRefreshInterval),this.autoRefreshInterval=null):this.autoRefreshInterval=setInterval(()=>{this.tasksService.reload()},5e3)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(e9),Y(Ki),Y(so))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-tasks"]],features:[Ct],decls:38,vars:13,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae;return t="Attivit\xE0 File",n="Le Attivit\xE0 File mostrano i documenti che sono stati elaborati, sono in attesa di esserlo, o possano aver portato a un fallimento durante l'Attivit\xE0.",o="Azzera selezione",s="Aggiornamento automatico",r="Fallito" + "\ufffd*20:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*20:1\ufffd" + "",a="Completato" + "\ufffd*25:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*25:1\ufffd" + "",l="Iniziato" + "\ufffd*30:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*30:1\ufffd" + "",u="In Coda" + "\ufffd*35:1\ufffd" + "" + "\ufffd#1:1\ufffd" + "" + "\ufffd0:1\ufffd" + "" + "\ufffd/#1:1\ufffd" + "" + "\ufffd/*35:1\ufffd" + "",p="Caricamento in corso...",v="Nome",L="Creato",z="Informazioni",ie="Azioni",se="Risultati",he="clicca per l'output completo",be="Ignora",we="Apri Documento",Fe="{VAR_PLURAL, plural, =1 {Una {INTERPOLATION} attivit\xE0} other {{INTERPOLATION_1} totale {INTERPOLATION} attivit\xE0}}",Fe=Xa(Fe,{INTERPOLATION:"\ufffd1\ufffd",INTERPOLATION_1:"\ufffd2\ufffd",VAR_PLURAL:"\ufffd0\ufffd"}),Ae=" (" + "\ufffd0\ufffd" + " selezionato)",[["tasksTemplate",""],["nav","ngbNav"],["collapse","ngbCollapse"],["resultPopover",""],o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,["title",t,"info",n],[1,"btn-toolbar","col","col-md-auto","align-items-center"],[1,"btn","btn-sm","btn-outline-secondary","me-2",3,"click","hidden"],["name","x"],["class","btn btn-sm btn-outline-primary me-4",3,"disabled","click",4,"pngxIfPermissions"],[1,"form-check","form-switch","mb-0"],["type","checkbox","role","switch","id","autoRefreshSwitch",1,"form-check-input",3,"click"],["for","autoRefreshSwitch",1,"form-check-label"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","hidden","activeId"],["ngbNavItem","failed"],["ngbNavLink",""],[1,"badge","bg-danger","ms-2"],["ngbNavContent",""],["ngbNavItem","completed"],[1,"badge","bg-secondary","ms-2"],["ngbNavItem","started"],["ngbNavItem","queued"],[3,"ngbNavOutlet"],[1,"btn","btn-sm","btn-outline-primary","me-4",3,"click","disabled"],["name","check2-all"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"],[1,"table","table-striped","align-middle","border","shadow-sm"],["scope","col"],[1,"form-check"],["type","checkbox","id","all-tasks",1,"form-check-input",3,"ngModelChange","click","disabled","ngModel"],["for","all-tasks",1,"form-check-label"],["scope","col",1,"d-none","d-lg-table-cell"],["scope","col",1,"d-table-cell","d-lg-none"],[1,"pb-3","d-sm-flex","justify-content-between","align-items-center"],[1,"pb-2","pb-sm-0"],["maxSize","8","size","sm",3,"page","pageSize","collectionSize"],[3,"click"],["type","checkbox",1,"form-check-input",3,"click","id","checked"],[1,"form-check-label",3,"for"],[1,"overflow-auto","name-col"],[1,"d-none","d-lg-table-cell"],[1,"d-lg-none"],[1,"btn","btn-link",3,"click"],["width","1.2em","height","1.2em","name","info-circle"],["scope","row"],["role","group",1,"btn-group"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"pngxIfPermissions"],[4,"pngxIfPermissions"],["colspan","5",1,"p-0"],[1,"small","mb-0",3,"ngbCollapse"],[1,"small","p-1","p-lg-3","ms-lg-3"],["popoverClass","shadow small mobile","triggers","mouseenter:mouseleave","container","body",1,"result",3,"ngbPopover"],[1,"small","d-none","d-md-inline-block","font-monospace","text-muted"],["popoverClass","shadow small mobile","triggers","mouseenter:mouseleave","container","body",1,"result",3,"click","ngbPopover"],[1,"small","mb-0"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","check"],[1,"btn","btn-sm","btn-outline-primary"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","file-text"],["maxSize","8","size","sm",3,"pageChange","page","pageSize","collectionSize"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]]},template:function(n,o){if(1&n){const s=pe();c(0,"pngx-page-header",21)(1,"div",22)(2,"button",23),F("click",function(){return H(s),$(o.clearSelection())}),k(3,"i-bs",24),j(4,"\xa0"),ke(5),R(6,4),ze(),h(),q(7,rnt,3,2,"button",25),c(8,"div",26)(9,"input",27),F("click",function(){return H(s),$(o.toggleAutoRefresh())}),h(),c(10,"label",28),R(11,5),h()()()(),q(12,ant,3,0)(13,bnt,23,9,"ng-template",null,0,on),c(15,"ul",29,1),Tt("activeIdChange",function(a){return H(s),mt(o.activeTab,a)||(o.activeTab=a),$(a)}),F("hidden",function(a){return H(s),$(o.duringTabChange(a))}),c(17,"li",30)(18,"a",31),hs(19,6),q(20,Tnt,2,1,"span",32),us(),h(),q(21,Snt,1,4,"ng-template",33),h(),c(22,"li",34)(23,"a",31),hs(24,7),q(25,Ent,2,1,"span",35),us(),h(),q(26,Ant,1,4,"ng-template",33),h(),c(27,"li",36)(28,"a",31),hs(29,8),q(30,Ont,2,1,"span",35),us(),h(),q(31,ynt,1,4,"ng-template",33),h(),c(32,"li",37)(33,"a",31),hs(34,9),q(35,Dnt,2,1,"span",35),us(),h(),q(36,Nnt,1,4,"ng-template",33),h()(),k(37,"div",38)}if(2&n){const s=vt(16);d(2),w("hidden",0===o.selectedTasks.size),d(5),w("pngxIfPermissions",rt(10,g9,o.PermissionAction.Change,o.PermissionType.PaperlessTask)),d(2),Mn("checked",o.autoRefreshInterval),d(3),J(!o.tasksService.completedFileTasks&&o.tasksService.loading?12:-1),d(3),bt("activeId",o.activeTab),d(5),J(o.tasksService.failedFileTasks.length>0?20:-1),d(5),J(o.tasksService.completedFileTasks.length>0?25:-1),d(5),J(o.tasksService.startedFileTasks.length>0?30:-1),d(5),J(o.tasksService.queuedFileTasks.length>0?35:-1),d(2),w("ngbNavOutlet",s)}},dependencies:[es,vh,E5,W1,a0,A5,O5,Ta,y5,gl,Wr,ts,Yt,Ln,Wt,Qs,Zo,JA,Ns],styles:[".popover{max-width:350px}  .popover pre{white-space:pre-wrap;word-break:break-word}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-break:break-word}.result[_ngcontent-%COMP%]{cursor:pointer}.btn[_ngcontent-%COMP%]   .spinner-border-sm[_ngcontent-%COMP%]{width:.8rem;height:.8rem}@media (max-width: 575.98px){.name-col[_ngcontent-%COMP%]{max-width:150px}}"]})}return e})(),wo=(()=>{class e{constructor(t,n,o,s){this.permissionsService=t,this.router=n,this.toastService=o,this.tourService=s}canActivate(t,n){return!(t.data.requireAdmin&&!this.permissionsService.isAdmin()||t.data.requiredPermission&&!this.permissionsService.currentUserCan(t.data.requiredPermission.action,t.data.requiredPermission.type))||(1!==this.tourService.getStatus()&&this.toastService.showError("Non hai permessi per farlo"),this.router.parseUrl("/dashboard"))}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Xn),Ke(so),Ke(ki),Ke(Jh))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),MF=(()=>{class e{canDeactivate(t){return!!t.canDeactivate()||confirm("Attenzione: Hai modifiche non salvate ai tuoi documenti.")}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),K3=(()=>{class e{constructor(t,n){this.modalService=t,this.settings=n}canDeactivate(t){return!t.savedViewIsModified||!this.settings.get(Ue.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE)||this.warn(t)}warn(t){let n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Modifiche non salvate",n.componentInstance.messageBold="Hai modifiche non salvate alla vista salvata"+' "'+t.getTitle(),n.componentInstance.message="Sei sicuro di voler chiudere questa vista salvata?",n.componentInstance.btnClass="btn-secondary",n.componentInstance.btnCaption="Chiudi",n.componentInstance.alternativeBtnClass="btn-primary",n.componentInstance.alternativeBtnCaption="Salva e chiudi",n.componentInstance.alternativeClicked.pipe(wt()).subscribe(()=>{n.componentInstance.buttonsEnabled=!1,t.saveViewConfig(),n.close()}),n.componentInstance.confirmClicked.pipe(wt()).subscribe(()=>{n.componentInstance.buttonsEnabled=!1,n.close()});const o=new et;return n.componentInstance.confirmSubject=o,n.componentInstance.alternativeSubject=o,o}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Ki),Ke(Tn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const Int=(e,i)=>i.id,f9=(e,i)=>({action:e,type:i});function Lnt(e,i){if(1&e){const t=pe();c(0,"button",17),F("click",function(){return H(t),$(_().editWorkflow())}),k(1,"i-bs",18),j(2,"\xa0"),ke(3),R(4,5),ze(),h()}}function xnt(e,i){1&e&&(ke(0),R(1,6),ze())}function Rnt(e,i){1&e&&(c(0,"span",21),R(1,7),h())}function Fnt(e,i){if(1&e){const t=pe();c(0,"button",25),F("click",function(){H(t);const o=_().$implicit;return $(_().editWorkflow(o))}),k(1,"i-bs",26),j(2,"\xa0"),ke(3),R(4,8),ze(),h()}}function knt(e,i){if(1&e){const t=pe();c(0,"button",27),F("click",function(){H(t);const o=_().$implicit;return $(_().deleteWorkflow(o))}),k(1,"i-bs",28),j(2,"\xa0"),ke(3),R(4,9),ze(),h()}}function znt(e,i){if(1&e){const t=pe();c(0,"li",14)(1,"div",15)(2,"div",19)(3,"button",20),F("click",function(){const o=H(t).$implicit;return $(_().editWorkflow(o))}),j(4),h()(),c(5,"div",19)(6,"code"),j(7),h()(),c(8,"div",19)(9,"code"),q(10,xnt,2,0,"ng-container")(11,Rnt,2,0,"span",21),h()(),c(12,"div",19),j(13),h(),c(14,"div",16)(15,"div",22),q(16,Fnt,5,0,"button",23)(17,knt,5,0,"button",24),h()()()()}if(2&e){const t=i.$implicit,n=_();d(3),w("disabled",!n.permissionsService.currentUserCan(n.PermissionAction.Change,n.PermissionType.Workflow)),d(),Pe(t.name),d(3),Pe(t.order),d(3),J(t.enabled?10:11),d(3),Pe(n.getTypesList(t)),d(3),w("pngxIfPermissions",rt(7,f9,n.PermissionAction.Change,n.PermissionType.Workflow)),d(),w("pngxIfPermissions",rt(10,f9,n.PermissionAction.Delete,n.PermissionType.Workflow))}}function Vnt(e,i){1&e&&(c(0,"li",14),R(1,10),h())}let Hnt=(()=>{class e extends Uo{constructor(t,n,o,s){super(),this.workflowService=t,this.permissionsService=n,this.modalService=o,this.toastService=s,this.workflows=[],this.unsubscribeNotifier=new et}ngOnInit(){this.reload()}reload(){this.workflowService.listAll().pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.workflows=t.results})}getTypesList(t){return t.triggers.map(n=>aF.find(o=>o.id===n.type).name).join(", ")}editWorkflow(t){const n=this.modalService.open(lF,{backdrop:"static",size:"xl"});if(n.componentInstance.dialogMode=t?Vn.EDIT:Vn.CREATE,t){const o=Object.assign({},t);o.actions=[...t.actions],o.triggers=[...t.triggers],n.componentInstance.object=o}n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Flusso di Lavoro Salvato \"" + o.name + "\"."),this.workflowService.clearCache(),this.reload()}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore nel salvataggio del flusso di lavoro.",o)})}deleteWorkflow(t){const n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma l'eliminazione del flusso di lavoro",n.componentInstance.messageBold="Questa operazione eliminer\xE0 permanentemente questo flusso di lavoro.",n.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Continua",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.workflowService.delete(t).subscribe({next:()=>{n.close(),this.toastService.showInfo("Flusso di lavoro eliminato"),this.workflowService.clearCache(),this.reload()},error:o=>{this.toastService.showError("Errore nel eliminazione del flusso di lavoro.",o)}})})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(rF),Y(Xn),Y(Ki),Y(ki))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-workflows"]],features:[Ct],decls:18,vars:5,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie;return t="Flussi Di Lavoro",n="Utilizza i flussi di lavoro per personalizzare il comportamento di Paperless-ngx quando gli eventi \"attivano\" un flusso di lavoro.",o="Nome",s="Ordinamento",r="Stato",a="Attivatori",l="Azioni",u="Aggiungi flusso di lavoro",p="Abilitato",v="Disabilitato",L="Modifica",z="Elimina",ie="Nessun flusso di lavoro definito",[o,s,r,a,l,u,p,v,L,z,ie,["title",t,"info",n,"infoLink","usage/#workflows"],["type","button","class","btn btn-sm btn-outline-primary",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","plus-circle"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"text-muted"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"]]},template:function(n,o){1&n&&(c(0,"pngx-page-header",11),q(1,Lnt,5,0,"button",12),h(),c(2,"ul",13)(3,"li",14)(4,"div",15)(5,"div",16),R(6,0),h(),c(7,"div",16),R(8,1),h(),c(9,"div",16),R(10,2),h(),c(11,"div",16),R(12,3),h(),c(13,"div",16),R(14,4),h()()(),ut(15,znt,18,13,"li",14,Int),q(17,Vnt,2,0,"li",14),h()),2&n&&(d(),w("pngxIfPermissions",rt(2,f9,o.PermissionAction.Add,o.PermissionType.Workflow)),d(14),_t(o.workflows),d(2),J(0===o.workflows.length?17:-1))},dependencies:[Wt,Qs,Zo]})}return e})();const g0=(e,i)=>({action:e,type:i});function $nt(e,i){if(1&e){const t=pe();c(0,"button",28),F("click",function(){return H(t),$(_(2).editMailAccount())}),k(1,"i-bs",29),j(2,"\xa0"),ke(3),R(4,5),ze(),h()}}function Bnt(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){H(t);const o=_().$implicit;return $(_(2).editMailAccount(o))}),k(1,"i-bs",37),j(2,"\xa0"),ke(3),R(4,6),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_(2).userCanEdit(t))}}function Gnt(e,i){if(1&e){const t=pe();c(0,"button",38),F("click",function(){H(t);const o=_().$implicit;return $(_(2).editPermissions(o))}),k(1,"i-bs",39),j(2,"\xa0"),ke(3),R(4,7),ze(),h()}}function Unt(e,i){if(1&e){const t=pe();c(0,"button",40),F("click",function(){H(t);const o=_().$implicit;return $(_(2).deleteMailAccount(o))}),k(1,"i-bs",41),j(2,"\xa0"),ke(3),R(4,8),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_(2).userIsOwner(t))}}function Znt(e,i){if(1&e){const t=pe();c(0,"li",25)(1,"div",26)(2,"div",30)(3,"button",31),F("click",function(){const o=H(t).$implicit;return $(_(2).editMailAccount(o))}),j(4),h()(),c(5,"div",30),j(6),h(),c(7,"div",30),j(8),h(),c(9,"div",27)(10,"div",32),q(11,Bnt,5,1,"button",33)(12,Gnt,5,0,"button",34)(13,Unt,5,1,"button",35),h()()()()}if(2&e){const t=i.$implicit,n=_(2);d(3),w("disabled",!n.permissionsService.currentUserCan(n.PermissionAction.Change,n.PermissionType.MailAccount)),d(),Pe(t.name),d(2),Pe(t.imap_server),d(2),Pe(t.username),d(3),w("pngxIfPermissions",rt(7,g0,n.PermissionAction.Change,n.PermissionType.MailAccount)),d(),w("pngxIfOwner",t),d(),w("pngxIfPermissions",rt(10,g0,n.PermissionAction.Delete,n.PermissionType.MailAccount))}}function jnt(e,i){1&e&&(c(0,"li",25),R(1,9),h())}function Wnt(e,i){if(1&e&&(ke(0),c(1,"h4"),ke(2),R(3,0),ze(),q(4,$nt,5,0,"button",23),h(),c(5,"ul",24)(6,"li",25)(7,"div",26)(8,"div",27),R(9,1),h(),c(10,"div",27),R(11,2),h(),c(12,"div",27),R(13,3),h(),c(14,"div",27),R(15,4),h()()(),ut(16,Znt,14,13,"li",25,Ft),q(18,jnt,2,0,"li",25),h(),ze()),2&e){const t=_();d(4),w("pngxIfPermissions",rt(2,g0,t.PermissionAction.Add,t.PermissionType.MailAccount)),d(12),_t(t.mailAccounts),d(2),J(0===t.mailAccounts.length?18:-1)}}function Xnt(e,i){if(1&e){const t=pe();c(0,"button",28),F("click",function(){return H(t),$(_(2).editMailRule())}),k(1,"i-bs",29),j(2,"\xa0"),ke(3),R(4,15),ze(),h()}}function Knt(e,i){if(1&e){const t=pe();c(0,"button",36),F("click",function(){H(t);const o=_().$implicit;return $(_(2).editMailRule(o))}),k(1,"i-bs",37),j(2,"\xa0"),ke(3),R(4,16),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_(2).userCanEdit(t))}}function qnt(e,i){if(1&e){const t=pe();c(0,"button",38),F("click",function(){H(t);const o=_().$implicit;return $(_(2).editPermissions(o))}),k(1,"i-bs",39),j(2,"\xa0"),ke(3),R(4,17),ze(),h()}}function Ynt(e,i){if(1&e){const t=pe();c(0,"button",40),F("click",function(){H(t);const o=_().$implicit;return $(_(2).deleteMailRule(o))}),k(1,"i-bs",41),j(2,"\xa0"),ke(3),R(4,18),ze(),h()}if(2&e){const t=_().$implicit;w("disabled",!_(2).userIsOwner(t))}}function Jnt(e,i){if(1&e){const t=pe();c(0,"li",25)(1,"div",26)(2,"div",30)(3,"button",31),F("click",function(){const o=H(t).$implicit;return $(_(2).editMailRule(o))}),j(4),h()(),c(5,"div",30),j(6),h(),c(7,"div",30),j(8),ot(9,"async"),h(),c(10,"div",27)(11,"div",32),q(12,Knt,5,1,"button",33)(13,qnt,5,0,"button",34)(14,Ynt,5,1,"button",35),h()()()()}if(2&e){let t;const n=i.$implicit,o=_(2);d(3),w("disabled",!o.permissionsService.currentUserCan(o.PermissionAction.Change,o.PermissionType.MailRule)),d(),Pe(n.name),d(2),Pe(n.order),d(2),Pe(null==(t=Et(9,7,o.mailAccountService.getCached(n.account)))?null:t.name),d(4),w("pngxIfPermissions",rt(9,g0,o.PermissionAction.Change,o.PermissionType.MailRule)),d(),w("pngxIfOwner",n),d(),w("pngxIfPermissions",rt(12,g0,o.PermissionAction.Delete,o.PermissionType.MailRule))}}function Qnt(e,i){1&e&&(c(0,"li",25),R(1,19),h())}function eit(e,i){if(1&e&&(ke(0),c(1,"h4",42),ke(2),R(3,10),ze(),q(4,Xnt,5,0,"button",23),h(),c(5,"ul",24)(6,"li",25)(7,"div",26)(8,"div",27),R(9,11),h(),c(10,"div",27),R(11,12),h(),c(12,"div",27),R(13,13),h(),c(14,"div",27),R(15,14),h()()(),ut(16,Jnt,15,15,"li",25,Ft),q(18,Qnt,2,0,"li",25),h(),ze()),2&e){const t=_();d(4),w("pngxIfPermissions",rt(2,g0,t.PermissionAction.Add,t.PermissionType.MailRule)),d(12),_t(t.mailRules),d(2),J(0===t.mailRules.length?18:-1)}}function tit(e,i){1&e&&(c(0,"div"),k(1,"div",43),c(2,"div",44),R(3,20),h()())}let nit=(()=>{class e extends Uo{constructor(t,n,o,s,r){super(),this.mailAccountService=t,this.mailRuleService=n,this.toastService=o,this.modalService=s,this.permissionsService=r,this.mailAccounts=[],this.mailRules=[],this.unsubscribeNotifier=new et}ngOnInit(){this.mailAccountService.listAll(null,null,{full_perms:!0}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:t=>{this.mailAccounts=t.results},error:t=>{this.toastService.showError("Errore nel recupero degli account di posta",t)}}),this.mailRuleService.listAll(null,null,{full_perms:!0}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:t=>{this.mailRules=t.results},error:t=>{this.toastService.showError("Errore nel recupero delle regole di posta",t)}})}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}editMailAccount(t=null){const n=this.modalService.open(iF,{backdrop:"static",size:"xl"});n.componentInstance.dialogMode=t?Vn.EDIT:Vn.CREATE,n.componentInstance.object=t,n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Account \"" + o.name + "\" salvato."),this.mailAccountService.clearCache(),this.mailAccountService.listAll(null,null,{full_perms:!0}).subscribe(s=>{this.mailAccounts=s.results})}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore durante il salvataggio dell'account.",o)})}deleteMailAccount(t){const n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma eliminazione dell'account email",n.componentInstance.messageBold="Questa operazione eliminer\xE0 definitivamente questo account email.",n.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Continua",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.mailAccountService.delete(t).subscribe({next:()=>{n.close(),this.toastService.showInfo("Account email eliminato"),this.mailAccountService.clearCache(),this.mailAccountService.listAll(null,null,{full_perms:!0}).subscribe(o=>{this.mailAccounts=o.results})},error:o=>{this.toastService.showError("Errore durante l'eliminazione dell'account mail.",o)}})})}editMailRule(t=null){const n=this.modalService.open(oF,{backdrop:"static",size:"xl"});n.componentInstance.dialogMode=t?Vn.EDIT:Vn.CREATE,n.componentInstance.object=t,n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Regola \"" + o.name + "\" salvata."),this.mailRuleService.clearCache(),this.mailRuleService.listAll(null,null,{full_perms:!0}).subscribe(s=>{this.mailRules=s.results})}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore durante il salvataggio della regola.",o)})}deleteMailRule(t){const n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma eliminazione della regola email",n.componentInstance.messageBold="Questa operazione eliminer\xE0 definitivamente questa regola di posta.",n.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Continua",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.mailRuleService.delete(t).subscribe({next:()=>{n.close(),this.toastService.showInfo("Regola email eliminata"),this.mailRuleService.clearCache(),this.mailRuleService.listAll(null,null,{full_perms:!0}).subscribe(o=>{this.mailRules=o.results})},error:o=>{this.toastService.showError("Errore durante l'eliminazione della regola email.",o)}})})}editPermissions(t){const n=this.modalService.open(u9,{backdrop:"static"});n.componentInstance.object=t,n.componentInstance.confirmClicked.subscribe(({permissions:s})=>{n.componentInstance.buttonsEnabled=!1;const a="account"in t?this.mailRuleService:this.mailAccountService;t.owner=s.owner,t.set_permissions=s.set_permissions,a.patch(t).subscribe({next:()=>{this.toastService.showInfo("Permessi aggiornati"),n.close()},error:l=>{this.toastService.showError("Errore durante l'aggiornamento dei permnessi",l)}})})}userCanEdit(t){return this.permissionsService.currentUserHasObjectPermissions(Nt.Change,t)}userIsOwner(t){return this.permissionsService.currentUserOwnsObject(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(t9),Y(n9),Y(ki),Y(Ki),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-mail"]],features:[Ct],decls:4,vars:9,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt;return t="Impostazioni email",n="Gestisci account e-mail e le regole per l'importazione automatica dei documenti.",o="Account email",s="Nome",r="Server",a="Nome utente",l="Azioni",u="Aggiungi Account",p="Modifica",v="Permessi",L="Elimina",z="Nessun account e-mail definito.",ie="Regole email",se="Nome",he="Sort Order",be="Profilo",we="Azioni",Fe="Aggiungi regola",Ae="Modifica",Qe="Permessi",pt="Elimina",gt="Nessuna regola email definita.",Mt="Caricamento in corso...",[o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,Ae,Qe,pt,gt,Mt,["title",t,"info",n,"infoLink","usage/#usage-email"],[4,"pngxIfPermissions"],["type","button","class","btn btn-sm btn-outline-primary ms-4",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"disabled","click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfOwner"],["class","btn btn-sm btn-outline-danger","type","button",3,"disabled","click",4,"pngxIfPermissions"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click","disabled"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","person-lock"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],["width","1em","height","1em","name","trash"],[1,"mt-4"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(n,o){1&n&&(k(0,"pngx-page-header",21),q(1,Wnt,19,5,"ng-container",22)(2,eit,19,5,"ng-container",22)(3,tit,4,0,"div")),2&n&&(d(),w("pngxIfPermissions",rt(3,g0,o.PermissionAction.View,o.PermissionType.MailAccount)),d(),w("pngxIfPermissions",rt(6,g0,o.PermissionAction.View,o.PermissionType.MailRule)),d(),J(o.mailAccounts&&o.mailRules?-1:3))},dependencies:[Wt,Qs,Zo,Fh,k1]})}return e})();const id=(e,i)=>({action:e,type:i});function iit(e,i){if(1&e){const t=pe();c(0,"button",23),F("click",function(){return H(t),$(_(2).editUser())}),k(1,"i-bs",24),j(2,"\xa0"),ke(3),R(4,5),ze(),h()}}function oit(e,i){if(1&e){const t=pe();c(0,"button",30),F("click",function(){H(t);const o=_().$implicit;return $(_(2).editUser(o))}),k(1,"i-bs",31),j(2,"\xa0"),ke(3),R(4,6),ze(),h()}}function sit(e,i){if(1&e){const t=pe();c(0,"button",32),F("click",function(){H(t);const o=_().$implicit;return $(_(2).deleteUser(o))}),k(1,"i-bs",33),j(2,"\xa0"),ke(3),R(4,7),ze(),h()}}function rit(e,i){if(1&e){const t=pe();c(0,"li",20)(1,"div",21)(2,"div",25)(3,"button",26),F("click",function(){const o=H(t).$implicit;return $(_(2).editUser(o))}),j(4),h()(),c(5,"div",25),j(6),h(),c(7,"div",25),j(8),h(),c(9,"div",22)(10,"div",27),q(11,oit,5,0,"button",28)(12,sit,5,0,"button",29),h()()()()}if(2&e){const t=i.$implicit,n=_(2);d(3),w("disabled",!n.permissionsService.currentUserCan(n.PermissionAction.Change,n.PermissionType.User)),d(),Pe(t.username),d(2),l1("",t.first_name," ",t.last_name,""),d(2),Pe(null==t.groups?null:t.groups.map(n.getGroupName,n).join(", ")),d(3),w("pngxIfPermissions",rt(7,id,n.PermissionAction.Change,n.PermissionType.User)),d(),w("pngxIfPermissions",rt(10,id,n.PermissionAction.Delete,n.PermissionType.User))}}function ait(e,i){if(1&e&&(c(0,"h4",17),ke(1),R(2,0),ze(),q(3,iit,5,0,"button",18),h(),c(4,"ul",19)(5,"li",20)(6,"div",21)(7,"div",22),R(8,1),h(),c(9,"div",22),R(10,2),h(),c(11,"div",22),R(12,3),h(),c(13,"div",22),R(14,4),h()()(),ut(15,rit,13,13,"li",20,Ft),h()),2&e){const t=_();d(3),w("pngxIfPermissions",rt(1,id,t.PermissionAction.Add,t.PermissionType.User)),d(12),_t(t.users)}}function lit(e,i){if(1&e){const t=pe();c(0,"button",23),F("click",function(){return H(t),$(_(2).editGroup())}),k(1,"i-bs",24),j(2,"\xa0"),ke(3),R(4,11),ze(),h()}}function cit(e,i){if(1&e){const t=pe();c(0,"button",30),F("click",function(){H(t);const o=_().$implicit;return $(_(2).editGroup(o))}),k(1,"i-bs",31),j(2,"\xa0"),ke(3),R(4,12),ze(),h()}}function dit(e,i){if(1&e){const t=pe();c(0,"button",32),F("click",function(){H(t);const o=_().$implicit;return $(_(2).deleteGroup(o))}),k(1,"i-bs",33),j(2,"\xa0"),ke(3),R(4,13),ze(),h()}}function hit(e,i){if(1&e){const t=pe();c(0,"li",20)(1,"div",21)(2,"div",25)(3,"button",26),F("click",function(){const o=H(t).$implicit;return $(_(2).editGroup(o))}),j(4),h()(),k(5,"div",22)(6,"div",22),c(7,"div",22)(8,"div",27),q(9,cit,5,0,"button",28)(10,dit,5,0,"button",29),h()()()()}if(2&e){const t=i.$implicit,n=_(2);d(3),w("disabled",!n.permissionsService.currentUserCan(n.PermissionAction.Change,n.PermissionType.Group)),d(),Pe(t.name),d(5),w("pngxIfPermissions",rt(4,id,n.PermissionAction.Change,n.PermissionType.Group)),d(),w("pngxIfPermissions",rt(7,id,n.PermissionAction.Delete,n.PermissionType.Group))}}function uit(e,i){1&e&&(c(0,"li",20),R(1,14),h())}function _it(e,i){if(1&e&&(c(0,"h4",34),ke(1),R(2,8),ze(),q(3,lit,5,0,"button",18),h(),c(4,"ul",19)(5,"li",20)(6,"div",21)(7,"div",22),R(8,9),h(),k(9,"div",22)(10,"div",22),c(11,"div",22),R(12,10),h()()(),ut(13,hit,11,10,"li",20,Ft),q(15,uit,2,0,"li",20),h()),2&e){const t=_();d(3),w("pngxIfPermissions",rt(2,id,t.PermissionAction.Add,t.PermissionType.Group)),d(10),_t(t.groups),d(2),J(0===t.groups.length?15:-1)}}function pit(e,i){1&e&&(c(0,"div"),k(1,"div",35),c(2,"div",36),R(3,15),h()())}let git=(()=>{class e extends Uo{constructor(t,n,o,s,r,a){super(),this.usersService=t,this.groupsService=n,this.toastService=o,this.modalService=s,this.permissionsService=r,this.settings=a,this.unsubscribeNotifier=new et}ngOnInit(){this.usersService.listAll(null,null,{full_perms:!0}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:t=>{this.users=t.results},error:t=>{this.toastService.showError("Errore nel recupero degli utenti",t)}}),this.groupsService.listAll(null,null,{full_perms:!0}).pipe(wt(),je(this.unsubscribeNotifier)).subscribe({next:t=>{this.groups=t.results},error:t=>{this.toastService.showError("Errore nel recupero dei gruppi",t)}})}ngOnDestroy(){this.unsubscribeNotifier.next(!0)}editUser(t=null){var n=this.modalService.open(sF,{backdrop:"static",size:"xl"});n.componentInstance.dialogMode=t?Vn.EDIT:Vn.CREATE,n.componentInstance.object=t,n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{o.id===this.settings.currentUser.id&&n.componentInstance.passwordIsSet?(this.toastService.showInfo("La password \xE8 stata cambiata, sarai disconnesso momentaneamente."),setTimeout(()=>{window.location.href=`${window.location.origin}/accounts/logout/?next=/accounts/login/?next=/`},2500)):(this.toastService.showInfo("Salvato utente \"" + o.username + "\"."),this.usersService.listAll().subscribe(s=>{this.users=s.results}))}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore durante il salvataggio dell'utente.",o)})}deleteUser(t){let n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma eliminazione account utente",n.componentInstance.messageBold="Questa operazione eliminer\xE0 definitivamente l'account utente.",n.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Continua",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.usersService.delete(t).subscribe({next:()=>{n.close(),this.toastService.showInfo("Utente eliminato"),this.usersService.listAll().subscribe(o=>{this.users=o.results})},error:o=>{this.toastService.showError("Errore durante l'eliminazione dell'utente.",o)}})})}editGroup(t=null){var n=this.modalService.open(nF,{backdrop:"static",size:"lg"});n.componentInstance.dialogMode=t?Vn.EDIT:Vn.CREATE,n.componentInstance.object=t,n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Salvato gruppo \"" + o.name + "\"."),this.groupsService.listAll().subscribe(s=>{this.groups=s.results})}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore durante il salvataggio del gruppo.",o)})}deleteGroup(t){let n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma eliminazione gruppo utenti",n.componentInstance.messageBold="Questa operazione eliminer\xE0 definitivamente il gruppo.",n.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Continua",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.groupsService.delete(t).subscribe({next:()=>{n.close(),this.toastService.showInfo("Gruppo eliminato"),this.groupsService.listAll().subscribe(o=>{this.groups=o.results})},error:o=>{this.toastService.showError("Errore durante l'eliminazione del gruppo.",o)}})})}getGroupName(t){return this.groups?.find(n=>n.id===t)?.name??""}static#e=this.\u0275fac=function(n){return new(n||e)(Y(vo),Y(kh),Y(ki),Y(Ki),Y(Xn),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-users-groups"]],features:[Ct],decls:4,vars:3,consts:()=>{let t,n,o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe;return t="Utenti & gruppi",n="Crea, elimina e modifica utenti e gruppi.",o="Utenti",s="Nome utente",r="Nome",a="Gruppi",l="Azioni",u="Aggiungi utente",p="Modifica",v="Elimina",L="Gruppi",z="Nome",ie="Azioni",se="Aggiungi gruppo",he="Modifica",be="Elimina",we="Nessun gruppo specificato",Fe="Caricamento in corso...",[o,s,r,a,l,u,p,v,L,z,ie,se,he,be,we,Fe,["title",t,"info",n,"infoLink","usage/#users-and-groups"],[1,"d-flex"],["type","button","class","btn btn-sm btn-outline-primary ms-4",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary","ms-4",3,"click"],["name","plus-circle"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"],[1,"mt-4","d-flex"],["role","status",1,"spinner-border","spinner-border-sm","fw-normal","ms-2","me-auto"],[1,"visually-hidden"]]},template:function(n,o){1&n&&(k(0,"pngx-page-header",16),q(1,ait,17,4)(2,_it,16,5)(3,pit,4,0,"div")),2&n&&(d(),J(o.users?1:-1),d(),J(o.groups?2:-1),d(),J(o.users&&o.groups?-1:3))},dependencies:[Wt,Qs,Zo]})}return e})();const m9=(e,i)=>({action:e,type:i});function fit(e,i){if(1&e){const t=pe();c(0,"button",13),F("click",function(){return H(t),$(_().editField())}),k(1,"i-bs",14),j(2,"\xa0"),ke(3),R(4,3),ze(),h()}}function mit(e,i){if(1&e){const t=pe();c(0,"button",20),F("click",function(){H(t);const o=_().$implicit;return $(_().editField(o))}),k(1,"i-bs",21),j(2,"\xa0"),ke(3),R(4,4),ze(),h()}}function vit(e,i){if(1&e){const t=pe();c(0,"button",22),F("click",function(){H(t);const o=_().$implicit;return $(_().deleteField(o))}),k(1,"i-bs",23),j(2,"\xa0"),ke(3),R(4,5),ze(),h()}}function Cit(e,i){if(1&e){const t=pe();c(0,"li",10)(1,"div",11)(2,"div",15)(3,"button",16),F("click",function(){const o=H(t).$implicit;return $(_().editField(o))}),j(4),h()(),c(5,"div",15),j(6),h(),c(7,"div",12)(8,"div",17),q(9,mit,5,0,"button",18)(10,vit,5,0,"button",19),h()()()()}if(2&e){const t=i.$implicit,n=_();d(3),w("disabled",!n.permissionsService.currentUserCan(n.PermissionAction.Change,n.PermissionType.CustomField)),d(),Pe(t.name),d(2),Pe(n.getDataType(t)),d(3),w("pngxIfPermissions",rt(5,m9,n.PermissionAction.Change,n.PermissionType.CustomField)),d(),w("pngxIfPermissions",rt(8,m9,n.PermissionAction.Delete,n.PermissionType.CustomField))}}function wit(e,i){1&e&&(c(0,"li",10),R(1,6),h())}let Mit=(()=>{class e extends Uo{constructor(t,n,o,s){super(),this.customFieldsService=t,this.permissionsService=n,this.modalService=o,this.toastService=s,this.fields=[],this.unsubscribeNotifier=new et}ngOnInit(){this.reload()}reload(){this.customFieldsService.listAll().pipe(je(this.unsubscribeNotifier)).subscribe(t=>{this.fields=t.results})}editField(t){const n=this.modalService.open(N3);n.componentInstance.dialogMode=t?Vn.EDIT:Vn.CREATE,n.componentInstance.object=t,n.componentInstance.succeeded.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showInfo("Campo \"" + o.name + "\" salvato."),this.customFieldsService.clearCache(),this.reload()}),n.componentInstance.failed.pipe(je(this.unsubscribeNotifier)).subscribe(o=>{this.toastService.showError("Errore durante il salvataggio del campo.",o)})}deleteField(t){const n=this.modalService.open(pi,{backdrop:"static"});n.componentInstance.title="Conferma eliminazione campo",n.componentInstance.messageBold="Questa operazione eliminer\xE0 permanentemente questo campo.",n.componentInstance.message="Questa operazione non pu\xF2 essere annullata.",n.componentInstance.btnClass="btn-danger",n.componentInstance.btnCaption="Continua",n.componentInstance.confirmClicked.subscribe(()=>{n.componentInstance.buttonsEnabled=!1,this.customFieldsService.delete(t).subscribe({next:()=>{n.close(),this.toastService.showInfo("Campo eliminato"),this.customFieldsService.clearCache(),this.reload()},error:o=>{this.toastService.showError("Errore durante l'eliminazione del campo.",o)}})})}getDataType(t){return Ov.find(n=>n.id===t.data_type).name}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Ea),Y(Xn),Y(Ki),Y(ki))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-custom-fields"]],features:[Ct],decls:14,vars:5,consts:()=>{let t,n,o,s,r,a,l,u,p;return t="Campi personalizzati",n="Personalizza i campi dati che possono essere allegati ai documenti.",o="Nome",s="Tipo di dati",r="Azioni",a="Aggiungi campo",l="Modifica",u="Elimina",p="Nessun campo specificato.",[o,s,r,a,l,u,p,["title",t,"info",n,"infoLink","usage/#custom-fields"],["type","button","class","btn btn-sm btn-outline-primary",3,"click",4,"pngxIfPermissions"],[1,"list-group"],[1,"list-group-item"],[1,"row"],[1,"col"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["name","plus-circle"],[1,"col","d-flex","align-items-center"],["type","button",1,"btn","btn-link","p-0","text-start",3,"click","disabled"],[1,"btn-group"],["class","btn btn-sm btn-outline-secondary","type","button",3,"click",4,"pngxIfPermissions"],["class","btn btn-sm btn-outline-danger","type","button",3,"click",4,"pngxIfPermissions"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["width","1em","height","1em","name","pencil"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],["width","1em","height","1em","name","trash"]]},template:function(n,o){1&n&&(c(0,"pngx-page-header",7),q(1,fit,5,0,"button",8),h(),c(2,"ul",9)(3,"li",10)(4,"div",11)(5,"div",12),R(6,0),h(),c(7,"div",12),R(8,1),h(),c(9,"div",12),R(10,2),h()()(),ut(11,Cit,11,11,"li",10,Ft),q(13,wit,2,0,"li",10),h()),2&n&&(d(),w("pngxIfPermissions",rt(2,m9,o.PermissionAction.Add,o.PermissionType.CustomField)),d(10),_t(o.fields),d(2),J(0===o.fields.length?13:-1))},dependencies:[Wt,Qs,Zo]})}return e})();var bF=function(e){return e.PDF="pdf",e.PDF_A="pdfa",e.PDF_A1="pdfa-1",e.PDF_A2="pdfa-2",e.PDF_A3="pdfa-3",e}(bF||{}),TF=function(e){return e.SKIP="skip",e.REDO="redo",e.FORCE="force",e.SKIP_NO_ARCHIVE="skip_noarchive",e}(TF||{}),SF=function(e){return e.NEVER="never",e.WITH_TEXT="with_text",e.ALWAYS="always",e}(SF||{}),EF=function(e){return e.CLEAN="clean",e.FINAL="clean-final",e.NONE="none",e}(EF||{}),AF=function(e){return e.UNCHANGED="LeaveColorUnchanged",e.RGB="RGB",e.INDEPENDENT="UseDeviceIndependentColor",e.GRAY="Gray",e.CMYK="CMYK",e}(AF||{}),Wo=function(e){return e.String="string",e.Number="number",e.Select="select",e.Boolean="boolean",e.JSON="json",e.File="file",e}(Wo||{});const fs={General:"Impostazioni Generali",OCR:"Impostazioni OCR"};function vu(e){return Object.keys(e).map(i=>({id:e[i],name:e[i]}))}const v9=[{key:"output_type",title:"Tipo di Output",type:Wo.Select,choices:vu(bF),config_key:"PAPERLESS_OCR_OUTPUT_TYPE",category:fs.OCR},{key:"language",title:"Lingua",type:Wo.String,config_key:"PAPERLESS_OCR_LANGUAGE",category:fs.OCR},{key:"pages",title:"Pagine",type:Wo.Number,config_key:"PAPERLESS_OCR_PAGES",category:fs.OCR},{key:"mode",title:"Modalit\xE0",type:Wo.Select,choices:vu(TF),config_key:"PAPERLESS_OCR_MODE",category:fs.OCR},{key:"skip_archive_file",title:"Salta File Archivio",type:Wo.Select,choices:vu(SF),config_key:"PAPERLESS_OCR_SKIP_ARCHIVE_FILE",category:fs.OCR},{key:"image_dpi",title:"DPI Immagine",type:Wo.Number,config_key:"PAPERLESS_OCR_IMAGE_DPI",category:fs.OCR},{key:"unpaper_clean",title:"Pulisci",type:Wo.Select,choices:vu(EF),config_key:"PAPERLESS_OCR_CLEAN",category:fs.OCR},{key:"deskew",title:"Raddrizza (Ruota e allinea)",type:Wo.Boolean,config_key:"PAPERLESS_OCR_DESKEW",category:fs.OCR},{key:"rotate_pages",title:"Ruota Pagine",type:Wo.Boolean,config_key:"PAPERLESS_OCR_ROTATE_PAGES",category:fs.OCR},{key:"rotate_pages_threshold",title:"Soglia Rotazione Pagine",type:Wo.Number,config_key:"PAPERLESS_OCR_ROTATE_PAGES_THRESHOLD",category:fs.OCR},{key:"max_image_pixels",title:"Numero massimo Pixel per Immagine",type:Wo.Number,config_key:"PAPERLESS_OCR_MAX_IMAGE_PIXELS",category:fs.OCR},{key:"color_conversion_strategy",title:"Strategia Di Conversione Colore",type:Wo.Select,choices:vu(AF),config_key:"PAPERLESS_OCR_COLOR_CONVERSION_STRATEGY",category:fs.OCR},{key:"user_args",title:"Argument OCR",type:Wo.JSON,config_key:"PAPERLESS_OCR_USER_ARGS",category:fs.OCR},{key:"app_logo",title:"Logo dell'applicazione",type:Wo.File,config_key:"PAPERLESS_APP_LOGO",category:fs.General},{key:"app_title",title:"Titolo applicazione",type:Wo.String,config_key:"PAPERLESS_APP_TITLE",category:fs.General}];let bit=(()=>{class e{constructor(t){this.http=t,this.baseUrl=wi.apiBaseUrl+"config/"}getConfig(){return this.http.get(this.baseUrl).pipe(wt(),At(t=>t[0]))}saveConfig(t){return"string"==typeof t.app_logo&&delete t.app_logo,this.http.patch(`${this.baseUrl}${t.id}/`,t).pipe(wt())}uploadFile(t,n,o){let s=new FormData;return s.append(o,t,t.name),this.http.patch(`${this.baseUrl}${n}/`,s).pipe(wt())}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fi))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Tit=["fileInput"];function Sit(e,i){if(1&e&&(c(0,"label",17),j(1),h()),2&e){const t=_();Ye("mb-md-0",t.horizontal),w("for",t.inputId),d(),Pe(t.title)}}function Eit(e,i){if(1&e){const t=pe();c(0,"button",18),F("click",function(){H(t);const o=_();return $(o.removed.emit(o))}),k(1,"i-bs",19),j(2,"\xa0"),ke(3),R(4,3),ze(),h()}}function Ait(e,i){if(1&e){const t=pe();c(0,"div",13)(1,"span",20),j(2),h(),c(3,"button",21),F("click",function(){return H(t),$(_().clear())}),k(4,"i-bs",19),c(5,"small"),R(6,4),h()()()}if(2&e){const t=_();d(2),Pe(t.filename)}}function Oit(e,i){1&e&&(k(0,"small",15),ot(1,"safeHtml")),2&e&&w("innerHTML",Et(1,1,_().hint),Qi)}let yit=(()=>{class e extends _s{constructor(){super(...arguments),this.upload=new Be}get filename(){return this.value?this.value.substring(this.value.lastIndexOf("/")+1):null}onFile(t){this.file=t.target.files[0]}uploadClicked(){this.upload.emit(this.file),this.clear()}clear(){this.file=void 0,this.fileInput.nativeElement.value=null,this.writeValue(null),this.onChange(null)}static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=kn(e)))(o||e)}})();static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-input-file"]],viewQuery:function(n,o){if(1&n&&cn(Tit,5),2&n){let s;Ot(s=yt())&&(o.fileInput=s.first)}},outputs:{upload:"upload"},features:[Gt([{provide:Pn,useExisting:Xt(()=>e),multi:!0}]),Ct],decls:16,vars:18,consts:()=>{let t,n,o;return t="Carica File",n="Rimuovi",o="Rimuovi",[["fileInput",""],["inputField",""],t,n,o,[1,"mb-3"],[1,"row"],[1,"d-flex","align-items-center","position-relative","hidden-button-container"],[1,"form-label",3,"mb-md-0","for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0"],[1,"input-group"],["type","file",1,"form-control",3,"change","id","disabled"],["type","button",1,"btn","btn-outline-primary","py-0",3,"click","disabled"],[1,"form-text","d-flex","align-items-center"],["type","hidden",1,"form-control","small",3,"ngModelChange","ngModel","disabled"],[1,"form-text","text-muted",3,"innerHTML"],[1,"invalid-feedback","position-absolute","top-100"],[1,"form-label",3,"for"],["type","button",1,"btn","btn-sm","btn-danger","position-absolute","left-0",3,"click"],["name","x"],[1,"text-muted"],["type","button",1,"btn","btn-link","btn-sm","text-danger","ms-2",3,"click"]]},template:function(n,o){if(1&n){const s=pe();c(0,"div",5)(1,"div",6)(2,"div",7),q(3,Sit,2,4,"label",8)(4,Eit,5,0,"button",9),h(),c(5,"div",10)(6,"input",11,0),F("change",function(a){return H(s),$(o.onFile(a))}),h(),c(8,"button",12),F("click",function(){return H(s),$(o.uploadClicked())}),R(9,2),h()(),q(10,Ait,7,1,"div",13),c(11,"input",14,1),Tt("ngModelChange",function(a){return H(s),mt(o.value,a)||(o.value=a),$(a)}),h(),q(13,Oit,2,3,"small",15),c(14,"div",16),j(15),h()()()}2&n&&(Ye("pb-3",o.error),d(2),Ye("col-md-3",o.horizontal),d(),J(o.title?3:-1),d(),J(o.removable?4:-1),d(),Ye("col-md-9",o.horizontal)("is-invalid",o.error),d(),w("id",o.inputId)("disabled",o.disabled),d(2),w("disabled",o.disabled||!o.file),d(2),J(o.filename?10:-1),d(),bt("ngModel",o.value),w("disabled",!0),d(2),J(o.hint?13:-1),d(2),nt(" ",o.error," "))},dependencies:[si,Yt,Ln,Wt,m1]})}return e})();const Dit=(e,i)=>i.key;function Nit(e,i){if(1&e&&k(0,"pngx-input-select",24),2&e){const t=_().$implicit,n=_(3);w("formControlName",t.key)("error",n.errors[t.key])("items",t.choices)("allowNull",!0)}}function Pit(e,i){if(1&e&&k(0,"pngx-input-number",25),2&e){const t=_().$implicit,n=_(3);w("formControlName",t.key)("error",n.errors[t.key])("showAdd",!1)}}function Iit(e,i){if(1&e&&k(0,"pngx-input-switch",26),2&e){const t=_().$implicit,n=_(3);w("formControlName",t.key)("error",n.errors[t.key])("showUnsetNote",!0)("horizontal",!0)}}function Lit(e,i){if(1&e&&k(0,"pngx-input-text",27),2&e){const t=_().$implicit,n=_(3);w("formControlName",t.key)("error",n.errors[t.key])}}function xit(e,i){if(1&e&&k(0,"pngx-input-text",27),2&e){const t=_().$implicit,n=_(3);w("formControlName",t.key)("error",n.errors[t.key])}}function Rit(e,i){if(1&e){const t=pe();c(0,"pngx-input-file",28),F("upload",function(o){H(t);const s=_().$implicit;return $(_(3).uploadFile(o,s.key))}),h()}if(2&e){const t=_().$implicit,n=_(3);w("formControlName",t.key)("error",n.errors[t.key])}}function Fit(e,i){if(1&e&&(c(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20)(4,"h6"),j(5),c(6,"a",21),k(7,"i-bs",22),h()()(),c(8,"div",23),q(9,Nit,1,4,"pngx-input-select",24)(10,Pit,1,3,"pngx-input-number",25)(11,Iit,1,4,"pngx-input-switch",26)(12,Lit,1,2,"pngx-input-text",27)(13,xit,1,2,"pngx-input-text",27)(14,Rit,1,2,"pngx-input-file",27),h()()()()),2&e){let t;const n=i.$implicit,o=_(3);d(5),nt(" ",n.title," "),d(),w("href",o.getDocsUrl(n.config_key),$o),d(3),J((t=n.type)===o.ConfigOptionType.Select?9:t===o.ConfigOptionType.Number?10:t===o.ConfigOptionType.Boolean?11:t===o.ConfigOptionType.String?12:t===o.ConfigOptionType.JSON?13:t===o.ConfigOptionType.File?14:-1)}}function kit(e,i){if(1&e&&(c(0,"div",15)(1,"div",16),ut(2,Fit,15,3,"div",17,Dit),h()()),2&e){const t=_().$implicit,n=_();d(2),_t(n.getCategoryOptions(t))}}function zit(e,i){if(1&e&&(c(0,"li",6)(1,"a",13),j(2),h(),q(3,kit,4,0,"ng-template",14),h()),2&e){const t=i.$implicit;w("ngbNavItem",t),d(2),Pe(t)}}let Vit=(()=>{class e extends Uo{get optionCategories(){return Object.values(fs)}getCategoryOptions(t){return v9.filter(n=>n.category===t)}constructor(t,n,o){super(),this.configService=t,this.toastService=n,this.settingsService=o,this.ConfigOptionType=Wo,this.configForm=new In({}),this.errors={},this.loading=!1,this.unsubscribeNotifier=new et,this.configForm.addControl("id",new Re),v9.forEach(s=>{this.configForm.addControl(s.key,new Re)})}ngOnInit(){this.loading=!0,this.configService.getConfig().pipe(je(this.unsubscribeNotifier)).subscribe({next:t=>{this.loading=!1,this.initialize(t)},error:t=>{this.loading=!1,this.toastService.showError("Errore nel recupero della configurazione",t)}}),v9.filter(t=>t.type===Wo.JSON).forEach(t=>{this.configForm.get(t.key).addValidators(n=>{if(!n.value||0===n.value.toString().length)return null;try{JSON.parse(n.value)}catch(o){return[{user_args:o}]}return null}),this.configForm.get(t.key).statusChanges.subscribe(n=>{this.errors[t.key]="INVALID"===n?"JSON non valido":null}),this.configForm.get(t.key).updateValueAndValidity()})}ngOnDestroy(){this.unsubscribeNotifier.next(!0),this.unsubscribeNotifier.complete()}initialize(t){this.store||(this.store=new Bn(t),this.store.asObservable().pipe(je(this.unsubscribeNotifier)).subscribe(n=>{this.configForm.patchValue(n,{emitEvent:!1})}),this.isDirty$=dv(this.configForm,this.store.asObservable())),this.configForm.patchValue(t),this.initialConfig=t}getDocsUrl(t){return`https://docs.paperless-ngx.com/configuration/#${t}`}saveConfig(){this.loading=!0,this.configService.saveConfig(this.configForm.value).pipe(je(this.unsubscribeNotifier),wt()).subscribe({next:t=>{this.loading=!1,this.initialize(t),this.store.next(t),this.settingsService.initializeSettings().subscribe(),this.toastService.showInfo("Configurazione aggiornata")},error:t=>{this.loading=!1,this.toastService.showError("Si \xE8 verificato un errore nell'aggiornamento della configurazione",t)}})}discardChanges(){this.configForm.reset(this.initialConfig)}uploadFile(t,n){this.loading=!0,this.configService.uploadFile(t,this.configForm.value.id,n).pipe(je(this.unsubscribeNotifier),wt()).subscribe({next:o=>{this.loading=!1,this.initialize(o),this.store.next(o),this.settingsService.initializeSettings().subscribe(),this.toastService.showInfo("File aggiornato correttamente")},error:o=>{this.loading=!1,this.toastService.showError("Si \xE8 verificato un errore durante il caricamento del file",o)}})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(bit),Y(ki),Y(Tn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-config"]],features:[Ct],decls:16,vars:8,consts:()=>{let t,n,o,s,r,a;return t="Configurazione Applicazione",n="Opzioni di configurazione globale dell'app che si applicano a <strong>ogni</strong> utente di questa installazione di Paperless-ngx. Le opzioni possono anche essere impostate utilizzando le variabili di ambiente o il file di configurazione, ma il valore qui avr\xE0 sempre la precedenza.",o="Scarta",s="Salva",r="Leggi la documentazione relativa a questa impostazione",a="Abilita",[["nav","ngbNav"],o,s,["title",t,"info",n,"infoLink","configuration"],[1,"pb-4",3,"ngSubmit","formGroup"],["ngbNav","",1,"nav-tabs"],[3,"ngbNavItem"],[1,"border-start","border-end","border-bottom","p-3","mb-3","shadow-sm",3,"ngbNavOutlet"],["role","toolbar",1,"btn-toolbar"],[1,"btn-group","me-2"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"btn-group"],["type","submit",1,"btn","btn-primary",3,"disabled"],["ngbNavLink",""],["ngbNavContent",""],[1,"p-3"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-2"],[1,"col"],[1,"card","bg-light"],[1,"card-body"],[1,"card-title"],["title",r,"target","_blank","referrerpolicy","no-referrer",1,"btn","btn-sm","btn-link",3,"href"],["name","info-circle"],[1,"mb-n3"],[3,"formControlName","error","items","allowNull"],[3,"formControlName","error","showAdd"],["title",a,3,"formControlName","error","showUnsetNote","horizontal"],[3,"formControlName","error"],[3,"upload","formControlName","error"]]},template:function(n,o){if(1&n){const s=pe();k(0,"pngx-page-header",3),c(1,"form",4),F("ngSubmit",function(){return H(s),$(o.saveConfig())}),c(2,"ul",5,0),ut(4,zit,4,2,"li",6,Ft),h(),k(6,"div",7),c(7,"div",8)(8,"div",9)(9,"button",10),ot(10,"async"),F("click",function(){return H(s),$(o.discardChanges())}),R(11,1),h()(),c(12,"div",11)(13,"button",12),ot(14,"async"),R(15,2),h()()()()}if(2&n){const s=vt(3);d(),w("formGroup",o.configForm),d(3),_t(o.optionCategories),d(2),w("ngbNavOutlet",s),d(3),w("disabled",o.loading||!1===Et(10,4,o.isDirty$)),d(4),w("disabled",o.loading||!o.configForm.valid||!1===Et(14,6,o.isDirty$))}},dependencies:[E5,W1,a0,A5,O5,Ta,y5,ro,Yt,Wi,Bi,Xi,Wt,Qs,Ds,Sr,tu,i9,yit,k1]})}return e})();const Hit=[{path:"",redirectTo:"documents",pathMatch:"full"},{path:"",component:DKe,canDeactivate:[MF],children:[{path:"documents",component:p9,canDeactivate:[K3],canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Document}}},{path:"public",component:p9,canDeactivate:[K3],canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Document}}},{path:"view/:id",component:p9,canDeactivate:[K3],canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.SavedView}}},{path:"documents/:id",component:P3,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Document}}},{path:"documents/:id/:section",component:P3,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Document}}},{path:"asn/:id",component:$tt,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Document}}},{path:"tags",component:Ftt,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Tag}}},{path:"documenttypes",component:iet,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.DocumentType}}},{path:"correspondents",component:VQe,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Correspondent}}},{path:"storagepaths",component:snt,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.StoragePath}}},{path:"logs",component:uet,canActivate:[wo],data:{requireAdmin:!0}},{path:"settings/mail",redirectTo:"/mail"},{path:"settings/usersgroups",redirectTo:"/usersgroups"},{path:"settings",component:CF,canDeactivate:[wF],canActivate:[wo],data:{requiredPermission:{action:Nt.Change,type:It.UISettings}}},{path:"settings/:section",component:CF,canDeactivate:[wF],canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.UISettings}}},{path:"config",component:Vit,canActivate:[wo],data:{requiredPermission:{action:Nt.Change,type:It.AppConfig}}},{path:"tasks",component:Pnt,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.PaperlessTask}}},{path:"customfields",component:Mit,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.CustomField}}},{path:"workflows",component:Hnt,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.Workflow}}},{path:"mail",component:nit,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.MailAccount}}},{path:"usersgroups",component:git,canActivate:[wo],data:{requiredPermission:{action:Nt.View,type:It.User}}}]},{path:"404",component:Htt},{path:"**",redirectTo:"/404",pathMatch:"full"}];let $it=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e});static#n=this.\u0275inj=fn({imports:[qy.forRoot(Hit),qy]})}return e})();function Bit(e,i){1&e&&k(0,"i-bs",8)}function Git(e,i){1&e&&k(0,"i-bs",9)}function Uit(e,i){if(1&e&&(c(0,"dl",14)(1,"dt",18),j(2,"URL"),h(),c(3,"dd",19),j(4),h(),c(5,"dt",18),R(6,1),h(),c(7,"dd",19),j(8),c(9,"em"),j(10),h()(),c(11,"dt",18),R(12,2),h(),c(13,"dd",19),j(14),h()()),2&e){const t=_(2).$implicit,n=_();d(4),Pe(t.error.url),d(4),nt("",t.error.status," "),d(2),Pe(t.error.statusText),d(4),Pe(n.getErrorText(t.error))}}function Zit(e,i){1&e&&(k(0,"i-bs",20),j(1,"\xa0 "))}function jit(e,i){1&e&&(k(0,"i-bs",21),j(1,"\xa0 "))}function Wit(e,i){if(1&e){const t=pe();c(0,"details")(1,"div",13),q(2,Uit,15,4,"dl",14),c(3,"div",15)(4,"div",16)(5,"button",17),F("click",function(){H(t);const o=_().$implicit;return $(_().copyError(o.error))}),q(6,Zit,2,0)(7,jit,2,0),ke(8),R(9,0),ze(),h()()()()()}if(2&e){const t=_().$implicit,n=_();d(2),J(n.isDetailedError(t.error)?2:-1),d(4),J(n.copied?-1:6),d(),J(n.copied?7:-1)}}function Xit(e,i){if(1&e){const t=pe();c(0,"p",11)(1,"button",22),F("click",function(){H(t);const o=_().$implicit;return _().toastService.closeToast(o),$(o.action())}),j(2),h()()}if(2&e){const t=_().$implicit;d(2),Pe(t.actionName)}}function Kit(e,i){if(1&e){const t=pe();c(0,"ngb-toast",4),F("shown",function(){const o=H(t).$implicit;return $(_().onShow(o))})("hidden",function(){const o=H(t).$implicit;return $(_().toastService.closeToast(o))}),k(1,"ngb-progressbar",5),c(2,"span",6),j(3),ot(4,"number"),h(),c(5,"div",7),q(6,Bit,1,0,"i-bs",8)(7,Git,1,0,"i-bs",9),c(8,"div")(9,"p",10),j(10),h(),q(11,Wit,10,3,"details")(12,Xit,3,1,"p",11),h(),c(13,"button",12),F("click",function(){const o=H(t).$implicit;return $(_().toastService.closeToast(o))}),h()()()}if(2&e){const t=i.$implicit;Ai(t.classname),Ye("mb-2",!0),w("autohide",!0)("delay",t.delay),d(),w("max",t.delay)("value",t.delayRemaining),d(2),nt("",io(4,14,t.delayRemaining/1e3,"1.0-0")," seconds"),d(3),J(t.error?-1:6),d(),J(t.error?7:-1),d(3),Pe(t.content),d(),J(t.error?11:-1),d(),J(t.action?12:-1)}}let qit=(()=>{class e{constructor(t,n){this.toastService=t,this.clipboard=n,this.toasts=[],this.copied=!1,this.seconds=0}ngOnDestroy(){this.subscription?.unsubscribe()}ngOnInit(){this.subscription=this.toastService.getToasts().subscribe(t=>{this.toasts=t,this.toasts.forEach(n=>{if("string"==typeof n.error)try{n.error=JSON.parse(n.error)}catch{}})})}onShow(t){const o=t.delay-500;yR(150).pipe(oo(o/150)).subscribe(s=>{t.delayRemaining=Math.max(0,o-150*(s+1))})}isDetailedError(t){return"object"==typeof t&&"status"in t&&"statusText"in t&&"url"in t&&"message"in t&&"error"in t}copyError(t){this.clipboard.copy(JSON.stringify(t)),this.copied=!0,setTimeout(()=>{this.copied=!1},3e3)}getErrorText(t){let n=t.error?.detail??t.error??"";return"object"==typeof n&&(n=JSON.stringify(n)),`${n.slice(0,200)}${n.length>200?"...":""}`}static#e=this.\u0275fac=function(n){return new(n||e)(Y(ki),Y(D3))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-toasts"]],decls:2,vars:0,consts:()=>{let t,n,o;return t="Copia Errore Grezzo",n="Stato",o="Errore",[t,n,o,[3,"autohide","delay","class","mb-2"],[3,"shown","hidden","autohide","delay"],["type","dark",1,"position-absolute","h-100","w-100","top-90","start-0","bottom-0","end-0","pe-none",3,"max","value"],[1,"visually-hidden"],[1,"d-flex","align-items-top"],["width","0.9em","height","0.9em","name","info-circle"],["width","0.9em","height","0.9em","name","exclamation-triangle"],[1,"ms-2","mb-0"],[1,"mb-0","mt-2"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","ms-auto","flex-shrink-0",3,"click"],[1,"mt-2"],[1,"row","mb-0"],[1,"row"],[1,"col","offset-sm-3"],[1,"btn","btn-sm","btn-outline-dark",3,"click"],[1,"col-sm-3","fw-normal","text-end"],[1,"col-sm-9"],["name","clipboard"],["name","clipboard-check"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"]]},template:function(n,o){1&n&&ut(0,Kit,14,17,"ngb-toast",3,Ft),2&n&&_t(o.toasts)},dependencies:[Oh,lre,Wt,$8],styles:["[_nghost-%COMP%]{position:fixed;top:0;right:0;margin:.3em;z-index:1200}.toast[_ngcontent-%COMP%]:not(.show){display:block}  .toast-body{position:relative}  .toast.error{border-color:#b7153066}  .toast.error .toast-body{background-color:#b71530cc;border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.progress[_ngcontent-%COMP%]{background-color:var(--pngx-primary);opacity:.07}"]})}return e})(),Yit=(()=>{class e{constructor(t,n){this.documentService=t,this.consumerStatusService=n,this.uploadSubscriptions=[]}onNgxFileDrop(t){for(const n of t)n.fileEntry.isFile&&n.fileEntry.file(s=>this.uploadFile(s))}uploadFiles(t){for(let n=0;n<t.length;n++)this.uploadFile(t.item(n))}uploadFile(t){let n=new FormData;n.append("document",t,t.name);let o=this.consumerStatusService.newFileUpload(t.name);o.message="Connessione in corso...",this.uploadSubscriptions[t.name]=this.documentService.uploadDocument(n).subscribe({next:s=>{s.type==X1.UploadProgress?(o.updateProgress(Co.UPLOADING,s.loaded,s.total),o.message="Caricamento in corso..."):s.type==X1.Response&&(o.taskId=s.body.task_id,o.message="Caricamento completato, in attesa...",this.uploadSubscriptions[t.name]?.complete())},error:s=>{this.consumerStatusService.fail(o,400===s.status?s.error.document:"Errore HTTP: " + s.status + "" + s.statusText + ""),this.uploadSubscriptions[t.name]?.complete()}})}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(xo),Ke(o9))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jit=["fileSelector"],Qit=e=>({openFileSelector:e});function eot(e,i){if(1&e&&(c(0,"div",8),j(1),h()),2&e){const t=_(2);d(),Pe(t.dropZoneLabel)}}function tot(e,i){if(1&e){const t=pe();c(0,"div")(1,"input",9),F("click",function(o){return H(t),$(_(2).openFileSelector(o))}),h()()}if(2&e){const t=_(2);d(),ui("value",t.browseBtnLabel),w("className",t.browseBtnClassName)}}function not(e,i){if(1&e&&q(0,eot,2,1,"div",6)(1,tot,2,2,"div",7),2&e){const t=_();w("ngIf",t.dropZoneLabel),d(),w("ngIf",t.showBrowseBtn)}}function iot(e,i){}class q3{constructor(i,t){this.relativePath=i,this.fileEntry=t}}let sot=(()=>{class e{constructor(t){this.template=t}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Kt))};static#t=this.\u0275dir=st({type:e,selectors:[["","ngx-file-drop-content-tmp",""]]})}return e})(),OF=(()=>{class e{get disabled(){return this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}constructor(t,n){this.zone=t,this.renderer=n,this.accept="*",this.directory=!1,this.multiple=!0,this.dropZoneLabel="",this.dropZoneClassName="ngx-file-drop__drop-zone",this.useDragEnter=!1,this.contentClassName="ngx-file-drop__content",this.showBrowseBtn=!1,this.browseBtnClassName="btn btn-primary btn-xs ngx-file-drop__browse-btn",this.browseBtnLabel="Browse files",this.onFileDrop=new Be,this.onFileOver=new Be,this.onFileLeave=new Be,this.isDraggingOverDropZone=!1,this.globalDraggingInProgress=!1,this.files=[],this.numOfActiveReadEntries=0,this.helperFormEl=null,this.fileInputPlaceholderEl=null,this.dropEventTimerSubscription=null,this._disabled=!1,this.openFileSelector=o=>{this.fileSelector&&this.fileSelector.nativeElement&&this.fileSelector.nativeElement.click()},this.globalDragStartListener=this.renderer.listen("document","dragstart",o=>{this.globalDraggingInProgress=!0}),this.globalDragEndListener=this.renderer.listen("document","dragend",o=>{this.globalDraggingInProgress=!1})}ngOnDestroy(){this.dropEventTimerSubscription&&(this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=null),this.globalDragStartListener(),this.globalDragEndListener(),this.files=[],this.helperFormEl=null,this.fileInputPlaceholderEl=null}onDragOver(t){this.useDragEnter?(this.preventAndStop(t),t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):!this.isDropzoneDisabled()&&!this.useDragEnter&&t.dataTransfer&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(t)),this.preventAndStop(t),t.dataTransfer.dropEffect="copy")}onDragEnter(t){!this.isDropzoneDisabled()&&this.useDragEnter&&(this.isDraggingOverDropZone||(this.isDraggingOverDropZone=!0,this.onFileOver.emit(t)),this.preventAndStop(t))}onDragLeave(t){this.isDropzoneDisabled()||(this.isDraggingOverDropZone&&(this.isDraggingOverDropZone=!1,this.onFileLeave.emit(t)),this.preventAndStop(t))}dropFiles(t){if(!this.isDropzoneDisabled()&&(this.isDraggingOverDropZone=!1,t.dataTransfer)){let n;n=t.dataTransfer.items?t.dataTransfer.items:t.dataTransfer.files,this.preventAndStop(t),this.checkFiles(n)}}uploadFiles(t){!this.isDropzoneDisabled()&&t.target&&(this.checkFiles(t.target.files||[]),this.resetFileInput())}getFakeDropEntry(t){const n={name:t.name,isDirectory:!1,isFile:!0,file:o=>o(t)};return new q3(n.name,n)}checkFile(t){if(t){if(function oot(e){return"webkitGetAsEntry"in e&&"getAsFile"in e}(t)){const n=t.webkitGetAsEntry();if(n){if(n.isFile){const s=new q3(n.name,n);this.addToQueue(s)}else n.isDirectory&&this.traverseFileTree(n,n.name);return}const o=t.getAsFile();return void(o&&this.addToQueue(this.getFakeDropEntry(o)))}this.addToQueue(this.getFakeDropEntry(t))}}checkFiles(t){for(let n=0;n<t.length;n++)this.checkFile(t[n]);this.dropEventTimerSubscription&&this.dropEventTimerSubscription.unsubscribe(),this.dropEventTimerSubscription=ch(200,200).subscribe(()=>{if(this.files.length>0&&0===this.numOfActiveReadEntries){const n=this.files;this.files=[],this.onFileDrop.emit(n)}})}traverseFileTree(t,n){if(t.isFile){const o=new q3(n,t);this.files.push(o)}else{n+="/";const o=t.createReader();let s=[];const r=()=>{this.numOfActiveReadEntries++,o.readEntries(a=>{if(a.length)s=s.concat(a),r();else if(0===s.length){const l=new q3(n,t);this.zone.run(()=>{this.addToQueue(l)})}else for(let l=0;l<s.length;l++)this.zone.run(()=>{this.traverseFileTree(s[l],n+s[l].name)});this.numOfActiveReadEntries--})};r()}}resetFileInput(){if(this.fileSelector&&this.fileSelector.nativeElement){const t=this.fileSelector.nativeElement,n=t.parentElement,o=this.getHelperFormElement(),s=this.getFileInputPlaceholderElement();n!==o&&(this.renderer.insertBefore(n,s,t),this.renderer.appendChild(o,t),o.reset(),this.renderer.insertBefore(n,t,s),this.renderer.removeChild(n,s))}}getHelperFormElement(){return this.helperFormEl||(this.helperFormEl=this.renderer.createElement("form")),this.helperFormEl}getFileInputPlaceholderElement(){return this.fileInputPlaceholderEl||(this.fileInputPlaceholderEl=this.renderer.createElement("div")),this.fileInputPlaceholderEl}isDropzoneDisabled(){return this.globalDraggingInProgress||this.disabled}addToQueue(t){this.files.push(t)}preventAndStop(t){t.stopPropagation(),t.preventDefault()}static#e=this.\u0275fac=function(n){return new(n||e)(Y(jt),Y($r))};static#t=this.\u0275cmp=it({type:e,selectors:[["ngx-file-drop"]],contentQueries:function(n,o,s){if(1&n&&Nn(s,sot,5,Kt),2&n){let r;Ot(r=yt())&&(o.contentTemplate=r.first)}},viewQuery:function(n,o){if(1&n&&cn(Jit,7),2&n){let s;Ot(s=yt())&&(o.fileSelector=s.first)}},inputs:{accept:"accept",directory:"directory",multiple:"multiple",dropZoneLabel:"dropZoneLabel",dropZoneClassName:"dropZoneClassName",useDragEnter:"useDragEnter",contentClassName:"contentClassName",showBrowseBtn:"showBrowseBtn",browseBtnClassName:"browseBtnClassName",browseBtnLabel:"browseBtnLabel",disabled:"disabled"},outputs:{onFileDrop:"onFileDrop",onFileOver:"onFileOver",onFileLeave:"onFileLeave"},decls:7,vars:15,consts:[["fileSelector",""],["defaultContentTemplate",""],[3,"drop","dragover","dragenter","dragleave","className"],[3,"className"],["type","file",1,"ngx-file-drop__file-input",3,"change","accept","multiple"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ngx-file-drop__drop-zone-label",4,"ngIf"],[4,"ngIf"],[1,"ngx-file-drop__drop-zone-label"],["type","button",3,"click","className","value"]],template:function(n,o){if(1&n){const s=pe();c(0,"div",2),F("drop",function(a){return H(s),$(o.dropFiles(a))})("dragover",function(a){return H(s),$(o.onDragOver(a))})("dragenter",function(a){return H(s),$(o.onDragEnter(a))})("dragleave",function(a){return H(s),$(o.onDragLeave(a))}),c(1,"div",3)(2,"input",4,0),F("change",function(a){return H(s),$(o.uploadFiles(a))}),h(),q(4,not,2,2,"ng-template",null,1,on)(6,iot,0,0,"ng-template",5),h()()}if(2&n){const s=vt(5);Ye("ngx-file-drop__drop-zone--over",o.isDraggingOverDropZone),w("className",o.dropZoneClassName),d(),w("className",o.contentClassName),d(),w("accept",o.accept)("multiple",o.multiple),Mn("directory",o.directory||void 0)("webkitdirectory",o.directory||void 0)("mozdirectory",o.directory||void 0)("msdirectory",o.directory||void 0)("odirectory",o.directory||void 0),d(4),w("ngTemplateOutlet",o.contentTemplate||s)("ngTemplateOutletContext",No(13,Qit,o.openFileSelector))}},dependencies:[F8,es],styles:[".ngx-file-drop__drop-zone[_ngcontent-%COMP%]{height:100px;margin:auto;border:2px dotted #0782d0;border-radius:30px}.ngx-file-drop__drop-zone--over[_ngcontent-%COMP%]{background-color:#93939380}.ngx-file-drop__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100px;color:#0782d0}.ngx-file-drop__drop-zone-label[_ngcontent-%COMP%]{text-align:center}.ngx-file-drop__file-input[_ngcontent-%COMP%]{display:none}"]})}return e})(),rot=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e,bootstrap:[OF]});static#n=this.\u0275inj=fn({imports:[q0]})}return e})();const aot=["ngxFileDrop"],lot=[[["","content",""]]],cot=["[content]"];let dot=(()=>{class e{constructor(t,n,o,s){this.settings=t,this.toastService=n,this.uploadDocumentsService=o,this.permissionsService=s,this.fileIsOver=!1,this.hidden=!0}get dragDropEnabled(){return this.settings.globalDropzoneEnabled&&this.permissionsService.currentUserCan(Nt.Add,It.Document)}onDragOver(t){!this.dragDropEnabled||!t.dataTransfer?.types?.includes("Files")||(t.preventDefault(),t.stopImmediatePropagation(),this.settings.globalDropzoneActive=!0,setTimeout(()=>{this.fileIsOver=!0},1),this.hidden=!1,clearTimeout(this.fileLeaveTimeoutID))}onDragLeave(t,n=!1){this.dragDropEnabled&&(t?.preventDefault(),t?.stopImmediatePropagation(),this.settings.globalDropzoneActive=!1,this.fileLeaveTimeoutID=setTimeout(()=>{this.fileIsOver=!1,setTimeout(()=>{this.hidden=!0},150)},n?0:500))}onDrop(t){this.dragDropEnabled&&(t.preventDefault(),t.stopImmediatePropagation(),this.ngxFileDrop.dropFiles(t),this.onDragLeave(t,!0))}dropped(t){this.uploadDocumentsService.onNgxFileDrop(t),t.length>0&&this.toastService.showInfo("Avvio caricamento...",3e3)}onWindowBlur(){this.fileIsOver&&this.onDragLeave(null)}onVisibilityChange(){document.hidden&&this.fileIsOver&&this.onDragLeave(null)}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(ki),Y(Yit),Y(Xn))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-file-drop"]],viewQuery:function(n,o){if(1&n&&cn(aot,5),2&n){let s;Ot(s=yt())&&(o.ngxFileDrop=s.first)}},hostBindings:function(n,o){1&n&&F("dragover",function(r){return o.onDragOver(r)})("dragleave",function(r){return o.onDragLeave(r)})("drop",function(r){return o.onDrop(r)})("blur",function(r){return o.onWindowBlur(r)},!1,P1)("visibilitychange",function(r){return o.onVisibilityChange(r)},!1,rM)},ngContentSelectors:cot,decls:7,vars:6,consts:()=>{let t;return t="Rilascia file per iniziare a caricare",[["ngxFileDrop",""],t,[1,"global-dropzone-overlay","position-fixed","top-0","start-0","bottom-0","end-0","text-center","pe-none","fade"],[1,"pe-none","position-absolute","top-50","start-50","translate-middle"],["dropZoneClassName","visually-hidden","contentClassName","visually-hidden",3,"onFileDrop"]]},template:function(n,o){if(1&n){const s=pe();Ws(lot),c(0,"div"),Xs(1),h(),c(2,"div",2)(3,"h2",3),R(4,1),h()(),c(5,"ngx-file-drop",4,0),F("onFileDrop",function(a){return H(s),$(o.dropped(a))}),h()}2&n&&(Ye("pe-none",o.fileIsOver),d(2),Ye("show",o.fileIsOver)("hide",o.hidden))},dependencies:[OF],styles:[".global-dropzone-overlay[_ngcontent-%COMP%]{background-color:hsla(var(--pngx-primary),var(--pngx-primary-lightness),.8);z-index:1200}.global-dropzone-overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--pngx-primary-text-contrast)}"]})}return e})();function hot(e,i){if(1&e){const t=pe();c(0,"button",10),F("click",function(){return H(t),$(_(2).tourService.prev())}),j(1),h()}if(2&e){const t=_().step;d(),nt(" \xab ",null==t?null:t.prevBtnTitle," ")}}function uot(e,i){if(1&e){const t=pe();c(0,"button",10),F("click",function(){return H(t),$(_(2).tourService.next())}),j(1),h()}if(2&e){const t=_().step;d(),nt(" ",null==t?null:t.nextBtnTitle," \xbb ")}}function _ot(e,i){if(1&e){const t=pe();k(0,"p",2)(1,"hr"),c(2,"div",3)(3,"span",4),j(4),h(),c(5,"div",5)(6,"div",6)(7,"button",7),F("click",function(){return H(t),$(_().tourService.end())}),j(8),h()(),c(9,"div",8),q(10,hot,2,1,"button",9)(11,uot,2,1,"button",9),h()()()}if(2&e){const t=i.step,n=_();w("innerHTML",null==t?null:t.content,Qi),d(4),l1("",(null==n.tourService.steps?null:n.tourService.steps.indexOf(t))+1," / ",null==n.tourService.steps?null:n.tourService.steps.length,""),d(4),nt(" ",null==t?null:t.endBtnTitle," "),d(2),J(n.tourService.hasPrev(t)?10:-1),d(),J(n.tourService.hasNext(t)?11:-1)}}let pot=(()=>{class e{constructor(t,n,o,s,r,a,l,u,p){this.settings=t,this.consumerStatusService=n,this.toastService=o,this.router=s,this.tasksService=r,this.tourService=a,this.renderer=l,this.permissionsService=u,this.hotKeyService=p,window.pdfWorkerSrc="assets/js/pdf.worker.min.js",this.settings.updateAppearanceSettings()}ngOnDestroy(){this.consumerStatusService.disconnect(),this.successSubscription&&this.successSubscription.unsubscribe(),this.failedSubscription&&this.failedSubscription.unsubscribe(),this.newDocumentSubscription&&this.newDocumentSubscription.unsubscribe()}showNotification(t){return("/dashboard"!=this.router.url||!this.settings.get(Ue.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD))&&this.settings.get(t)}ngOnInit(){this.consumerStatusService.connect(),this.successSubscription=this.consumerStatusService.onDocumentConsumptionFinished().subscribe(s=>{this.tasksService.reload(),this.showNotification(Ue.NOTIFICATIONS_CONSUMER_SUCCESS)&&(this.permissionsService.currentUserCan(Nt.View,It.Document)?this.toastService.show({content:"Il documento " + s.filename + " \xE8 stato aggiunto a Paperless-ngx.",delay:1e4,actionName:"Apri documento",action:()=>{this.router.navigate(["documents",s.documentId])}}):this.toastService.show({content:"Il documento " + s.filename + " \xE8 stato aggiunto a Paperless-ngx.",delay:1e4}))}),this.failedSubscription=this.consumerStatusService.onDocumentConsumptionFailed().subscribe(s=>{this.tasksService.reload(),this.showNotification(Ue.NOTIFICATIONS_CONSUMER_FAILED)&&this.toastService.showError("Impossibile aggiungere " + s.filename + ": " + s.message + "")}),this.newDocumentSubscription=this.consumerStatusService.onDocumentDetected().subscribe(s=>{this.tasksService.reload(),this.showNotification(Ue.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT)&&this.toastService.show({content:"Paperless-ngx sta elaborando il documento " + s.filename + ".",delay:5e3})}),this.hotKeyService.addShortcut({keys:"h",description:"Dashboard"}).subscribe(()=>{this.router.navigate(["/dashboard"])}),this.permissionsService.currentUserCan(Nt.View,It.Document)&&this.hotKeyService.addShortcut({keys:"d",description:"Documenti"}).subscribe(()=>{this.router.navigate(["/documents"])}),this.permissionsService.currentUserCan(Nt.Change,It.UISettings)&&this.hotKeyService.addShortcut({keys:"s",description:"Impostazioni"}).subscribe(()=>{this.router.navigate(["/settings"])});const t="Prec",n="Successivo",o="Fine";this.tourService.initialize([{anchorId:"tour.dashboard",content:"La dashboard pu\xF2 essere usata per mostrare le viste salvate, come una 'Inbox'. Queste impostazioni si trovano in Impostazioni > Viste salvate, dopo averne create alcune.",route:"/dashboard",delayAfterNavigation:500,isOptional:!1},{anchorId:"tour.upload-widget",content:"Trascina i documenti qui per iniziare a caricarli, oppure posizionali nella cartella di elaborazione. Puoi anche trascinare i documenti ovunque su tutte le altre pagine della web app. Una volta fatto, Paperless-ngx inizier\xE0 a formare i suoi algoritmi di machine learning.",route:"/dashboard"},{anchorId:"tour.documents",content:"L'elenco dei documenti mostra tutti i tuoi documenti e consente di filtrarli e modificarli in blocco. Ci sono tre stili di visualizzazione diversi: elenco, carte piccole e carte grandi. Un elenco di documenti attualmente aperti per la modifica \xE8 mostrato nella barra laterale.",route:"/documents?sort=created&reverse=1&page=1",delayAfterNavigation:500,placement:"bottom"},{anchorId:"tour.documents-filter-editor",content:"Gli strumenti di filtraggio ti consentono di trovare rapidamente documenti utilizzando vari termini di ricerca, date, tag, ecc.",route:"/documents?sort=created&reverse=1&page=1",placement:"bottom"},{anchorId:"tour.documents-views",content:"Qualsiasi combinazione di filtri pu\xF2 essere salvata come 'vista' che pu\xF2 essere visualizzata sulla dashboard e/o nella barra laterale.",route:"/documents?sort=created&reverse=1&page=1"},{anchorId:"tour.tags",content:"Etichette, corrispondenti, tipi di documenti e percorsi di archiviazione possono essere gestiti utilizzando queste pagine. Possono anche essere creati dalla vista di modifica dei documenti.",route:"/tags",backdropConfig:{offset:0}},{anchorId:"tour.mail",content:"Gestisci account e-mail e le regole per l'importazione automatica dei documenti.",route:"/mail",backdropConfig:{offset:0}},{anchorId:"tour.workflows",content:"I flussi di lavoro ti danno pi\xF9 controllo sulla pipeline del documento.",route:"/workflows",backdropConfig:{offset:0}},{anchorId:"tour.file-tasks",content:"Le Attivit\xE0 File mostrano i documenti che sono stati elaborati, sono in attesa di esserlo, o possano aver portato a un fallimento durante l'Attivit\xE0.",route:"/tasks",backdropConfig:{offset:0}},{anchorId:"tour.settings",content:"Controlla le impostazioni per varie modifiche all'applicazione web o per attivare o disattivare le impostazioni per le viste salvate.",route:"/settings",backdropConfig:{offset:0}},{anchorId:"tour.outro",title:"Grazie! \uD83D\uDE4F",content:"Ci sono <em>tonnellate</em> di caratteristiche e informazioni che non abbiamo coperto qui, ma questo dovrebbe essere abbastanza per cominciare. Consulta la documentazione o visita il progetto su GitHub per saperne di pi\xF9 o per segnalare problemi."+"<br/><br/>"+"Infine, a nome di ogni collaboratore di questo progetto supportato dalla comunit\xE0, grazie per utilizzare Paperless-ngx!",route:"/dashboard",isOptional:!1,backdropConfig:{offset:0}}],{enableBackdrop:!0,backdropConfig:{offset:10},prevBtnTitle:t,nextBtnTitle:n,endBtnTitle:o,isOptional:!0,useLegacyTitle:!0}),this.tourService.start$.subscribe(()=>{this.renderer.addClass(document.body,"tour-active"),this.tourService.end$.pipe(wt()).subscribe(()=>{this.settings.completeTour(),setTimeout(()=>{this.renderer.removeClass(document.body,"tour-active")},500)})})}static#e=this.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(o9),Y(ki),Y(so),Y(e9),Y(Jh),Y($r),Y(Xn),Y(Yh))};static#t=this.\u0275cmp=it({type:e,selectors:[["pngx-root"]],decls:7,vars:0,consts:[["tourStep",""],["content",""],[1,"tour-step-content",3,"innerHTML"],[1,"d-flex","justify-content-between","align-items-center"],[1,"badge","bg-light","text-dark"],["role","toolbar","aria-label","Controls",1,"tour-step-navigation","btn-toolbar"],["role","group","aria-label","Dismiss",1,"btn-group","btn-group-sm","me-2"],[1,"btn","btn-outline-danger",3,"click"],["role","group","aria-label","Previous / Next",1,"btn-group","btn-group-sm","align-self-end"],[1,"btn","btn-outline-primary"],[1,"btn","btn-outline-primary",3,"click"]],template:function(n,o){1&n&&(k(0,"pngx-toasts"),c(1,"pngx-file-drop"),ke(2,1),k(3,"router-outlet"),ze(),h(),c(4,"tour-step-template"),q(5,_ot,12,6,"ng-template",null,0,on),h())},dependencies:[ig,lR,qit,dot]})}return e})(),got=(()=>{class e{constructor(t,n){this.cookieService=t,this.meta=n}intercept(t,n){let o="";this.meta.getTag("name=cookie_prefix")&&(o=this.meta.getTag("name=cookie_prefix").content);let s=this.cookieService.get(`${o}csrftoken`);return s&&(t=t.clone({setHeaders:{"X-CSRFToken":s,Authorization:"Basic cHVibGljOnB1YmxpYw=="}})),n.handle(t)}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Fm),Ke(bO))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),fot=(()=>{class e extends bh{constructor(t){super(),this.settings=t,this.separatorRegExp=/[\.,\/-]+/}getDateInputFormat(){return this.settings.getLocalizedDateInputFormat()}getDateParseRegex(){return new RegExp("^"+this.getDateInputFormat().replace("dd","(?<day>[0-9]+)").replace("mm","(?<month>[0-9]+)").replace("yyyy","(?<year>[0-9]+)").split(".").join("\\.\\s*")+"$")}preformatDateInput(t){const n=this.getDateInputFormat(),o=n.replace(/[dmy]/gi,"").charAt(0);if(this.separatorRegExp.test(t)){let s=t.split(this.separatorRegExp);if(10==t.length&&3==s.length&&4==s[0].length)return n.replace("yyyy",s[0]).replace("mm",s[1]).replace("dd",s[2]);t=s.map(r=>r.padStart(2,"0")).join("")}return 4==t.length&&"yyyy"!=n.substring(0,4)?[t.substring(0,2),t.substring(2,4),(new Date).getFullYear()].join(o):4==t.length&&"yyyy"==n.substring(0,4)?[(new Date).getFullYear(),t.substring(0,2),t.substring(2,4)].join(o):6==t.length?[t.substring(0,2),t.substring(2,4),t.substring(4,6)].join(o):8==t.length&&"yyyy"!=n.substring(0,4)?[t.substring(0,2),t.substring(2,4),t.substring(4,8)].join(o):8==t.length&&"yyyy"==n.substring(0,4)?[t.substring(0,4),t.substring(4,6),t.substring(6,8)].join(o):t}parse(t){t=this.preformatDateInput(t);let n=this.getDateParseRegex().exec(t);if(n){let o={day:+n.groups.day,month:+n.groups.month,year:+n.groups.year};return o.year<=(new Date).getFullYear()-2e3?o.year+=2e3:o.year<100&&(o.year+=1900),o}return null}format(t){return t?this.getDateInputFormat().replace("dd",t.day.toString().padStart(2,"0")).replace("mm",t.month.toString().padStart(2,"0")).replace("yyyy",t.year.toString().padStart(4,"0")):null}static#e=this.\u0275fac=function(n){return new(n||e)(Ke(Tn))};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})(),mot=(()=>{class e{constructor(){}intercept(t,n){return t=t.clone({setHeaders:{Accept:`application/json; version=${wi.apiVersion}`,Authorization:"Basic cHVibGljOnB1YmxpYw=="}}),n.handle(t)}static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275prov=$e({token:e,factory:e.\u0275fac})}return e})();const tr=void 0,Cot=["af",[["v","n"],["vm.","nm."],tr],tr,[["S","M","D","W","D","V","S"],["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."],["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],["So.","Ma.","Di.","Wo.","Do.","Vr.","Sa."]],tr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","Mrt.","Apr.","Mei","Jun.","Jul.","Aug.","Sep.","Okt.","Nov.","Des."],["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"]],tr,[["v.C.","n.C."],tr,["voor Christus","na Christus"]],0,[6,0],["y-MM-dd","dd MMM y","dd MMMM y","EEEE dd MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",tr,tr,tr],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"ZAR","R","Suid-Afrikaanse rand",{BYN:[tr,"\u0440."],CAD:[tr,"$"],JPY:["JP\xa5","\xa5"],MXN:[tr,"$"],PHP:[tr,"\u20b1"],RON:[tr,"leu"],THB:["\u0e3f"],TWD:["NT$"],USD:[tr,"$"],ZAR:["R"]},"ltr",function vot(e){return 1===e?1:5}],Kn=void 0,Mot=["ar",[["\u0635","\u0645"],Kn,Kn],[["\u0635","\u0645"],Kn,["\u0635\u0628\u0627\u062d\u064b\u0627","\u0645\u0633\u0627\u0621\u064b"]],[["\u062d","\u0646","\u062b","\u0631","\u062e","\u062c","\u0633"],["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],Kn,["\u0623\u062d\u062f","\u0625\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]],Kn,[["\u064a","\u0641","\u0645","\u0623","\u0648","\u0646","\u0644","\u063a","\u0633","\u0643","\u0628","\u062f"],["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],Kn],Kn,[["\u0642.\u0645","\u0645"],Kn,["\u0642\u0628\u0644 \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0645\u064a\u0644\u0627\u062f\u064a"]],6,[5,6],["d\u200f/M\u200f/y","dd\u200f/MM\u200f/y","d MMMM y","EEEE\u060c d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kn,"{1} \u0641\u064a {0}",Kn],[".",",",";","\u200e%\u200e","\u200e+","\u200e-","E","\xd7","\u2030","\u221e","\u0644\u064a\u0633\xa0\u0631\u0642\u0645\u064b\u0627",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"EGP","\u062c.\u0645.\u200f","\u062c\u0646\u064a\u0647 \u0645\u0635\u0631\u064a",{AED:["\u062f.\u0625.\u200f"],ARS:[Kn,"AR$"],AUD:["AU$"],BBD:[Kn,"BB$"],BHD:["\u062f.\u0628.\u200f"],BMD:[Kn,"BM$"],BND:[Kn,"BN$"],BSD:[Kn,"BS$"],BYN:[Kn,"\u0440."],BZD:[Kn,"BZ$"],CAD:["CA$"],CLP:[Kn,"CL$"],CNY:["CN\xa5"],COP:[Kn,"CO$"],CUP:[Kn,"CU$"],DOP:[Kn,"DO$"],DZD:["\u062f.\u062c.\u200f"],EGP:["\u062c.\u0645.\u200f","E\xa3"],FJD:[Kn,"FJ$"],GBP:["UK\xa3"],GYD:[Kn,"GY$"],HKD:["HK$"],IQD:["\u062f.\u0639.\u200f"],IRR:["\u0631.\u0625."],JMD:[Kn,"JM$"],JOD:["\u062f.\u0623.\u200f"],JPY:["JP\xa5"],KWD:["\u062f.\u0643.\u200f"],KYD:[Kn,"KY$"],LBP:["\u0644.\u0644.\u200f","L\xa3"],LRD:[Kn,"$LR"],LYD:["\u062f.\u0644.\u200f"],MAD:["\u062f.\u0645.\u200f"],MRU:["\u0623.\u0645."],MXN:["MX$"],NZD:["NZ$"],OMR:["\u0631.\u0639.\u200f"],PHP:[Kn,"\u20b1"],QAR:["\u0631.\u0642.\u200f"],SAR:["\u0631.\u0633.\u200f"],SBD:[Kn,"SB$"],SDD:["\u062f.\u0633.\u200f"],SDG:["\u062c.\u0633."],SRD:[Kn,"SR$"],SYP:["\u0644.\u0633.\u200f","\xa3"],THB:["\u0e3f"],TND:["\u062f.\u062a.\u200f"],TTD:[Kn,"TT$"],TWD:["NT$"],USD:["US$"],UYU:[Kn,"UY$"],YER:["\u0631.\u064a.\u200f"]},"rtl",function wot(e){const i=e;return 0===i?0:1===i?1:2===i?2:i%100===Math.floor(i%100)&&i%100>=3&&i%100<=10?3:i%100===Math.floor(i%100)&&i%100>=11&&i%100<=99?4:5}],Qn=void 0,Tot=["be",[["am","pm"],["AM","PM"],Qn],[["AM","PM"],Qn,Qn],[["\u043d","\u043f","\u0430","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0430\u045e","\u0441\u0440","\u0447\u0446","\u043f\u0442","\u0441\u0431"],["\u043d\u044f\u0434\u0437\u0435\u043b\u044f","\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0430\u045e\u0442\u043e\u0440\u0430\u043a","\u0441\u0435\u0440\u0430\u0434\u0430","\u0447\u0430\u0446\u0432\u0435\u0440","\u043f\u044f\u0442\u043d\u0456\u0446\u0430","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0430\u045e","\u0441\u0440","\u0447\u0446","\u043f\u0442","\u0441\u0431"]],Qn,[["\u0441","\u043b","\u0441","\u043a","\u043c","\u0447","\u043b","\u0436","\u0432","\u043a","\u043b","\u0441"],["\u0441\u0442\u0443","\u043b\u044e\u0442","\u0441\u0430\u043a","\u043a\u0440\u0430","\u043c\u0430\u044f","\u0447\u044d\u0440","\u043b\u0456\u043f","\u0436\u043d\u0456","\u0432\u0435\u0440","\u043a\u0430\u0441","\u043b\u0456\u0441","\u0441\u043d\u0435"],["\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f","\u043b\u044e\u0442\u0430\u0433\u0430","\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430","\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430","\u043c\u0430\u044f","\u0447\u044d\u0440\u0432\u0435\u043d\u044f","\u043b\u0456\u043f\u0435\u043d\u044f","\u0436\u043d\u0456\u045e\u043d\u044f","\u0432\u0435\u0440\u0430\u0441\u043d\u044f","\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430","\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430","\u0441\u043d\u0435\u0436\u043d\u044f"]],[["\u0441","\u043b","\u0441","\u043a","\u043c","\u0447","\u043b","\u0436","\u0432","\u043a","\u043b","\u0441"],["\u0441\u0442\u0443","\u043b\u044e\u0442","\u0441\u0430\u043a","\u043a\u0440\u0430","\u043c\u0430\u0439","\u0447\u044d\u0440","\u043b\u0456\u043f","\u0436\u043d\u0456","\u0432\u0435\u0440","\u043a\u0430\u0441","\u043b\u0456\u0441","\u0441\u043d\u0435"],["\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u043b\u044e\u0442\u044b","\u0441\u0430\u043a\u0430\u0432\u0456\u043a","\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","\u043c\u0430\u0439","\u0447\u044d\u0440\u0432\u0435\u043d\u044c","\u043b\u0456\u043f\u0435\u043d\u044c","\u0436\u043d\u0456\u0432\u0435\u043d\u044c","\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0441\u043d\u0435\u0436\u0430\u043d\u044c"]],[["\u0434\u0430 \u043d.\u044d.","\u043d.\u044d."],Qn,["\u0434\u0430 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430","\u0430\u0434 \u043d\u0430\u0440\u0430\u0434\u0436\u044d\u043d\u043d\u044f \u0425\u0440\u044b\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["d.MM.yy","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss, zzzz"],["{1}, {0}",Qn,"{1} '\u0443' {0}",Qn],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"BYN","Br","\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456 \u0440\u0443\u0431\u0435\u043b\u044c",{AUD:["A$"],BBD:[Qn,"Bds$"],BMD:[Qn,"BD$"],BRL:[Qn,"R$"],BSD:[Qn,"B$"],BYN:["Br"],BZD:[Qn,"BZ$"],CAD:[Qn,"CA$"],CUC:[Qn,"CUC$"],CUP:[Qn,"$MN"],DOP:[Qn,"RD$"],FJD:[Qn,"FJ$"],FKP:[Qn,"FK\xa3"],GYD:[Qn,"G$"],ISK:[Qn,"\xcdkr"],JMD:[Qn,"J$"],KYD:[Qn,"CI$"],LRD:[Qn,"L$"],MXN:["MX$"],NAD:[Qn,"N$"],NZD:[Qn,"NZ$"],PHP:[Qn,"\u20b1"],RUB:["\u20bd","\u0440\u0443\u0431."],SBD:[Qn,"SI$"],SGD:[Qn,"S$"],TTD:[Qn,"TT$"],UYU:[Qn,"$U"],XCD:["EC$"]},"ltr",function bot(e){const i=e;return i%10==1&&i%100!=11?1:i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?3:i%10==0||i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?4:5}],Or=void 0,Eot=["bg",[["am","pm"],Or,["\u043f\u0440.\u043e\u0431.","\u0441\u043b.\u043e\u0431."]],[["am","pm"],Or,Or],[["\u043d","\u043f","\u0432","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0435\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u044f\u0434\u0430","\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u043f\u0435\u0442\u044a\u043a","\u0441\u044a\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],Or,[["\u044f","\u0444","\u043c","\u0430","\u043c","\u044e","\u044e","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u044f\u043d\u0443","\u0444\u0435\u0432","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0435","\u0434\u0435\u043a"],["\u044f\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"]],Or,[["\u043f\u0440.\u0425\u0440.","\u0441\u043b.\u0425\u0440."],Or,["\u043f\u0440\u0435\u0434\u0438 \u0425\u0440\u0438\u0441\u0442\u0430","\u0441\u043b\u0435\u0434 \u0425\u0440\u0438\u0441\u0442\u0430"]],1,[6,0],["d.MM.yy '\u0433'.","d.MM.y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["H:mm '\u0447'.","H:mm:ss '\u0447'.","H:mm:ss '\u0447'. z","H:mm:ss '\u0447'. zzzz"],["{1}, {0}",Or,Or,Or],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","0.00\xa0\xa4","#E0"],"BGN","\u043b\u0432.","\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u043b\u0435\u0432",{AFN:[Or,"Af"],AMD:[],ARS:[],AUD:[],AZN:[],BBD:[],BDT:[],BGN:["\u043b\u0432."],BMD:[],BND:[],BRL:[],BSD:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUP:[],DOP:[],FJD:[],FKP:[],GBP:[Or,"\xa3"],GHS:[],GIP:[],GYD:[],HKD:[],ILS:[],INR:[],JMD:[],JPY:[Or,"\xa5"],KHR:[],KRW:[],KYD:[],KZT:[],LAK:[],LRD:[],MNT:[],MXN:[],NAD:[],NGN:[],NZD:[],PHP:[],PYG:[],RON:[],SBD:[],SGD:[],SRD:[],SSP:[],TRY:[],TTD:[],TWD:[],UAH:[],USD:["\u0449.\u0434.","$"],UYU:[],VND:[],XCD:[Or,"$"]},"ltr",function Sot(e){return 1===e?1:5}],Ls=void 0,Oot=["ca",[["a.\xa0m.","p.\xa0m."],Ls,Ls],Ls,[["dg","dl","dt","dc","dj","dv","ds"],["dg.","dl.","dt.","dc.","dj.","dv.","ds."],["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],["dg.","dl.","dt.","dc.","dj.","dv.","ds."]],Ls,[["GN","FB","M\xc7","AB","MG","JN","JL","AG","ST","OC","NV","DS"],["de gen.","de febr.","de mar\xe7","d\u2019abr.","de maig","de juny","de jul.","d\u2019ag.","de set.","d\u2019oct.","de nov.","de des."],["de gener","de febrer","de mar\xe7","d\u2019abril","de maig","de juny","de juliol","d\u2019agost","de setembre","d\u2019octubre","de novembre","de desembre"]],[["GN","FB","M\xc7","AB","MG","JN","JL","AG","ST","OC","NV","DS"],["gen.","febr.","mar\xe7","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."],["gener","febrer","mar\xe7","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"]],[["aC","dC"],Ls,["abans de Crist","despr\xe9s de Crist"]],1,[6,0],["d/M/yy","d MMM y","d MMMM 'de' y","EEEE, d MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}","{1}, {0}","{1}, 'a' 'les' {0}",Ls],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:["AU$","$"],BRL:[Ls,"R$"],BYN:[Ls,"\u0440."],CAD:[Ls,"$"],CNY:[Ls,"\xa5"],ESP:["\u20a7"],MXN:[Ls,"$"],PHP:[Ls,"\u20b1"],THB:["\u0e3f"],USD:[Ls,"$"],VEF:[Ls,"Bs F"],XCD:[Ls,"$"],XXX:[]},"ltr",function Aot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],nr=void 0,Dot=["cs",[["dop.","odp."],nr,nr],nr,[["N","P","\xda","S","\u010c","P","S"],["ne","po","\xfat","st","\u010dt","p\xe1","so"],["ned\u011ble","pond\u011bl\xed","\xfater\xfd","st\u0159eda","\u010dtvrtek","p\xe1tek","sobota"],["ne","po","\xfat","st","\u010dt","p\xe1","so"]],nr,[["1","2","3","4","5","6","7","8","9","10","11","12"],["led","\xfano","b\u0159e","dub","kv\u011b","\u010dvn","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],["ledna","\xfanora","b\u0159ezna","dubna","kv\u011btna","\u010dervna","\u010dervence","srpna","z\xe1\u0159\xed","\u0159\xedjna","listopadu","prosince"]],[["1","2","3","4","5","6","7","8","9","10","11","12"],["led","\xfano","b\u0159e","dub","kv\u011b","\u010dvn","\u010dvc","srp","z\xe1\u0159","\u0159\xedj","lis","pro"],["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec"]],[["p\u0159.n.l.","n.l."],["p\u0159. n. l.","n. l."],["p\u0159ed na\u0161\xedm letopo\u010dtem","na\u0161eho letopo\u010dtu"]],1,[6,0],["dd.MM.yy","d. M. y","d. MMMM y","EEEE d. MMMM y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",nr,nr,nr],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"CZK","K\u010d","\u010desk\xe1 koruna",{AUD:["AU$","$"],BYN:[nr,"\u0440."],CSK:["K\u010ds"],CZK:["K\u010d"],ILS:[nr,"\u20aa"],INR:[nr,"\u20b9"],JPY:["JP\xa5","\xa5"],PHP:[nr,"\u20b1"],RON:[nr,"L"],RUR:[nr,"\u0440."],TWD:["NT$"],USD:["US$","$"],VND:[nr,"\u20ab"],XEU:["ECU"],XXX:[]},"ltr",function yot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:t===Math.floor(t)&&t>=2&&t<=4&&0===n?3:0!==n?4:5}],yr=void 0,Pot=["da",[["a","p"],["AM","PM"],yr],[["AM","PM"],yr,yr],[["S","M","T","O","T","F","L"],["s\xf8n.","man.","tir.","ons.","tor.","fre.","l\xf8r."],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8","ma","ti","on","to","fr","l\xf8"]],[["S","M","T","O","T","F","L"],["s\xf8n","man","tir","ons","tor","fre","l\xf8r"],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8","ma","ti","on","to","fr","l\xf8"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mar.","apr.","maj","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]],yr,[["fKr","eKr"],["f.Kr.","e.Kr."],yr],1,[6,0],["dd.MM.y","d. MMM y","d. MMMM y","EEEE 'den' d. MMMM y"],["HH.mm","HH.mm.ss","HH.mm.ss z","HH.mm.ss zzzz"],["{1} {0}",yr,"{1} 'kl'. {0}",yr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN","."],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"DKK","kr.","dansk krone",{AUD:["AU$","$"],BYN:[yr,"Br."],DKK:["kr."],ISK:[yr,"kr."],JPY:["JP\xa5","\xa5"],NOK:[yr,"kr."],PHP:[yr,"\u20b1"],RON:[yr,"L"],SEK:[yr,"kr."],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function Not(e){const i=e,t=Math.floor(Math.abs(e)),n=parseInt(e.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;return 1===i||0!==n&&(0===t||1===t)?1:5}],Xo=void 0,Lot=["de",[["AM","PM"],Xo,Xo],Xo,[["S","M","D","M","D","F","S"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["So","Mo","Di","Mi","Do","Fr","Sa"],["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4rz","Apr.","Mai","Juni","Juli","Aug.","Sept.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],Xo,Xo],1,[6,0],["dd.MM.yy","dd.MM.y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Xo,"{1} 'um' {0}",Xo],[",",".",";","%","+","-","E","\xb7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],BGM:["BGK"],BGO:["BGJ"],BYN:[Xo,"\u0440."],CUC:[Xo,"Cub$"],DEM:["DM"],FKP:[Xo,"Fl\xa3"],GHS:[Xo,"\u20b5"],GNF:[Xo,"F.G."],KMF:[Xo,"FC"],PHP:[Xo,"\u20b1"],RON:[Xo,"L"],RUR:[Xo,"\u0440."],RWF:[Xo,"F.Rw"],SYP:[],THB:["\u0e3f"],TWD:["NT$"],XXX:[],ZMW:[Xo,"K"]},"ltr",function Iot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],f0=void 0,Rot=["el",[["\u03c0\u03bc","\u03bc\u03bc"],["\u03c0.\u03bc.","\u03bc.\u03bc."],f0],f0,[["\u039a","\u0394","\u03a4","\u03a4","\u03a0","\u03a0","\u03a3"],["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03af","\u03a4\u03b5\u03c4","\u03a0\u03ad\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03ac\u03b2"],["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"],["\u039a\u03c5","\u0394\u03b5","\u03a4\u03c1","\u03a4\u03b5","\u03a0\u03ad","\u03a0\u03b1","\u03a3\u03ac"]],f0,[["\u0399","\u03a6","\u039c","\u0391","\u039c","\u0399","\u0399","\u0391","\u03a3","\u039f","\u039d","\u0394"],["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03b1\u03c1","\u0391\u03c0\u03c1","\u039c\u03b1\u0390","\u0399\u03bf\u03c5\u03bd","\u0399\u03bf\u03c5\u03bb","\u0391\u03c5\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03b5","\u0394\u03b5\u03ba"],["\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5","\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5","\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5","\u039c\u03b1\u0390\u03bf\u03c5","\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5","\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5","\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5","\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5","\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5","\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5","\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5"]],[["\u0399","\u03a6","\u039c","\u0391","\u039c","\u0399","\u0399","\u0391","\u03a3","\u039f","\u039d","\u0394"],["\u0399\u03b1\u03bd","\u03a6\u03b5\u03b2","\u039c\u03ac\u03c1","\u0391\u03c0\u03c1","\u039c\u03ac\u03b9","\u0399\u03bf\u03cd\u03bd","\u0399\u03bf\u03cd\u03bb","\u0391\u03cd\u03b3","\u03a3\u03b5\u03c0","\u039f\u03ba\u03c4","\u039d\u03bf\u03ad","\u0394\u03b5\u03ba"],["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"]],[["\u03c0.\u03a7.","\u03bc.\u03a7."],f0,["\u03c0\u03c1\u03bf \u03a7\u03c1\u03b9\u03c3\u03c4\u03bf\u03cd","\u03bc\u03b5\u03c4\u03ac \u03a7\u03c1\u03b9\u03c3\u03c4\u03cc\u03bd"]],1,[6,0],["d/M/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",f0,"{1} - {0}",f0],[",",".",";","%","+","-","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","\u0395\u03c5\u03c1\u03ce",{BYN:[f0,"\u0440."],GRD:["\u0394\u03c1\u03c7"],JPY:["JP\xa5","\xa5"],PHP:[f0,"\u20b1"],THB:["\u0e3f"]},"ltr",function xot(e){return 1===e?1:5}],zl=void 0,kot=["en-GB",[["a","p"],["am","pm"],zl],[["am","pm"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"GBP","\xa3","British Pound",{JPY:["JP\xa5","\xa5"],USD:["US$","$"]},"ltr",function Fot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],bi=void 0,Vot=["es",[["a.\xa0m.","p.\xa0m."],bi,bi],bi,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],bi,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],bi,[["a. C.","d. C."],bi,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",bi,bi,bi],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[bi,"$"],BRL:[bi,"R$"],BYN:[bi,"\u0440."],CAD:[bi,"$"],CNY:[bi,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[bi,"\xa3"],HKD:[bi,"$"],ILS:[bi,"\u20aa"],INR:[bi,"\u20b9"],JPY:[bi,"\xa5"],KRW:[bi,"\u20a9"],MXN:[bi,"$"],NZD:[bi,"$"],PHP:[bi,"\u20b1"],RON:[bi,"L"],THB:["\u0e3f"],TWD:[bi,"NT$"],USD:["US$","$"],XAF:[],XCD:[bi,"$"],XOF:[]},"ltr",function zot(e){const i=e,t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===i?1:0===o&&0!==t&&t%1e6==0&&0===n||!(o>=0&&o<=5)?4:5}],Vl=void 0,$ot=["fi",[["ap.","ip."],Vl,Vl],Vl,[["S","M","T","K","T","P","L"],["su","ma","ti","ke","to","pe","la"],["sunnuntaina","maanantaina","tiistaina","keskiviikkona","torstaina","perjantaina","lauantaina"],["su","ma","ti","ke","to","pe","la"]],[["S","M","T","K","T","P","L"],["su","ma","ti","ke","to","pe","la"],["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],["su","ma","ti","ke","to","pe","la"]],[["T","H","M","H","T","K","H","E","S","L","M","J"],["tammik.","helmik.","maalisk.","huhtik.","toukok.","kes\xe4k.","hein\xe4k.","elok.","syysk.","lokak.","marrask.","jouluk."],["tammikuuta","helmikuuta","maaliskuuta","huhtikuuta","toukokuuta","kes\xe4kuuta","hein\xe4kuuta","elokuuta","syyskuuta","lokakuuta","marraskuuta","joulukuuta"]],[["T","H","M","H","T","K","H","E","S","L","M","J"],["tammi","helmi","maalis","huhti","touko","kes\xe4","hein\xe4","elo","syys","loka","marras","joulu"],["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"]],[["eKr","jKr"],["eKr.","jKr."],["ennen Kristuksen syntym\xe4\xe4","j\xe4lkeen Kristuksen syntym\xe4n"]],1,[6,0],["d.M.y",Vl,"d. MMMM y","cccc d. MMMM y"],["H.mm","H.mm.ss","H.mm.ss z","H.mm.ss zzzz"],["{1} {0}","{1} 'klo' {0}",Vl,Vl],[",","\xa0",";","%","+","\u2212","E","\xd7","\u2030","\u221e","ep\xe4luku","."],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AOA:[],ARS:[],AUD:[],BAM:[],BBD:[],BDT:[],BMD:[],BND:[],BOB:[],BRL:[],BSD:[],BWP:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUC:[],CUP:[],CZK:[],DKK:[],DOP:[],EGP:[],ESP:[],FIM:["mk"],FJD:[],FKP:[],GEL:[],GIP:[],GNF:[],GTQ:[],GYD:[],HKD:[],HNL:[],HRK:[],HUF:[],IDR:[],ILS:[],INR:[],ISK:[],JMD:[],KHR:[],KMF:[],KPW:[],KRW:[],KYD:[],KZT:[],LAK:[],LBP:[],LKR:[],LRD:[],LTL:[],LVL:[],MGA:[],MMK:[],MNT:[],MUR:[],MXN:[],MYR:[],NAD:[],NGN:[],NIO:[],NOK:[],NPR:[],NZD:[],PHP:[],PKR:[],PLN:[],PYG:[],RON:[],RWF:[],SBD:[],SEK:[],SGD:[],SHP:[],SRD:[],SSP:[],STN:[Vl,"STD"],SYP:[],THB:[],TOP:[],TRY:[],TTD:[],TWD:[],UAH:[],UYU:[],VEF:[],VND:[],XCD:[],XPF:[],XXX:[],ZAR:[],ZMW:[]},"ltr",function Hot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],lo=void 0,Got=["fr",[["AM","PM"],lo,lo],lo,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],lo,[["av. J.-C.","ap. J.-C."],lo,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",lo],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[lo,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[lo,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[lo,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[lo,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[lo,"\xa5"],KMF:[lo,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[lo,"$C"],NZD:["$NZ","$"],PHP:[lo,"\u20b1"],RHD:["$RH"],RON:[lo,"L"],RWF:[lo,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[lo,"$T"],TTD:["$TT","$"],TWD:[lo,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[lo,"$"],XPF:["FCFP"],ZMW:[lo,"Kw"]},"ltr",function Bot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===t||1===t?1:0===o&&0!==t&&t%1e6==0&&0===n||!(o>=0&&o<=5)?4:5}],Ti=void 0,Zot=["hu",[["de.","du."],Ti,Ti],Ti,[["V","H","K","Sz","Cs","P","Sz"],["V","H","K","Sze","Cs","P","Szo"],["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"],["V","H","K","Sze","Cs","P","Szo"]],Ti,[["J","F","M","\xc1","M","J","J","A","Sz","O","N","D"],["jan.","febr.","m\xe1rc.","\xe1pr.","m\xe1j.","j\xfan.","j\xfal.","aug.","szept.","okt.","nov.","dec."],["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"]],Ti,[["ie.","isz."],["i. e.","i. sz."],["Krisztus el\u0151tt","id\u0151sz\xe1m\xedt\xe1sunk szerint"]],1,[6,0],["y. MM. dd.","y. MMM d.","y. MMMM d.","y. MMMM d., EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}",Ti,Ti,Ti],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"HUF","Ft","magyar forint",{AUD:[Ti,"$"],BRL:[Ti,"R$"],BYN:[Ti,"\u0440."],CAD:[Ti,"$"],CNY:[Ti,"\xa5"],EUR:[Ti,"\u20ac"],GBP:[Ti,"\xa3"],HKD:[Ti,"$"],HUF:["Ft"],ILS:[Ti,"\u20aa"],INR:[Ti,"\u20b9"],KRW:[Ti,"\u20a9"],MXN:[Ti,"$"],NZD:[Ti,"$"],PHP:[Ti,"\u20b1"],TWD:[Ti,"NT$"],USD:[Ti,"$"],VND:[Ti,"\u20ab"],XCD:[Ti,"$"]},"ltr",function Uot(e){return 1===e?1:5}],Ko=void 0,Wot=["it",[["m.","p."],["AM","PM"],Ko],Ko,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],Ko,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],Ko,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Ko,"{1} {0}",Ko],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[Ko,"R$"],BYN:[Ko,"Br"],EGP:[Ko,"\xa3E"],HKD:[Ko,"$"],INR:[Ko,"\u20b9"],JPY:[Ko,"\xa5"],KRW:[Ko,"\u20a9"],MXN:[Ko,"$"],NOK:[Ko,"NKr"],THB:["\u0e3f"],TWD:[Ko,"NT$"],USD:[Ko,"$"],VND:[Ko,"\u20ab"]},"ltr",function jot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===t&&0===n?1:0===o&&0!==t&&t%1e6==0&&0===n||!(o>=0&&o<=5)?4:5}],xs=void 0,Kot=["ja",[["\u5348\u524d","\u5348\u5f8c"],xs,xs],xs,[["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],xs,["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]],xs,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],xs],xs,[["BC","AD"],["\u7d00\u5143\u524d","\u897f\u66a6"],xs],0,[6,0],["y/MM/dd",xs,"y\u5e74M\u6708d\u65e5","y\u5e74M\u6708d\u65e5EEEE"],["H:mm","H:mm:ss","H:mm:ss z","H\u6642mm\u5206ss\u79d2 zzzz"],["{1} {0}",xs,xs,xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"JPY","\uffe5","\u65e5\u672c\u5186",{BYN:[xs,"\u0440."],CNY:["\u5143","\uffe5"],JPY:["\uffe5"],PHP:[xs,"\u20b1"],RON:[xs,"\u30ec\u30a4"],XXX:[]},"ltr",function Xot(e){return 5}],Ia=void 0,Yot=["lb",[["mo.","nom\xeb."],["moies","nom\xebttes"],Ia],[["moies","nom\xebttes"],Ia,Ia],[["S","M","D","M","D","F","S"],["Son.","M\xe9i.","D\xebn.","M\xebt.","Don.","Fre.","Sam."],["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg"],["So.","M\xe9.","D\xeb.","M\xeb.","Do.","Fr.","Sa."]],[["S","M","D","M","D","F","S"],["Son","M\xe9i","D\xebn","M\xebt","Don","Fre","Sam"],["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg"],["So.","M\xe9.","D\xeb.","M\xeb.","Do.","Fr.","Sa."]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan.","Feb.","M\xe4e.","Abr.","Mee","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","M\xe4e","Abr","Mee","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"]],[["v. Chr.","n. Chr."],Ia,Ia],1,[6,0],["dd.MM.yy","d. MMM y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ia,Ia,Ia],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","Euro",{ATS:["\xf6S"],AUD:["AU$","$"],PHP:[Ia,"\u20b1"],THB:["\u0e3f"],TWD:["NT$"]},"ltr",function qot(e){return 1===e?1:5}],ea=void 0,Qot=["nl",[["a.m.","p.m."],ea,ea],ea,[["Z","M","D","W","D","V","Z"],["zo","ma","di","wo","do","vr","za"],["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],["zo","ma","di","wo","do","vr","za"]],ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mrt.","apr.","mei","jun.","jul.","aug.","sep.","okt.","nov.","dec."],["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]],ea,[["v.C.","n.C."],["v.Chr.","n.Chr."],["voor Christus","na Christus"]],1,[6,0],["dd-MM-y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ea,"{1} 'om' {0}",ea],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"EUR","\u20ac","Euro",{AUD:["AU$","$"],BYN:[ea,"\u0440."],CAD:["C$","$"],FJD:["FJ$","$"],JPY:["JP\xa5","\xa5"],PHP:[ea,"\u20b1"],RUR:[ea,"\u0440."],SBD:["SI$","$"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"],XPF:[],XXX:[]},"ltr",function Jot(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],yi=void 0,tst=["no",[["a","p"],["a.m.","p.m."],yi],[["a.m.","p.m."],yi,yi],[["S","M","T","O","T","F","L"],["s\xf8n.","man.","tir.","ons.","tor.","fre.","l\xf8r."],["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],["s\xf8.","ma.","ti.","on.","to.","fr.","l\xf8."]],yi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mar.","apr.","mai","jun.","jul.","aug.","sep.","okt.","nov.","des."],["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]],[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des"],["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"]],[["f.Kr.","e.Kr."],yi,["f\xf8r Kristus","etter Kristus"]],1,[6,0],["dd.MM.y","d. MMM y","d. MMMM y","EEEE d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",yi,"{1} 'kl'. {0}",yi],[",","\xa0",";","%","+","\u2212","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00;\xa4\xa0-#,##0.00","#E0"],"NOK","kr","norske kroner",{AUD:[yi,"$"],BRL:[yi,"R$"],BYN:[yi,"\u0440."],CAD:[yi,"$"],CNY:[yi,"\xa5"],HKD:[yi,"$"],ILS:[yi,"\u20aa"],INR:[yi,"\u20b9"],JPY:[yi,"\xa5"],KRW:[yi,"\u20a9"],MXN:[yi,"$"],NOK:["kr"],NZD:[yi,"$"],PHP:[yi,"\u20b1"],RON:[yi,"L"],TWD:[yi,"NT$"],USD:[yi,"$"],VND:[yi,"\u20ab"],XAF:[],XCD:[yi,"$"],XPF:[],XXX:[]},"ltr",function est(e){return 1===e?1:5}],co=void 0,ist=["pl",[["a","p"],["AM","PM"],co],co,[["n","p","w","\u015b","c","p","s"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["N","P","W","\u015a","C","P","S"],["niedz.","pon.","wt.","\u015br.","czw.","pt.","sob."],["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"],["nie","pon","wto","\u015bro","czw","pi\u0105","sob"]],[["s","l","m","k","m","c","l","s","w","p","l","g"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","wrze\u015bnia","pa\u017adziernika","listopada","grudnia"]],[["S","L","M","K","M","C","L","S","W","P","L","G"],["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\u017a","lis","gru"],["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"]],[["p.n.e.","n.e."],co,["przed nasz\u0105 er\u0105","naszej ery"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",co,"{1} {0}",co],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"PLN","z\u0142","z\u0142oty polski",{AUD:[co,"$"],CAD:[co,"$"],CNY:[co,"\xa5"],GBP:[co,"\xa3"],HKD:[co,"$"],ILS:[co,"\u20aa"],INR:[co,"\u20b9"],JPY:[co,"\xa5"],KRW:[co,"\u20a9"],MXN:[co,"$"],NZD:[co,"$"],PHP:[co,"\u20b1"],PLN:["z\u0142"],RON:[co,"lej"],TWD:[co,"NT$"],USD:[co,"$"],VND:[co,"\u20ab"]},"ltr",function nst(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?3:0===n&&1!==t&&t%10===Math.floor(t%10)&&t%10>=0&&t%10<=1||0===n&&t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=12&&t%100<=14?4:5}],Dr=void 0,yF=["pt",[["AM","PM"],Dr,Dr],Dr,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Dr,[["a.C.","d.C."],Dr,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Dr,Dr,Dr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[Dr,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[Dr,"\u20b1"],PTE:["Esc."],RON:[Dr,"L"],SYP:[Dr,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function ost(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===Math.floor(t)&&t>=0&&t<=1?1:0===o&&0!==t&&t%1e6==0&&0===n||!(o>=0&&o<=5)?4:5}],li=void 0,rst=["ro",[["a.m.","p.m."],li,li],li,[["D","L","M","M","J","V","S"],["dum.","lun.","mar.","mie.","joi","vin.","s\xe2m."],["duminic\u0103","luni","mar\u021bi","miercuri","joi","vineri","s\xe2mb\u0103t\u0103"],["du.","lu.","ma.","mi.","joi","vi.","s\xe2."]],li,[["I","F","M","A","M","I","I","A","S","O","N","D"],["ian.","feb.","mar.","apr.","mai","iun.","iul.","aug.","sept.","oct.","nov.","dec."],["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]],li,[["\xee.Hr.","d.Hr."],li,["\xeenainte de Hristos","dup\u0103 Hristos"]],1,[6,0],["dd.MM.y","d MMM y","d MMMM y","EEEE, d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",li,li,li],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RON","RON","leu rom\xe2nesc",{AUD:[li,"$"],BRL:[li,"R$"],BYN:[li,"\u0440."],CAD:[li,"$"],CNY:[li,"\xa5"],EUR:[li,"\u20ac"],GBP:[li,"\xa3"],HKD:[li,"$"],ILS:[li,"\u20aa"],INR:[li,"\u20b9"],JPY:[li,"\xa5"],KRW:[li,"\u20a9"],MXN:[li,"$"],NZD:[li,"$"],PHP:[li,"\u20b1"],TWD:[li,"NT$"],USD:[li,"$"],VND:[li,"\u20ab"],XCD:[li,"$"]},"ltr",function sst(e){const i=e,t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:0!==n||0===i||i%100===Math.floor(i%100)&&i%100>=2&&i%100<=19?3:5}],M1=void 0,lst=["ru",[["AM","PM"],M1,M1],M1,[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],M1,[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",M1,M1,M1],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{BYN:[M1,"\u0440."],GEL:[M1,"\u10da"],PHP:[M1,"\u20b1"],RON:[M1,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function ast(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 0===n&&t%10==1&&t%100!=11?1:0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?3:0===n&&t%10==0||0===n&&t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14?4:5}],zi=void 0,dst=["sk",[["AM","PM"],zi,zi],zi,[["n","p","u","s","\u0161","p","s"],["ne","po","ut","st","\u0161t","pi","so"],["nede\u013ea","pondelok","utorok","streda","\u0161tvrtok","piatok","sobota"],["ne","po","ut","st","\u0161t","pi","so"]],zi,[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],["janu\xe1ra","febru\xe1ra","marca","apr\xedla","m\xe1ja","j\xfana","j\xfala","augusta","septembra","okt\xf3bra","novembra","decembra"]],[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan","feb","mar","apr","m\xe1j","j\xfan","j\xfal","aug","sep","okt","nov","dec"],["janu\xe1r","febru\xe1r","marec","apr\xedl","m\xe1j","j\xfan","j\xfal","august","september","okt\xf3ber","november","december"]],[["pred Kr.","po Kr."],zi,["pred Kristom","po Kristovi"]],1,[6,0],["d. M. y",zi,"d. MMMM y","EEEE d. MMMM y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss zzzz"],["{1} {0}","{1}, {0}",zi,zi],[",","\xa0",";","%","+","-","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[zi,"$"],BRL:[zi,"R$"],BYN:[zi,"\u0440."],CAD:[zi,"$"],CNY:[zi,"\xa5"],GBP:[zi,"\xa3"],HKD:[zi,"$"],ILS:["NIS","\u20aa"],INR:[zi,"\u20b9"],JPY:[zi,"\xa5"],KRW:[zi,"\u20a9"],NZD:[zi,"$"],PHP:[zi,"\u20b1"],RUR:[zi,"\u0440."],TWD:[zi,"NT$"],USD:[zi,"$"],VND:[zi,"\u20ab"],XXX:[]},"ltr",function cst(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:t===Math.floor(t)&&t>=2&&t<=4&&0===n?3:0!==n?4:5}],ms=void 0,ust=["sl",[["d","p"],["dop.","pop."],ms],[["d","p"],["dop.","pop."],["dopoldne","popoldne"]],[["n","p","t","s","\u010d","p","s"],["ned.","pon.","tor.","sre.","\u010det.","pet.","sob."],["nedelja","ponedeljek","torek","sreda","\u010detrtek","petek","sobota"],["ned.","pon.","tor.","sre.","\u010det.","pet.","sob."]],ms,[["j","f","m","a","m","j","j","a","s","o","n","d"],["jan.","feb.","mar.","apr.","maj","jun.","jul.","avg.","sep.","okt.","nov.","dec."],["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]],ms,[["pr. Kr.","po Kr."],ms,["pred Kristusom","po Kristusu"]],1,[6,0],["d. MM. yy","d. MMM y","d. MMMM y","EEEE, d. MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ms,"{1} {0}",ms],[",",".",";","%","+","\u2212","e","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","evro",{AUD:[ms,"$"],BRL:[ms,"R$"],BYN:[ms,"\u0440."],CAD:[ms,"$"],GBP:[ms,"\xa3"],MXN:[ms,"$"],NZD:[ms,"$"],PHP:[ms,"\u20b1"],TWD:[ms,"NT$"],XCD:[ms,"$"]},"ltr",function hst(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 0===n&&t%100==1?1:0===n&&t%100==2?2:0===n&&t%100===Math.floor(t%100)&&t%100>=3&&t%100<=4||0!==n?3:5}],Rs=void 0,pst=["sr",[["AM","PM"],Rs,Rs],[["\u043f\u0440\u0435 \u043f\u043e\u0434\u043d\u0435","\u043f\u043e \u043f\u043e\u0434\u043d\u0435"],["AM","PM"],Rs],[["\u043d","\u043f","\u0443","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"],["\u043d\u0435\u0434\u0435\u0459\u0430","\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0443\u0442\u043e\u0440\u0430\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u043f\u0435\u0442\u0430\u043a","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0435","\u043f\u043e","\u0443\u0442","\u0441\u0440","\u0447\u0435","\u043f\u0435","\u0441\u0443"]],Rs,[["\u0458","\u0444","\u043c","\u0430","\u043c","\u0458","\u0458","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u0458\u0430\u043d","\u0444\u0435\u0431","\u043c\u0430\u0440","\u0430\u043f\u0440","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0432","\u0434\u0435\u0446"],["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"]],Rs,[["\u043f.\u043d.\u0435.","\u043d.\u0435."],["\u043f. \u043d. \u0435.","\u043d. \u0435."],["\u043f\u0440\u0435 \u043d\u043e\u0432\u0435 \u0435\u0440\u0435","\u043d\u043e\u0432\u0435 \u0435\u0440\u0435"]],1,[6,0],["d.M.yy.","d. M. y.","d. MMMM y.","EEEE, d. MMMM y."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Rs,Rs,Rs],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"RSD","RSD","\u0441\u0440\u043f\u0441\u043a\u0438 \u0434\u0438\u043d\u0430\u0440",{AUD:[Rs,"$"],BAM:["\u041a\u041c","KM"],BYN:[Rs,"\u0440."],GEL:[Rs,"\u10da"],KRW:[Rs,"\u20a9"],NZD:[Rs,"$"],PHP:[Rs,"\u20b1"],TWD:["NT$"],USD:["US$","$"],VND:[Rs,"\u20ab"]},"ltr",function _st(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(e.toString().replace(/^[^.]*\.?/,""),10)||0;return 0===n&&t%10==1&&t%100!=11||o%10==1&&o%100!=11?1:0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?3:5}],ho=void 0,fst=["sv",[["fm","em"],ho,ho],[["fm","em"],["f.m.","e.m."],["f\xf6rmiddag","eftermiddag"]],[["S","M","T","O","T","F","L"],["s\xf6n","m\xe5n","tis","ons","tors","fre","l\xf6r"],["s\xf6ndag","m\xe5ndag","tisdag","onsdag","torsdag","fredag","l\xf6rdag"],["s\xf6","m\xe5","ti","on","to","fr","l\xf6"]],ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","feb.","mars","apr.","maj","juni","juli","aug.","sep.","okt.","nov.","dec."],["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]],ho,[["f.Kr.","e.Kr."],ho,["f\xf6re Kristus","efter Kristus"]],1,[6,0],["y-MM-dd","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ho,ho,ho],[",","\xa0",";","%","+","\u2212","\xd710^","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"SEK","kr","svensk krona",{AUD:[ho,"$"],BBD:["Bds$","$"],BMD:["BM$","$"],BRL:["BR$","R$"],BSD:["BS$","$"],BYN:[ho,"\u0440."],BZD:["BZ$","$"],CNY:[ho,"\xa5"],DKK:["Dkr","kr"],DOP:["RD$","$"],EEK:["Ekr"],EGP:["EG\xa3","E\xa3"],ESP:[],GBP:[ho,"\xa3"],HKD:[ho,"$"],IEP:["IE\xa3"],INR:[ho,"\u20b9"],ISK:["Ikr","kr"],JMD:["JM$","$"],JPY:[ho,"\xa5"],KRW:[ho,"\u20a9"],NOK:["Nkr","kr"],NZD:[ho,"$"],PHP:[ho,"\u20b1"],RON:[ho,"L"],SEK:["kr"],TWD:[ho,"NT$"],USD:["US$","$"],VND:[ho,"\u20ab"]},"ltr",function gst(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Nr=void 0,vst=["tr",[["\xf6\xf6","\xf6s"],["\xd6\xd6","\xd6S"],Nr],[["\xd6\xd6","\xd6S"],Nr,Nr],[["P","P","S","\xc7","P","C","C"],["Paz","Pzt","Sal","\xc7ar","Per","Cum","Cmt"],["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"],["Pa","Pt","Sa","\xc7a","Pe","Cu","Ct"]],Nr,[["O","\u015e","M","N","M","H","T","A","E","E","K","A"],["Oca","\u015eub","Mar","Nis","May","Haz","Tem","A\u011fu","Eyl","Eki","Kas","Ara"],["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"]],Nr,[["M\xd6","MS"],Nr,["Milattan \xd6nce","Milattan Sonra"]],1,[6,0],["d.MM.y","d MMM y","d MMMM y","d MMMM y EEEE"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Nr,Nr,Nr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","%#,##0","\xa4#,##0.00","#E0"],"TRY","\u20ba","T\xfcrk Liras\u0131",{AUD:["AU$","$"],BYN:[Nr,"\u0440."],PHP:[Nr,"\u20b1"],RON:[Nr,"L"],RUR:[Nr,"\u0440."],THB:["\u0e3f"],TRY:["\u20ba"],TWD:["NT$"]},"ltr",function mst(e){return 1===e?1:5}],Di=void 0,wst=["uk",[["\u0434\u043f","\u043f\u043f"],Di,Di],Di,[["\u041d","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f\u02bc\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],Di,[["\u0441","\u043b","\u0431","\u043a","\u0442","\u0447","\u043b","\u0441","\u0432","\u0436","\u043b","\u0433"],["\u0441\u0456\u0447.","\u043b\u044e\u0442.","\u0431\u0435\u0440.","\u043a\u0432\u0456\u0442.","\u0442\u0440\u0430\u0432.","\u0447\u0435\u0440\u0432.","\u043b\u0438\u043f.","\u0441\u0435\u0440\u043f.","\u0432\u0435\u0440.","\u0436\u043e\u0432\u0442.","\u043b\u0438\u0441\u0442.","\u0433\u0440\u0443\u0434."],["\u0441\u0456\u0447\u043d\u044f","\u043b\u044e\u0442\u043e\u0433\u043e","\u0431\u0435\u0440\u0435\u0437\u043d\u044f","\u043a\u0432\u0456\u0442\u043d\u044f","\u0442\u0440\u0430\u0432\u043d\u044f","\u0447\u0435\u0440\u0432\u043d\u044f","\u043b\u0438\u043f\u043d\u044f","\u0441\u0435\u0440\u043f\u043d\u044f","\u0432\u0435\u0440\u0435\u0441\u043d\u044f","\u0436\u043e\u0432\u0442\u043d\u044f","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043d\u044f"]],[["\u0421","\u041b","\u0411","\u041a","\u0422","\u0427","\u041b","\u0421","\u0412","\u0416","\u041b","\u0413"],["\u0441\u0456\u0447","\u043b\u044e\u0442","\u0431\u0435\u0440","\u043a\u0432\u0456","\u0442\u0440\u0430","\u0447\u0435\u0440","\u043b\u0438\u043f","\u0441\u0435\u0440","\u0432\u0435\u0440","\u0436\u043e\u0432","\u043b\u0438\u0441","\u0433\u0440\u0443"],["\u0441\u0456\u0447\u0435\u043d\u044c","\u043b\u044e\u0442\u0438\u0439","\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u043a\u0432\u0456\u0442\u0435\u043d\u044c","\u0442\u0440\u0430\u0432\u0435\u043d\u044c","\u0447\u0435\u0440\u0432\u0435\u043d\u044c","\u043b\u0438\u043f\u0435\u043d\u044c","\u0441\u0435\u0440\u043f\u0435\u043d\u044c","\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0436\u043e\u0432\u0442\u0435\u043d\u044c","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0433\u0440\u0443\u0434\u0435\u043d\u044c"]],[["\u0434\u043e \u043d.\u0435.","\u043d.\u0435."],["\u0434\u043e \u043d. \u0435.","\u043d. \u0435."],["\u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438","\u043d\u0430\u0448\u043e\u0457 \u0435\u0440\u0438"]],1,[6,0],["dd.MM.yy","d MMM y '\u0440'.","d MMMM y '\u0440'.","EEEE, d MMMM y '\u0440'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Di,"{1} '\u043e' {0}",Di],[",","\xa0",";","%","+","-","\u0415","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"UAH","\u20b4","\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u0433\u0440\u0438\u0432\u043d\u044f",{AUD:[Di,"$"],BRL:[Di,"R$"],BYN:[Di,"\u0440."],CAD:[Di,"$"],CNY:[Di,"\xa5"],EUR:[Di,"\u20ac"],GBP:[Di,"\xa3"],HKD:[Di,"$"],ILS:[Di,"\u20aa"],INR:[Di,"\u20b9"],KRW:[Di,"\u20a9"],MXN:[Di,"$"],NZD:[Di,"$"],PHP:[Di,"\u20b1"],RUR:[Di,"\u0440."],TWD:[Di,"$"],UAH:["\u20b4"],UAK:["\u043a\u0440\u0431."],USD:[Di,"$"],VND:[Di,"\u20ab"],XCD:[Di,"$"]},"ltr",function Cst(e){const t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 0===n&&t%10==1&&t%100!=11?1:0===n&&t%10===Math.floor(t%10)&&t%10>=2&&t%10<=4&&!(t%100>=12&&t%100<=14)?3:0===n&&t%10==0||0===n&&t%10===Math.floor(t%10)&&t%10>=5&&t%10<=9||0===n&&t%100===Math.floor(t%100)&&t%100>=11&&t%100<=14?4:5}],ir=void 0,bst=["zh",[["\u4e0a\u5348","\u4e0b\u5348"],ir,ir],ir,[["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"]],ir,[["1","2","3","4","5","6","7","8","9","10","11","12"],["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]],ir,[["\u516c\u5143\u524d","\u516c\u5143"],ir,ir],0,[6,0],["y/M/d","y\u5e74M\u6708d\u65e5",ir,"y\u5e74M\u6708d\u65e5EEEE"],["HH:mm","HH:mm:ss","z HH:mm:ss","zzzz HH:mm:ss"],["{1} {0}",ir,ir,ir],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"CNY","\xa5","\u4eba\u6c11\u5e01",{AUD:["AU$","$"],BYN:[ir,"\u0440."],CNY:["\xa5"],ILR:["ILS"],JPY:["JP\xa5","\xa5"],KRW:["\uffe6","\u20a9"],PHP:[ir,"\u20b1"],RUR:[ir,"\u0440."],TWD:["NT$"],USD:["US$","$"],XXX:[]},"ltr",function Mst(e){return 5}],Tst={airplane:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-airplane" viewBox="0 0 16 16">\n  <path d="M6.428 1.151C6.708.591 7.213 0 8 0s1.292.592 1.572 1.151C9.861 1.73 10 2.431 10 3v3.691l5.17 2.585a1.5 1.5 0 0 1 .83 1.342V12a.5.5 0 0 1-.582.493l-5.507-.918-.375 2.253 1.318 1.318A.5.5 0 0 1 10.5 16h-5a.5.5 0 0 1-.354-.854l1.319-1.318-.376-2.253-5.507.918A.5.5 0 0 1 0 12v-1.382a1.5 1.5 0 0 1 .83-1.342L6 6.691V3c0-.568.14-1.271.428-1.849Zm.894.448C7.111 2.02 7 2.569 7 3v4a.5.5 0 0 1-.276.447l-5.448 2.724a.5.5 0 0 0-.276.447v.792l5.418-.903a.5.5 0 0 1 .575.41l.5 3a.5.5 0 0 1-.14.437L6.708 15h2.586l-.647-.646a.5.5 0 0 1-.14-.436l.5-3a.5.5 0 0 1 .576-.411L15 11.41v-.792a.5.5 0 0 0-.276-.447L9.276 7.447A.5.5 0 0 1 9 7V3c0-.432-.11-.979-.322-1.401C8.458 1.159 8.213 1 8 1c-.213 0-.458.158-.678.599Z"/>\n</svg>',archive:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-archive" viewBox="0 0 16 16">\n  <path d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>\n</svg>',arrowClockwise:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>\n</svg>',arrowCounterclockwise:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-counterclockwise" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>\n  <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>\n</svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>\n</svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>\n</svg>',arrowRepeat:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">\n  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>\n  <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>\n</svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>\n</svg>',arrowRightShort:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"/>\n</svg>',arrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z"/>\n</svg>',asterisk:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-asterisk" viewBox="0 0 16 16">\n  <path d="M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1z"/>\n</svg>',bodyText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-body-text" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"/>\n</svg>',boxArrowUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1h-2z"/>\n  <path fill-rule="evenodd" d="M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708l3-3z"/>\n</svg>',boxArrowUpRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-up-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>\n  <path fill-rule="evenodd" d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>\n</svg>',boxes:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-boxes" viewBox="0 0 16 16">\n  <path d="M7.752.066a.5.5 0 0 1 .496 0l3.75 2.143a.5.5 0 0 1 .252.434v3.995l3.498 2A.5.5 0 0 1 16 9.07v4.286a.5.5 0 0 1-.252.434l-3.75 2.143a.5.5 0 0 1-.496 0l-3.502-2-3.502 2.001a.5.5 0 0 1-.496 0l-3.75-2.143A.5.5 0 0 1 0 13.357V9.071a.5.5 0 0 1 .252-.434L3.75 6.638V2.643a.5.5 0 0 1 .252-.434L7.752.066ZM4.25 7.504 1.508 9.071l2.742 1.567 2.742-1.567L4.25 7.504ZM7.5 9.933l-2.75 1.571v3.134l2.75-1.571V9.933Zm1 3.134 2.75 1.571v-3.134L8.5 9.933v3.134Zm.508-3.996 2.742 1.567 2.742-1.567-2.742-1.567-2.742 1.567Zm2.242-2.433V3.504L8.5 5.076V8.21l2.75-1.572ZM7.5 8.21V5.076L4.75 3.504v3.134L7.5 8.21ZM5.258 2.643 8 4.21l2.742-1.567L8 1.076 5.258 2.643ZM15 9.933l-2.75 1.571v3.134L15 13.067V9.933ZM3.75 14.638v-3.134L1 9.933v3.134l2.75 1.571Z"/>\n</svg>',calendar:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">\n  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>\n</svg>',calendarEvent:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-event" viewBox="0 0 16 16">\n  <path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z"/>\n  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>\n</svg>',calendarEventFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar-event-fill" viewBox="0 0 16 16">\n  <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zM16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-3.5-7h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5z"/>\n</svg>',cardChecklist:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">\n  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n  <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>\n</svg>',cardHeading:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-heading" viewBox="0 0 16 16">\n  <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>\n  <path d="M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"/>\n</svg>',caretDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16">\n  <path d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"/>\n</svg>',caretUp:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-up" viewBox="0 0 16 16">\n  <path d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z"/>\n</svg>',chatLeftText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-left-text" viewBox="0 0 16 16">\n  <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>\n  <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>\n</svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check" viewBox="0 0 16 16">\n  <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>\n</svg>',check2All:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check2-all" viewBox="0 0 16 16">\n  <path d="M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z"/>\n  <path d="m5.354 7.146.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z"/>\n</svg>',checkAll:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-all" viewBox="0 0 16 16">\n  <path d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"/>\n</svg>',checkCircleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n</svg>',checkLg:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">\n  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>\n</svg>',chevronDoubleLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n  <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n</svg>',chevronDoubleRight:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>\n  <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>\n</svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n</svg>',clipboardCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>\n  <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>\n</svg>',clipboardCheckFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">\n  <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>\n  <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>\n</svg>',clipboardFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-fill" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10 1.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1Zm-5 0A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5v1A1.5 1.5 0 0 1 9.5 4h-3A1.5 1.5 0 0 1 5 2.5v-1Zm-2 0h1v1A2.5 2.5 0 0 0 6.5 5h3A2.5 2.5 0 0 0 12 2.5v-1h1a2 2 0 0 1 2 2V14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3.5a2 2 0 0 1 2-2Z"/>\n</svg>',dash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">\n  <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>\n</svg>',dashCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>\n</svg>',diagram3:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-diagram-3" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>\n</svg>',dice5:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dice-5" viewBox="0 0 16 16">\n  <path d="M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z"/>\n  <path d="M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',doorOpen:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">\n  <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>\n  <path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>\n</svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">\n  <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>\n  <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>\n</svg>',envelope:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">\n  <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>\n</svg>',envelopeAt:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at" viewBox="0 0 16 16">\n  <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>\n  <path d="M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z"/>\n</svg>',exclamationCircleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">\n  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>\n</svg>',exclamationTriangle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">\n  <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"/>\n  <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"/>\n</svg>',exclamationTriangleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">\n  <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>\n</svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n  <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n  <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n</svg>',fileEarmark:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark" viewBox="0 0 16 16">\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n</svg>',fileEarmarkCheck:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-check" viewBox="0 0 16 16">\n  <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>\n  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>\n</svg>',fileEarmarkFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-fill" viewBox="0 0 16 16">\n  <path d="M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3z"/>\n</svg>',fileEarmarkLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-lock" viewBox="0 0 16 16">\n  <path d="M10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0zM7 7v1h2V7a1 1 0 0 0-2 0zM6 9.3v2.4c0 .042.02.107.105.175A.637.637 0 0 0 6.5 12h3a.64.64 0 0 0 .395-.125c.085-.068.105-.133.105-.175V9.3c0-.042-.02-.107-.105-.175A.637.637 0 0 0 9.5 9h-3a.637.637 0 0 0-.395.125C6.02 9.193 6 9.258 6 9.3z"/>\n  <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>\n</svg>',fileEarmarkMinus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-minus" viewBox="0 0 16 16">\n  <path d="M5.5 9a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5z"/>\n  <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>\n</svg>',files:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-files" viewBox="0 0 16 16">\n  <path d="M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z"/>\n</svg>',fileText:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-text" viewBox="0 0 16 16">\n  <path d="M5 4a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm-.5 2.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zM5 8a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>\n  <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>\n</svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-filter" viewBox="0 0 16 16">\n  <path d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder" viewBox="0 0 16 16">\n  <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"/>\n</svg>',folderFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder-fill" viewBox="0 0 16 16">\n  <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"/>\n</svg>',funnel:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">\n  <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"/>\n</svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear" viewBox="0 0 16 16">\n  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>\n  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>\n</svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid" viewBox="0 0 16 16">\n  <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"/>\n</svg>',gripVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n  <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>',hash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hash" viewBox="0 0 16 16">\n  <path d="M8.39 12.648a1.32 1.32 0 0 0-.015.18c0 .305.21.508.5.508.266 0 .492-.172.555-.477l.554-2.703h1.204c.421 0 .617-.234.617-.547 0-.312-.188-.53-.617-.53h-.985l.516-2.524h1.265c.43 0 .618-.227.618-.547 0-.313-.188-.524-.618-.524h-1.046l.476-2.304a1.06 1.06 0 0 0 .016-.164.51.51 0 0 0-.516-.516.54.54 0 0 0-.539.43l-.523 2.554H7.617l.477-2.304c.008-.04.015-.118.015-.164a.512.512 0 0 0-.523-.516.539.539 0 0 0-.531.43L6.53 5.484H5.414c-.43 0-.617.22-.617.532 0 .312.187.539.617.539h.906l-.515 2.523H4.609c-.421 0-.609.219-.609.531 0 .313.188.547.61.547h.976l-.516 2.492c-.008.04-.015.125-.015.18 0 .305.21.508.5.508.265 0 .492-.172.554-.477l.555-2.703h2.242l-.515 2.492zm-1-6.109h2.266l-.515 2.563H6.859l.532-2.563z"/>\n</svg>',hddStack:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-hdd-stack" viewBox="0 0 16 16">\n  <path d="M14 10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h12zM2 9a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-1a2 2 0 0 0-2-2H2z"/>\n  <path d="M5 11.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM14 3a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>\n  <path d="M5 4.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm-2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>\n</svg>',house:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">\n  <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>\n</svg>',infoCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n</svg>',journals:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journals" viewBox="0 0 16 16">\n  <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2z"/>\n  <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0z"/>\n</svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-link" viewBox="0 0 16 16">\n  <path d="M6.354 5.5H4a3 3 0 0 0 0 6h3a3 3 0 0 0 2.83-4H9c-.086 0-.17.01-.25.031A2 2 0 0 1 7 10.5H4a2 2 0 1 1 0-4h1.535c.218-.376.495-.714.82-1z"/>\n  <path d="M9 5.5a3 3 0 0 0-2.83 4h1.098A2 2 0 0 1 9 6.5h3a2 2 0 1 1 0 4h-1.535a4.02 4.02 0 0 1-.82 1H12a3 3 0 1 0 0-6H9z"/>\n</svg>',listTask:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-task" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>\n  <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>\n  <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>\n</svg>',listUl:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>\n</svg>',pencil:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">\n  <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>\n</svg>',people:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">\n  <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8Zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022ZM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816ZM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"/>\n</svg>',peopleFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">\n  <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>\n</svg>',person:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">\n  <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>\n</svg>',personCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">\n  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>\n</svg>',personFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n  <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>\n</svg>',personFillLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill-lock" viewBox="0 0 16 16">\n  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5v-1a1.9 1.9 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"/>\n</svg>',personLock:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-lock" viewBox="0 0 16 16">\n  <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 5.996V14H3s-1 0-1-1 1-4 6-4c.564 0 1.077.038 1.544.107a4.524 4.524 0 0 0-.803.918A10.46 10.46 0 0 0 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h5ZM9 13a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"/>\n</svg>',personSquare:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-square" viewBox="0 0 16 16">\n  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>\n  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>\n</svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">\n  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>\n</svg>',plusCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>\n</svg>',questionCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>\n</svg>',scissors:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-scissors" viewBox="0 0 16 16">\n  <path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/>\n</svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">\n  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>\n</svg>',slashCircle:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-slash-circle" viewBox="0 0 16 16">\n  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>\n  <path d="M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z"/>\n</svg>',sliders2Vertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sliders2-vertical" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M0 10.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H3V1.5a.5.5 0 0 0-1 0V10H.5a.5.5 0 0 0-.5.5ZM2.5 12a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5Zm3-6.5A.5.5 0 0 0 6 6h1.5v8.5a.5.5 0 0 0 1 0V6H10a.5.5 0 0 0 0-1H6a.5.5 0 0 0-.5.5ZM8 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2A.5.5 0 0 0 8 1Zm3 9.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1H14V1.5a.5.5 0 0 0-1 0V10h-1.5a.5.5 0 0 0-.5.5Zm2.5 1.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-.5-.5Z"/>\n</svg>',sortAlphaDown:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-down" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z"/>\n  <path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"/>\n</svg>',sortAlphaUpAlt:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-alpha-up-alt" viewBox="0 0 16 16">\n  <path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z"/>\n  <path fill-rule="evenodd" d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z"/>\n  <path d="M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"/>\n</svg>',tagFill:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag-fill" viewBox="0 0 16 16">\n  <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',tag:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tag" viewBox="0 0 16 16">\n  <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>\n  <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"/>\n</svg>',tags:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tags" viewBox="0 0 16 16">\n  <path d="M3 2v4.586l7 7L14.586 9l-7-7H3zM2 2a1 1 0 0 1 1-1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 2 6.586V2z"/>\n  <path d="M5.5 5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm0 1a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM1 7.086a1 1 0 0 0 .293.707L8.75 15.25l-.043.043a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 0 7.586V3a1 1 0 0 1 1-1v5.086z"/>\n</svg>',textIndentLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-indent-left" viewBox="0 0 16 16">\n  <path d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708zM7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',textLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-text-left" viewBox="0 0 16 16">\n  <path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>\n</svg>',threeDots:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots" viewBox="0 0 16 16">\n  <path d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>\n</svg>',threeDotsVertical:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">\n  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>\n</svg>',trash:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">\n  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>\n  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>\n</svg>',uiRadios:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ui-radios" viewBox="0 0 16 16">\n  <path d="M7 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zM0 12a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm7-1.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-1zm0-5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zM3 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm0 4.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>\n</svg>',upcScan:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upc-scan" viewBox="0 0 16 16">\n  <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z"/>\n</svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">\n  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n</svg>',xLg:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">\n  <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>\n</svg>'};function Sst(e){return()=>e.initializeSettings()}Wn(Cot),Wn(Mot),Wn(Tot),Wn(Eot),Wn(Oot),Wn(Dot),Wn(Pot),Wn(Lot),Wn(Rot),Wn(kot),Wn(Vot),Wn($ot),Wn(Got),Wn(Zot),Wn(Wot),Wn(Kot),Wn(Yot),Wn(Qot),Wn(tst),Wn(ist),Wn(yF,"pt-BR"),Wn(yF,"pt-PT"),Wn(rst),Wn(lst),Wn(dst),Wn(ust),Wn(pst),Wn(fst),Wn(vst),Wn(wst),Wn(bst);let Est=(()=>{class e{static#e=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=vn({type:e,bootstrap:[pot]});static#n=this.\u0275inj=fn({providers:[{provide:cp,useFactory:Sst,deps:[Tn],multi:!0},Rp,Fm,{provide:Im,useClass:got,multi:!0},{provide:Im,useClass:mot,multi:!0},s9,U5,{provide:hl,useClass:Av},{provide:bh,useClass:fot},wo,MF,K3,j3,o1e(s1e())],imports:[vY,$it,Mre,Rte,Fte,GHe,rot,pLe,oBe,O$e,pje,JPe.pick(Tst)]})}return e})();fY().bootstrapModule(Est).catch(e=>console.error(e))},578:function(De,I){var ge,ne;void 0!==(ne="function"==typeof(ge=function(){"use strict";function de(f,O,E){var g=new XMLHttpRequest;g.open("GET",f),g.responseType="blob",g.onload=function(){m(g.response,O,E)},g.onerror=function(){console.error("could not download file")},g.send()}function Se(f){var O=new XMLHttpRequest;O.open("HEAD",f,!1);try{O.send()}catch{}return 200<=O.status&&299>=O.status}function ae(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var O=document.createEvent("MouseEvents");O.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(O)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,b=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(f,O,E){var g=T.URL||T.webkitURL,C=document.createElement("a");C.download=O=O||f.name||"download",C.rel="noopener","string"==typeof f?(C.href=f,C.origin===location.origin?ae(C):Se(C.href)?de(f,O,E):ae(C,C.target="_blank")):(C.href=g.createObjectURL(f),setTimeout(function(){g.revokeObjectURL(C.href)},4e4),setTimeout(function(){ae(C)},0))}:"msSaveOrOpenBlob"in navigator?function(f,O,E){if(O=O||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(function ve(f,O){return typeof O>"u"?O={autoBom:!1}:"object"!=typeof O&&(console.warn("Deprecated: Expected third argument to be a object"),O={autoBom:!O}),O.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\ufeff",f],{type:f.type}):f}(f,E),O);else if(Se(f))de(f,O,E);else{var g=document.createElement("a");g.href=f,g.target="_blank",setTimeout(function(){ae(g)})}}:function(f,O,E,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof f)return de(f,O,E);var C="application/octet-stream"===f.type,S=/constructor/i.test(T.HTMLElement)||T.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||C&&S||b)&&typeof FileReader<"u"){var X=new FileReader;X.onloadend=function(){var B=X.result;B=A?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=B:location=B,g=null},X.readAsDataURL(f)}else{var U=T.URL||T.webkitURL,y=U.createObjectURL(f);g?g.location=y:location.href=y,g=null,setTimeout(function(){U.revokeObjectURL(y)},4e4)}});T.saveAs=m.saveAs=m,De.exports=m})?ge.apply(I,[]):ge)&&(De.exports=ne)},717:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(293).default,I,ge;I=globalThis,ge=()=>(()=>{"use strict";var __webpack_modules__=[,(De,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.VerbosityLevel=I.Util=I.UnknownErrorException=I.UnexpectedResponseException=I.TextRenderingMode=I.RenderingIntentFlag=I.PromiseCapability=I.PermissionFlag=I.PasswordResponses=I.PasswordException=I.PageActionEventType=I.OPS=I.MissingPDFException=I.MAX_IMAGE_SIZE_TO_CACHE=I.LINE_FACTOR=I.LINE_DESCENT_FACTOR=I.InvalidPDFException=I.ImageKind=I.IDENTITY_MATRIX=I.FormatError=I.FeatureTest=I.FONT_IDENTITY_MATRIX=I.DocumentActionEventType=I.CMapCompressionType=I.BaseException=I.BASELINE_FACTOR=I.AnnotationType=I.AnnotationReplyType=I.AnnotationPrefix=I.AnnotationMode=I.AnnotationFlag=I.AnnotationFieldFlag=I.AnnotationEditorType=I.AnnotationEditorPrefix=I.AnnotationEditorParamsType=I.AnnotationBorderStyleType=I.AnnotationActionEventType=I.AbortException=void 0,I.assert=function M(ht,He){ht||Z(He)},I.bytesToString=Me,I.createValidAbsoluteUrl=function V(ht,He=null,Ve=null){if(!ht)return null;try{if(Ve&&"string"==typeof ht&&(Ve.addDefaultProtocol&&ht.startsWith("www.")&&ht.match(/\./g)?.length>=2&&(ht=`http://${ht}`),Ve.tryConvertEncoding))try{ht=lt(ht)}catch{}const St=He?new URL(ht,He):new URL(ht);if(function N(ht){switch(ht?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(St))return St}catch{}return null},I.getModificationDate=function qn(ht=new Date){return[ht.getUTCFullYear().toString(),(ht.getUTCMonth()+1).toString().padStart(2,"0"),ht.getUTCDate().toString().padStart(2,"0"),ht.getUTCHours().toString().padStart(2,"0"),ht.getUTCMinutes().toString().padStart(2,"0"),ht.getUTCSeconds().toString().padStart(2,"0")].join("")},I.getUuid=function xr(){if(typeof crypto<"u"&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();const ht=new Uint8Array(32);if(typeof crypto<"u"&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(ht);else for(let He=0;He<32;He++)ht[He]=Math.floor(255*Math.random());return Me(ht)},I.getVerbosityLevel=function Ge(){return Ce},I.info=function Le(ht){Ce>=ee.INFOS&&console.log(`Info: ${ht}`)},I.isArrayBuffer=function sn(ht){return"object"==typeof ht&&void 0!==ht?.byteLength},I.isArrayEqual=function yn(ht,He){if(ht.length!==He.length)return!1;for(let Ve=0,St=ht.length;Ve<St;Ve++)if(ht[Ve]!==He[Ve])return!1;return!0},I.isNodeJS=void 0,I.normalizeUnicode=function zs(ht){return Hi||(Hi=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,rs=new Map([["\ufb05","\u017ft"]])),ht.replaceAll(Hi,(He,Ve,St)=>Ve?Ve.normalize("NFKC"):rs.get(St))},I.objectFromMap=function Ie(ht){const He=Object.create(null);for(const[Ve,St]of ht)He[Ve]=St;return He},I.objectSize=function at(ht){return Object.keys(ht).length},I.setVerbosityLevel=function ye(ht){Number.isInteger(ht)&&(Ce=ht)},I.shadow=G,I.string32=function xe(ht){return String.fromCharCode(ht>>24&255,ht>>16&255,ht>>8&255,255&ht)},I.stringToBytes=Oe,I.stringToPDFString=function dt(ht){if(ht[0]>="\xef"){let Ve;if("\xfe"===ht[0]&&"\xff"===ht[1]?Ve="utf-16be":"\xff"===ht[0]&&"\xfe"===ht[1]?Ve="utf-16le":"\xef"===ht[0]&&"\xbb"===ht[1]&&"\xbf"===ht[2]&&(Ve="utf-8"),Ve)try{const St=new TextDecoder(Ve,{fatal:!0}),tn=Oe(ht);return St.decode(tn)}catch(St){me(`stringToPDFString: "${St}".`)}}const He=[];for(let Ve=0,St=ht.length;Ve<St;Ve++){const tn=We[ht.charCodeAt(Ve)];He.push(tn?String.fromCharCode(tn):ht.charAt(Ve))}return He.join("")},I.stringToUTF8String=lt,I.unreachable=Z,I.utf8StringToString=function kt(ht){return unescape(encodeURIComponent(ht))},I.warn=me;const ge=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);I.isNodeJS=ge,I.IDENTITY_MATRIX=[1,0,0,1,0,0],I.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],I.MAX_IMAGE_SIZE_TO_CACHE=1e7,I.LINE_FACTOR=1.35,I.LINE_DESCENT_FACTOR=.35,I.BASELINE_FACTOR=.35/1.35,I.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},I.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},I.AnnotationEditorPrefix="pdfjs_internal_editor_",I.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},I.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},I.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},I.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},I.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},I.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},I.AnnotationReplyType={GROUP:"Group",REPLY:"R"},I.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},I.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},I.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},I.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},I.PageActionEventType={O:"PageOpen",C:"PageClose"};const ee={ERRORS:0,WARNINGS:1,INFOS:5};I.VerbosityLevel=ee,I.CMapCompressionType={NONE:0,BINARY:1},I.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ce=ee.WARNINGS;function me(ht){Ce>=ee.WARNINGS&&console.log(`Warning: ${ht}`)}function Z(ht){throw new Error(ht)}function G(ht,He,Ve,St=!1){return Object.defineProperty(ht,He,{value:Ve,enumerable:!St,configurable:!0,writable:!1}),Ve}const oe=function(){function He(Ve,St){this.constructor===He&&Z("Cannot initialize BaseException."),this.message=Ve,this.name=St}return He.prototype=new Error,He.constructor=He,He}();function Me(ht){("object"!=typeof ht||void 0===ht?.length)&&Z("Invalid argument for bytesToString");const He=ht.length;if(He<8192)return String.fromCharCode.apply(null,ht);const St=[];for(let tn=0;tn<He;tn+=8192){const Yn=Math.min(tn+8192,He),Ei=ht.subarray(tn,Yn);St.push(String.fromCharCode.apply(null,Ei))}return St.join("")}function Oe(ht){"string"!=typeof ht&&Z("Invalid argument for stringToBytes");const He=ht.length,Ve=new Uint8Array(He);for(let St=0;St<He;++St)Ve[St]=255&ht.charCodeAt(St);return Ve}I.BaseException=oe,I.PasswordException=class ce extends oe{constructor(He,Ve){super(He,"PasswordException"),this.code=Ve}},I.UnknownErrorException=class re extends oe{constructor(He,Ve){super(He,"UnknownErrorException"),this.details=Ve}},I.InvalidPDFException=class P extends oe{constructor(He){super(He,"InvalidPDFException")}},I.MissingPDFException=class K extends oe{constructor(He){super(He,"MissingPDFException")}},I.UnexpectedResponseException=class te extends oe{constructor(He,Ve){super(He,"UnexpectedResponseException"),this.status=Ve}},I.FormatError=class le extends oe{constructor(He){super(He,"FormatError")}},I.AbortException=class ue extends oe{constructor(He){super(He,"AbortException")}},I.FeatureTest=class Ee{static get isLittleEndian(){return G(this,"isLittleEndian",function Ze(){const ht=new Uint8Array(4);return ht[0]=1,1===new Uint32Array(ht.buffer,0,1)[0]}())}static get isEvalSupported(){return G(this,"isEvalSupported",function qe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return G(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?G(this,"platform",{isWin:!1,isMac:!1}):G(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return G(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const Ne=[...Array(256).keys()].map(ht=>ht.toString(16).padStart(2,"0"));I.Util=class Xe{static makeHexColor(He,Ve,St){return`#${Ne[He]}${Ne[Ve]}${Ne[St]}`}static scaleMinMax(He,Ve){let St;He[0]?(He[0]<0&&(St=Ve[0],Ve[0]=Ve[1],Ve[1]=St),Ve[0]*=He[0],Ve[1]*=He[0],He[3]<0&&(St=Ve[2],Ve[2]=Ve[3],Ve[3]=St),Ve[2]*=He[3],Ve[3]*=He[3]):(St=Ve[0],Ve[0]=Ve[2],Ve[2]=St,St=Ve[1],Ve[1]=Ve[3],Ve[3]=St,He[1]<0&&(St=Ve[2],Ve[2]=Ve[3],Ve[3]=St),Ve[2]*=He[1],Ve[3]*=He[1],He[2]<0&&(St=Ve[0],Ve[0]=Ve[1],Ve[1]=St),Ve[0]*=He[2],Ve[1]*=He[2]),Ve[0]+=He[4],Ve[1]+=He[4],Ve[2]+=He[5],Ve[3]+=He[5]}static transform(He,Ve){return[He[0]*Ve[0]+He[2]*Ve[1],He[1]*Ve[0]+He[3]*Ve[1],He[0]*Ve[2]+He[2]*Ve[3],He[1]*Ve[2]+He[3]*Ve[3],He[0]*Ve[4]+He[2]*Ve[5]+He[4],He[1]*Ve[4]+He[3]*Ve[5]+He[5]]}static applyTransform(He,Ve){return[He[0]*Ve[0]+He[1]*Ve[2]+Ve[4],He[0]*Ve[1]+He[1]*Ve[3]+Ve[5]]}static applyInverseTransform(He,Ve){const St=Ve[0]*Ve[3]-Ve[1]*Ve[2];return[(He[0]*Ve[3]-He[1]*Ve[2]+Ve[2]*Ve[5]-Ve[4]*Ve[3])/St,(-He[0]*Ve[1]+He[1]*Ve[0]+Ve[4]*Ve[1]-Ve[5]*Ve[0])/St]}static getAxialAlignedBoundingBox(He,Ve){const St=this.applyTransform(He,Ve),tn=this.applyTransform(He.slice(2,4),Ve),Yn=this.applyTransform([He[0],He[3]],Ve),Ei=this.applyTransform([He[2],He[1]],Ve);return[Math.min(St[0],tn[0],Yn[0],Ei[0]),Math.min(St[1],tn[1],Yn[1],Ei[1]),Math.max(St[0],tn[0],Yn[0],Ei[0]),Math.max(St[1],tn[1],Yn[1],Ei[1])]}static inverseTransform(He){const Ve=He[0]*He[3]-He[1]*He[2];return[He[3]/Ve,-He[1]/Ve,-He[2]/Ve,He[0]/Ve,(He[2]*He[5]-He[4]*He[3])/Ve,(He[4]*He[1]-He[5]*He[0])/Ve]}static singularValueDecompose2dScale(He){const Ve=[He[0],He[2],He[1],He[3]],St=He[0]*Ve[0]+He[1]*Ve[2],Ei=He[2]*Ve[1]+He[3]*Ve[3],Vs=(St+Ei)/2,Rr=Math.sqrt((St+Ei)**2-4*(St*Ei-(He[2]*Ve[0]+He[3]*Ve[2])*(He[0]*Ve[1]+He[1]*Ve[3])))/2,ei=Vs-Rr||1;return[Math.sqrt(Vs+Rr||1),Math.sqrt(ei)]}static normalizeRect(He){const Ve=He.slice(0);return He[0]>He[2]&&(Ve[0]=He[2],Ve[2]=He[0]),He[1]>He[3]&&(Ve[1]=He[3],Ve[3]=He[1]),Ve}static intersect(He,Ve){const St=Math.max(Math.min(He[0],He[2]),Math.min(Ve[0],Ve[2])),tn=Math.min(Math.max(He[0],He[2]),Math.max(Ve[0],Ve[2]));if(St>tn)return null;const Yn=Math.max(Math.min(He[1],He[3]),Math.min(Ve[1],Ve[3])),Ei=Math.min(Math.max(He[1],He[3]),Math.max(Ve[1],Ve[3]));return Yn>Ei?null:[St,Yn,tn,Ei]}static bezierBoundingBox(He,Ve,St,tn,Yn,Ei,Vs,Rr){const Hs=[],ei=[[],[]];let b1,or,mn,Pi,xa,Bl,od,et;for(let ti=0;ti<2;++ti)if(0===ti?(or=6*He-12*St+6*Yn,b1=-3*He+9*St-9*Yn+3*Vs,mn=3*St-3*He):(or=6*Ve-12*tn+6*Ei,b1=-3*Ve+9*tn-9*Ei+3*Rr,mn=3*tn-3*Ve),Math.abs(b1)<1e-12){if(Math.abs(or)<1e-12)continue;Pi=-mn/or,0<Pi&&Pi<1&&Hs.push(Pi)}else od=or*or-4*mn*b1,et=Math.sqrt(od),!(od<0)&&(xa=(-or+et)/(2*b1),0<xa&&xa<1&&Hs.push(xa),Bl=(-or-et)/(2*b1),0<Bl&&Bl<1&&Hs.push(Bl));let Bn,Ra=Hs.length;const Fa=Ra;for(;Ra--;)Pi=Hs[Ra],Bn=1-Pi,ei[0][Ra]=Bn*Bn*Bn*He+3*Bn*Bn*Pi*St+3*Bn*Pi*Pi*Yn+Pi*Pi*Pi*Vs,ei[1][Ra]=Bn*Bn*Bn*Ve+3*Bn*Bn*Pi*tn+3*Bn*Pi*Pi*Ei+Pi*Pi*Pi*Rr;return ei[0][Fa]=He,ei[1][Fa]=Ve,ei[0][Fa+1]=Vs,ei[1][Fa+1]=Rr,ei[0].length=ei[1].length=Fa+2,[Math.min(...ei[0]),Math.min(...ei[1]),Math.max(...ei[0]),Math.max(...ei[1])]}};const We=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function lt(ht){return decodeURIComponent(escape(ht))}I.PromiseCapability=class Vo{#e=!1;constructor(){this.promise=new Promise((He,Ve)=>{this.resolve=St=>{this.#e=!0,He(St)},this.reject=St=>{this.#e=!0,Ve(St)}})}get settled(){return this.#e}};let Hi=null,rs=null;I.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(De){if("string"==typeof De||De instanceof URL?De={url:De}:(0,_util.isArrayBuffer)(De)&&(De={data:De}),"object"!=typeof De)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!De.url&&!De.data&&!De.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const I=new PDFDocumentLoadingTask,{docId:ge}=I,x=De.url?getUrlProp(De.url):null,ne=De.data?getDataProp(De.data):null,ve=De.httpHeaders||null,de=!0===De.withCredentials,Se=De.password??null,ae=De.range instanceof PDFDataRangeTransport?De.range:null,T=Number.isInteger(De.rangeChunkSize)&&De.rangeChunkSize>0?De.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let b=De.worker instanceof PDFWorker?De.worker:null;const m=De.verbosity,f="string"!=typeof De.docBaseUrl||(0,_display_utils.isDataScheme)(De.docBaseUrl)?null:De.docBaseUrl,O="string"==typeof De.cMapUrl?De.cMapUrl:null,E=!1!==De.cMapPacked,g=De.CMapReaderFactory||DefaultCMapReaderFactory,C="string"==typeof De.standardFontDataUrl?De.standardFontDataUrl:null,S=De.StandardFontDataFactory||DefaultStandardFontDataFactory,A=!0!==De.stopAtErrors,X=Number.isInteger(De.maxImageSize)&&De.maxImageSize>-1?De.maxImageSize:-1,U=!1!==De.isEvalSupported,y="boolean"==typeof De.isOffscreenCanvasSupported?De.isOffscreenCanvasSupported:!_util.isNodeJS,B=Number.isInteger(De.canvasMaxAreaInBytes)?De.canvasMaxAreaInBytes:-1,D="boolean"==typeof De.disableFontFace?De.disableFontFace:_util.isNodeJS,W=!0===De.fontExtraProperties,ee=!0===De.enableXfa,fe=De.ownerDocument||globalThis.document,Q=!0===De.disableRange,Te=!0===De.disableStream,Ce=!0===De.disableAutoFetch,ye=!0===De.pdfBug,Ge=ae?ae.length:De.length??NaN,Le="boolean"==typeof De.useSystemFonts?De.useSystemFonts:!_util.isNodeJS&&!D,me="boolean"==typeof De.useWorkerFetch?De.useWorkerFetch:g===_display_utils.DOMCMapReaderFactory&&S===_display_utils.DOMStandardFontDataFactory&&O&&C&&(0,_display_utils.isValidFetchUrl)(O,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(C,document.baseURI),Z=De.canvasFactory||new DefaultCanvasFactory({ownerDocument:fe}),M=De.filterFactory||new DefaultFilterFactory({docId:ge,ownerDocument:fe});(0,_util.setVerbosityLevel)(m);const V={canvasFactory:Z,filterFactory:M};if(me||(V.cMapReaderFactory=new g({baseUrl:O,isCompressed:E}),V.standardFontDataFactory=new S({baseUrl:C})),!b){const ce={verbosity:m,port:_worker_options.GlobalWorkerOptions.workerPort};b=ce.port?PDFWorker.fromPort(ce):new PDFWorker(ce),I._worker=b}const G={docId:ge,apiVersion:"3.11.174",data:ne,password:Se,disableAutoFetch:Ce,rangeChunkSize:T,length:Ge,docBaseUrl:f,enableXfa:ee,evaluatorOptions:{maxImageSize:X,disableFontFace:D,ignoreErrors:A,isEvalSupported:U,isOffscreenCanvasSupported:y,canvasMaxAreaInBytes:B,fontExtraProperties:W,useSystemFonts:Le,cMapUrl:me?O:null,standardFontDataUrl:me?C:null}},oe={ignoreErrors:A,isEvalSupported:U,disableFontFace:D,fontExtraProperties:W,enableXfa:ee,ownerDocument:fe,disableAutoFetch:Ce,pdfBug:ye,styleElement:null};return b.promise.then(function(){if(I.destroyed)throw new Error("Loading aborted");const ce=_fetchDocument(b,G),re=new Promise(function(P){let K;var le;ae?K=new _transport_stream.PDFDataTransportStream({length:Ge,initialData:ae.initialData,progressiveDone:ae.progressiveDone,contentDispositionFilename:ae.contentDispositionFilename,disableRange:Q,disableStream:Te},ae):ne||(le={url:x,length:Ge,httpHeaders:ve,withCredentials:de,rangeChunkSize:T,disableRange:Q,disableStream:Te},K=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(le):(0,_display_utils.isValidFetchUrl)(le.url)?new _displayFetch_stream.PDFFetchStream(le):new _displayNetwork.PDFNetworkStream(le)),P(K)});return Promise.all([ce,re]).then(function([P,K]){if(I.destroyed)throw new Error("Loading aborted");const te=new _message_handler.MessageHandler(ge,P,b.port),le=new WorkerTransport(te,I,K,oe,V);I._transport=le,te.send("Ready",null)})}).catch(I._capability.reject),I}function _fetchDocument(De,I){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(De,I){if(De.destroyed)throw new Error("Worker was destroyed");const ge=yield De.messageHandler.sendWithPromise("GetDocRequest",I,I.data?[I.data.buffer]:null);if(De.destroyed)throw new Error("Worker was destroyed");return ge})).apply(this,arguments)}function getUrlProp(De){if(De instanceof URL)return De.href;try{return new URL(De,window.location).href}catch{if(_util.isNodeJS&&"string"==typeof De)return De}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(De){if(_util.isNodeJS&&typeof Buffer<"u"&&De instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(De instanceof Uint8Array&&De.byteLength===De.buffer.byteLength)return De;if("string"==typeof De)return(0,_util.stringToBytes)(De);if("object"==typeof De&&!isNaN(De?.length)||(0,_util.isArrayBuffer)(De))return new Uint8Array(De);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var I=this;return _asyncToGenerator(function*(){I.destroyed=!0;try{I._worker?.port&&(I._worker._pendingDestroy=!0),yield I._transport?.destroy()}catch(ge){throw I._worker?.port&&delete I._worker._pendingDestroy,ge}I._transport=null,I._worker&&(I._worker.destroy(),I._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(I,ge,x=!1,ne=null){this.length=I,this.initialData=ge,this.progressiveDone=x,this.contentDispositionFilename=ne,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(I){this._rangeListeners.push(I)}addProgressListener(I){this._progressListeners.push(I)}addProgressiveReadListener(I){this._progressiveReadListeners.push(I)}addProgressiveDoneListener(I){this._progressiveDoneListeners.push(I)}onDataRange(I,ge){for(const x of this._rangeListeners)x(I,ge)}onDataProgress(I,ge){this._readyCapability.promise.then(()=>{for(const x of this._progressListeners)x(I,ge)})}onDataProgressiveRead(I){this._readyCapability.promise.then(()=>{for(const ge of this._progressiveReadListeners)ge(I)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const I of this._progressiveDoneListeners)I()})}transportReady(){this._readyCapability.resolve()}requestDataRange(I,ge){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(I,ge){this._pdfInfo=I,this._transport=ge,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(x=>{if(!x)return x;const ne=[];for(const ve in x)ne.push(...x[ve]);return ne}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(I){return this._transport.getPage(I)}getPageIndex(I){return this._transport.getPageIndex(I)}getDestinations(){return this._transport.getDestinations()}getDestination(I){return this._transport.getDestination(I)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(I=!1){return this._transport.startCleanup(I||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(I,ge,x,ne=!1){this._pageIndex=I,this._pageInfo=ge,this._transport=x,this._stats=ne?new _display_utils.StatTimer:null,this._pdfBug=ne,this.commonObjs=x.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:I,rotation:ge=this.rotate,offsetX:x=0,offsetY:ne=0,dontFlip:ve=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:I,rotation:ge,offsetX:x,offsetY:ne,dontFlip:ve})}getAnnotations({intent:I="display"}={}){const ge=this._transport.getRenderingIntent(I);return this._transport.getAnnotations(this._pageIndex,ge.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var I=this;return _asyncToGenerator(function*(){return I._transport._htmlForXfa?.children[I._pageIndex]||null})()}render({canvasContext:I,viewport:ge,intent:x="display",annotationMode:ne=_util.AnnotationMode.ENABLE,transform:ve=null,background:de=null,optionalContentConfigPromise:Se=null,annotationCanvasMap:ae=null,pageColors:T=null,printAnnotationStorage:b=null}){this._stats?.time("Overall");const m=this._transport.getRenderingIntent(x,ne,b);this.#t=!1,this.#i(),Se||(Se=this._transport.getOptionalContentConfig());let f=this._intentStates.get(m.cacheKey);f||(f=Object.create(null),this._intentStates.set(m.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const O=!!(m.renderingIntent&_util.RenderingIntentFlag.PRINT);f.displayReadyCapability||(f.displayReadyCapability=new _util.PromiseCapability,f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(m));const E=S=>{f.renderTasks.delete(g),(this._maybeCleanupAfterRender||O)&&(this.#t=!0),this.#n(!O),S?(g.capability.reject(S),this._abortOperatorList({intentState:f,reason:S instanceof Error?S:new Error(S)})):g.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},g=new InternalRenderTask({callback:E,params:{canvasContext:I,viewport:ge,transform:ve,background:de},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ae,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!O,pdfBug:this._pdfBug,pageColors:T});(f.renderTasks||=new Set).add(g);const C=g.task;return Promise.all([f.displayReadyCapability.promise,Se]).then(([S,A])=>{this.destroyed?E():(this._stats?.time("Rendering"),g.initializeGraphics({transparency:S,optionalContentConfig:A}),g.operatorListChanged())}).catch(E),C}getOperatorList({intent:I="display",annotationMode:ge=_util.AnnotationMode.ENABLE,printAnnotationStorage:x=null}={}){const ve=this._transport.getRenderingIntent(I,ge,x,!0);let Se,de=this._intentStates.get(ve.cacheKey);return de||(de=Object.create(null),this._intentStates.set(ve.cacheKey,de)),de.opListReadCapability||(Se=Object.create(null),Se.operatorListChanged=function ne(){de.operatorList.lastChunk&&(de.opListReadCapability.resolve(de.operatorList),de.renderTasks.delete(Se))},de.opListReadCapability=new _util.PromiseCapability,(de.renderTasks||=new Set).add(Se),de.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ve)),de.opListReadCapability.promise}streamTextContent({includeMarkedContent:I=!1,disableNormalization:ge=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===I,disableNormalization:!0===ge},{highWaterMark:100,size:ne=>ne.items.length})}getTextContent(I={}){if(this._transport._htmlForXfa)return this.getXfa().then(x=>_xfa_text.XfaText.textContent(x));const ge=this.streamTextContent(I);return new Promise(function(x,ne){const de=ge.getReader(),Se={items:[],styles:Object.create(null)};!function ve(){de.read().then(function({value:ae,done:T}){T?x(Se):(Object.assign(Se.styles,ae.styles),Se.items.push(...ae.items),ve())},ne)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const I=[];for(const ge of this._intentStates.values())if(this._abortOperatorList({intentState:ge,reason:new Error("Page was destroyed."),force:!0}),!ge.opListReadCapability)for(const x of ge.renderTasks)I.push(x.completed),x.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(I)}cleanup(I=!1){this.#t=!0;const ge=this.#n(!1);return I&&ge&&(this._stats&&=new _display_utils.StatTimer),ge}#n(I=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(I)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:ge,operatorList:x}of this._intentStates.values())if(ge.size>0||!x.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(I,ge){const x=this._intentStates.get(ge);x&&(this._stats?.timeEnd("Page Request"),x.displayReadyCapability?.resolve(I))}_renderPageChunk(I,ge){for(let x=0,ne=I.length;x<ne;x++)ge.operatorList.fnArray.push(I.fnArray[x]),ge.operatorList.argsArray.push(I.argsArray[x]);ge.operatorList.lastChunk=I.lastChunk,ge.operatorList.separateAnnots=I.separateAnnots;for(const x of ge.renderTasks)x.operatorListChanged();I.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:I,cacheKey:ge,annotationStorageSerializable:x}){const{map:ne,transfers:ve}=x,Se=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:I,cacheKey:ge,annotationStorage:ne},ve).getReader(),ae=this._intentStates.get(ge);ae.streamReader=Se;const T=()=>{Se.read().then(({value:b,done:m})=>{m?ae.streamReader=null:this._transport.destroyed||(this._renderPageChunk(b,ae),T())},b=>{if(ae.streamReader=null,!this._transport.destroyed){if(ae.operatorList){ae.operatorList.lastChunk=!0;for(const m of ae.renderTasks)m.operatorListChanged();this.#n(!0)}if(ae.displayReadyCapability)ae.displayReadyCapability.reject(b);else{if(!ae.opListReadCapability)throw b;ae.opListReadCapability.reject(b)}}})};T()}_abortOperatorList({intentState:I,reason:ge,force:x=!1}){if(I.streamReader){if(I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null),!x){if(I.renderTasks.size>0)return;if(ge instanceof _display_utils.RenderingCancelledException){let ne=RENDERING_CANCELLED_TIMEOUT;return ge.extraDelay>0&&ge.extraDelay<1e3&&(ne+=ge.extraDelay),void(I.streamReaderCancelTimeout=setTimeout(()=>{I.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:I,reason:ge,force:!0})},ne))}}if(I.streamReader.cancel(new _util.AbortException(ge.message)).catch(()=>{}),I.streamReader=null,!this._transport.destroyed){for(const[ne,ve]of this._intentStates)if(ve===I){this._intentStates.delete(ne);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(I,ge){const x={data:structuredClone(I,ge?{transfer:ge}:null)};this.#t.then(()=>{for(const ne of this.#e)ne.call(this,x)})}addEventListener(I,ge){this.#e.add(ge)}removeEventListener(I,ge){this.#e.delete(ge)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const De=document?.currentScript?.src;De&&(PDFWorkerUtil.fallbackWorkerSrc=De.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(De,I){let ge;try{if(ge=new URL(De),!ge.origin||"null"===ge.origin)return!1}catch{return!1}const x=new URL(I,ge);return ge.origin===x.origin},PDFWorkerUtil.createCDNWrapper=function(De){return URL.createObjectURL(new Blob([`importScripts("${De}");`]))};class PDFWorker{static#workerPorts;constructor({name:De=null,port:I=null,verbosity:ge=(0,_util.getVerbosityLevel)()}={}){if(this.name=De,this.destroyed=!1,this.verbosity=ge,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,I){if(PDFWorker.#workerPorts?.has(I))throw new Error("Cannot use more than one PDFWorker per port.");return(PDFWorker.#workerPorts||=new WeakMap).set(I,this),void this._initializeFromPort(I)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(De){this._port=De,this._messageHandler=new _message_handler.MessageHandler("main","worker",De),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:De}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,De)||(De=PDFWorkerUtil.createCDNWrapper(new URL(De,window.location).href));const I=new Worker(De),ge=new _message_handler.MessageHandler("main","worker",I),x=()=>{I.removeEventListener("error",ne),ge.destroy(),I.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ne=()=>{this._webWorker||x()};I.addEventListener("error",ne),ge.on("test",de=>{I.removeEventListener("error",ne),this.destroyed?x():de?(this._messageHandler=ge,this._port=I,this._webWorker=I,this._readyCapability.resolve(),ge.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),ge.destroy(),I.terminate())}),ge.on("ready",de=>{if(I.removeEventListener("error",ne),this.destroyed)x();else try{ve()}catch{this._setupFakeWorker()}});const ve=()=>{const de=new Uint8Array;ge.send("test",de,[de.buffer])};return void ve()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(De=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const I=new LoopbackPort;this._port=I;const ge="fake"+PDFWorkerUtil.fakeWorkerId++,x=new _message_handler.MessageHandler(ge+"_worker",ge,I);De.setup(x,I);const ne=new _message_handler.MessageHandler(ge,ge+"_worker",I);this._messageHandler=ne,this._readyCapability.resolve(),ne.send("configure",{verbosity:this.verbosity})}).catch(De=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${De.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(De){if(!De?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const I=this.#workerPorts?.get(De.port);if(I){if(I._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return I}return new PDFWorker(De)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this3=this;const loader=function(){var _ref=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this3._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(_this3.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this3.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function De(){return _ref.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#i=null;constructor(I,ge,x,ne,ve){this.messageHandler=I,this.loadingTask=ge,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:ne.ownerDocument,styleElement:ne.styleElement}),this._params=ne,this.canvasFactory=ve.canvasFactory,this.filterFactory=ve.filterFactory,this.cMapReaderFactory=ve.cMapReaderFactory,this.standardFontDataFactory=ve.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=x,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#a(I,ge=null){const x=this.#e.get(I);if(x)return x;const ne=this.messageHandler.sendWithPromise(I,ge);return this.#e.set(I,ne),ne}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(I,ge=_util.AnnotationMode.ENABLE,x=null,ne=!1){let ve=_util.RenderingIntentFlag.DISPLAY,de=_annotation_storage.SerializableEmpty;switch(I){case"any":ve=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ve=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${I}`)}switch(ge){case _util.AnnotationMode.DISABLE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ve+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ve+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,de=(ve&_util.RenderingIntentFlag.PRINT&&x instanceof _annotation_storage.PrintAnnotationStorage?x:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${ge}`)}return ne&&(ve+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ve,cacheKey:`${ve}_${de.hash}`,annotationStorageSerializable:de}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const I=[];for(const x of this.#t.values())I.push(x._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ge=this.messageHandler.sendWithPromise("Terminate",null);return I.push(ge),Promise.all(I).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:I,loadingTask:ge}=this;I.on("GetReader",(x,ne)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ve=>{this._lastProgress={loaded:ve.loaded,total:ve.total}},ne.onPull=()=>{this._fullReader.read().then(function({value:ve,done:de}){de?ne.close():((0,_util.assert)(ve instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ne.enqueue(new Uint8Array(ve),1,[ve]))}).catch(ve=>{ne.error(ve)})},ne.onCancel=ve=>{this._fullReader.cancel(ve),ne.ready.catch(de=>{if(!this.destroyed)throw de})}}),I.on("ReaderHeadersReady",x=>{const ne=new _util.PromiseCapability,ve=this._fullReader;return ve.headersReady.then(()=>{(!ve.isStreamingSupported||!ve.isRangeSupported)&&(this._lastProgress&&ge.onProgress?.(this._lastProgress),ve.onProgress=de=>{ge.onProgress?.({loaded:de.loaded,total:de.total})}),ne.resolve({isStreamingSupported:ve.isStreamingSupported,isRangeSupported:ve.isRangeSupported,contentLength:ve.contentLength})},ne.reject),ne.promise}),I.on("GetRangeReader",(x,ne)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ve=this._networkStream.getRangeReader(x.begin,x.end);ve?(ne.onPull=()=>{ve.read().then(function({value:de,done:Se}){Se?ne.close():((0,_util.assert)(de instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ne.enqueue(new Uint8Array(de),1,[de]))}).catch(de=>{ne.error(de)})},ne.onCancel=de=>{ve.cancel(de),ne.ready.catch(Se=>{if(!this.destroyed)throw Se})}):ne.close()}),I.on("GetDoc",({pdfInfo:x})=>{this._numPages=x.numPages,this._htmlForXfa=x.htmlForXfa,delete x.htmlForXfa,ge._capability.resolve(new PDFDocumentProxy(x,this))}),I.on("DocException",function(x){let ne;switch(x.name){case"PasswordException":ne=new _util.PasswordException(x.message,x.code);break;case"InvalidPDFException":ne=new _util.InvalidPDFException(x.message);break;case"MissingPDFException":ne=new _util.MissingPDFException(x.message);break;case"UnexpectedResponseException":ne=new _util.UnexpectedResponseException(x.message,x.status);break;case"UnknownErrorException":ne=new _util.UnknownErrorException(x.message,x.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}ge._capability.reject(ne)}),I.on("PasswordRequest",x=>{if(this.#i=new _util.PromiseCapability,ge.onPassword){const ne=ve=>{ve instanceof Error?this.#i.reject(ve):this.#i.resolve({password:ve})};try{ge.onPassword(ne,x.code)}catch(ve){this.#i.reject(ve)}}else this.#i.reject(new _util.PasswordException(x.message,x.code));return this.#i.promise}),I.on("DataLoaded",x=>{ge.onProgress?.({loaded:x.length,total:x.length}),this.downloadInfoCapability.resolve(x)}),I.on("StartRenderPage",x=>{this.destroyed||this.#t.get(x.pageIndex)._startRenderPage(x.transparency,x.cacheKey)}),I.on("commonobj",([x,ne,ve])=>{if(!this.destroyed&&!this.commonObjs.has(x))switch(ne){case"Font":const de=this._params;if("error"in ve){const T=ve.error;(0,_util.warn)(`Error during font loading: ${T}`),this.commonObjs.resolve(x,T);break}const Se=de.pdfBug&&globalThis.FontInspector?.enabled?(T,b)=>globalThis.FontInspector.fontAdded(T,b):null,ae=new _font_loader.FontFaceObject(ve,{isEvalSupported:de.isEvalSupported,disableFontFace:de.disableFontFace,ignoreErrors:de.ignoreErrors,inspectFont:Se});this.fontLoader.bind(ae).catch(T=>I.sendWithPromise("FontFallback",{id:x})).finally(()=>{!de.fontExtraProperties&&ae.data&&(ae.data=null),this.commonObjs.resolve(x,ae)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(x,ve);break;default:throw new Error(`Got unknown common object type ${ne}`)}}),I.on("obj",([x,ne,ve,de])=>{if(this.destroyed)return;const Se=this.#t.get(ne);if(!Se.objs.has(x))switch(ve){case"Image":if(Se.objs.resolve(x,de),de){let ae;if(de.bitmap){const{width:T,height:b}=de;ae=T*b*4}else ae=de.data?.length||0;ae>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Se._maybeCleanupAfterRender=!0)}break;case"Pattern":Se.objs.resolve(x,de);break;default:throw new Error(`Got unknown object type ${ve}`)}}),I.on("DocProgress",x=>{this.destroyed||ge.onProgress?.({loaded:x.loaded,total:x.total})}),I.on("FetchBuiltInCMap",x=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(x):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),I.on("FetchStandardFontData",x=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(x):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:I,transfers:ge}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:I,filename:this._fullReader?.filename??null},ge).finally(()=>{this.annotationStorage.resetModified()})}getPage(I){if(!Number.isInteger(I)||I<=0||I>this._numPages)return Promise.reject(new Error("Invalid page request."));const ge=I-1,x=this.#n.get(ge);if(x)return x;const ne=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ge}).then(ve=>{if(this.destroyed)throw new Error("Transport destroyed");const de=new PDFPageProxy(ge,ve,this,this._params.pdfBug);return this.#t.set(ge,de),de});return this.#n.set(ge,ne),ne}getPageIndex(I){return"object"!=typeof I||null===I||!Number.isInteger(I.num)||I.num<0||!Number.isInteger(I.gen)||I.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:I.num,gen:I.gen})}getAnnotations(I,ge){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:I,intent:ge})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(I){return"string"!=typeof I?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:I})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(I){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:I})}getStructTree(I){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:I})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(I=>new _optional_content_config.OptionalContentConfig(I))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const I="GetMetadata",ge=this.#e.get(I);if(ge)return ge;const x=this.messageHandler.sendWithPromise(I,null).then(ne=>({info:ne[0],metadata:ne[1]?new _metadata.Metadata(ne[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(I,x),x}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(I=!1){var ge=this;return _asyncToGenerator(function*(){if(!ge.destroyed){yield ge.messageHandler.sendWithPromise("Cleanup",null);for(const x of ge.#t.values())if(!x.cleanup())throw new Error(`startCleanup: Page ${x.pageNumber} is currently rendering.`);ge.commonObjs.clear(),I||ge.fontLoader.clear(),ge.#e.clear(),ge.filterFactory.destroy(!0)}})()}get loadingParams(){const{disableAutoFetch:I,enableXfa:ge}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:I,enableXfa:ge})}}class PDFObjects{#e=Object.create(null);#t(I){return this.#e[I]||={capability:new _util.PromiseCapability,data:null}}get(I,ge=null){if(ge){const ne=this.#t(I);return ne.capability.promise.then(()=>ge(ne.data)),null}const x=this.#e[I];if(!x?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${I}.`);return x.data}has(I){return this.#e[I]?.capability.settled||!1}resolve(I,ge=null){const x=this.#t(I);x.data=ge,x.capability.resolve()}clear(){for(const I in this.#e){const{data:ge}=this.#e[I];ge?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(I){this.#e=I,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(I=0){this.#e.cancel(null,I)}get separateAnnots(){const{separateAnnots:I}=this.#e.operatorList;if(!I)return!1;const{annotationCanvasMap:ge}=this.#e;return I.form||I.canvas&&ge?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:I,params:ge,objs:x,commonObjs:ne,annotationCanvasMap:ve,operatorList:de,pageIndex:Se,canvasFactory:ae,filterFactory:T,useRequestAnimationFrame:b=!1,pdfBug:m=!1,pageColors:f=null}){this.callback=I,this.params=ge,this.objs=x,this.commonObjs=ne,this.annotationCanvasMap=ve,this.operatorListIdx=null,this.operatorList=de,this._pageIndex=Se,this.canvasFactory=ae,this.filterFactory=T,this._pdfBug=m,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===b&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ge.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:I=!1,optionalContentConfig:ge}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:x,viewport:ne,transform:ve,background:de}=this.params;this.gfx=new _canvas.CanvasGraphics(x,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ge},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ve,viewport:ne,transparency:I,background:de}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(I=null,ge=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(I||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ge))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var I=this;return _asyncToGenerator(function*(){I.cancelled||(I.operatorListIdx=I.gfx.executeOperatorList(I.operatorList,I.operatorListIdx,I._continueBound,I.stepper),I.operatorListIdx===I.operatorList.argsArray.length&&(I.running=!1,I.operatorList.lastChunk&&(I.gfx.endDrawing(),InternalRenderTask.#e.delete(I._canvas),I.callback())))})()}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.SerializableEmpty=I.PrintAnnotationStorage=I.AnnotationStorage=void 0;var x=ge(1),ne=ge(4),ve=ge(8);const de=Object.freeze({map:null,hash:"",transfers:void 0});I.SerializableEmpty=de;class Se{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(b,m){const f=this.#t.get(b);return void 0===f?m:Object.assign(m,f)}getRawValue(b){return this.#t.get(b)}remove(b){if(this.#t.delete(b),0===this.#t.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const m of this.#t.values())if(m instanceof ne.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(b,m){const f=this.#t.get(b);let O=!1;if(void 0!==f)for(const[E,g]of Object.entries(m))f[E]!==g&&(O=!0,f[E]=g);else O=!0,this.#t.set(b,m);O&&this.#n(),m instanceof ne.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(m.constructor._type)}has(b){return this.#t.has(b)}getAll(){return this.#t.size>0?(0,x.objectFromMap)(this.#t):null}setAll(b){for(const[m,f]of Object.entries(b))this.setValue(m,f)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new ae(this)}get serializable(){if(0===this.#t.size)return de;const b=new Map,m=new ve.MurmurHash3_64,f=[],O=Object.create(null);let E=!1;for(const[g,C]of this.#t){const S=C instanceof ne.AnnotationEditor?C.serialize(!1,O):C;S&&(b.set(g,S),m.update(`${g}:${JSON.stringify(S)}`),E||=!!S.bitmap)}if(E)for(const g of b.values())g.bitmap&&f.push(g.bitmap);return b.size>0?{map:b,hash:m.hexdigest(),transfers:f}:de}}I.AnnotationStorage=Se;class ae extends Se{#e;constructor(b){super();const{map:m,hash:f,transfers:O}=b.serializable,E=structuredClone(m,O?{transfer:O}:null);this.#e={map:E,hash:f,transfers:O}}get print(){(0,x.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}I.PrintAnnotationStorage=ae},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationEditor=void 0;var x=ge(5),ne=ge(1),ve=ge(6);class de{#e="";#t=!1;#n=null;#i=null;#a=null;#s=!1;#r=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#o=!1;#d=!1;#h=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#_=!1;#p=de._zIndex++;static _borderLineWidth=-1;static _colorManager=new x.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(T){this.constructor===de&&(0,ne.unreachable)("Cannot initialize AnnotationEditor."),this.parent=T.parent,this.id=T.id,this.width=this.height=null,this.pageIndex=T.parent.pageIndex,this.name=T.name,this.div=null,this._uiManager=T.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=T.isCentered,this._structTreeParentId=null;const{rotation:b,rawDims:{pageWidth:m,pageHeight:f,pageX:O,pageY:E}}=this.parent.viewport;this.rotation=b,this.pageRotation=(360+b-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[m,f],this.pageTranslation=[O,E];const[g,C]=this.parentDimensions;this.x=T.x/g,this.y=T.y/C,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,ne.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(T){const b=new Se({id:T.parent.getNextId(),parent:T.parent,uiManager:T._uiManager});b.annotationElementId=T.annotationElementId,b.deleted=!0,b._uiManager.addToAnnotationStorage(b)}static initialize(T,b=null){if(de._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(f=>[f,T.get(f)])),b?.strings)for(const f of b.strings)de._l10nPromise.set(f,T.get(f));if(-1!==de._borderLineWidth)return;const m=getComputedStyle(document.documentElement);de._borderLineWidth=parseFloat(m.getPropertyValue("--outline-width"))||0}static updateDefaultParams(T,b){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(T){return!1}static paste(T,b){(0,ne.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(T){this.#_=T,this.div?.classList.toggle("draggable",T)}center(){const[T,b]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*b/(2*T),this.y+=this.width*T/(2*b);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*b/(2*T),this.y-=this.width*T/(2*b);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(T){this._uiManager.addCommands(T)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(T){null!==T&&(this.pageIndex=T.pageIndex,this.pageDimensions=T.pageDimensions),this.parent=T}focusin(T){this._focusEventsAllowed&&(this.#o?this.#o=!1:this.parent.setSelected(this))}focusout(T){!this._focusEventsAllowed||!this.isAttachedToDOM||T.relatedTarget?.closest(`#${this.id}`)||(T.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(T,b,m,f){const[O,E]=this.parentDimensions;[m,f]=this.screenToPageTranslation(m,f),this.x=(T+m)/O,this.y=(b+f)/E,this.fixAndSetPosition()}#g([T,b],m,f){[m,f]=this.screenToPageTranslation(m,f),this.x+=m/T,this.y+=f/b,this.fixAndSetPosition()}translate(T,b){this.#g(this.parentDimensions,T,b)}translateInPage(T,b){this.#g(this.pageDimensions,T,b),this.div.scrollIntoView({block:"nearest"})}drag(T,b){const[m,f]=this.parentDimensions;if(this.x+=T/m,this.y+=b/f,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:S,y:A}=this.div.getBoundingClientRect();this.parent.findNewParent(this,S,A)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:O,y:E}=this;const[g,C]=this.#f();O+=g,E+=C,this.div.style.left=`${(100*O).toFixed(2)}%`,this.div.style.top=`${(100*E).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#f(){const[T,b]=this.parentDimensions,{_borderLineWidth:m}=de,f=m/T,O=m/b;switch(this.rotation){case 90:return[-f,O];case 180:return[f,O];case 270:return[f,-O];default:return[-f,-O]}}fixAndSetPosition(){const[T,b]=this.pageDimensions;let{x:m,y:f,width:O,height:E}=this;switch(O*=T,E*=b,m*=T,f*=b,this.rotation){case 0:m=Math.max(0,Math.min(T-O,m)),f=Math.max(0,Math.min(b-E,f));break;case 90:m=Math.max(0,Math.min(T-E,m)),f=Math.min(b,Math.max(O,f));break;case 180:m=Math.min(T,Math.max(O,m)),f=Math.min(b,Math.max(E,f));break;case 270:m=Math.min(T,Math.max(E,m)),f=Math.max(0,Math.min(b-O,f))}this.x=m/=T,this.y=f/=b;const[g,C]=this.#f();m+=g,f+=C;const{style:S}=this.div;S.left=`${(100*m).toFixed(2)}%`,S.top=`${(100*f).toFixed(2)}%`,this.moveInDOM()}static#m(T,b,m){switch(m){case 90:return[b,-T];case 180:return[-T,-b];case 270:return[-b,T];default:return[T,b]}}screenToPageTranslation(T,b){return de.#m(T,b,this.parentRotation)}pageTranslationToScreen(T,b){return de.#m(T,b,360-this.parentRotation)}#u(T){switch(T){case 90:{const[b,m]=this.pageDimensions;return[0,-b/m,m/b,0]}case 180:return[-1,0,0,-1];case 270:{const[b,m]=this.pageDimensions;return[0,b/m,-m/b,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:T,pageDimensions:[b,m]}=this,f=b*T,O=m*T;return ne.FeatureTest.isCSSRoundSupported?[Math.round(f),Math.round(O)]:[f,O]}setDims(T,b){const[m,f]=this.parentDimensions;this.div.style.width=`${(100*T/m).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*b/f).toFixed(2)}%`),this.#n?.classList.toggle("small",T<de.SMALL_EDITOR_SIZE||b<de.SMALL_EDITOR_SIZE)}fixDims(){const{style:T}=this.div,{height:b,width:m}=T,f=m.endsWith("%"),O=!this.#s&&b.endsWith("%");if(f&&O)return;const[E,g]=this.parentDimensions;f||(T.width=`${(100*parseFloat(m)/E).toFixed(2)}%`),!this.#s&&!O&&(T.height=`${(100*parseFloat(b)/g).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const T=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||T.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const b of T){const m=document.createElement("div");this.#r.append(m),m.classList.add("resizer",b),m.addEventListener("pointerdown",this.#S.bind(this,b)),m.addEventListener("contextmenu",ve.noContextMenu)}this.div.prepend(this.#r)}#S(T,b){b.preventDefault();const{isMac:m}=ne.FeatureTest.platform;if(0!==b.button||b.ctrlKey&&m)return;const f=this.#w.bind(this,T),O=this._isDraggable;this._isDraggable=!1;const E={passive:!0,capture:!0};window.addEventListener("pointermove",f,E);const g=this.x,C=this.y,S=this.width,A=this.height,X=this.parent.div.style.cursor,U=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(b.target).cursor;const y=()=>{this._isDraggable=O,window.removeEventListener("pointerup",y),window.removeEventListener("blur",y),window.removeEventListener("pointermove",f,E),this.parent.div.style.cursor=X,this.div.style.cursor=U;const B=this.x,D=this.y,W=this.width,ee=this.height;B===g&&D===C&&W===S&&ee===A||this.addCommands({cmd:()=>{this.width=W,this.height=ee,this.x=B,this.y=D;const[fe,Q]=this.parentDimensions;this.setDims(fe*W,Q*ee),this.fixAndSetPosition()},undo:()=>{this.width=S,this.height=A,this.x=g,this.y=C;const[fe,Q]=this.parentDimensions;this.setDims(fe*S,Q*A),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",y),window.addEventListener("blur",y)}#w(T,b){const[m,f]=this.parentDimensions,O=this.x,E=this.y,g=this.width,C=this.height,S=de.MIN_SIZE/m,A=de.MIN_SIZE/f,X=re=>Math.round(1e4*re)/1e4,U=this.#u(this.rotation),y=(re,P)=>[U[0]*re+U[2]*P,U[1]*re+U[3]*P],B=this.#u(360-this.rotation);let W,ee,fe=!1,Q=!1;switch(T){case"topLeft":fe=!0,W=(re,P)=>[0,0],ee=(re,P)=>[re,P];break;case"topMiddle":W=(re,P)=>[re/2,0],ee=(re,P)=>[re/2,P];break;case"topRight":fe=!0,W=(re,P)=>[re,0],ee=(re,P)=>[0,P];break;case"middleRight":Q=!0,W=(re,P)=>[re,P/2],ee=(re,P)=>[0,P/2];break;case"bottomRight":fe=!0,W=(re,P)=>[re,P],ee=(re,P)=>[0,0];break;case"bottomMiddle":W=(re,P)=>[re/2,P],ee=(re,P)=>[re/2,0];break;case"bottomLeft":fe=!0,W=(re,P)=>[0,P],ee=(re,P)=>[re,0];break;case"middleLeft":Q=!0,W=(re,P)=>[0,P/2],ee=(re,P)=>[re,P/2]}const Te=W(g,C),Ce=ee(g,C);let ye=y(...Ce);const Ge=X(O+ye[0]),Le=X(E+ye[1]);let me=1,Z=1,[M,N]=this.screenToPageTranslation(b.movementX,b.movementY);if([M,N]=[B[0]*(re=M/m)+B[2]*(P=N/f),B[1]*re+B[3]*P],fe){const re=Math.hypot(g,C);me=Z=Math.max(Math.min(Math.hypot(Ce[0]-Te[0]-M,Ce[1]-Te[1]-N)/re,1/g,1/C),S/g,A/C)}else Q?me=Math.max(S,Math.min(1,Math.abs(Ce[0]-Te[0]-M)))/g:Z=Math.max(A,Math.min(1,Math.abs(Ce[1]-Te[1]-N)))/C;var re,P;const V=X(g*me),G=X(C*Z);ye=y(...ee(V,G));const oe=Ge-ye[0],ce=Le-ye[1];this.width=V,this.height=G,this.x=oe,this.y=ce,this.setDims(m*V,f*G),this.fixAndSetPosition()}addAltTextButton(){var T=this;return _asyncToGenerator(function*(){if(T.#n)return;const b=T.#n=document.createElement("button");b.className="altText";const m=yield de._l10nPromise.get("editor_alt_text_button_label");b.textContent=m,b.setAttribute("aria-label",m),b.tabIndex="0",b.addEventListener("contextmenu",ve.noContextMenu),b.addEventListener("pointerdown",f=>f.stopPropagation()),b.addEventListener("click",f=>{f.preventDefault(),T._uiManager.editAltText(T)},{capture:!0}),b.addEventListener("keydown",f=>{f.target===b&&"Enter"===f.key&&(f.preventDefault(),T._uiManager.editAltText(T))}),T.#M(),T.div.append(b),de.SMALL_EDITOR_SIZE||(de.SMALL_EDITOR_SIZE=Math.min(128,Math.round(1.4*b.getBoundingClientRect().width)))})()}#M(){var T=this;return _asyncToGenerator(function*(){const b=T.#n;if(!b)return;if(!T.#e&&!T.#t)return b.classList.remove("done"),void T.#i?.remove();de._l10nPromise.get("editor_alt_text_edit_button_label").then(f=>{b.setAttribute("aria-label",f)});let m=T.#i;if(!m){T.#i=m=document.createElement("span"),m.className="tooltip",m.setAttribute("role","tooltip");const f=m.id=`alt-text-tooltip-${T.id}`;b.setAttribute("aria-describedby",f);const O=100;b.addEventListener("mouseenter",()=>{T.#a=setTimeout(()=>{T.#a=null,T.#i.classList.add("show"),T._uiManager._eventBus.dispatch("reporttelemetry",{source:T,details:{type:"editing",subtype:T.editorType,data:{action:"alt_text_tooltip"}}})},O)}),b.addEventListener("mouseleave",()=>{clearTimeout(T.#a),T.#a=null,T.#i?.classList.remove("show")})}b.classList.add("done"),m.innerText=T.#t?yield de._l10nPromise.get("editor_alt_text_decorative_tooltip"):T.#e,m.parentNode||b.append(m)})()}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:T,decorative:b}){this.#e===T&&this.#t===b||(this.#e=T,this.#t=b,this.#M())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[T,b]=this.parentDimensions;this.parentRotation%180!=0&&(this.div.style.maxWidth=`${(100*b/T).toFixed(2)}%`,this.div.style.maxHeight=`${(100*T/b).toFixed(2)}%`);const[m,f]=this.getInitialTranslation();return this.translate(m,f),(0,x.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(T){const{isMac:b}=ne.FeatureTest.platform;0!==T.button||T.ctrlKey&&b?T.preventDefault():(this.#o=!0,this.#b(T))}#b(T){if(!this._isDraggable)return;const b=this._uiManager.isSelected(this);let m,f;this._uiManager.setUpDragSession(),b&&(m={passive:!0,capture:!0},f=E=>{const[g,C]=this.screenToPageTranslation(E.movementX,E.movementY);this._uiManager.dragSelectedEditors(g,C)},window.addEventListener("pointermove",f,m));const O=()=>{if(window.removeEventListener("pointerup",O),window.removeEventListener("blur",O),b&&window.removeEventListener("pointermove",f,m),this.#o=!1,!this._uiManager.endDragSession()){const{isMac:E}=ne.FeatureTest.platform;T.ctrlKey&&!E||T.shiftKey||T.metaKey&&E?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",O),window.addEventListener("blur",O)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(T,b,m){T.changeParent(this),this.x=b,this.y=m,this.fixAndSetPosition()}getRect(T,b){const m=this.parentScale,[f,O]=this.pageDimensions,[E,g]=this.pageTranslation,C=T/m,S=b/m,A=this.x*f,X=this.y*O,U=this.width*f,y=this.height*O;switch(this.rotation){case 0:return[A+C+E,O-X-S-y+g,A+C+U+E,O-X-S+g];case 90:return[A+S+E,O-X+C+g,A+S+y+E,O-X+C+U+g];case 180:return[A-C-U+E,O-X+S+g,A-C+E,O-X+S+y+g];case 270:return[A-S-y+E,O-X-C-U+g,A-S+E,O-X-C+g];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(T,b){const[m,f,O,E]=T,g=O-m,C=E-f;switch(this.rotation){case 0:return[m,b-E,g,C];case 90:return[m,b-f,C,g];case 180:return[O,b-f,g,C];case 270:return[O,b-E,C,g];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(T=!1,b=null){(0,ne.unreachable)("An editor must be serializable")}static deserialize(T,b,m){const f=new this.prototype.constructor({parent:b,id:b.getNextId(),uiManager:m});f.rotation=T.rotation;const[O,E]=f.pageDimensions,[g,C,S,A]=f.getRectInCurrentCoords(T.rect,E);return f.x=g/O,f.y=C/E,f.width=S/O,f.height=A/E,f}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#i=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#r.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(T,b){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#d}set isEditing(T){this.#d=T,this.parent&&(T?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(T,b){this.#s=!0;const m=T/b,{style:f}=this.div;f.aspectRatio=m,f.height="auto"}static get MIN_SIZE(){return 16}}I.AnnotationEditor=de;class Se extends de{constructor(T){super(T),this.annotationElementId=T.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.KeyboardManager=I.CommandManager=I.ColorManager=I.AnnotationEditorUIManager=void 0,I.bindEvents=function ve(O,E,g){for(const C of g)E.addEventListener(C,O[C].bind(O))},I.opacityToHex=function de(O){return Math.round(Math.min(255,Math.max(1,255*O))).toString(16).padStart(2,"0")};var x=ge(1),ne=ge(6);class Se{#e=0;getId(){return`${x.AnnotationEditorPrefix}${this.#e++}`}}class ae{#e=(0,x.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const C=new OffscreenCanvas(1,3).getContext("2d"),S=new Image;S.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const A=S.decode().then(()=>(C.drawImage(S,0,0,1,1,0,0,1,3),0===new Uint32Array(C.getImageData(0,0,1,1).data.buffer)[0]));return(0,x.shadow)(this,"_isSVGFittingCanvas",A)}#i(E,g){var C=this;return _asyncToGenerator(function*(){C.#n||=new Map;let S=C.#n.get(E);if(null===S)return null;if(S?.bitmap)return S.refCounter+=1,S;try{let A;if(S||={bitmap:null,id:`image_${C.#e}_${C.#t++}`,refCounter:0,isSvg:!1},"string"==typeof g){S.url=g;const X=yield fetch(g);if(!X.ok)throw new Error(X.statusText);A=yield X.blob()}else A=S.file=g;if("image/svg+xml"===A.type){const X=ae._isSVGFittingCanvas,U=new FileReader,y=new Image,B=new Promise((D,W)=>{y.onload=()=>{S.bitmap=y,S.isSvg=!0,D()},U.onload=_asyncToGenerator(function*(){const ee=S.svgUrl=U.result;y.src=(yield X)?`${ee}#svgView(preserveAspectRatio(none))`:ee}),y.onerror=U.onerror=W});U.readAsDataURL(A),yield B}else S.bitmap=yield createImageBitmap(A);S.refCounter=1}catch(A){console.error(A),S=null}return C.#n.set(E,S),S&&C.#n.set(S.id,S),S})()}getFromFile(E){var g=this;return _asyncToGenerator(function*(){const{lastModified:C,name:S,size:A,type:X}=E;return g.#i(`${C}_${S}_${A}_${X}`,E)})()}getFromUrl(E){var g=this;return _asyncToGenerator(function*(){return g.#i(E,E)})()}getFromId(E){var g=this;return _asyncToGenerator(function*(){g.#n||=new Map;const C=g.#n.get(E);return C?C.bitmap?(C.refCounter+=1,C):C.file?g.getFromFile(C.file):g.getFromUrl(C.url):null})()}getSvgUrl(E){const g=this.#n.get(E);return g?.isSvg?g.svgUrl:null}deleteId(E){this.#n||=new Map;const g=this.#n.get(E);g&&(g.refCounter-=1,0===g.refCounter&&(g.bitmap=null))}isValidId(E){return E.startsWith(`image_${this.#e}_`)}}class T{#e=[];#t=!1;#n;#i=-1;constructor(E=128){this.#n=E}add({cmd:E,undo:g,mustExec:C,type:S=NaN,overwriteIfSameType:A=!1,keepUndo:X=!1}){if(C&&E(),this.#t)return;const U={cmd:E,undo:g,type:S};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(U);if(A&&this.#e[this.#i].type===S)return X&&(U.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=U);const y=this.#i+1;y===this.#n?this.#e.splice(0,1):(this.#i=y,y<this.#e.length&&this.#e.splice(y)),this.#e.push(U)}undo(){-1!==this.#i&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}I.CommandManager=T;class b{constructor(E){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:g}=x.FeatureTest.platform;for(const[C,S,A={}]of E)for(const X of C){const U=X.startsWith("mac+");g&&U?(this.callbacks.set(X.slice(4),{callback:S,options:A}),this.allKeys.add(X.split("+").at(-1))):!g&&!U&&(this.callbacks.set(X,{callback:S,options:A}),this.allKeys.add(X.split("+").at(-1)))}}#e(E){E.altKey&&this.buffer.push("alt"),E.ctrlKey&&this.buffer.push("ctrl"),E.metaKey&&this.buffer.push("meta"),E.shiftKey&&this.buffer.push("shift"),this.buffer.push(E.key);const g=this.buffer.join("+");return this.buffer.length=0,g}exec(E,g){if(!this.allKeys.has(g.key))return;const C=this.callbacks.get(this.#e(g));if(!C)return;const{callback:S,options:{bubbles:A=!1,args:X=[],checker:U=null}}=C;U&&!U(E,g)||(S.bind(E,...X)(),A||(g.stopPropagation(),g.preventDefault()))}}I.KeyboardManager=b;class m{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const E=new Map([["CanvasText",null],["Canvas",null]]);return(0,ne.getColorValues)(E),(0,x.shadow)(this,"_colors",E)}convert(E){const g=(0,ne.getRGB)(E);if(!window.matchMedia("(forced-colors: active)").matches)return g;for(const[C,S]of this._colors)if(S.every((A,X)=>A===g[X]))return m._colorsMapping.get(C);return g}getHexCode(E){const g=this._colors.get(E);return g?x.Util.makeHexColor(...g):E}}I.ColorManager=m,I.AnnotationEditorUIManager=(()=>{class O{#e=null;#t=new Map;#n=new Map;#i=null;#a=null;#s=new T;#r=0;#l=new Set;#c=null;#o=null;#d=new Set;#h=null;#_=new Se;#p=!1;#g=!1;#f=null;#m=x.AnnotationEditorType.NONE;#u=new Set;#v=null;#S=this.blur.bind(this);#w=this.focus.bind(this);#M=this.copy.bind(this);#b=this.cut.bind(this);#L=this.paste.bind(this);#I=this.keydown.bind(this);#x=this.onEditingAction.bind(this);#C=this.onPageChanging.bind(this);#O=this.onScaleChanging.bind(this);#y=this.onRotationChanging.bind(this);#D={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#T=[0,0];#A=null;#N=null;#k=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const g=O.prototype,C=X=>{const{activeElement:U}=document;return U&&X.#N.contains(U)&&X.hasSomethingToControl()},S=this.TRANSLATE_SMALL,A=this.TRANSLATE_BIG;return(0,x.shadow)(this,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],g.selectAll],[["ctrl+z","mac+meta+z"],g.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],g.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],g.delete],[["Escape","mac+Escape"],g.unselectAll],[["ArrowLeft","mac+ArrowLeft"],g.translateSelectedEditors,{args:[-S,0],checker:C}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],g.translateSelectedEditors,{args:[-A,0],checker:C}],[["ArrowRight","mac+ArrowRight"],g.translateSelectedEditors,{args:[S,0],checker:C}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],g.translateSelectedEditors,{args:[A,0],checker:C}],[["ArrowUp","mac+ArrowUp"],g.translateSelectedEditors,{args:[0,-S],checker:C}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],g.translateSelectedEditors,{args:[0,-A],checker:C}],[["ArrowDown","mac+ArrowDown"],g.translateSelectedEditors,{args:[0,S],checker:C}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],g.translateSelectedEditors,{args:[0,A],checker:C}]]))}constructor(g,C,S,A,X,U){this.#N=g,this.#k=C,this.#i=S,this._eventBus=A,this._eventBus._on("editingaction",this.#x),this._eventBus._on("pagechanging",this.#C),this._eventBus._on("scalechanging",this.#O),this._eventBus._on("rotationchanging",this.#y),this.#a=X.annotationStorage,this.#h=X.filterFactory,this.#v=U,this.viewParameters={realScale:ne.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#R(),this.#V(),this._eventBus._off("editingaction",this.#x),this._eventBus._off("pagechanging",this.#C),this._eventBus._off("scalechanging",this.#O),this._eventBus._off("rotationchanging",this.#y);for(const g of this.#n.values())g.destroy();this.#n.clear(),this.#t.clear(),this.#d.clear(),this.#e=null,this.#u.clear(),this.#s.destroy(),this.#i.destroy()}get hcmFilter(){return(0,x.shadow)(this,"hcmFilter",this.#v?this.#h.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,x.shadow)(this,"direction",getComputedStyle(this.#N).direction)}editAltText(g){this.#i?.editAltText(this,g)}onPageChanging({pageNumber:g}){this.#r=g-1}focusMainContainer(){this.#N.focus()}findParent(g,C){for(const S of this.#n.values()){const{x:A,y:X,width:U,height:y}=S.div.getBoundingClientRect();if(g>=A&&g<=A+U&&C>=X&&C<=X+y)return S}return null}disableUserSelect(g=!1){this.#k.classList.toggle("noUserSelect",g)}addShouldRescale(g){this.#d.add(g)}removeShouldRescale(g){this.#d.delete(g)}onScaleChanging({scale:g}){this.commitOrRemove(),this.viewParameters.realScale=g*ne.PixelsPerInch.PDF_TO_CSS_UNITS;for(const C of this.#d)C.onScaleChanging()}onRotationChanging({pagesRotation:g}){this.commitOrRemove(),this.viewParameters.rotation=g}addToAnnotationStorage(g){!g.isEmpty()&&this.#a&&!this.#a.has(g.id)&&this.#a.setValue(g.id,g)}#z(){window.addEventListener("focus",this.#w),window.addEventListener("blur",this.#S)}#V(){window.removeEventListener("focus",this.#w),window.removeEventListener("blur",this.#S)}blur(){if(!this.hasSelection)return;const{activeElement:g}=document;for(const C of this.#u)if(C.div.contains(g)){this.#f=[C,g],C._focusEventsAllowed=!1;break}}focus(){if(!this.#f)return;const[g,C]=this.#f;this.#f=null,C.addEventListener("focusin",()=>{g._focusEventsAllowed=!0},{once:!0}),C.focus()}#H(){window.addEventListener("keydown",this.#I,{capture:!0})}#R(){window.removeEventListener("keydown",this.#I,{capture:!0})}#F(){document.addEventListener("copy",this.#M),document.addEventListener("cut",this.#b),document.addEventListener("paste",this.#L)}#P(){document.removeEventListener("copy",this.#M),document.removeEventListener("cut",this.#b),document.removeEventListener("paste",this.#L)}addEditListeners(){this.#H(),this.#F()}removeEditListeners(){this.#R(),this.#P()}copy(g){if(g.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const C=[];for(const S of this.#u){const A=S.serialize(!0);A&&C.push(A)}0!==C.length&&g.clipboardData.setData("application/pdfjs",JSON.stringify(C))}cut(g){this.copy(g),this.delete()}paste(g){g.preventDefault();const{clipboardData:C}=g;for(const X of C.items)for(const U of this.#o)if(U.isHandlingMimeForPasting(X.type))return void U.paste(X,this.currentLayer);let S=C.getData("application/pdfjs");if(!S)return;try{S=JSON.parse(S)}catch(X){return void(0,x.warn)(`paste: "${X.message}".`)}if(!Array.isArray(S))return;this.unselectAll();const A=this.currentLayer;try{const X=[];for(const B of S){const D=A.deserialize(B);if(!D)return;X.push(D)}this.addCommands({cmd:()=>{for(const B of X)this.#G(B);this.#U(X)},undo:()=>{for(const B of X)B.remove()},mustExec:!0})}catch(X){(0,x.warn)(`paste: "${X.message}".`)}}keydown(g){this.getActive()?.shouldGetKeyboardEvents()||O._keyboardManager.exec(this,g)}onEditingAction(g){["undo","redo","delete","selectAll"].includes(g.name)&&this[g.name]()}#E(g){Object.entries(g).some(([S,A])=>this.#D[S]!==A)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#D,g)})}#$(g){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:g})}setEditingState(g){g?(this.#z(),this.#H(),this.#F(),this.#E({isEditing:this.#m!==x.AnnotationEditorType.NONE,isEmpty:this.#B(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#V(),this.#R(),this.#P(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(g){if(!this.#o){this.#o=g;for(const C of this.#o)this.#$(C.defaultPropertiesToUpdate)}}getId(){return this.#_.getId()}get currentLayer(){return this.#n.get(this.#r)}getLayer(g){return this.#n.get(g)}get currentPageIndex(){return this.#r}addLayer(g){this.#n.set(g.pageIndex,g),this.#p?g.enable():g.disable()}removeLayer(g){this.#n.delete(g.pageIndex)}updateMode(g,C=null){if(this.#m!==g){if(this.#m=g,g===x.AnnotationEditorType.NONE)return this.setEditingState(!1),void this.#j();this.setEditingState(!0),this.#Z(),this.unselectAll();for(const S of this.#n.values())S.updateMode(g);if(C)for(const S of this.#t.values())if(S.annotationElementId===C){this.setSelected(S),S.enterInEditMode();break}}}updateToolbar(g){g!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:g})}updateParams(g,C){if(this.#o){if(g===x.AnnotationEditorParamsType.CREATE)return void this.currentLayer.addNewEditor(g);for(const S of this.#u)S.updateParams(g,C);for(const S of this.#o)S.updateDefaultParams(g,C)}}enableWaiting(g=!1){if(this.#g!==g){this.#g=g;for(const C of this.#n.values())g?C.disableClick():C.enableClick(),C.div.classList.toggle("waiting",g)}}#Z(){if(!this.#p){this.#p=!0;for(const g of this.#n.values())g.enable()}}#j(){if(this.unselectAll(),this.#p){this.#p=!1;for(const g of this.#n.values())g.disable()}}getEditors(g){const C=[];for(const S of this.#t.values())S.pageIndex===g&&C.push(S);return C}getEditor(g){return this.#t.get(g)}addEditor(g){this.#t.set(g.id,g)}removeEditor(g){this.#t.delete(g.id),this.unselect(g),(!g.annotationElementId||!this.#l.has(g.annotationElementId))&&this.#a?.remove(g.id)}addDeletedAnnotationElement(g){this.#l.add(g.annotationElementId),g.deleted=!0}isDeletedAnnotationElement(g){return this.#l.has(g)}removeDeletedAnnotationElement(g){this.#l.delete(g.annotationElementId),g.deleted=!1}#G(g){const C=this.#n.get(g.pageIndex);C?C.addOrRebuild(g):this.addEditor(g)}setActiveEditor(g){this.#e!==g&&(this.#e=g,g&&this.#$(g.propertiesToUpdate))}toggleSelected(g){if(this.#u.has(g))return this.#u.delete(g),g.unselect(),void this.#E({hasSelectedEditor:this.hasSelection});this.#u.add(g),g.select(),this.#$(g.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(g){for(const C of this.#u)C!==g&&C.unselect();this.#u.clear(),this.#u.add(g),g.select(),this.#$(g.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(g){return this.#u.has(g)}unselect(g){g.unselect(),this.#u.delete(g),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#u.size}undo(){this.#s.undo(),this.#E({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#B()})}redo(){this.#s.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#B()})}addCommands(g){this.#s.add(g),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#B()})}#B(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const g of this.#t.values())return g.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const g=[...this.#u];this.addCommands({cmd:()=>{for(const A of g)A.remove()},undo:()=>{for(const A of g)this.#G(A)},mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#U(g){this.#u.clear();for(const C of g)C.isEmpty()||(this.#u.add(C),C.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(const g of this.#u)g.commit();this.#U(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(this.hasSelection){for(const g of this.#u)g.unselect();this.#u.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(g,C,S=!1){if(S||this.commitOrRemove(),!this.hasSelection)return;this.#T[0]+=g,this.#T[1]+=C;const[A,X]=this.#T,U=[...this.#u];this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.#A=null,this.#T[0]=this.#T[1]=0,this.addCommands({cmd:()=>{for(const B of U)this.#t.has(B.id)&&B.translateInPage(A,X)},undo:()=>{for(const B of U)this.#t.has(B.id)&&B.translateInPage(-A,-X)},mustExec:!1})},1e3);for(const B of U)B.translateInPage(g,C)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const g of this.#u)this.#c.set(g,{savedX:g.x,savedY:g.y,savedPageIndex:g.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const g=this.#c;this.#c=null;let C=!1;for(const[{x:A,y:X,pageIndex:U},y]of g)y.newX=A,y.newY=X,y.newPageIndex=U,C||=A!==y.savedX||X!==y.savedY||U!==y.savedPageIndex;if(!C)return!1;const S=(A,X,U,y)=>{if(this.#t.has(A.id)){const B=this.#n.get(y);B?A._setParentAndPosition(B,X,U):(A.pageIndex=y,A.x=X,A.y=U)}};return this.addCommands({cmd:()=>{for(const[A,{newX:X,newY:U,newPageIndex:y}]of g)S(A,X,U,y)},undo:()=>{for(const[A,{savedX:X,savedY:U,savedPageIndex:y}]of g)S(A,X,U,y)},mustExec:!0}),!0}dragSelectedEditors(g,C){if(this.#c)for(const S of this.#c.keys())S.drag(g,C)}rebuild(g){if(null===g.parent){const C=this.getLayer(g.pageIndex);C?(C.changeParent(g),C.addOrRebuild(g)):(this.addEditor(g),this.addToAnnotationStorage(g),g.rebuild())}else g.parent.addOrRebuild(g)}isActive(g){return this.#e===g}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,x.shadow)(this,"imageManager",new ae)}}return O})()},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StatTimer=I.RenderingCancelledException=I.PixelsPerInch=I.PageViewport=I.PDFDateString=I.DOMStandardFontDataFactory=I.DOMSVGFactory=I.DOMFilterFactory=I.DOMCanvasFactory=I.DOMCMapReaderFactory=void 0,I.deprecated=function W(me){console.log("Deprecated API usage: "+me)},I.getColorValues=function Ce(me){const Z=document.createElement("span");Z.style.visibility="hidden",document.body.append(Z);for(const M of me.keys()){Z.style.color=M;const N=window.getComputedStyle(Z).color;me.set(M,Te(N))}Z.remove()},I.getCurrentTransform=function ye(me){const{a:Z,b:M,c:N,d:V,e:G,f:oe}=me.getTransform();return[Z,M,N,V,G,oe]},I.getCurrentTransformInverse=function Ge(me){const{a:Z,b:M,c:N,d:V,e:G,f:oe}=me.getTransform().invertSelf();return[Z,M,N,V,G,oe]},I.getFilenameFromUrl=function A(me,Z=!1){return Z||([me]=me.split(/[#?]/,1)),me.substring(me.lastIndexOf("/")+1)},I.getPdfFilenameFromUrl=function X(me,Z="document.pdf"){if("string"!=typeof me)return Z;if(C(me))return(0,ne.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Z;const N=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,V=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(me);let G=N.exec(V[1])||N.exec(V[2])||N.exec(V[3]);if(G&&(G=G[0],G.includes("%")))try{G=N.exec(decodeURIComponent(G))[0]}catch{}return G||Z},I.getRGB=Te,I.getXfaPageViewport=function Q(me,{scale:Z=1,rotation:M=0}){const{width:N,height:V}=me.attributes.style,G=[0,0,parseInt(N),parseInt(V)];return new E({viewBox:G,scale:Z,rotation:M})},I.isDataScheme=C,I.isPdfFile=function S(me){return"string"==typeof me&&/\.pdf$/i.test(me)},I.isValidFetchUrl=y,I.loadScript=function D(me,Z=!1){return new Promise((M,N)=>{const V=document.createElement("script");V.src=me,V.onload=function(G){Z&&V.remove(),M(G)},V.onerror=function(){N(new Error(`Cannot load script at: ${V.src}`))},(document.head||document.documentElement).append(V)})},I.noContextMenu=function B(me){me.preventDefault()},I.setLayerDimensions=function Le(me,Z,M=!1,N=!0){if(Z instanceof E){const{pageWidth:V,pageHeight:G}=Z.rawDims,{style:oe}=me,ce=ne.FeatureTest.isCSSRoundSupported,re=`var(--scale-factor) * ${V}px`,P=`var(--scale-factor) * ${G}px`,K=ce?`round(${re}, 1px)`:`calc(${re})`,te=ce?`round(${P}, 1px)`:`calc(${P})`;M&&Z.rotation%180!=0?(oe.width=te,oe.height=K):(oe.width=K,oe.height=te)}N&&me.setAttribute("data-main-rotation",Z.rotation)};var x=ge(7),ne=ge(1);const ve="http://www.w3.org/2000/svg";function T(me){return b.apply(this,arguments)}function b(){return(b=_asyncToGenerator(function*(me,Z=!1){if(y(me,document.baseURI)){const M=yield fetch(me);if(!M.ok)throw new Error(M.statusText);return Z?new Uint8Array(yield M.arrayBuffer()):(0,ne.stringToBytes)(yield M.text())}return new Promise((M,N)=>{const V=new XMLHttpRequest;V.open("GET",me,!0),Z&&(V.responseType="arraybuffer"),V.onreadystatechange=()=>{if(V.readyState===XMLHttpRequest.DONE){if(200===V.status||0===V.status){let G;if(Z&&V.response?G=new Uint8Array(V.response):!Z&&V.responseText&&(G=(0,ne.stringToBytes)(V.responseText)),G)return void M(G)}N(new Error(V.statusText))}},V.send(null)})})).apply(this,arguments)}I.PixelsPerInch=class de{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},I.DOMFilterFactory=class Se extends x.BaseFilterFactory{#e;#t;#n;#i;#a;#s;#r;#l;#c;#o;#d=0;constructor({docId:Z,ownerDocument:M=globalThis.document}={}){super(),this.#n=Z,this.#i=M}get#h(){return this.#e||=new Map}get#_(){if(!this.#t){const Z=this.#i.createElement("div"),{style:M}=Z;M.visibility="hidden",M.contain="strict",M.width=M.height=0,M.position="absolute",M.top=M.left=0,M.zIndex=-1;const N=this.#i.createElementNS(ve,"svg");N.setAttribute("width",0),N.setAttribute("height",0),this.#t=this.#i.createElementNS(ve,"defs"),Z.append(N),N.append(this.#t),this.#i.body.append(Z)}return this.#t}addFilter(Z){if(!Z)return"none";let N,V,G,oe,M=this.#h.get(Z);if(M)return M;if(1===Z.length){const K=Z[0],te=new Array(256);for(let le=0;le<256;le++)te[le]=K[le]/255;oe=N=V=G=te.join(",")}else{const[K,te,le]=Z,ue=new Array(256),Me=new Array(256),Oe=new Array(256);for(let xe=0;xe<256;xe++)ue[xe]=K[xe]/255,Me[xe]=te[xe]/255,Oe[xe]=le[xe]/255;N=ue.join(","),V=Me.join(","),G=Oe.join(","),oe=`${N}${V}${G}`}if(M=this.#h.get(oe),M)return this.#h.set(Z,M),M;const ce=`g_${this.#n}_transfer_map_${this.#d++}`,re=`url(#${ce})`;this.#h.set(Z,re),this.#h.set(oe,re);const P=this.#g(ce);return this.#m(N,V,G,P),re}addHCMFilter(Z,M){const N=`${Z}-${M}`;if(this.#s===N)return this.#r;if(this.#s=N,this.#r="none",this.#a?.remove(),!Z||!M)return this.#r;const V=this.#u(Z);Z=ne.Util.makeHexColor(...V);const G=this.#u(M);if(M=ne.Util.makeHexColor(...G),this.#_.style.color="","#000000"===Z&&"#ffffff"===M||Z===M)return this.#r;const oe=new Array(256);for(let te=0;te<=255;te++){const le=te/255;oe[te]=le<=.03928?le/12.92:((le+.055)/1.055)**2.4}const ce=oe.join(","),re=`g_${this.#n}_hcm_filter`,P=this.#l=this.#g(re);this.#m(ce,ce,ce,P),this.#p(P);const K=(te,le)=>{const ue=V[te]/255,Me=G[te]/255,Oe=new Array(le+1);for(let xe=0;xe<=le;xe++)Oe[xe]=ue+xe/le*(Me-ue);return Oe.join(",")};return this.#m(K(0,5),K(1,5),K(2,5),P),this.#r=`url(#${re})`,this.#r}addHighlightHCMFilter(Z,M,N,V){const G=`${Z}-${M}-${N}-${V}`;if(this.#c===G)return this.#o;if(this.#c=G,this.#o="none",this.#l?.remove(),!Z||!M)return this.#o;const[oe,ce]=[Z,M].map(this.#u.bind(this));let re=Math.round(.2126*oe[0]+.7152*oe[1]+.0722*oe[2]),P=Math.round(.2126*ce[0]+.7152*ce[1]+.0722*ce[2]),[K,te]=[N,V].map(this.#u.bind(this));P<re&&([re,P,K,te]=[P,re,te,K]),this.#_.style.color="";const le=(Oe,xe,at)=>{const Ie=new Array(256),Ze=(P-re)/at,qe=Oe/255,Ee=(xe-Oe)/(255*at);let Ne=0;for(let Xe=0;Xe<=at;Xe++){const We=Math.round(re+Xe*Ze),dt=qe+Xe*Ee;for(let lt=Ne;lt<=We;lt++)Ie[lt]=dt;Ne=We+1}for(let Xe=Ne;Xe<256;Xe++)Ie[Xe]=Ie[Ne-1];return Ie.join(",")},ue=`g_${this.#n}_hcm_highlight_filter`,Me=this.#l=this.#g(ue);return this.#p(Me),this.#m(le(K[0],te[0],5),le(K[1],te[1],5),le(K[2],te[2],5),Me),this.#o=`url(#${ue})`,this.#o}destroy(Z=!1){Z&&(this.#r||this.#o)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#d=0)}#p(Z){const M=this.#i.createElementNS(ve,"feColorMatrix");M.setAttribute("type","matrix"),M.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Z.append(M)}#g(Z){const M=this.#i.createElementNS(ve,"filter");return M.setAttribute("color-interpolation-filters","sRGB"),M.setAttribute("id",Z),this.#_.append(M),M}#f(Z,M,N){const V=this.#i.createElementNS(ve,M);V.setAttribute("type","discrete"),V.setAttribute("tableValues",N),Z.append(V)}#m(Z,M,N,V){const G=this.#i.createElementNS(ve,"feComponentTransfer");V.append(G),this.#f(G,"feFuncR",Z),this.#f(G,"feFuncG",M),this.#f(G,"feFuncB",N)}#u(Z){return this.#_.style.color=Z,Te(getComputedStyle(this.#_).getPropertyValue("color"))}},I.DOMCanvasFactory=class ae extends x.BaseCanvasFactory{constructor({ownerDocument:Z=globalThis.document}={}){super(),this._document=Z}_createCanvas(Z,M){const N=this._document.createElement("canvas");return N.width=Z,N.height=M,N}},I.DOMCMapReaderFactory=class m extends x.BaseCMapReaderFactory{_fetchData(Z,M){return T(Z,this.isCompressed).then(N=>({cMapData:N,compressionType:M}))}},I.DOMStandardFontDataFactory=class f extends x.BaseStandardFontDataFactory{_fetchData(Z){return T(Z,!0)}},I.DOMSVGFactory=class O extends x.BaseSVGFactory{_createSVG(Z){return document.createElementNS(ve,Z)}};class E{constructor({viewBox:Z,scale:M,rotation:N,offsetX:V=0,offsetY:G=0,dontFlip:oe=!1}){this.viewBox=Z,this.scale=M,this.rotation=N,this.offsetX=V,this.offsetY=G;const ce=(Z[2]+Z[0])/2,re=(Z[3]+Z[1])/2;let P,K,te,le,ue,Me,Oe,xe;switch((N%=360)<0&&(N+=360),N){case 180:P=-1,K=0,te=0,le=1;break;case 90:P=0,K=1,te=1,le=0;break;case 270:P=0,K=-1,te=-1,le=0;break;case 0:P=1,K=0,te=0,le=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}oe&&(te=-te,le=-le),0===P?(ue=Math.abs(re-Z[1])*M+V,Me=Math.abs(ce-Z[0])*M+G,Oe=(Z[3]-Z[1])*M,xe=(Z[2]-Z[0])*M):(ue=Math.abs(ce-Z[0])*M+V,Me=Math.abs(re-Z[1])*M+G,Oe=(Z[2]-Z[0])*M,xe=(Z[3]-Z[1])*M),this.transform=[P*M,K*M,te*M,le*M,ue-P*M*ce-te*M*re,Me-K*M*ce-le*M*re],this.width=Oe,this.height=xe}get rawDims(){const{viewBox:Z}=this;return(0,ne.shadow)(this,"rawDims",{pageWidth:Z[2]-Z[0],pageHeight:Z[3]-Z[1],pageX:Z[0],pageY:Z[1]})}clone({scale:Z=this.scale,rotation:M=this.rotation,offsetX:N=this.offsetX,offsetY:V=this.offsetY,dontFlip:G=!1}={}){return new E({viewBox:this.viewBox.slice(),scale:Z,rotation:M,offsetX:N,offsetY:V,dontFlip:G})}convertToViewportPoint(Z,M){return ne.Util.applyTransform([Z,M],this.transform)}convertToViewportRectangle(Z){const M=ne.Util.applyTransform([Z[0],Z[1]],this.transform),N=ne.Util.applyTransform([Z[2],Z[3]],this.transform);return[M[0],M[1],N[0],N[1]]}convertToPdfPoint(Z,M){return ne.Util.applyInverseTransform([Z,M],this.transform)}}function C(me){const Z=me.length;let M=0;for(;M<Z&&""===me[M].trim();)M++;return"data:"===me.substring(M,M+5).toLowerCase()}function y(me,Z){try{const{protocol:M}=Z?new URL(me,Z):new URL(me);return"http:"===M||"https:"===M}catch{return!1}}let ee;function Te(me){if(me.startsWith("#")){const Z=parseInt(me.slice(1),16);return[(16711680&Z)>>16,(65280&Z)>>8,255&Z]}return me.startsWith("rgb(")?me.slice(4,-1).split(",").map(Z=>parseInt(Z)):me.startsWith("rgba(")?me.slice(5,-1).split(",").map(Z=>parseInt(Z)).slice(0,3):((0,ne.warn)(`Not a valid color format: "${me}"`),[0,0,0])}I.PageViewport=E,I.RenderingCancelledException=class g extends ne.BaseException{constructor(Z,M=0){super(Z,"RenderingCancelledException"),this.extraDelay=M}},I.StatTimer=class U{started=Object.create(null);times=[];time(Z){Z in this.started&&(0,ne.warn)(`Timer is already running for ${Z}`),this.started[Z]=Date.now()}timeEnd(Z){Z in this.started||(0,ne.warn)(`Timer has not been started for ${Z}`),this.times.push({name:Z,start:this.started[Z],end:Date.now()}),delete this.started[Z]}toString(){const Z=[];let M=0;for(const{name:N}of this.times)M=Math.max(N.length,M);for(const{name:N,start:V,end:G}of this.times)Z.push(`${N.padEnd(M)} ${G-V}ms\n`);return Z.join("")}},I.PDFDateString=class fe{static toDateObject(Z){if(!Z||"string"!=typeof Z)return null;ee||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const M=ee.exec(Z);if(!M)return null;const N=parseInt(M[1],10);let V=parseInt(M[2],10);V=V>=1&&V<=12?V-1:0;let G=parseInt(M[3],10);G=G>=1&&G<=31?G:1;let oe=parseInt(M[4],10);oe=oe>=0&&oe<=23?oe:0;let ce=parseInt(M[5],10);ce=ce>=0&&ce<=59?ce:0;let re=parseInt(M[6],10);re=re>=0&&re<=59?re:0;const P=M[7]||"Z";let K=parseInt(M[8],10);K=K>=0&&K<=23?K:0;let te=parseInt(M[9],10)||0;return te=te>=0&&te<=59?te:0,"-"===P?(oe+=K,ce+=te):"+"===P&&(oe-=K,ce-=te),new Date(Date.UTC(N,V,G,oe,ce,re))}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.BaseStandardFontDataFactory=I.BaseSVGFactory=I.BaseFilterFactory=I.BaseCanvasFactory=I.BaseCMapReaderFactory=void 0;var x=ge(1);class ne{constructor(){this.constructor===ne&&(0,x.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(b){return"none"}addHCMFilter(b,m){return"none"}addHighlightHCMFilter(b,m,f,O){return"none"}destroy(b=!1){}}I.BaseFilterFactory=ne;class ve{constructor(){this.constructor===ve&&(0,x.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,m){if(b<=0||m<=0)throw new Error("Invalid canvas size");const f=this._createCanvas(b,m);return{canvas:f,context:f.getContext("2d")}}reset(b,m,f){if(!b.canvas)throw new Error("Canvas is not specified");if(m<=0||f<=0)throw new Error("Invalid canvas size");b.canvas.width=m,b.canvas.height=f}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,m){(0,x.unreachable)("Abstract method `_createCanvas` called.")}}I.BaseCanvasFactory=ve;class de{constructor({baseUrl:b=null,isCompressed:m=!0}){this.constructor===de&&(0,x.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=m}fetch({name:b}){var m=this;return _asyncToGenerator(function*(){if(!m.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const f=m.baseUrl+b+(m.isCompressed?".bcmap":"");return m._fetchData(f,m.isCompressed?x.CMapCompressionType.BINARY:x.CMapCompressionType.NONE).catch(E=>{throw new Error(`Unable to load ${m.isCompressed?"binary ":""}CMap at: ${f}`)})})()}_fetchData(b,m){(0,x.unreachable)("Abstract method `_fetchData` called.")}}I.BaseCMapReaderFactory=de;class Se{constructor({baseUrl:b=null}){this.constructor===Se&&(0,x.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}fetch({filename:b}){var m=this;return _asyncToGenerator(function*(){if(!m.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const f=`${m.baseUrl}${b}`;return m._fetchData(f).catch(O=>{throw new Error(`Unable to load font data at: ${f}`)})})()}_fetchData(b){(0,x.unreachable)("Abstract method `_fetchData` called.")}}I.BaseStandardFontDataFactory=Se;class ae{constructor(){this.constructor===ae&&(0,x.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,m,f=!1){if(b<=0||m<=0)throw new Error("Invalid SVG dimensions");const O=this._createSVG("svg:svg");return O.setAttribute("version","1.1"),f||(O.setAttribute("width",`${b}px`),O.setAttribute("height",`${m}px`)),O.setAttribute("preserveAspectRatio","none"),O.setAttribute("viewBox",`0 0 ${b} ${m}`),O}createElement(b){if("string"!=typeof b)throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,x.unreachable)("Abstract method `_createSVG` called.")}}I.BaseSVGFactory=ae},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MurmurHash3_64=void 0;var x=ge(1);const ne=3285377520,ve=4294901760,de=65535;I.MurmurHash3_64=class Se{constructor(T){this.h1=T?4294967295&T:ne,this.h2=T?4294967295&T:ne}update(T){let b,m;if("string"==typeof T){b=new Uint8Array(2*T.length),m=0;for(let D=0,W=T.length;D<W;D++){const ee=T.charCodeAt(D);ee<=255?b[m++]=ee:(b[m++]=ee>>>8,b[m++]=255&ee)}}else{if(!(0,x.isArrayBuffer)(T))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");b=T.slice(),m=b.byteLength}const f=m>>2,O=m-4*f,E=new Uint32Array(b.buffer,0,f);let g=0,C=0,S=this.h1,A=this.h2;const X=3432918353,U=461845907,y=X&de,B=U&de;for(let D=0;D<f;D++)1&D?(g=E[D],g=g*X&ve|g*y&de,g=g<<15|g>>>17,g=g*U&ve|g*B&de,S^=g,S=S<<13|S>>>19,S=5*S+3864292196):(C=E[D],C=C*X&ve|C*y&de,C=C<<15|C>>>17,C=C*U&ve|C*B&de,A^=C,A=A<<13|A>>>19,A=5*A+3864292196);switch(g=0,O){case 3:g^=b[4*f+2]<<16;case 2:g^=b[4*f+1]<<8;case 1:g^=b[4*f],g=g*X&ve|g*y&de,g=g<<15|g>>>17,g=g*U&ve|g*B&de,1&f?S^=g:A^=g}this.h1=S,this.h2=A}hexdigest(){let T=this.h1,b=this.h2;return T^=b>>>1,T=3981806797*T&ve|36045*T&de,b=4283543511*b&ve|(2950163797*(b<<16|T>>>16)&ve)>>>16,T^=b>>>1,T=444984403*T&ve|60499*T&de,b=3301882366*b&ve|(3120437893*(b<<16|T>>>16)&ve)>>>16,T^=b>>>1,(T>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FontLoader=I.FontFaceObject=void 0;var x=ge(1);I.FontLoader=class ne{#e=new Set;constructor({ownerDocument:Se=globalThis.document,styleElement:ae=null}){this._document=Se,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(Se){this.nativeFontFaces.add(Se),this._document.fonts.add(Se)}removeNativeFontFace(Se){this.nativeFontFaces.delete(Se),this._document.fonts.delete(Se)}insertRule(Se){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ae=this.styleElement.sheet;ae.insertRule(Se,ae.cssRules.length)}clear(){for(const Se of this.nativeFontFaces)this._document.fonts.delete(Se);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(Se){var ae=this;return _asyncToGenerator(function*(){if(Se&&!ae.#e.has(Se.loadedName)){if((0,x.assert)(!ae.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),ae.isFontLoadingAPISupported){const{loadedName:T,src:b,style:m}=Se,f=new FontFace(T,b,m);ae.addNativeFontFace(f);try{yield f.load(),ae.#e.add(T)}catch{(0,x.warn)(`Cannot load system font: ${Se.baseFontName}, installing it could help to improve PDF rendering.`),ae.removeNativeFontFace(f)}return}(0,x.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(Se){var ae=this;return _asyncToGenerator(function*(){if(Se.attached||Se.missingFile&&!Se.systemFontInfo)return;if(Se.attached=!0,Se.systemFontInfo)return void(yield ae.loadSystemFont(Se.systemFontInfo));if(ae.isFontLoadingAPISupported){const b=Se.createNativeFontFace();if(b){ae.addNativeFontFace(b);try{yield b.loaded}catch(m){throw(0,x.warn)(`Failed to load font '${b.family}': '${m}'.`),Se.disableFontFace=!0,m}}return}const T=Se.createFontFaceRule();if(T){if(ae.insertRule(T),ae.isSyncFontLoadingSupported)return;yield new Promise(b=>{const m=ae._queueLoadingCallback(b);ae._prepareFontLoadEvent(Se,m)})}})()}get isFontLoadingAPISupported(){return(0,x.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let Se=!1;return(x.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(Se=!0),(0,x.shadow)(this,"isSyncFontLoadingSupported",Se)}_queueLoadingCallback(Se){const{loadingRequests:T}=this,b={done:!1,complete:function ae(){for((0,x.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;T.length>0&&T[0].done;){const m=T.shift();setTimeout(m.callback,0)}},callback:Se};return T.push(b),b}get _loadTestFont(){const Se=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,x.shadow)(this,"_loadTestFont",Se)}_prepareFontLoadEvent(Se,ae){function T(fe,Q){return fe.charCodeAt(Q)<<24|fe.charCodeAt(Q+1)<<16|fe.charCodeAt(Q+2)<<8|255&fe.charCodeAt(Q+3)}function b(fe,Q,Te,Ce){return fe.substring(0,Q)+Ce+fe.substring(Q+Te)}let m,f;const O=this._document.createElement("canvas");O.width=1,O.height=1;const E=O.getContext("2d");let g=0;const S=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=b(A,976,S.length,S);const y=1482184792;let B=T(A,16);for(m=0,f=S.length-3;m<f;m+=4)B=B-y+T(S,m)|0;m<S.length&&(B=B-y+T(S+"XXX",m)|0),A=b(A,16,4,(0,x.string32)(B));const D=`url(data:font/opentype;base64,${btoa(A)});`;this.insertRule(`@font-face {font-family:"${S}";src:${D}}`);const ee=this._document.createElement("div");ee.style.visibility="hidden",ee.style.width=ee.style.height="10px",ee.style.position="absolute",ee.style.top=ee.style.left="0px";for(const fe of[Se.loadedName,S]){const Q=this._document.createElement("span");Q.textContent="Hi",Q.style.fontFamily=fe,ee.append(Q)}this._document.body.append(ee),function C(fe,Q){if(++g>30)return(0,x.warn)("Load test font never loaded."),void Q();E.font="30px "+fe,E.fillText(".",0,20),E.getImageData(0,0,1,1).data[3]>0?Q():setTimeout(C.bind(null,fe,Q))}(S,()=>{ee.remove(),ae.complete()})}},I.FontFaceObject=class ve{constructor(Se,{isEvalSupported:ae=!0,disableFontFace:T=!1,ignoreErrors:b=!1,inspectFont:m=null}){this.compiledGlyphs=Object.create(null);for(const f in Se)this[f]=Se[f];this.isEvalSupported=!1!==ae,this.disableFontFace=!0===T,this.ignoreErrors=!0===b,this._inspectFont=m}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let Se;if(this.cssFontInfo){const ae={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ae.style=`oblique ${this.cssFontInfo.italicAngle}deg`),Se=new FontFace(this.cssFontInfo.fontFamily,this.data,ae)}else Se=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),Se}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const Se=(0,x.bytesToString)(this.data),ae=`url(data:${this.mimetype};base64,${btoa(Se)});`;let T;if(this.cssFontInfo){let b=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(b+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),T=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${b}src:${ae}}`}else T=`@font-face {font-family:"${this.loadedName}";src:${ae}}`;return this._inspectFont?.(this,ae),T}getPathGenerator(Se,ae){if(void 0!==this.compiledGlyphs[ae])return this.compiledGlyphs[ae];let T;try{T=Se.get(this.loadedName+"_path_"+ae)}catch(b){if(!this.ignoreErrors)throw b;return(0,x.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[ae]=function(m,f){}}if(this.isEvalSupported&&x.FeatureTest.isEvalSupported){const b=[];for(const m of T){const f=void 0!==m.args?m.args.join(","):"";b.push("c.",m.cmd,"(",f,");\n")}return this.compiledGlyphs[ae]=new Function("c","size",b.join(""))}return this.compiledGlyphs[ae]=function(b,m){for(const f of T)"scale"===f.cmd&&(f.args=[m,-m]),b[f.cmd].apply(b,f.args)}}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NodeStandardFontDataFactory=I.NodeFilterFactory=I.NodeCanvasFactory=I.NodeCMapReaderFactory=void 0;var x=ge(7);ge(1);const ve=function(b){return new Promise((m,f)=>{__webpack_require__(237).readFile(b,(E,g)=>{!E&&g?m(new Uint8Array(g)):f(new Error(E))})})};I.NodeFilterFactory=class de extends x.BaseFilterFactory{},I.NodeCanvasFactory=class Se extends x.BaseCanvasFactory{_createCanvas(m,f){return __webpack_require__(640).createCanvas(m,f)}},I.NodeCMapReaderFactory=class ae extends x.BaseCMapReaderFactory{_fetchData(m,f){return ve(m).then(O=>({cMapData:O,compressionType:f}))}},I.NodeStandardFontDataFactory=class T extends x.BaseStandardFontDataFactory{_fetchData(m){return ve(m)}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CanvasGraphics=void 0;var x=ge(1),ne=ge(6),ve=ge(12),de=ge(13);const T=4096,O=16;class g{constructor(M){this.canvasFactory=M,this.cache=Object.create(null)}getCanvas(M,N,V){let G;return void 0!==this.cache[M]?(G=this.cache[M],this.canvasFactory.reset(G,N,V)):(G=this.canvasFactory.create(N,V),this.cache[M]=G),G}delete(M){delete this.cache[M]}clear(){for(const M in this.cache)this.canvasFactory.destroy(this.cache[M]),delete this.cache[M]}}function C(Z,M,N,V,G,oe,ce,re,P,K){const[te,le,ue,Me,Oe,xe]=(0,ne.getCurrentTransform)(Z);if(0===le&&0===ue){const qe=Math.round(ce*te+Oe),Ne=Math.round(re*Me+xe),We=Math.abs(Math.round((ce+P)*te+Oe)-qe)||1,lt=Math.abs(Math.round((re+K)*Me+xe)-Ne)||1;return Z.setTransform(Math.sign(te),0,0,Math.sign(Me),qe,Ne),Z.drawImage(M,N,V,G,oe,0,0,We,lt),Z.setTransform(te,le,ue,Me,Oe,xe),[We,lt]}if(0===te&&0===Me){const qe=Math.round(re*ue+Oe),Ne=Math.round(ce*le+xe),We=Math.abs(Math.round((re+K)*ue+Oe)-qe)||1,lt=Math.abs(Math.round((ce+P)*le+xe)-Ne)||1;return Z.setTransform(0,Math.sign(le),Math.sign(ue),0,qe,Ne),Z.drawImage(M,N,V,G,oe,0,0,lt,We),Z.setTransform(te,le,ue,Me,Oe,xe),[lt,We]}return Z.drawImage(M,N,V,G,oe,ce,re,P,K),[Math.hypot(te,le)*P,Math.hypot(ue,Me)*K]}class A{constructor(M,N){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=x.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=x.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=x.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,M,N])}clone(){const M=Object.create(this);return M.clipBox=this.clipBox.slice(),M}setCurrentPoint(M,N){this.x=M,this.y=N}updatePathMinMax(M,N,V){[N,V]=x.Util.applyTransform([N,V],M),this.minX=Math.min(this.minX,N),this.minY=Math.min(this.minY,V),this.maxX=Math.max(this.maxX,N),this.maxY=Math.max(this.maxY,V)}updateRectMinMax(M,N){const V=x.Util.applyTransform(N,M),G=x.Util.applyTransform(N.slice(2),M);this.minX=Math.min(this.minX,V[0],G[0]),this.minY=Math.min(this.minY,V[1],G[1]),this.maxX=Math.max(this.maxX,V[0],G[0]),this.maxY=Math.max(this.maxY,V[1],G[1])}updateScalingPathMinMax(M,N){x.Util.scaleMinMax(M,N),this.minX=Math.min(this.minX,N[0]),this.maxX=Math.max(this.maxX,N[1]),this.minY=Math.min(this.minY,N[2]),this.maxY=Math.max(this.maxY,N[3])}updateCurvePathMinMax(M,N,V,G,oe,ce,re,P,K,te){const le=x.Util.bezierBoundingBox(N,V,G,oe,ce,re,P,K);if(te)return te[0]=Math.min(te[0],le[0],le[2]),te[1]=Math.max(te[1],le[0],le[2]),te[2]=Math.min(te[2],le[1],le[3]),void(te[3]=Math.max(te[3],le[1],le[3]));this.updateRectMinMax(M,le)}getPathBoundingBox(M=ve.PathType.FILL,N=null){const V=[this.minX,this.minY,this.maxX,this.maxY];if(M===ve.PathType.STROKE){N||(0,x.unreachable)("Stroke bounding box must include transform.");const G=x.Util.singularValueDecompose2dScale(N),oe=G[0]*this.lineWidth/2,ce=G[1]*this.lineWidth/2;V[0]-=oe,V[1]-=ce,V[2]+=oe,V[3]+=ce}return V}updateClipFromPath(){const M=x.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(M||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(M){this.clipBox=M,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(M=ve.PathType.FILL,N=null){return x.Util.intersect(this.clipBox,this.getPathBoundingBox(M,N))}}function X(Z,M){if(typeof ImageData<"u"&&M instanceof ImageData)return void Z.putImageData(M,0,0);const N=M.height,V=M.width,G=N%O,oe=(N-G)/O,ce=0===G?oe:oe+1,re=Z.createImageData(V,O);let K,P=0;const te=M.data,le=re.data;let ue,Me,Oe,xe;if(M.kind===x.ImageKind.GRAYSCALE_1BPP){const at=te.byteLength,Ie=new Uint32Array(le.buffer,0,le.byteLength>>2),Ze=Ie.length,qe=V+7>>3,Ee=4294967295,Ne=x.FeatureTest.isLittleEndian?4278190080:255;for(ue=0;ue<ce;ue++){for(Oe=ue<oe?O:G,K=0,Me=0;Me<Oe;Me++){const Xe=at-P;let We=0;const dt=Xe>qe?V:8*Xe-7,lt=-8&dt;let kt=0,sn=0;for(;We<lt;We+=8)sn=te[P++],Ie[K++]=128&sn?Ee:Ne,Ie[K++]=64&sn?Ee:Ne,Ie[K++]=32&sn?Ee:Ne,Ie[K++]=16&sn?Ee:Ne,Ie[K++]=8&sn?Ee:Ne,Ie[K++]=4&sn?Ee:Ne,Ie[K++]=2&sn?Ee:Ne,Ie[K++]=1&sn?Ee:Ne;for(;We<dt;We++)0===kt&&(sn=te[P++],kt=128),Ie[K++]=sn&kt?Ee:Ne,kt>>=1}for(;K<Ze;)Ie[K++]=0;Z.putImageData(re,0,ue*O)}}else if(M.kind===x.ImageKind.RGBA_32BPP){for(Me=0,xe=V*O*4,ue=0;ue<oe;ue++)le.set(te.subarray(P,P+xe)),P+=xe,Z.putImageData(re,0,Me),Me+=O;ue<ce&&(xe=V*G*4,le.set(te.subarray(P,P+xe)),Z.putImageData(re,0,Me))}else{if(M.kind!==x.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${M.kind}`);for(Oe=O,xe=V*Oe,ue=0;ue<ce;ue++){for(ue>=oe&&(Oe=G,xe=V*Oe),K=0,Me=xe;Me--;)le[K++]=te[P++],le[K++]=te[P++],le[K++]=te[P++],le[K++]=255;Z.putImageData(re,0,ue*O)}}}function U(Z,M){if(M.bitmap)return void Z.drawImage(M.bitmap,0,0);const N=M.height,V=M.width,G=N%O,oe=(N-G)/O,ce=0===G?oe:oe+1,re=Z.createImageData(V,O);let P=0;const K=M.data,te=re.data;for(let le=0;le<ce;le++){const ue=le<oe?O:G;({srcPos:P}=(0,de.convertBlackAndWhiteToRGBA)({src:K,srcPos:P,dest:te,width:V,height:ue,nonBlackColor:0})),Z.putImageData(re,0,le*O)}}function y(Z,M){const N=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const V of N)void 0!==Z[V]&&(M[V]=Z[V]);void 0!==Z.setLineDash&&(M.setLineDash(Z.getLineDash()),M.lineDashOffset=Z.lineDashOffset)}function B(Z){if(Z.strokeStyle=Z.fillStyle="#000000",Z.fillRule="nonzero",Z.globalAlpha=1,Z.lineWidth=1,Z.lineCap="butt",Z.lineJoin="miter",Z.miterLimit=10,Z.globalCompositeOperation="source-over",Z.font="10px sans-serif",void 0!==Z.setLineDash&&(Z.setLineDash([]),Z.lineDashOffset=0),!x.isNodeJS){const{filter:M}=Z;"none"!==M&&""!==M&&(Z.filter="none")}}function D(Z,M,N,V){const G=Z.length;for(let oe=3;oe<G;oe+=4){const ce=Z[oe];if(0===ce)Z[oe-3]=M,Z[oe-2]=N,Z[oe-1]=V;else if(ce<255){const re=255-ce;Z[oe-3]=Z[oe-3]*ce+M*re>>8,Z[oe-2]=Z[oe-2]*ce+N*re>>8,Z[oe-1]=Z[oe-1]*ce+V*re>>8}}}function W(Z,M,N){const V=Z.length,G=1/255;for(let oe=3;oe<V;oe+=4)M[oe]=M[oe]*(N?N[Z[oe]]:Z[oe])*G|0}function ee(Z,M,N){const V=Z.length;for(let G=3;G<V;G+=4){const oe=77*Z[G-3]+152*Z[G-2]+28*Z[G-1];M[G]=N?M[G]*N[oe>>8]>>8:M[G]*oe>>16}}function Te(Z,M){const N=x.Util.singularValueDecompose2dScale(Z);N[0]=Math.fround(N[0]),N[1]=Math.fround(N[1]);const V=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==M?M:N[0]<=V||N[1]<=V}const Ce=["butt","round","square"],ye=["miter","round","bevel"],Ge={},Le={};class me{constructor(M,N,V,G,oe,{optionalContentConfig:ce,markedContentStack:re=null},P,K){this.ctx=M,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=N,this.objs=V,this.canvasFactory=G,this.filterFactory=oe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=re||[],this.optionalContentConfig=ce,this.cachedCanvases=new g(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=P,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=K,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(M,N=null){return"string"==typeof M?M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M):N}beginDrawing({transform:M,viewport:N,transparency:V=!1,background:G=null}){const oe=this.ctx.canvas.width,ce=this.ctx.canvas.height,re=this.ctx.fillStyle;if(this.ctx.fillStyle=G||"#ffffff",this.ctx.fillRect(0,0,oe,ce),this.ctx.fillStyle=re,V){const P=this.cachedCanvases.getCanvas("transparent",oe,ce);this.compositeCtx=this.ctx,this.transparentCanvas=P.canvas,this.ctx=P.context,this.ctx.save(),this.ctx.transform(...(0,ne.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),B(this.ctx),M&&(this.ctx.transform(...M),this.outputScaleX=M[0],this.outputScaleY=M[0]),this.ctx.transform(...N.transform),this.viewportScale=N.scale,this.baseTransform=(0,ne.getCurrentTransform)(this.ctx)}executeOperatorList(M,N,V,G){const oe=M.argsArray,ce=M.fnArray;let re=N||0;const P=oe.length;if(P===re)return re;const K=P-re>10&&"function"==typeof V,te=K?Date.now()+15:0;let le=0;const ue=this.commonObjs,Me=this.objs;let Oe;for(;;){if(void 0!==G&&re===G.nextBreakPoint)return G.breakIt(re,V),re;if(Oe=ce[re],Oe!==x.OPS.dependency)this[Oe].apply(this,oe[re]);else for(const xe of oe[re]){const at=xe.startsWith("g_")?ue:Me;if(!at.has(xe))return at.get(xe,V),re}if(re++,re===P)return re;if(K&&++le>10){if(Date.now()>te)return V(),re;le=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const M of this._cachedBitmapsMap.values()){for(const N of M.values())typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement&&(N.width=N.height=0);M.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const M=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==M){const N=this.ctx.filter;this.ctx.filter=M,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=N}}}_scaleImage(M,N){const V=M.width,G=M.height;let te,le,oe=Math.max(Math.hypot(N[0],N[1]),1),ce=Math.max(Math.hypot(N[2],N[3]),1),re=V,P=G,K="prescale1";for(;oe>2&&re>1||ce>2&&P>1;){let ue=re,Me=P;oe>2&&re>1&&(ue=re>=16384?Math.floor(re/2)-1||1:Math.ceil(re/2),oe/=re/ue),ce>2&&P>1&&(Me=P>=16384?Math.floor(P/2)-1||1:Math.ceil(P)/2,ce/=P/Me),te=this.cachedCanvases.getCanvas(K,ue,Me),le=te.context,le.clearRect(0,0,ue,Me),le.drawImage(M,0,0,re,P,0,0,ue,Me),M=te.canvas,re=ue,P=Me,K="prescale1"===K?"prescale2":"prescale1"}return{img:M,paintWidth:re,paintHeight:P}}_createMaskCanvas(M){const N=this.ctx,{width:V,height:G}=M,oe=this.current.fillColor,ce=this.current.patternFill,re=(0,ne.getCurrentTransform)(N);let P,K,te,le;if((M.bitmap||M.data)&&M.count>1){const We=M.bitmap||M.data.buffer;K=JSON.stringify(ce?re:[re.slice(0,4),oe]),P=this._cachedBitmapsMap.get(We),P||(P=new Map,this._cachedBitmapsMap.set(We,P));const dt=P.get(K);if(dt&&!ce)return{canvas:dt,offsetX:Math.round(Math.min(re[0],re[2])+re[4]),offsetY:Math.round(Math.min(re[1],re[3])+re[5])};te=dt}te||(le=this.cachedCanvases.getCanvas("maskCanvas",V,G),U(le.context,M));let ue=x.Util.transform(re,[1/V,0,0,-1/G,0,0]);ue=x.Util.transform(ue,[1,0,0,1,0,-G]);const Me=x.Util.applyTransform([0,0],ue),Oe=x.Util.applyTransform([V,G],ue),xe=x.Util.normalizeRect([Me[0],Me[1],Oe[0],Oe[1]]),at=Math.round(xe[2]-xe[0])||1,Ie=Math.round(xe[3]-xe[1])||1,Ze=this.cachedCanvases.getCanvas("fillCanvas",at,Ie),qe=Ze.context,Ee=Math.min(Me[0],Oe[0]),Ne=Math.min(Me[1],Oe[1]);qe.translate(-Ee,-Ne),qe.transform(...ue),te||(te=this._scaleImage(le.canvas,(0,ne.getCurrentTransformInverse)(qe)),te=te.img,P&&ce&&P.set(K,te)),qe.imageSmoothingEnabled=Te((0,ne.getCurrentTransform)(qe),M.interpolate),C(qe,te,0,0,te.width,te.height,0,0,V,G),qe.globalCompositeOperation="source-in";const Xe=x.Util.transform((0,ne.getCurrentTransformInverse)(qe),[1,0,0,1,-Ee,-Ne]);return qe.fillStyle=ce?oe.getPattern(N,this,Xe,ve.PathType.FILL):oe,qe.fillRect(0,0,V,G),P&&!ce&&(this.cachedCanvases.delete("fillCanvas"),P.set(K,Ze.canvas)),{canvas:Ze.canvas,offsetX:Math.round(Ee),offsetY:Math.round(Ne)}}setLineWidth(M){M!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=M,this.ctx.lineWidth=M}setLineCap(M){this.ctx.lineCap=Ce[M]}setLineJoin(M){this.ctx.lineJoin=ye[M]}setMiterLimit(M){this.ctx.miterLimit=M}setDash(M,N){const V=this.ctx;void 0!==V.setLineDash&&(V.setLineDash(M),V.lineDashOffset=N)}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(const[N,V]of M)switch(N){case"LW":this.setLineWidth(V);break;case"LC":this.setLineCap(V);break;case"LJ":this.setLineJoin(V);break;case"ML":this.setMiterLimit(V);break;case"D":this.setDash(V[0],V[1]);break;case"RI":this.setRenderingIntent(V);break;case"FL":this.setFlatness(V);break;case"Font":this.setFont(V[0],V[1]);break;case"CA":this.current.strokeAlpha=V;break;case"ca":this.current.fillAlpha=V,this.ctx.globalAlpha=V;break;case"BM":this.ctx.globalCompositeOperation=V;break;case"SMask":this.current.activeSMask=V?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(V)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const M=this.inSMaskMode;this.current.activeSMask&&!M?this.beginSMaskMode():!this.current.activeSMask&&M&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const G=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=G.context;const oe=this.ctx;oe.setTransform(...(0,ne.getCurrentTransform)(this.suspendedCtx)),y(this.suspendedCtx,oe),function E(Z,M){if(Z._removeMirroring)throw new Error("Context is already forwarding operations.");Z.__originalSave=Z.save,Z.__originalRestore=Z.restore,Z.__originalRotate=Z.rotate,Z.__originalScale=Z.scale,Z.__originalTranslate=Z.translate,Z.__originalTransform=Z.transform,Z.__originalSetTransform=Z.setTransform,Z.__originalResetTransform=Z.resetTransform,Z.__originalClip=Z.clip,Z.__originalMoveTo=Z.moveTo,Z.__originalLineTo=Z.lineTo,Z.__originalBezierCurveTo=Z.bezierCurveTo,Z.__originalRect=Z.rect,Z.__originalClosePath=Z.closePath,Z.__originalBeginPath=Z.beginPath,Z._removeMirroring=()=>{Z.save=Z.__originalSave,Z.restore=Z.__originalRestore,Z.rotate=Z.__originalRotate,Z.scale=Z.__originalScale,Z.translate=Z.__originalTranslate,Z.transform=Z.__originalTransform,Z.setTransform=Z.__originalSetTransform,Z.resetTransform=Z.__originalResetTransform,Z.clip=Z.__originalClip,Z.moveTo=Z.__originalMoveTo,Z.lineTo=Z.__originalLineTo,Z.bezierCurveTo=Z.__originalBezierCurveTo,Z.rect=Z.__originalRect,Z.closePath=Z.__originalClosePath,Z.beginPath=Z.__originalBeginPath,delete Z._removeMirroring},Z.save=function(){M.save(),this.__originalSave()},Z.restore=function(){M.restore(),this.__originalRestore()},Z.translate=function(V,G){M.translate(V,G),this.__originalTranslate(V,G)},Z.scale=function(V,G){M.scale(V,G),this.__originalScale(V,G)},Z.transform=function(V,G,oe,ce,re,P){M.transform(V,G,oe,ce,re,P),this.__originalTransform(V,G,oe,ce,re,P)},Z.setTransform=function(V,G,oe,ce,re,P){M.setTransform(V,G,oe,ce,re,P),this.__originalSetTransform(V,G,oe,ce,re,P)},Z.resetTransform=function(){M.resetTransform(),this.__originalResetTransform()},Z.rotate=function(V){M.rotate(V),this.__originalRotate(V)},Z.clip=function(V){M.clip(V),this.__originalClip(V)},Z.moveTo=function(N,V){M.moveTo(N,V),this.__originalMoveTo(N,V)},Z.lineTo=function(N,V){M.lineTo(N,V),this.__originalLineTo(N,V)},Z.bezierCurveTo=function(N,V,G,oe,ce,re){M.bezierCurveTo(N,V,G,oe,ce,re),this.__originalBezierCurveTo(N,V,G,oe,ce,re)},Z.rect=function(N,V,G,oe){M.rect(N,V,G,oe),this.__originalRect(N,V,G,oe)},Z.closePath=function(){M.closePath(),this.__originalClosePath()},Z.beginPath=function(){M.beginPath(),this.__originalBeginPath()}}(oe,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(M){this.current.activeSMask&&(M?(M[0]=Math.floor(M[0]),M[1]=Math.floor(M[1]),M[2]=Math.ceil(M[2]),M[3]=Math.ceil(M[3])):M=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Q(Z,M,N,V){const G=V[0],oe=V[1],ce=V[2]-G,re=V[3]-oe;0===ce||0===re||(function fe(Z,M,N,V,G,oe,ce,re,P,K,te){const le=!!oe,ue=le?oe[0]:0,Me=le?oe[1]:0,Oe=le?oe[2]:0,xe="Luminosity"===G?ee:W,Ie=Math.min(V,Math.ceil(1048576/N));for(let Ze=0;Ze<V;Ze+=Ie){const qe=Math.min(Ie,V-Ze),Ee=Z.getImageData(re-K,Ze+(P-te),N,qe),Ne=M.getImageData(re,Ze+P,N,qe);le&&D(Ee.data,ue,Me,Oe),xe(Ee.data,Ne.data,ce),M.putImageData(Ne,re,Ze+P)}}(M.context,N,ce,re,M.subtype,M.backdrop,M.transferMap,G,oe,M.offsetX,M.offsetY),Z.save(),Z.globalAlpha=1,Z.globalCompositeOperation="source-over",Z.setTransform(1,0,0,1,0,0),Z.drawImage(N.canvas,0,0),Z.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,M),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const M=this.current;this.stateStack.push(M),this.current=M.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(M,N,V,G,oe,ce){this.ctx.transform(M,N,V,G,oe,ce),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(M,N,V){const G=this.ctx,oe=this.current;let P,K,ce=oe.x,re=oe.y;const te=(0,ne.getCurrentTransform)(G),le=0===te[0]&&0===te[3]||0===te[1]&&0===te[2],ue=le?V.slice(0):null;for(let Me=0,Oe=0,xe=M.length;Me<xe;Me++)switch(0|M[Me]){case x.OPS.rectangle:ce=N[Oe++],re=N[Oe++];const at=N[Oe++],Ie=N[Oe++],Ze=ce+at,qe=re+Ie;G.moveTo(ce,re),0===at||0===Ie?G.lineTo(Ze,qe):(G.lineTo(Ze,re),G.lineTo(Ze,qe),G.lineTo(ce,qe)),le||oe.updateRectMinMax(te,[ce,re,Ze,qe]),G.closePath();break;case x.OPS.moveTo:ce=N[Oe++],re=N[Oe++],G.moveTo(ce,re),le||oe.updatePathMinMax(te,ce,re);break;case x.OPS.lineTo:ce=N[Oe++],re=N[Oe++],G.lineTo(ce,re),le||oe.updatePathMinMax(te,ce,re);break;case x.OPS.curveTo:P=ce,K=re,ce=N[Oe+4],re=N[Oe+5],G.bezierCurveTo(N[Oe],N[Oe+1],N[Oe+2],N[Oe+3],ce,re),oe.updateCurvePathMinMax(te,P,K,N[Oe],N[Oe+1],N[Oe+2],N[Oe+3],ce,re,ue),Oe+=6;break;case x.OPS.curveTo2:P=ce,K=re,G.bezierCurveTo(ce,re,N[Oe],N[Oe+1],N[Oe+2],N[Oe+3]),oe.updateCurvePathMinMax(te,P,K,ce,re,N[Oe],N[Oe+1],N[Oe+2],N[Oe+3],ue),ce=N[Oe+2],re=N[Oe+3],Oe+=4;break;case x.OPS.curveTo3:P=ce,K=re,ce=N[Oe+2],re=N[Oe+3],G.bezierCurveTo(N[Oe],N[Oe+1],ce,re,ce,re),oe.updateCurvePathMinMax(te,P,K,N[Oe],N[Oe+1],ce,re,ce,re,ue),Oe+=4;break;case x.OPS.closePath:G.closePath()}le&&oe.updateScalingPathMinMax(te,ue),oe.setCurrentPoint(ce,re)}closePath(){this.ctx.closePath()}stroke(M=!0){const N=this.ctx,V=this.current.strokeColor;N.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof V&&V?.getPattern?(N.save(),N.strokeStyle=V.getPattern(N,this,(0,ne.getCurrentTransformInverse)(N),ve.PathType.STROKE),this.rescaleAndStroke(!1),N.restore()):this.rescaleAndStroke(!0)),M&&this.consumePath(this.current.getClippedPathBoundingBox()),N.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(M=!0){const N=this.ctx,V=this.current.fillColor;let oe=!1;this.current.patternFill&&(N.save(),N.fillStyle=V.getPattern(N,this,(0,ne.getCurrentTransformInverse)(N),ve.PathType.FILL),oe=!0);const ce=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==ce&&(this.pendingEOFill?(N.fill("evenodd"),this.pendingEOFill=!1):N.fill()),oe&&N.restore(),M&&this.consumePath(ce)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ge}eoClip(){this.pendingClip=Le}beginText(){this.current.textMatrix=x.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const M=this.pendingTextPaths,N=this.ctx;if(void 0!==M){N.save(),N.beginPath();for(const V of M)N.setTransform(...V.transform),N.translate(V.x,V.y),V.addToPath(N,V.fontSize);N.restore(),N.clip(),N.beginPath(),delete this.pendingTextPaths}else N.beginPath()}setCharSpacing(M){this.current.charSpacing=M}setWordSpacing(M){this.current.wordSpacing=M}setHScale(M){this.current.textHScale=M/100}setLeading(M){this.current.leading=-M}setFont(M,N){const V=this.commonObjs.get(M),G=this.current;if(!V)throw new Error(`Can't find font for ${M}`);if(G.fontMatrix=V.fontMatrix||x.FONT_IDENTITY_MATRIX,(0===G.fontMatrix[0]||0===G.fontMatrix[3])&&(0,x.warn)("Invalid font matrix for font "+M),N<0?(N=-N,G.fontDirection=-1):G.fontDirection=1,this.current.font=V,this.current.fontSize=N,V.isType3Font)return;const oe=V.loadedName||"sans-serif",ce=V.systemFontInfo?.css||`"${oe}", ${V.fallbackName}`;let re="normal";V.black?re="900":V.bold&&(re="bold");const P=V.italic?"italic":"normal";let K=N;N<16?K=16:N>100&&(K=100),this.current.fontSizeScale=N/K,this.ctx.font=`${P} ${re} ${K}px ${ce}`}setTextRenderingMode(M){this.current.textRenderingMode=M}setTextRise(M){this.current.textRise=M}moveText(M,N){this.current.x=this.current.lineX+=M,this.current.y=this.current.lineY+=N}setLeadingMoveText(M,N){this.setLeading(-N),this.moveText(M,N)}setTextMatrix(M,N,V,G,oe,ce){this.current.textMatrix=[M,N,V,G,oe,ce],this.current.textMatrixScale=Math.hypot(M,N),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(M,N,V,G){const oe=this.ctx,ce=this.current,re=ce.font,P=ce.textRenderingMode,K=ce.fontSize/ce.fontSizeScale,te=P&x.TextRenderingMode.FILL_STROKE_MASK,le=!!(P&x.TextRenderingMode.ADD_TO_PATH_FLAG),ue=ce.patternFill&&!re.missingFile;let Me;(re.disableFontFace||le||ue)&&(Me=re.getPathGenerator(this.commonObjs,M)),re.disableFontFace||ue?(oe.save(),oe.translate(N,V),oe.beginPath(),Me(oe,K),G&&oe.setTransform(...G),(te===x.TextRenderingMode.FILL||te===x.TextRenderingMode.FILL_STROKE)&&oe.fill(),(te===x.TextRenderingMode.STROKE||te===x.TextRenderingMode.FILL_STROKE)&&oe.stroke(),oe.restore()):((te===x.TextRenderingMode.FILL||te===x.TextRenderingMode.FILL_STROKE)&&oe.fillText(M,N,V),(te===x.TextRenderingMode.STROKE||te===x.TextRenderingMode.FILL_STROKE)&&oe.strokeText(M,N,V)),le&&(this.pendingTextPaths||=[]).push({transform:(0,ne.getCurrentTransform)(oe),x:N,y:V,fontSize:K,addToPath:Me})}get isFontSubpixelAAEnabled(){const{context:M}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);M.scale(1.5,1),M.fillText("I",0,10);const N=M.getImageData(0,0,10,10).data;let V=!1;for(let G=3;G<N.length;G+=4)if(N[G]>0&&N[G]<255){V=!0;break}return(0,x.shadow)(this,"isFontSubpixelAAEnabled",V)}showText(M){const N=this.current,V=N.font;if(V.isType3Font)return this.showType3Text(M);const G=N.fontSize;if(0===G)return;const oe=this.ctx,ce=N.fontSizeScale,re=N.charSpacing,P=N.wordSpacing,K=N.fontDirection,te=N.textHScale*K,le=M.length,ue=V.vertical,Me=ue?1:-1,Oe=V.defaultVMetrics,xe=G*N.fontMatrix[0],at=N.textRenderingMode===x.TextRenderingMode.FILL&&!V.disableFontFace&&!N.patternFill;let Ie;if(oe.save(),oe.transform(...N.textMatrix),oe.translate(N.x,N.y+N.textRise),oe.scale(te,K>0?-1:1),N.patternFill){oe.save();const Xe=N.fillColor.getPattern(oe,this,(0,ne.getCurrentTransformInverse)(oe),ve.PathType.FILL);Ie=(0,ne.getCurrentTransform)(oe),oe.restore(),oe.fillStyle=Xe}let Ze=N.lineWidth;const qe=N.textMatrixScale;if(0===qe||0===Ze){const Xe=N.textRenderingMode&x.TextRenderingMode.FILL_STROKE_MASK;(Xe===x.TextRenderingMode.STROKE||Xe===x.TextRenderingMode.FILL_STROKE)&&(Ze=this.getSinglePixelWidth())}else Ze/=qe;if(1!==ce&&(oe.scale(ce,ce),Ze/=ce),oe.lineWidth=Ze,V.isInvalidPDFjsFont){const Xe=[];let We=0;for(const dt of M)Xe.push(dt.unicode),We+=dt.width;return oe.fillText(Xe.join(""),0,0),N.x+=We*xe*te,oe.restore(),void this.compose()}let Ne,Ee=0;for(Ne=0;Ne<le;++Ne){const Xe=M[Ne];if("number"==typeof Xe){Ee+=Me*Xe*G/1e3;continue}let We=!1;const dt=(Xe.isSpace?P:0)+re,lt=Xe.fontChar,kt=Xe.accent;let sn,yn,qn=Xe.width;if(ue){const Hi=Xe.vmetric||Oe,rs=-(Xe.vmetric?Hi[1]:.5*qn)*xe;qn=Hi?-Hi[0]:qn,sn=rs/ce,yn=(Ee+Hi[2]*xe)/ce}else sn=Ee/ce,yn=0;if(V.remeasure&&qn>0){const Hi=1e3*oe.measureText(lt).width/G*ce;if(qn<Hi&&this.isFontSubpixelAAEnabled){const rs=qn/Hi;We=!0,oe.save(),oe.scale(rs,1),sn/=rs}else qn!==Hi&&(sn+=(qn-Hi)/2e3*G/ce)}this.contentVisible&&(Xe.isInFont||V.missingFile)&&(at&&!kt?oe.fillText(lt,sn,yn):(this.paintChar(lt,sn,yn,Ie),kt&&this.paintChar(kt.fontChar,sn+G*kt.offset.x/ce,yn-G*kt.offset.y/ce,Ie))),Ee+=ue?qn*xe-dt*K:qn*xe+dt*K,We&&oe.restore()}ue?N.y-=Ee:N.x+=Ee*te,oe.restore(),this.compose()}showType3Text(M){const N=this.ctx,V=this.current,G=V.font,oe=V.fontSize,ce=V.fontDirection,re=G.vertical?1:-1,P=V.charSpacing,K=V.wordSpacing,te=V.textHScale*ce,le=V.fontMatrix||x.FONT_IDENTITY_MATRIX,ue=M.length;let Oe,xe,at,Ie;if(V.textRenderingMode!==x.TextRenderingMode.INVISIBLE&&0!==oe){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,N.save(),N.transform(...V.textMatrix),N.translate(V.x,V.y),N.scale(te,ce),Oe=0;Oe<ue;++Oe){if(xe=M[Oe],"number"==typeof xe){Ie=re*xe*oe/1e3,this.ctx.translate(Ie,0),V.x+=Ie*te;continue}const Ze=(xe.isSpace?K:0)+P,qe=G.charProcOperatorList[xe.operatorListId];qe?(this.contentVisible&&(this.processingType3=xe,this.save(),N.scale(oe,oe),N.transform(...le),this.executeOperatorList(qe),this.restore()),at=x.Util.applyTransform([xe.width,0],le)[0]*oe+Ze,N.translate(at,0),V.x+=at*te):(0,x.warn)(`Type3 character "${xe.operatorListId}" is not available.`)}N.restore(),this.processingType3=null}}setCharWidth(M,N){}setCharWidthAndBounds(M,N,V,G,oe,ce){this.ctx.rect(V,G,oe-V,ce-G),this.ctx.clip(),this.endPath()}getColorN_Pattern(M){let N;if("TilingPattern"===M[0]){const V=M[1],G=this.baseTransform||(0,ne.getCurrentTransform)(this.ctx);N=new ve.TilingPattern(M,V,this.ctx,{createCanvasGraphics:ce=>new me(ce,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},G)}else N=this._getPattern(M[1],M[2]);return N}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(M,N,V){const G=x.Util.makeHexColor(M,N,V);this.ctx.strokeStyle=G,this.current.strokeColor=G}setFillRGBColor(M,N,V){const G=x.Util.makeHexColor(M,N,V);this.ctx.fillStyle=G,this.current.fillColor=G,this.current.patternFill=!1}_getPattern(M,N=null){let V;return this.cachedPatterns.has(M)?V=this.cachedPatterns.get(M):(V=(0,ve.getShadingPattern)(this.getObject(M)),this.cachedPatterns.set(M,V)),N&&(V.matrix=N),V}shadingFill(M){if(!this.contentVisible)return;const N=this.ctx;this.save();const V=this._getPattern(M);N.fillStyle=V.getPattern(N,this,(0,ne.getCurrentTransformInverse)(N),ve.PathType.SHADING);const G=(0,ne.getCurrentTransformInverse)(N);if(G){const{width:oe,height:ce}=N.canvas,[re,P,K,te]=x.Util.getAxialAlignedBoundingBox([0,0,oe,ce],G);this.ctx.fillRect(re,P,K-re,te-P)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,x.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,x.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(M,N){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(M)&&6===M.length&&this.transform(...M),this.baseTransform=(0,ne.getCurrentTransform)(this.ctx),N)&&(this.ctx.rect(N[0],N[1],N[2]-N[0],N[3]-N[1]),this.current.updateRectMinMax((0,ne.getCurrentTransform)(this.ctx),N),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(M){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const N=this.ctx;M.isolated||(0,x.info)("TODO: Support non-isolated groups."),M.knockout&&(0,x.warn)("Knockout groups not supported.");const V=(0,ne.getCurrentTransform)(N);if(M.matrix&&N.transform(...M.matrix),!M.bbox)throw new Error("Bounding box is required.");let G=x.Util.getAxialAlignedBoundingBox(M.bbox,(0,ne.getCurrentTransform)(N));G=x.Util.intersect(G,[0,0,N.canvas.width,N.canvas.height])||[0,0,0,0];const ce=Math.floor(G[0]),re=Math.floor(G[1]);let P=Math.max(Math.ceil(G[2])-ce,1),K=Math.max(Math.ceil(G[3])-re,1),te=1,le=1;P>T&&(te=P/T,P=T),K>T&&(le=K/T,K=T),this.current.startNewPathAndClipBox([0,0,P,K]);let ue="groupAt"+this.groupLevel;M.smask&&(ue+="_smask_"+this.smaskCounter++%2);const Me=this.cachedCanvases.getCanvas(ue,P,K),Oe=Me.context;Oe.scale(1/te,1/le),Oe.translate(-ce,-re),Oe.transform(...V),M.smask?this.smaskStack.push({canvas:Me.canvas,context:Oe,offsetX:ce,offsetY:re,scaleX:te,scaleY:le,subtype:M.smask.subtype,backdrop:M.smask.backdrop,transferMap:M.smask.transferMap||null,startTransformInverse:null}):(N.setTransform(1,0,0,1,0,0),N.translate(ce,re),N.scale(te,le),N.save()),y(N,Oe),this.ctx=Oe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(N),this.groupLevel++}endGroup(M){if(!this.contentVisible)return;this.groupLevel--;const N=this.ctx,V=this.groupStack.pop();if(this.ctx=V,this.ctx.imageSmoothingEnabled=!1,M.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const G=(0,ne.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...G);const oe=x.Util.getAxialAlignedBoundingBox([0,0,N.canvas.width,N.canvas.height],G);this.ctx.drawImage(N.canvas,0,0),this.ctx.restore(),this.compose(oe)}}beginAnnotation(M,N,V,G,oe){if(this.#e(),B(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(N)&&4===N.length){const ce=N[2]-N[0],re=N[3]-N[1];if(oe&&this.annotationCanvasMap){(V=V.slice())[4]-=N[0],V[5]-=N[1],(N=N.slice())[0]=N[1]=0,N[2]=ce,N[3]=re;const[P,K]=x.Util.singularValueDecompose2dScale((0,ne.getCurrentTransform)(this.ctx)),{viewportScale:te}=this,le=Math.ceil(ce*this.outputScaleX*te),ue=Math.ceil(re*this.outputScaleY*te);this.annotationCanvas=this.canvasFactory.create(le,ue);const{canvas:Me,context:Oe}=this.annotationCanvas;this.annotationCanvasMap.set(M,Me),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Oe,this.ctx.save(),this.ctx.setTransform(P,0,0,-K,0,re*K),B(this.ctx)}else B(this.ctx),this.ctx.rect(N[0],N[1],ce,re),this.ctx.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...V),this.transform(...G)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(M){if(!this.contentVisible)return;const N=M.count;(M=this.getObject(M.data,M)).count=N;const V=this.ctx,G=this.processingType3;if(G&&(void 0===G.compiled&&(G.compiled=function S(Z){const{width:M,height:N}=Z;if(M>1e3||N>1e3)return null;const G=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),oe=M+1;let re,P,K,ce=new Uint8Array(oe*(N+1));const te=M+7&-8;let le=new Uint8Array(te*N),ue=0;for(const Ie of Z.data){let Ze=128;for(;Ze>0;)le[ue++]=Ie&Ze?0:255,Ze>>=1}let Me=0;for(ue=0,0!==le[ue]&&(ce[0]=1,++Me),P=1;P<M;P++)le[ue]!==le[ue+1]&&(ce[P]=le[ue]?2:1,++Me),ue++;for(0!==le[ue]&&(ce[P]=2,++Me),re=1;re<N;re++){ue=re*te,K=re*oe,le[ue-te]!==le[ue]&&(ce[K]=le[ue]?1:8,++Me);let Ie=(le[ue]?4:0)+(le[ue-te]?8:0);for(P=1;P<M;P++)Ie=(Ie>>2)+(le[ue+1]?4:0)+(le[ue-te+1]?8:0),G[Ie]&&(ce[K+P]=G[Ie],++Me),ue++;if(le[ue-te]!==le[ue]&&(ce[K+P]=le[ue]?2:4,++Me),Me>1e3)return null}for(ue=te*(N-1),K=re*oe,0!==le[ue]&&(ce[K]=8,++Me),P=1;P<M;P++)le[ue]!==le[ue+1]&&(ce[K+P]=le[ue]?4:8,++Me),ue++;if(0!==le[ue]&&(ce[K+P]=4,++Me),Me>1e3)return null;const Oe=new Int32Array([0,oe,-1,0,-oe,0,0,0,1]),xe=new Path2D;for(re=0;Me&&re<=N;re++){let Ie=re*oe;const Ze=Ie+M;for(;Ie<Ze&&!ce[Ie];)Ie++;if(Ie===Ze)continue;xe.moveTo(Ie%oe,re);const qe=Ie;let Ee=ce[Ie];do{const Ne=Oe[Ee];do{Ie+=Ne}while(!ce[Ie]);const Xe=ce[Ie];5!==Xe&&10!==Xe?(Ee=Xe,ce[Ie]=0):(Ee=Xe&51*Ee>>4,ce[Ie]&=Ee>>2|Ee<<2),xe.lineTo(Ie%oe,Ie/oe|0),ce[Ie]||--Me}while(qe!==Ie);--re}return le=null,ce=null,function(Ie){Ie.save(),Ie.scale(1/M,-1/N),Ie.translate(0,-N),Ie.fill(xe),Ie.beginPath(),Ie.restore()}}(M)),G.compiled))return void G.compiled(V);const oe=this._createMaskCanvas(M),ce=oe.canvas;V.save(),V.setTransform(1,0,0,1,0,0),V.drawImage(ce,oe.offsetX,oe.offsetY),V.restore(),this.compose()}paintImageMaskXObjectRepeat(M,N,V=0,G=0,oe,ce){if(!this.contentVisible)return;M=this.getObject(M.data,M);const re=this.ctx;re.save();const P=(0,ne.getCurrentTransform)(re);re.transform(N,V,G,oe,0,0);const K=this._createMaskCanvas(M);re.setTransform(1,0,0,1,K.offsetX-P[4],K.offsetY-P[5]);for(let te=0,le=ce.length;te<le;te+=2){const ue=x.Util.transform(P,[N,V,G,oe,ce[te],ce[te+1]]),[Me,Oe]=x.Util.applyTransform([0,0],ue);re.drawImage(K.canvas,Me,Oe)}re.restore(),this.compose()}paintImageMaskXObjectGroup(M){if(!this.contentVisible)return;const N=this.ctx,V=this.current.fillColor,G=this.current.patternFill;for(const oe of M){const{data:ce,width:re,height:P,transform:K}=oe,te=this.cachedCanvases.getCanvas("maskCanvas",re,P),le=te.context;le.save(),U(le,this.getObject(ce,oe)),le.globalCompositeOperation="source-in",le.fillStyle=G?V.getPattern(le,this,(0,ne.getCurrentTransformInverse)(N),ve.PathType.FILL):V,le.fillRect(0,0,re,P),le.restore(),N.save(),N.transform(...K),N.scale(1,-1),C(N,te.canvas,0,0,re,P,0,-1,1,1),N.restore()}this.compose()}paintImageXObject(M){if(!this.contentVisible)return;const N=this.getObject(M);N?this.paintInlineImageXObject(N):(0,x.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(M,N,V,G){if(!this.contentVisible)return;const oe=this.getObject(M);if(!oe)return void(0,x.warn)("Dependent image isn't ready yet");const ce=oe.width,re=oe.height,P=[];for(let K=0,te=G.length;K<te;K+=2)P.push({transform:[N,0,0,V,G[K],G[K+1]],x:0,y:0,w:ce,h:re});this.paintInlineImageXObjectGroup(oe,P)}applyTransferMapsToCanvas(M){return"none"!==this.current.transferMaps&&(M.filter=this.current.transferMaps,M.drawImage(M.canvas,0,0),M.filter="none"),M.canvas}applyTransferMapsToBitmap(M){if("none"===this.current.transferMaps)return M.bitmap;const{bitmap:N,width:V,height:G}=M,oe=this.cachedCanvases.getCanvas("inlineImage",V,G),ce=oe.context;return ce.filter=this.current.transferMaps,ce.drawImage(N,0,0),ce.filter="none",oe.canvas}paintInlineImageXObject(M){if(!this.contentVisible)return;const N=M.width,V=M.height,G=this.ctx;if(this.save(),!x.isNodeJS){const{filter:re}=G;"none"!==re&&""!==re&&(G.filter="none")}let oe;if(G.scale(1/N,-1/V),M.bitmap)oe=this.applyTransferMapsToBitmap(M);else if("function"==typeof HTMLElement&&M instanceof HTMLElement||!M.data)oe=M;else{const P=this.cachedCanvases.getCanvas("inlineImage",N,V).context;X(P,M),oe=this.applyTransferMapsToCanvas(P)}const ce=this._scaleImage(oe,(0,ne.getCurrentTransformInverse)(G));G.imageSmoothingEnabled=Te((0,ne.getCurrentTransform)(G),M.interpolate),C(G,ce.img,0,0,ce.paintWidth,ce.paintHeight,0,-V,N,V),this.compose(),this.restore()}paintInlineImageXObjectGroup(M,N){if(!this.contentVisible)return;const V=this.ctx;let G;if(M.bitmap)G=M.bitmap;else{const P=this.cachedCanvases.getCanvas("inlineImage",M.width,M.height).context;X(P,M),G=this.applyTransferMapsToCanvas(P)}for(const oe of N)V.save(),V.transform(...oe.transform),V.scale(1,-1),C(V,G,oe.x,oe.y,oe.w,oe.h,0,-1,1,1),V.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(M){}markPointProps(M,N){}beginMarkedContent(M){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(M,N){this.markedContentStack.push("OC"===M?{visible:this.optionalContentConfig.isVisible(N)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(M){const N=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(M);const V=this.ctx;this.pendingClip&&(N||(this.pendingClip===Le?V.clip("evenodd"):V.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),V.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const M=(0,ne.getCurrentTransform)(this.ctx);if(0===M[1]&&0===M[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(M[0]),Math.abs(M[3]));else{const N=Math.abs(M[0]*M[3]-M[2]*M[1]),V=Math.hypot(M[0],M[2]),G=Math.hypot(M[1],M[3]);this._cachedGetSinglePixelWidth=Math.max(V,G)/N}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:M}=this.current,{a:N,b:V,c:G,d:oe}=this.ctx.getTransform();let ce,re;if(0===V&&0===G){const P=Math.abs(N),K=Math.abs(oe);if(P===K)if(0===M)ce=re=1/P;else{const te=P*M;ce=re=te<1?1/te:1}else if(0===M)ce=1/P,re=1/K;else{const te=P*M,le=K*M;ce=te<1?1/te:1,re=le<1?1/le:1}}else{const P=Math.abs(N*oe-V*G),K=Math.hypot(N,V),te=Math.hypot(G,oe);if(0===M)ce=te/P,re=K/P;else{const le=M*P;ce=te>le?te/le:1,re=K>le?K/le:1}}this._cachedScaleForStroking[0]=ce,this._cachedScaleForStroking[1]=re}return this._cachedScaleForStroking}rescaleAndStroke(M){const{ctx:N}=this,{lineWidth:V}=this.current,[G,oe]=this.getScaleForStroking();if(N.lineWidth=V||1,1===G&&1===oe)return void N.stroke();const ce=N.getLineDash();if(M&&N.save(),N.scale(G,oe),ce.length>0){const re=Math.max(G,oe);N.setLineDash(ce.map(P=>P/re)),N.lineDashOffset/=re}N.stroke(),M&&N.restore()}isContentVisible(){for(let M=this.markedContentStack.length-1;M>=0;M--)if(!this.markedContentStack[M].visible)return!1;return!0}}I.CanvasGraphics=me;for(const Z in x.OPS)void 0!==me.prototype[Z]&&(me.prototype[x.OPS[Z]]=me.prototype[Z])},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.TilingPattern=I.PathType=void 0,I.getShadingPattern=function O(C){switch(C[0]){case"RadialAxial":return new ae(C);case"Mesh":return new m(C);case"Dummy":return new f}throw new Error(`Unknown IR type: ${C[0]}`)};var x=ge(1),ne=ge(6);const ve={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function de(C,S){if(!S)return;const A=S[2]-S[0],X=S[3]-S[1],U=new Path2D;U.rect(S[0],S[1],A,X),C.clip(U)}I.PathType=ve;class Se{constructor(){this.constructor===Se&&(0,x.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,x.unreachable)("Abstract method `getPattern` called.")}}class ae extends Se{constructor(S){super(),this._type=S[1],this._bbox=S[2],this._colorStops=S[3],this._p0=S[4],this._p1=S[5],this._r0=S[6],this._r1=S[7],this.matrix=null}_createGradient(S){let A;"axial"===this._type?A=S.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(A=S.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const X of this._colorStops)A.addColorStop(X[0],X[1]);return A}getPattern(S,A,X,U){let y;if(U===ve.STROKE||U===ve.FILL){const B=A.current.getClippedPathBoundingBox(U,(0,ne.getCurrentTransform)(S))||[0,0,0,0],D=Math.ceil(B[2]-B[0])||1,W=Math.ceil(B[3]-B[1])||1,ee=A.cachedCanvases.getCanvas("pattern",D,W,!0),fe=ee.context;fe.clearRect(0,0,fe.canvas.width,fe.canvas.height),fe.beginPath(),fe.rect(0,0,fe.canvas.width,fe.canvas.height),fe.translate(-B[0],-B[1]),X=x.Util.transform(X,[1,0,0,1,B[0],B[1]]),fe.transform(...A.baseTransform),this.matrix&&fe.transform(...this.matrix),de(fe,this._bbox),fe.fillStyle=this._createGradient(fe),fe.fill(),y=S.createPattern(ee.canvas,"no-repeat");const Q=new DOMMatrix(X);y.setTransform(Q)}else de(S,this._bbox),y=this._createGradient(S);return y}}function T(C,S,A,X,U,y,B,D){const W=S.coords,ee=S.colors,fe=C.data,Q=4*C.width;let Te;W[A+1]>W[X+1]&&(Te=A,A=X,X=Te,Te=y,y=B,B=Te),W[X+1]>W[U+1]&&(Te=X,X=U,U=Te,Te=B,B=D,D=Te),W[A+1]>W[X+1]&&(Te=A,A=X,X=Te,Te=y,y=B,B=Te);const Ce=(W[A]+S.offsetX)*S.scaleX,ye=(W[A+1]+S.offsetY)*S.scaleY,Ge=(W[X]+S.offsetX)*S.scaleX,Le=(W[X+1]+S.offsetY)*S.scaleY,me=(W[U]+S.offsetX)*S.scaleX,Z=(W[U+1]+S.offsetY)*S.scaleY;if(ye>=Z)return;const M=ee[y],N=ee[y+1],V=ee[y+2],G=ee[B],oe=ee[B+1],ce=ee[B+2],re=ee[D],P=ee[D+1],K=ee[D+2],te=Math.round(ye),le=Math.round(Z);let ue,Me,Oe,xe,at,Ie,Ze,qe;for(let Ee=te;Ee<=le;Ee++){if(Ee<Le){const lt=Ee<ye?0:(ye-Ee)/(ye-Le);ue=Ce-(Ce-Ge)*lt,Me=M-(M-G)*lt,Oe=N-(N-oe)*lt,xe=V-(V-ce)*lt}else{let lt;lt=Ee>Z?1:Le===Z?0:(Le-Ee)/(Le-Z),ue=Ge-(Ge-me)*lt,Me=G-(G-re)*lt,Oe=oe-(oe-P)*lt,xe=ce-(ce-K)*lt}let Ne;Ne=Ee<ye?0:Ee>Z?1:(ye-Ee)/(ye-Z),at=Ce-(Ce-me)*Ne,Ie=M-(M-re)*Ne,Ze=N-(N-P)*Ne,qe=V-(V-K)*Ne;const Xe=Math.round(Math.min(ue,at)),We=Math.round(Math.max(ue,at));let dt=Q*Ee+4*Xe;for(let lt=Xe;lt<=We;lt++)Ne=(ue-lt)/(ue-at),Ne<0?Ne=0:Ne>1&&(Ne=1),fe[dt++]=Me-(Me-Ie)*Ne|0,fe[dt++]=Oe-(Oe-Ze)*Ne|0,fe[dt++]=xe-(xe-qe)*Ne|0,fe[dt++]=255}}function b(C,S,A){const X=S.coords,U=S.colors;let y,B;switch(S.type){case"lattice":const D=S.verticesPerRow,W=Math.floor(X.length/D)-1,ee=D-1;for(y=0;y<W;y++){let fe=y*D;for(let Q=0;Q<ee;Q++,fe++)T(C,A,X[fe],X[fe+1],X[fe+D],U[fe],U[fe+1],U[fe+D]),T(C,A,X[fe+D+1],X[fe+1],X[fe+D],U[fe+D+1],U[fe+1],U[fe+D])}break;case"triangles":for(y=0,B=X.length;y<B;y+=3)T(C,A,X[y],X[y+1],X[y+2],U[y],U[y+1],U[y+2]);break;default:throw new Error("illegal figure")}}class m extends Se{constructor(S){super(),this._coords=S[2],this._colors=S[3],this._figures=S[4],this._bounds=S[5],this._bbox=S[7],this._background=S[8],this.matrix=null}_createMeshCanvas(S,A,X){const D=Math.floor(this._bounds[0]),W=Math.floor(this._bounds[1]),ee=Math.ceil(this._bounds[2])-D,fe=Math.ceil(this._bounds[3])-W,Q=Math.min(Math.ceil(Math.abs(ee*S[0]*1.1)),3e3),Te=Math.min(Math.ceil(Math.abs(fe*S[1]*1.1)),3e3),Ce=ee/Q,ye=fe/Te,Ge={coords:this._coords,colors:this._colors,offsetX:-D,offsetY:-W,scaleX:1/Ce,scaleY:1/ye},Z=X.getCanvas("mesh",Q+4,Te+4,!1),M=Z.context,N=M.createImageData(Q,Te);if(A){const G=N.data;for(let oe=0,ce=G.length;oe<ce;oe+=4)G[oe]=A[0],G[oe+1]=A[1],G[oe+2]=A[2],G[oe+3]=255}for(const G of this._figures)b(N,G,Ge);return M.putImageData(N,2,2),{canvas:Z.canvas,offsetX:D-2*Ce,offsetY:W-2*ye,scaleX:Ce,scaleY:ye}}getPattern(S,A,X,U){let y;if(de(S,this._bbox),U===ve.SHADING)y=x.Util.singularValueDecompose2dScale((0,ne.getCurrentTransform)(S));else if(y=x.Util.singularValueDecompose2dScale(A.baseTransform),this.matrix){const D=x.Util.singularValueDecompose2dScale(this.matrix);y=[y[0]*D[0],y[1]*D[1]]}const B=this._createMeshCanvas(y,U===ve.SHADING?null:this._background,A.cachedCanvases);return U!==ve.SHADING&&(S.setTransform(...A.baseTransform),this.matrix&&S.transform(...this.matrix)),S.translate(B.offsetX,B.offsetY),S.scale(B.scaleX,B.scaleY),S.createPattern(B.canvas,"no-repeat")}}class f extends Se{getPattern(){return"hotpink"}}I.TilingPattern=(()=>{class C{static MAX_PATTERN_SIZE=3e3;constructor(A,X,U,y,B){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=X,this.ctx=U,this.canvasGraphicsFactory=y,this.baseTransform=B}createPatternCanvas(A){const X=this.operatorList,U=this.bbox,y=this.xstep,B=this.ystep,D=this.paintType,ee=this.color,fe=this.canvasGraphicsFactory;(0,x.info)("TilingType: "+this.tilingType);const Q=U[0],Te=U[1],Ce=U[2],ye=U[3],Ge=x.Util.singularValueDecompose2dScale(this.matrix),Le=x.Util.singularValueDecompose2dScale(this.baseTransform),me=[Ge[0]*Le[0],Ge[1]*Le[1]],Z=this.getSizeAndScale(y,this.ctx.canvas.width,me[0]),M=this.getSizeAndScale(B,this.ctx.canvas.height,me[1]),N=A.cachedCanvases.getCanvas("pattern",Z.size,M.size,!0),V=N.context,G=fe.createCanvasGraphics(V);G.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(G,D,ee);let oe=Q,ce=Te,re=Ce,P=ye;return Q<0&&(oe=0,re+=Math.abs(Q)),Te<0&&(ce=0,P+=Math.abs(Te)),V.translate(-Z.scale*oe,-M.scale*ce),G.transform(Z.scale,0,0,M.scale,0,0),V.save(),this.clipBbox(G,oe,ce,re,P),G.baseTransform=(0,ne.getCurrentTransform)(G.ctx),G.executeOperatorList(X),G.endDrawing(),{canvas:N.canvas,scaleX:Z.scale,scaleY:M.scale,offsetX:oe,offsetY:ce}}getSizeAndScale(A,X,U){A=Math.abs(A);const y=Math.max(C.MAX_PATTERN_SIZE,X);let B=Math.ceil(A*U);return B>=y?B=y:U=B/A,{scale:U,size:B}}clipBbox(A,X,U,y,B){A.ctx.rect(X,U,y-X,B-U),A.current.updateRectMinMax((0,ne.getCurrentTransform)(A.ctx),[X,U,y,B]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,X,U){const y=A.ctx,B=A.current;switch(X){case 1:const D=this.ctx;y.fillStyle=D.fillStyle,y.strokeStyle=D.strokeStyle,B.fillColor=D.fillStyle,B.strokeColor=D.strokeStyle;break;case 2:const W=x.Util.makeHexColor(U[0],U[1],U[2]);y.fillStyle=W,y.strokeStyle=W,B.fillColor=W,B.strokeColor=W;break;default:throw new x.FormatError(`Unsupported paint type: ${X}`)}}getPattern(A,X,U,y){let B=U;y!==ve.SHADING&&(B=x.Util.transform(B,X.baseTransform),this.matrix&&(B=x.Util.transform(B,this.matrix)));const D=this.createPatternCanvas(X);let W=new DOMMatrix(B);W=W.translate(D.offsetX,D.offsetY),W=W.scale(1/D.scaleX,1/D.scaleY);const ee=A.createPattern(D.canvas,"repeat");return ee.setTransform(W),ee}}return C})()},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.convertBlackAndWhiteToRGBA=ve,I.convertToRGBA=function ne(ae){switch(ae.kind){case x.ImageKind.GRAYSCALE_1BPP:return ve(ae);case x.ImageKind.RGB_24BPP:return function de({src:ae,srcPos:T=0,dest:b,destPos:m=0}){let E=0;const g=ae.length>>2,C=new Uint32Array(ae.buffer,T,g);if(x.FeatureTest.isLittleEndian){for(;E<g-2;E+=3,m+=4){const S=C[E],A=C[E+1],X=C[E+2];b[m]=4278190080|S,b[m+1]=S>>>24|A<<8|4278190080,b[m+2]=A>>>16|X<<16|4278190080,b[m+3]=X>>>8|4278190080}for(let S=4*E,A=ae.length;S<A;S+=3)b[m++]=ae[S]|ae[S+1]<<8|ae[S+2]<<16|4278190080}else{for(;E<g-2;E+=3,m+=4){const S=C[E],A=C[E+1],X=C[E+2];b[m]=255|S,b[m+1]=S<<24|A>>>8|255,b[m+2]=A<<16|X>>>16|255,b[m+3]=X<<8|255}for(let S=4*E,A=ae.length;S<A;S+=3)b[m++]=ae[S]<<24|ae[S+1]<<16|ae[S+2]<<8|255}return{srcPos:T,destPos:m}}(ae)}return null},I.grayToRGBA=function Se(ae,T){if(x.FeatureTest.isLittleEndian)for(let b=0,m=ae.length;b<m;b++)T[b]=65793*ae[b]|4278190080;else for(let b=0,m=ae.length;b<m;b++)T[b]=16843008*ae[b]|255};var x=ge(1);function ve({src:ae,srcPos:T=0,dest:b,width:m,height:f,nonBlackColor:O=4294967295,inverseDecode:E=!1}){const g=x.FeatureTest.isLittleEndian?4278190080:255,[C,S]=E?[O,g]:[g,O],A=m>>3,X=7&m,U=ae.length;b=new Uint32Array(b.buffer);let y=0;for(let B=0;B<f;B++){for(const W=T+A;T<W;T++){const ee=T<U?ae[T]:255;b[y++]=128&ee?S:C,b[y++]=64&ee?S:C,b[y++]=32&ee?S:C,b[y++]=16&ee?S:C,b[y++]=8&ee?S:C,b[y++]=4&ee?S:C,b[y++]=2&ee?S:C,b[y++]=1&ee?S:C}if(0===X)continue;const D=T<U?ae[T++]:255;for(let W=0;W<X;W++)b[y++]=D&1<<7-W?S:C}return{srcPos:T,destPos:y}}},(De,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.GlobalWorkerOptions=void 0;const ge=Object.create(null);I.GlobalWorkerOptions=ge,ge.workerPort=null,ge.workerSrc=""},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MessageHandler=void 0;var x=ge(1);function de(ae){switch(ae instanceof Error||"object"==typeof ae&&null!==ae||(0,x.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ae.name){case"AbortException":return new x.AbortException(ae.message);case"MissingPDFException":return new x.MissingPDFException(ae.message);case"PasswordException":return new x.PasswordException(ae.message,ae.code);case"UnexpectedResponseException":return new x.UnexpectedResponseException(ae.message,ae.status);case"UnknownErrorException":return new x.UnknownErrorException(ae.message,ae.details);default:return new x.UnknownErrorException(ae.message,ae.toString())}}I.MessageHandler=class Se{constructor(T,b,m){this.sourceName=T,this.targetName=b,this.comObj=m,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{const O=f.data;if(O.targetName!==this.sourceName)return;if(O.stream)return void this.#t(O);if(O.callback){const g=O.callbackId,C=this.callbackCapabilities[g];if(!C)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],1===O.callback)C.resolve(O.data);else{if(2!==O.callback)throw new Error("Unexpected callback case");C.reject(de(O.reason))}return}const E=this.actionHandler[O.action];if(!E)throw new Error(`Unknown action from worker: ${O.action}`);if(O.callbackId){const g=this.sourceName,C=O.sourceName;new Promise(function(S){S(E(O.data))}).then(function(S){m.postMessage({sourceName:g,targetName:C,callback:1,callbackId:O.callbackId,data:S})},function(S){m.postMessage({sourceName:g,targetName:C,callback:2,callbackId:O.callbackId,reason:de(S)})})}else O.streamId?this.#e(O):E(O.data)},m.addEventListener("message",this._onComObjOnMessage)}on(T,b){const m=this.actionHandler;if(m[T])throw new Error(`There is already an actionName called "${T}"`);m[T]=b}send(T,b,m){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:T,data:b},m)}sendWithPromise(T,b,m){const f=this.callbackId++,O=new x.PromiseCapability;this.callbackCapabilities[f]=O;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:T,callbackId:f,data:b},m)}catch(E){O.reject(E)}return O.promise}sendWithStream(T,b,m,f){const O=this.streamId++,E=this.sourceName,g=this.targetName,C=this.comObj;return new ReadableStream({start:S=>{const A=new x.PromiseCapability;return this.streamControllers[O]={controller:S,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},C.postMessage({sourceName:E,targetName:g,action:T,streamId:O,data:b,desiredSize:S.desiredSize},f),A.promise},pull:S=>{const A=new x.PromiseCapability;return this.streamControllers[O].pullCall=A,C.postMessage({sourceName:E,targetName:g,stream:6,streamId:O,desiredSize:S.desiredSize}),A.promise},cancel:S=>{(0,x.assert)(S instanceof Error,"cancel must have a valid reason");const A=new x.PromiseCapability;return this.streamControllers[O].cancelCall=A,this.streamControllers[O].isClosed=!0,C.postMessage({sourceName:E,targetName:g,stream:1,streamId:O,reason:de(S)}),A.promise}},m)}#e(T){const b=T.streamId,m=this.sourceName,f=T.sourceName,O=this.comObj,E=this,g=this.actionHandler[T.action],C={enqueue(S,A=1,X){if(this.isCancelled)return;const U=this.desiredSize;this.desiredSize-=A,U>0&&this.desiredSize<=0&&(this.sinkCapability=new x.PromiseCapability,this.ready=this.sinkCapability.promise),O.postMessage({sourceName:m,targetName:f,stream:4,streamId:b,chunk:S},X)},close(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:m,targetName:f,stream:3,streamId:b}),delete E.streamSinks[b])},error(S){(0,x.assert)(S instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:m,targetName:f,stream:5,streamId:b,reason:de(S)}))},sinkCapability:new x.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:T.desiredSize,ready:null};C.sinkCapability.resolve(),C.ready=C.sinkCapability.promise,this.streamSinks[b]=C,new Promise(function(S){S(g(T.data,C))}).then(function(){O.postMessage({sourceName:m,targetName:f,stream:8,streamId:b,success:!0})},function(S){O.postMessage({sourceName:m,targetName:f,stream:8,streamId:b,reason:de(S)})})}#t(T){const b=T.streamId,m=this.sourceName,f=T.sourceName,O=this.comObj,E=this.streamControllers[b],g=this.streamSinks[b];switch(T.stream){case 8:T.success?E.startCall.resolve():E.startCall.reject(de(T.reason));break;case 7:T.success?E.pullCall.resolve():E.pullCall.reject(de(T.reason));break;case 6:if(!g){O.postMessage({sourceName:m,targetName:f,stream:7,streamId:b,success:!0});break}g.desiredSize<=0&&T.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=T.desiredSize,new Promise(function(C){C(g.onPull?.())}).then(function(){O.postMessage({sourceName:m,targetName:f,stream:7,streamId:b,success:!0})},function(C){O.postMessage({sourceName:m,targetName:f,stream:7,streamId:b,reason:de(C)})});break;case 4:if((0,x.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(T.chunk);break;case 3:if((0,x.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),this.#n(E,b);break;case 5:(0,x.assert)(E,"error should have stream controller"),E.controller.error(de(T.reason)),this.#n(E,b);break;case 2:T.success?E.cancelCall.resolve():E.cancelCall.reject(de(T.reason)),this.#n(E,b);break;case 1:if(!g)break;new Promise(function(C){C(g.onCancel?.(de(T.reason)))}).then(function(){O.postMessage({sourceName:m,targetName:f,stream:2,streamId:b,success:!0})},function(C){O.postMessage({sourceName:m,targetName:f,stream:2,streamId:b,reason:de(C)})}),g.sinkCapability.reject(de(T.reason)),g.isCancelled=!0,delete this.streamSinks[b];break;default:throw new Error("Unexpected stream case")}}#n(T,b){var m=this;return _asyncToGenerator(function*(){yield Promise.allSettled([T.startCall?.promise,T.pullCall?.promise,T.cancelCall?.promise]),delete m.streamControllers[b]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Metadata=void 0;var x=ge(1);I.Metadata=class ne{#e;#t;constructor({parsedData:de,rawData:Se}){this.#e=de,this.#t=Se}getRaw(){return this.#t}get(de){return this.#e.get(de)??null}getAll(){return(0,x.objectFromMap)(this.#e)}has(de){return this.#e.has(de)}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.OptionalContentConfig=void 0;var x=ge(1),ne=ge(8);const ve=Symbol("INTERNAL");class de{#e=!0;constructor(T,b){this.name=T,this.intent=b}get visible(){return this.#e}_setVisible(T,b){T!==ve&&(0,x.unreachable)("Internal method `_setVisible` called."),this.#e=b}}I.OptionalContentConfig=class Se{#e=null;#t=new Map;#n=null;#i=null;constructor(T){if(this.name=null,this.creator=null,null!==T){this.name=T.name,this.creator=T.creator,this.#i=T.order;for(const b of T.groups)this.#t.set(b.id,new de(b.name,b.intent));if("OFF"===T.baseState)for(const b of this.#t.values())b._setVisible(ve,!1);for(const b of T.on)this.#t.get(b)._setVisible(ve,!0);for(const b of T.off)this.#t.get(b)._setVisible(ve,!1);this.#n=this.getHash()}}#a(T){const b=T.length;if(b<2)return!0;const m=T[0];for(let f=1;f<b;f++){const O=T[f];let E;if(Array.isArray(O))E=this.#a(O);else{if(!this.#t.has(O))return(0,x.warn)(`Optional content group not found: ${O}`),!0;E=this.#t.get(O).visible}switch(m){case"And":if(!E)return!1;break;case"Or":if(E)return!0;break;case"Not":return!E;default:return!0}}return"And"===m}isVisible(T){if(0===this.#t.size)return!0;if(!T)return(0,x.warn)("Optional content group not defined."),!0;if("OCG"===T.type)return this.#t.has(T.id)?this.#t.get(T.id).visible:((0,x.warn)(`Optional content group not found: ${T.id}`),!0);if("OCMD"===T.type){if(T.expression)return this.#a(T.expression);if(!T.policy||"AnyOn"===T.policy){for(const b of T.ids){if(!this.#t.has(b))return(0,x.warn)(`Optional content group not found: ${b}`),!0;if(this.#t.get(b).visible)return!0}return!1}if("AllOn"===T.policy){for(const b of T.ids){if(!this.#t.has(b))return(0,x.warn)(`Optional content group not found: ${b}`),!0;if(!this.#t.get(b).visible)return!1}return!0}if("AnyOff"===T.policy){for(const b of T.ids){if(!this.#t.has(b))return(0,x.warn)(`Optional content group not found: ${b}`),!0;if(!this.#t.get(b).visible)return!0}return!1}if("AllOff"===T.policy){for(const b of T.ids){if(!this.#t.has(b))return(0,x.warn)(`Optional content group not found: ${b}`),!0;if(this.#t.get(b).visible)return!1}return!0}return(0,x.warn)(`Unknown optional content policy ${T.policy}.`),!0}return(0,x.warn)(`Unknown group type ${T.type}.`),!0}setVisibility(T,b=!0){this.#t.has(T)?(this.#t.get(T)._setVisible(ve,!!b),this.#e=null):(0,x.warn)(`Optional content group not found: ${T}`)}get hasInitialVisibility(){return null===this.#n||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,x.objectFromMap)(this.#t):null}getGroup(T){return this.#t.get(T)||null}getHash(){if(null!==this.#e)return this.#e;const T=new ne.MurmurHash3_64;for(const[b,m]of this.#t)T.update(`${b}:${m.visible}`);return this.#e=T.hexdigest()}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFDataTransportStream=void 0;var x=ge(1),ne=ge(6);I.PDFDataTransportStream=class ve{constructor({length:T,initialData:b,progressiveDone:m=!1,contentDispositionFilename:f=null,disableRange:O=!1,disableStream:E=!1},g){if((0,x.assert)(g,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=m,this._contentDispositionFilename=f,b?.length>0){const C=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=g,this._isStreamingSupported=!E,this._isRangeSupported=!O,this._contentLength=T,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((C,S)=>{this._onReceiveData({begin:C,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((C,S)=>{this._onProgress({loaded:C,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(C=>{this._onReceiveData({chunk:C})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:T,chunk:b}){const m=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;if(void 0===T)this._fullRequestReader?this._fullRequestReader._enqueue(m):this._queuedChunks.push(m);else{const f=this._rangeReaders.some(function(O){return O._begin===T&&(O._enqueue(m),!0)});(0,x.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(T){void 0===T.total?this._rangeReaders[0]?.onProgress?.({loaded:T.loaded}):this._fullRequestReader?.onProgress?.({loaded:T.loaded,total:T.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(T){const b=this._rangeReaders.indexOf(T);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,x.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const T=this._queuedChunks;return this._queuedChunks=null,new de(this,T,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(T,b){if(b<=this._progressiveDataLength)return null;const m=new Se(this,T,b);return this._pdfDataRangeTransport.requestDataRange(T,b),this._rangeReaders.push(m),m}cancelAllRequests(T){this._fullRequestReader?.cancel(T);for(const b of this._rangeReaders.slice(0))b.cancel(T);this._pdfDataRangeTransport.abort()}};class de{constructor(T,b,m=!1,f=null){this._stream=T,this._done=m||!1,this._filename=(0,ne.isPdfFile)(f)?f:null,this._queuedChunks=b||[],this._loaded=0;for(const O of this._queuedChunks)this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),T._fullRequestReader=this,this.onProgress=null}_enqueue(T){this._done||(this._requests.length>0?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunks.push(T),this._loaded+=T.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var T=this;return _asyncToGenerator(function*(){if(T._queuedChunks.length>0)return{value:T._queuedChunks.shift(),done:!1};if(T._done)return{value:void 0,done:!0};const b=new x.PromiseCapability;return T._requests.push(b),b.promise})()}cancel(T){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Se{constructor(T,b,m){this._stream=T,this._begin=b,this._end=m,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(T){if(!this._done){if(0===this._requests.length)this._queuedChunk=T;else{this._requests.shift().resolve({value:T,done:!1});for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var T=this;return _asyncToGenerator(function*(){if(T._queuedChunk){const m=T._queuedChunk;return T._queuedChunk=null,{value:m,done:!1}}if(T._done)return{value:void 0,done:!0};const b=new x.PromiseCapability;return T._requests.push(b),b.promise})()}cancel(T){this._done=!0;for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFFetchStream=void 0;var x=ge(1),ne=ge(20);function ve(m,f,O){return{method:"GET",headers:m,signal:O.signal,mode:"cors",credentials:f?"include":"same-origin",redirect:"follow"}}function de(m){const f=new Headers;for(const O in m){const E=m[O];void 0!==E&&f.append(O,E)}return f}function Se(m){return m instanceof Uint8Array?m.buffer:m instanceof ArrayBuffer?m:((0,x.warn)(`getArrayBuffer - unexpected data format: ${m}`),new Uint8Array(m).buffer)}I.PDFFetchStream=class ae{constructor(f){this.source=f,this.isHttp=/^https?:/i.test(f.url),this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,x.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new T(this),this._fullRequestReader}getRangeReader(f,O){if(O<=this._progressiveDataLength)return null;const E=new b(this,f,O);return this._rangeRequestReaders.push(E),E}cancelAllRequests(f){this._fullRequestReader?.cancel(f);for(const O of this._rangeRequestReaders.slice(0))O.cancel(f)}};class T{constructor(f){this._stream=f,this._reader=null,this._loaded=0,this._filename=null;const O=f.source;this._withCredentials=O.withCredentials||!1,this._contentLength=O.length,this._headersCapability=new x.PromiseCapability,this._disableRange=O.disableRange||!1,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!O.disableStream,this._isRangeSupported=!O.disableRange,this._headers=de(this._stream.httpHeaders);const E=O.url;fetch(E,ve(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,ne.validateResponseStatus)(g.status))throw(0,ne.createResponseStatusError)(g.status,E);this._reader=g.body.getReader(),this._headersCapability.resolve();const C=X=>g.headers.get(X),{allowRangeRequests:S,suggestedLength:A}=(0,ne.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=S,this._contentLength=A||this._contentLength,this._filename=(0,ne.extractFilenameFromHeader)(C),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new x.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._headersCapability.promise;const{value:O,done:E}=yield f._reader.read();return E?{value:O,done:E}:(f._loaded+=O.byteLength,f.onProgress?.({loaded:f._loaded,total:f._contentLength}),{value:Se(O),done:!1})})()}cancel(f){this._reader?.cancel(f),this._abortController.abort()}}class b{constructor(f,O,E){this._stream=f,this._reader=null,this._loaded=0;const g=f.source;this._withCredentials=g.withCredentials||!1,this._readCapability=new x.PromiseCapability,this._isStreamingSupported=!g.disableStream,this._abortController=new AbortController,this._headers=de(this._stream.httpHeaders),this._headers.append("Range",`bytes=${O}-${E-1}`);const C=g.url;fetch(C,ve(this._headers,this._withCredentials,this._abortController)).then(S=>{if(!(0,ne.validateResponseStatus)(S.status))throw(0,ne.createResponseStatusError)(S.status,C);this._readCapability.resolve(),this._reader=S.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._readCapability.promise;const{value:O,done:E}=yield f._reader.read();return E?{value:O,done:E}:(f._loaded+=O.byteLength,f.onProgress?.({loaded:f._loaded}),{value:Se(O),done:!1})})()}cancel(f){this._reader?.cancel(f),this._abortController.abort()}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.createResponseStatusError=function ae(b,m){return 404===b||0===b&&m.startsWith("file:")?new x.MissingPDFException('Missing PDF "'+m+'".'):new x.UnexpectedResponseException(`Unexpected server response (${b}) while retrieving PDF "${m}".`,b)},I.extractFilenameFromHeader=function Se(b){const m=b("Content-Disposition");if(m){let f=(0,ne.getFilenameFromContentDispositionHeader)(m);if(f.includes("%"))try{f=decodeURIComponent(f)}catch{}if((0,ve.isPdfFile)(f))return f}return null},I.validateRangeRequestCapabilities=function de({getResponseHeader:b,isHttp:m,rangeChunkSize:f,disableRange:O}){const E={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(b("Content-Length"),10);return!Number.isInteger(g)||(E.suggestedLength=g,g<=2*f)||O||!m||"bytes"!==b("Accept-Ranges")||"identity"!==(b("Content-Encoding")||"identity")||(E.allowRangeRequests=!0),E},I.validateResponseStatus=function T(b){return 200===b||206===b};var x=ge(1),ne=ge(21),ve=ge(6)},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getFilenameFromContentDispositionHeader=function ne(ve){let de=!0,Se=ae("filename\\*","i").exec(ve);if(Se){Se=Se[1];let g=f(Se);return g=unescape(g),g=O(g),g=E(g),b(g)}if(Se=function m(g){const C=[];let S;const A=ae("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(S=A.exec(g));){let[,U,y,B]=S;if(U=parseInt(U,10),U in C){if(0===U)break}else C[U]=[y,B]}const X=[];for(let U=0;U<C.length&&U in C;++U){let[y,B]=C[U];B=f(B),y&&(B=unescape(B),0===U&&(B=O(B))),X.push(B)}return X.join("")}(ve),Se)return b(E(Se));if(Se=ae("filename","i").exec(ve),Se){Se=Se[1];let g=f(Se);return g=E(g),b(g)}function ae(g,C){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',C)}function T(g,C){if(g){if(!/^[\x00-\xFF]+$/.test(C))return C;try{const S=new TextDecoder(g,{fatal:!0}),A=(0,x.stringToBytes)(C);C=S.decode(A),de=!1}catch{}}return C}function b(g){return de&&/[\x80-\xff]/.test(g)&&(g=T("utf-8",g),de&&(g=T("iso-8859-1",g))),g}function f(g){if(g.startsWith('"')){const C=g.slice(1).split('\\"');for(let S=0;S<C.length;++S){const A=C[S].indexOf('"');-1!==A&&(C[S]=C[S].slice(0,A),C.length=S+1),C[S]=C[S].replaceAll(/\\(.)/g,"$1")}g=C.join('"')}return g}function O(g){const C=g.indexOf("'");return-1===C?g:T(g.slice(0,C),g.slice(C+1).replace(/^[^']*'/,""))}function E(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(C,S,A,X){if("q"===A||"Q"===A)return T(S,X=(X=X.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(U,y){return String.fromCharCode(parseInt(y,16))}));try{X=atob(X)}catch{}return T(S,X)})}return""};var x=ge(1)},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNetworkStream=void 0;var x=ge(1),ne=ge(20);class ae{constructor(O,E={}){this.url=O,this.isHttp=/^https?:/i.test(O),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(O,E,g){const C={begin:O,end:E};for(const S in g)C[S]=g[S];return this.request(C)}requestFull(O){return this.request(O)}request(O){const E=new XMLHttpRequest,g=this.currXhrId++,C=this.pendingRequests[g]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const S in this.httpHeaders){const A=this.httpHeaders[S];void 0!==A&&E.setRequestHeader(S,A)}return this.isHttp&&"begin"in O&&"end"in O?(E.setRequestHeader("Range",`bytes=${O.begin}-${O.end-1}`),C.expectedStatus=206):C.expectedStatus=200,E.responseType="arraybuffer",O.onError&&(E.onerror=function(S){O.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,g),E.onprogress=this.onProgress.bind(this,g),C.onHeadersReceived=O.onHeadersReceived,C.onDone=O.onDone,C.onError=O.onError,C.onProgress=O.onProgress,E.send(null),g}onProgress(O,E){const g=this.pendingRequests[O];g&&g.onProgress?.(E)}onStateChange(O,E){const g=this.pendingRequests[O];if(!g)return;const C=g.xhr;if(C.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),4!==C.readyState||!(O in this.pendingRequests))return;if(delete this.pendingRequests[O],0===C.status&&this.isHttp)return void g.onError?.(C.status);const S=C.status||200;if((200!==S||206!==g.expectedStatus)&&S!==g.expectedStatus)return void g.onError?.(C.status);const X=function Se(f){const O=f.response;return"string"!=typeof O?O:(0,x.stringToBytes)(O).buffer}(C);if(206===S){const U=C.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(U);g.onDone({begin:parseInt(y[1],10),chunk:X})}else X?g.onDone({begin:0,chunk:X}):g.onError?.(C.status)}getRequestXhr(O){return this.pendingRequests[O].xhr}isPendingRequest(O){return O in this.pendingRequests}abortRequest(O){const E=this.pendingRequests[O].xhr;delete this.pendingRequests[O],E.abort()}}I.PDFNetworkStream=class T{constructor(O){this._source=O,this._manager=new ae(O.url,{httpHeaders:O.httpHeaders,withCredentials:O.withCredentials}),this._rangeChunkSize=O.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(O){const E=this._rangeRequestReaders.indexOf(O);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,x.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new b(this._manager,this._source),this._fullRequestReader}getRangeReader(O,E){const g=new m(this._manager,O,E);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(O){this._fullRequestReader?.cancel(O);for(const E of this._rangeRequestReaders.slice(0))E.cancel(O)}};class b{constructor(O,E){this._manager=O;const g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=O.requestFull(g),this._headersReceivedCapability=new x.PromiseCapability,this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const O=this._fullRequestId,E=this._manager.getRequestXhr(O),g=A=>E.getResponseHeader(A),{allowRangeRequests:C,suggestedLength:S}=(0,ne.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});C&&(this._isRangeSupported=!0),this._contentLength=S||this._contentLength,this._filename=(0,ne.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(O),this._headersReceivedCapability.resolve()}_onDone(O){if(O&&(this._requests.length>0?this._requests.shift().resolve({value:O.chunk,done:!1}):this._cachedChunks.push(O.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(O){this._storedError=(0,ne.createResponseStatusError)(O,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(O){this.onProgress?.({loaded:O.loaded,total:O.lengthComputable?O.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(O._cachedChunks.length>0)return{value:O._cachedChunks.shift(),done:!1};if(O._done)return{value:void 0,done:!0};const E=new x.PromiseCapability;return O._requests.push(E),E.promise})()}cancel(O){this._done=!0,this._headersReceivedCapability.reject(O);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class m{constructor(O,E,g){this._manager=O;const C={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._requestId=O.requestRange(E,g,C),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(O){const E=O.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(O){this._storedError=(0,ne.createResponseStatusError)(O,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(O){this.isStreamingSupported||this.onProgress?.({loaded:O.loaded})}get isStreamingSupported(){return!1}read(){var O=this;return _asyncToGenerator(function*(){if(O._storedError)throw O._storedError;if(null!==O._queuedChunk){const g=O._queuedChunk;return O._queuedChunk=null,{value:g,done:!1}}if(O._done)return{value:void 0,done:!0};const E=new x.PromiseCapability;return O._requests.push(E),E.promise})()}cancel(O){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNodeStream=void 0;var x=ge(1),ne=ge(20);const ve=/^file:\/\/\/[a-zA-Z]:\//;I.PDFNodeStream=class Se{constructor(C){this.source=C,this.url=function de(g){const C=__webpack_require__(671),S=C.parse(g);return"file:"===S.protocol||S.host?S:/^[a-z]:[/\\]/i.test(g)?C.parse(`file:///${g}`):(S.host||(S.protocol="file:"),S)}(C.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,x.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new m(this),this._fullRequestReader}getRangeReader(C,S){if(S<=this._progressiveDataLength)return null;const A=this.isFsUrl?new E(this,C,S):new f(this,C,S);return this._rangeRequestReaders.push(A),A}cancelAllRequests(C){this._fullRequestReader?.cancel(C);for(const S of this._rangeRequestReaders.slice(0))S.cancel(C)}};class ae{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null;const S=C.source;this._contentLength=S.length,this._loaded=0,this._filename=null,this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._readableStream=null,this._readCapability=new x.PromiseCapability,this._headersCapability=new x.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){if(yield C._readCapability.promise,C._done)return{value:void 0,done:!0};if(C._storedError)throw C._storedError;const S=C._readableStream.read();return null===S?(C._readCapability=new x.PromiseCapability,C.read()):(C._loaded+=S.length,C.onProgress?.({loaded:C._loaded,total:C._contentLength}),{value:new Uint8Array(S).buffer,done:!1})})()}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",S=>{this._error(S)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new x.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class T{constructor(C){this._url=C.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new x.PromiseCapability,this._isStreamingSupported=!C.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var C=this;return _asyncToGenerator(function*(){if(yield C._readCapability.promise,C._done)return{value:void 0,done:!0};if(C._storedError)throw C._storedError;const S=C._readableStream.read();return null===S?(C._readCapability=new x.PromiseCapability,C.read()):(C._loaded+=S.length,C.onProgress?.({loaded:C._loaded}),{value:new Uint8Array(S).buffer,done:!1})})()}cancel(C){this._readableStream?this._readableStream.destroy(C):this._error(C)}_error(C){this._storedError=C,this._readCapability.resolve()}_setReadableStream(C){this._readableStream=C,C.on("readable",()=>{this._readCapability.resolve()}),C.on("end",()=>{C.destroy(),this._done=!0,this._readCapability.resolve()}),C.on("error",S=>{this._error(S)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function b(g,C){return{protocol:g.protocol,auth:g.auth,host:g.hostname,port:g.port,path:g.path,method:"GET",headers:C}}class m extends ae{constructor(C){super(C);const S=A=>{if(404===A.statusCode){const B=new x.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=B,void this._headersCapability.reject(B)}this._headersCapability.resolve(),this._setReadableStream(A);const X=B=>this._readableStream.headers[B.toLowerCase()],{allowRangeRequests:U,suggestedLength:y}=(0,ne.validateRangeRequestCapabilities)({getResponseHeader:X,isHttp:C.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=U,this._contentLength=y||this._contentLength,this._filename=(0,ne.extractFilenameFromHeader)(X)};if(this._request=null,"http:"===this._url.protocol){const A=__webpack_require__(492);this._request=A.request(b(this._url,C.httpHeaders),S)}else{const A=__webpack_require__(815);this._request=A.request(b(this._url,C.httpHeaders),S)}this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class f extends T{constructor(C,S,A){super(C),this._httpHeaders={};for(const U in C.httpHeaders){const y=C.httpHeaders[U];void 0!==y&&(this._httpHeaders[U]=y)}this._httpHeaders.Range=`bytes=${S}-${A-1}`;const X=U=>{if(404!==U.statusCode)this._setReadableStream(U);else{const y=new x.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};if(this._request=null,"http:"===this._url.protocol){const U=__webpack_require__(492);this._request=U.request(b(this._url,this._httpHeaders),X)}else{const U=__webpack_require__(815);this._request=U.request(b(this._url,this._httpHeaders),X)}this._request.on("error",U=>{this._storedError=U}),this._request.end()}}class O extends ae{constructor(C){super(C);let S=decodeURIComponent(this._url.path);ve.test(this._url.href)&&(S=S.replace(/^\//,""));const A=__webpack_require__(237);A.lstat(S,(X,U)=>{if(X)return"ENOENT"===X.code&&(X=new x.MissingPDFException(`Missing PDF "${S}".`)),this._storedError=X,void this._headersCapability.reject(X);this._contentLength=U.size,this._setReadableStream(A.createReadStream(S)),this._headersCapability.resolve()})}}class E extends T{constructor(C,S,A){super(C);let X=decodeURIComponent(this._url.path);ve.test(this._url.href)&&(X=X.replace(/^\//,""));const U=__webpack_require__(237);this._setReadableStream(U.createReadStream(X,{start:S,end:A-1}))}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.SVGGraphics=void 0;var x=ge(6),ne=ge(1);const ae=["butt","round","square"],T=["miter","round","bevel"],b=function(U,y="",B=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!B)return URL.createObjectURL(new Blob([U],{type:y}));const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let W=`data:${y};base64,`;for(let ee=0,fe=U.length;ee<fe;ee+=3){const Q=255&U[ee],Te=255&U[ee+1],Ce=255&U[ee+2];W+=D[Q>>2]+D[(3&Q)<<4|Te>>4]+D[ee+1<fe?(15&Te)<<2|Ce>>6:64]+D[ee+2<fe?63&Ce:64]}return W},m=function(){const U=new Uint8Array([137,80,78,71,13,10,26,10]),B=new Int32Array(256);for(let Ce=0;Ce<256;Ce++){let ye=Ce;for(let Ge=0;Ge<8;Ge++)ye=1&ye?3988292384^ye>>1&2147483647:ye>>1&2147483647;B[Ce]=ye}function W(Ce,ye,Ge,Le){let me=Le;const Z=ye.length;Ge[me]=Z>>24&255,Ge[me+1]=Z>>16&255,Ge[me+2]=Z>>8&255,Ge[me+3]=255&Z,me+=4,Ge[me]=255&Ce.charCodeAt(0),Ge[me+1]=255&Ce.charCodeAt(1),Ge[me+2]=255&Ce.charCodeAt(2),Ge[me+3]=255&Ce.charCodeAt(3),me+=4,Ge.set(ye,me),me+=ye.length;const M=function D(Ce,ye,Ge){let Le=-1;for(let me=ye;me<Ge;me++)Le=Le>>>8^B[255&(Le^Ce[me])];return~Le}(Ge,Le+4,me);Ge[me]=M>>24&255,Ge[me+1]=M>>16&255,Ge[me+2]=M>>8&255,Ge[me+3]=255&M}function Q(Ce){let ye=Ce.length;const Ge=65535,Le=Math.ceil(ye/Ge),me=new Uint8Array(2+ye+5*Le+4);let Z=0;me[Z++]=120,me[Z++]=156;let M=0;for(;ye>Ge;)me[Z++]=0,me[Z++]=255,me[Z++]=255,me[Z++]=0,me[Z++]=0,me.set(Ce.subarray(M,M+Ge),Z),Z+=Ge,M+=Ge,ye-=Ge;me[Z++]=1,me[Z++]=255&ye,me[Z++]=ye>>8&255,me[Z++]=255&~ye,me[Z++]=(65535&~ye)>>8&255,me.set(Ce.subarray(M),Z),Z+=Ce.length-M;const N=function ee(Ce,ye,Ge){let Le=1,me=0;for(let Z=ye;Z<Ge;++Z)Le=(Le+(255&Ce[Z]))%65521,me=(me+Le)%65521;return me<<16|Le}(Ce,0,Ce.length);return me[Z++]=N>>24&255,me[Z++]=N>>16&255,me[Z++]=N>>8&255,me[Z++]=255&N,me}return function(ye,Ge,Le){return function Te(Ce,ye,Ge,Le){const me=Ce.width,Z=Ce.height;let M,N,V;const G=Ce.data;switch(ye){case ne.ImageKind.GRAYSCALE_1BPP:N=0,M=1,V=me+7>>3;break;case ne.ImageKind.RGB_24BPP:N=2,M=8,V=3*me;break;case ne.ImageKind.RGBA_32BPP:N=6,M=8,V=4*me;break;default:throw new Error("invalid format")}const oe=new Uint8Array((1+V)*Z);let ce=0,re=0;for(let Me=0;Me<Z;++Me)oe[ce++]=0,oe.set(G.subarray(re,re+V),ce),re+=V,ce+=V;if(ye===ne.ImageKind.GRAYSCALE_1BPP&&Le){ce=0;for(let Me=0;Me<Z;Me++){ce++;for(let Oe=0;Oe<V;Oe++)oe[ce++]^=255}}const P=new Uint8Array([me>>24&255,me>>16&255,me>>8&255,255&me,Z>>24&255,Z>>16&255,Z>>8&255,255&Z,M,N,0,0,0]),K=function fe(Ce){if(!ne.isNodeJS)return Q(Ce);try{const ye=parseInt(process.versions.node)>=8?Ce:Buffer.from(Ce),Ge=__webpack_require__(787).deflateSync(ye,{level:9});return Ge instanceof Uint8Array?Ge:new Uint8Array(Ge)}catch(ye){(0,ne.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ye)}return Q(Ce)}(oe),le=new Uint8Array(U.length+36+P.length+K.length);let ue=0;return le.set(U,ue),ue+=U.length,W("IHDR",P,le,ue),ue+=12+P.length,W("IDATA",K,le,ue),ue+=12+K.length,W("IEND",new Uint8Array(0),le,ue),b(le,"image/png",Ge)}(ye,void 0===ye.kind?ne.ImageKind.GRAYSCALE_1BPP:ye.kind,Ge,Le)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight="normal",this.fontSize=0,this.textMatrix=ne.IDENTITY_MATRIX,this.fontMatrix=ne.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ne.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(y,B){this.x=y,this.y=B}}function E(U){if(Number.isInteger(U))return U.toString();const y=U.toFixed(10);let B=y.length-1;if("0"!==y[B])return y;do{B--}while("0"===y[B]);return y.substring(0,"."===y[B]?B:B+1)}function g(U){if(0===U[4]&&0===U[5]){if(0===U[1]&&0===U[2])return 1===U[0]&&1===U[3]?"":`scale(${E(U[0])} ${E(U[3])})`;if(U[0]===U[3]&&U[1]===-U[2])return`rotate(${E(180*Math.acos(U[0])/Math.PI)})`}else if(1===U[0]&&0===U[1]&&0===U[2]&&1===U[3])return`translate(${E(U[4])} ${E(U[5])})`;return`matrix(${E(U[0])} ${E(U[1])} ${E(U[2])} ${E(U[3])} ${E(U[4])} ${E(U[5])})`}let C=0,S=0,A=0;I.SVGGraphics=class X{constructor(y,B,D=!1){(0,x.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new x.DOMSVGFactory,this.current=new f,this.transformMatrix=ne.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=y,this.objs=B,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!D,this._operatorIdMapping=[];for(const W in ne.OPS)this._operatorIdMapping[ne.OPS[W]]=W}getObject(y,B=null){return"string"==typeof y?y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y):B}save(){this.transformStack.push(this.transformMatrix);const y=this.current;this.extraStack.push(y),this.current=y.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(y){this.save(),this.executeOpTree(y),this.restore()}loadDependencies(y){const B=y.fnArray,D=y.argsArray;for(let W=0,ee=B.length;W<ee;W++)if(B[W]===ne.OPS.dependency)for(const fe of D[W]){const Q=fe.startsWith("g_")?this.commonObjs:this.objs,Te=new Promise(Ce=>{Q.get(fe,Ce)});this.current.dependencies.push(Te)}return Promise.all(this.current.dependencies)}transform(y,B,D,W,ee,fe){this.transformMatrix=ne.Util.transform(this.transformMatrix,[y,B,D,W,ee,fe]),this.tgrp=null}getSVG(y,B){this.viewport=B;const D=this._initialize(B);return this.loadDependencies(y).then(()=>(this.transformMatrix=ne.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(y)),D))}convertOpList(y){const B=this._operatorIdMapping,D=y.argsArray,W=y.fnArray,ee=[];for(let fe=0,Q=W.length;fe<Q;fe++){const Te=W[fe];ee.push({fnId:Te,fn:B[Te],args:D[fe]})}return function O(U){let y=[];const B=[];for(const D of U)"save"!==D.fn?"restore"===D.fn?y=B.pop():y.push(D):(y.push({fnId:92,fn:"group",items:[]}),B.push(y),y=y.at(-1).items);return y}(ee)}executeOpTree(y){for(const B of y){const D=B.fn,ee=B.args;switch(0|B.fnId){case ne.OPS.beginText:this.beginText();break;case ne.OPS.dependency:break;case ne.OPS.setLeading:this.setLeading(ee);break;case ne.OPS.setLeadingMoveText:this.setLeadingMoveText(ee[0],ee[1]);break;case ne.OPS.setFont:this.setFont(ee);break;case ne.OPS.showText:case ne.OPS.showSpacedText:this.showText(ee[0]);break;case ne.OPS.endText:this.endText();break;case ne.OPS.moveText:this.moveText(ee[0],ee[1]);break;case ne.OPS.setCharSpacing:this.setCharSpacing(ee[0]);break;case ne.OPS.setWordSpacing:this.setWordSpacing(ee[0]);break;case ne.OPS.setHScale:this.setHScale(ee[0]);break;case ne.OPS.setTextMatrix:this.setTextMatrix(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);break;case ne.OPS.setTextRise:this.setTextRise(ee[0]);break;case ne.OPS.setTextRenderingMode:this.setTextRenderingMode(ee[0]);break;case ne.OPS.setLineWidth:this.setLineWidth(ee[0]);break;case ne.OPS.setLineJoin:this.setLineJoin(ee[0]);break;case ne.OPS.setLineCap:this.setLineCap(ee[0]);break;case ne.OPS.setMiterLimit:this.setMiterLimit(ee[0]);break;case ne.OPS.setFillRGBColor:this.setFillRGBColor(ee[0],ee[1],ee[2]);break;case ne.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ee[0],ee[1],ee[2]);break;case ne.OPS.setStrokeColorN:this.setStrokeColorN(ee);break;case ne.OPS.setFillColorN:this.setFillColorN(ee);break;case ne.OPS.shadingFill:this.shadingFill(ee[0]);break;case ne.OPS.setDash:this.setDash(ee[0],ee[1]);break;case ne.OPS.setRenderingIntent:this.setRenderingIntent(ee[0]);break;case ne.OPS.setFlatness:this.setFlatness(ee[0]);break;case ne.OPS.setGState:this.setGState(ee[0]);break;case ne.OPS.fill:this.fill();break;case ne.OPS.eoFill:this.eoFill();break;case ne.OPS.stroke:this.stroke();break;case ne.OPS.fillStroke:this.fillStroke();break;case ne.OPS.eoFillStroke:this.eoFillStroke();break;case ne.OPS.clip:this.clip("nonzero");break;case ne.OPS.eoClip:this.clip("evenodd");break;case ne.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ne.OPS.paintImageXObject:this.paintImageXObject(ee[0]);break;case ne.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ee[0]);break;case ne.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ee[0]);break;case ne.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ee[0],ee[1]);break;case ne.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ne.OPS.closePath:this.closePath();break;case ne.OPS.closeStroke:this.closeStroke();break;case ne.OPS.closeFillStroke:this.closeFillStroke();break;case ne.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ne.OPS.nextLine:this.nextLine();break;case ne.OPS.transform:this.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]);break;case ne.OPS.constructPath:this.constructPath(ee[0],ee[1]);break;case ne.OPS.endPath:this.endPath();break;case 92:this.group(B.items);break;default:(0,ne.warn)(`Unimplemented operator ${D}`)}}}setWordSpacing(y){this.current.wordSpacing=y}setCharSpacing(y){this.current.charSpacing=y}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(y,B,D,W,ee,fe){const Q=this.current;Q.textMatrix=Q.lineMatrix=[y,B,D,W,ee,fe],Q.textMatrixScale=Math.hypot(y,B),Q.x=Q.lineX=0,Q.y=Q.lineY=0,Q.xcoords=[],Q.ycoords=[],Q.tspan=this.svgFactory.createElement("svg:tspan"),Q.tspan.setAttributeNS(null,"font-family",Q.fontFamily),Q.tspan.setAttributeNS(null,"font-size",`${E(Q.fontSize)}px`),Q.tspan.setAttributeNS(null,"y",E(-Q.y)),Q.txtElement=this.svgFactory.createElement("svg:text"),Q.txtElement.append(Q.tspan)}beginText(){const y=this.current;y.x=y.lineX=0,y.y=y.lineY=0,y.textMatrix=ne.IDENTITY_MATRIX,y.lineMatrix=ne.IDENTITY_MATRIX,y.textMatrixScale=1,y.tspan=this.svgFactory.createElement("svg:tspan"),y.txtElement=this.svgFactory.createElement("svg:text"),y.txtgrp=this.svgFactory.createElement("svg:g"),y.xcoords=[],y.ycoords=[]}moveText(y,B){const D=this.current;D.x=D.lineX+=y,D.y=D.lineY+=B,D.xcoords=[],D.ycoords=[],D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${E(D.fontSize)}px`),D.tspan.setAttributeNS(null,"y",E(-D.y))}showText(y){const B=this.current,D=B.font,W=B.fontSize;if(0===W)return;const ee=B.fontSizeScale,fe=B.charSpacing,Q=B.wordSpacing,Te=B.fontDirection,Ce=B.textHScale*Te,ye=D.vertical,Ge=ye?1:-1,Le=D.defaultVMetrics,me=W*B.fontMatrix[0];let Z=0;for(const V of y){if(null===V){Z+=Te*Q;continue}if("number"==typeof V){Z+=Ge*V*W/1e3;continue}const G=(V.isSpace?Q:0)+fe,oe=V.fontChar;let ce,re,P=V.width;if(ye){let te;const le=V.vmetric||Le;te=V.vmetric?le[1]:.5*P,te=-te*me,P=le?-le[0]:P,ce=te/ee,re=(Z+le[2]*me)/ee}else ce=Z/ee,re=0;(V.isInFont||D.missingFile)&&(B.xcoords.push(B.x+ce),ye&&B.ycoords.push(-B.y+re),B.tspan.textContent+=oe),Z+=ye?P*me-G*Te:P*me+G*Te}B.tspan.setAttributeNS(null,"x",B.xcoords.map(E).join(" ")),B.tspan.setAttributeNS(null,"y",ye?B.ycoords.map(E).join(" "):E(-B.y)),ye?B.y-=Z:B.x+=Z*Ce,B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${E(B.fontSize)}px`),"normal"!==B.fontStyle&&B.tspan.setAttributeNS(null,"font-style",B.fontStyle),"normal"!==B.fontWeight&&B.tspan.setAttributeNS(null,"font-weight",B.fontWeight);const M=B.textRenderingMode&ne.TextRenderingMode.FILL_STROKE_MASK;M===ne.TextRenderingMode.FILL||M===ne.TextRenderingMode.FILL_STROKE?("#000000"!==B.fillColor&&B.tspan.setAttributeNS(null,"fill",B.fillColor),B.fillAlpha<1&&B.tspan.setAttributeNS(null,"fill-opacity",B.fillAlpha)):B.tspan.setAttributeNS(null,"fill",B.textRenderingMode===ne.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(M===ne.TextRenderingMode.STROKE||M===ne.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(B.tspan,1/(B.textMatrixScale||1));let N=B.textMatrix;0!==B.textRise&&(N=N.slice(),N[5]+=B.textRise),B.txtElement.setAttributeNS(null,"transform",`${g(N)} scale(${E(Ce)}, -1)`),B.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),B.txtElement.append(B.tspan),B.txtgrp.append(B.txtElement),this._ensureTransformGroup().append(B.txtElement)}setLeadingMoveText(y,B){this.setLeading(-B),this.moveText(y,B)}addFontStyle(y){if(!y.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const B=b(y.data,y.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${y.loadedName}"; src: url(${B}); }\n`}setFont(y){const B=this.current,D=this.commonObjs.get(y[0]);let W=y[1];B.font=D,this.embedFonts&&!D.missingFile&&!this.embeddedFonts[D.loadedName]&&(this.addFontStyle(D),this.embeddedFonts[D.loadedName]=D),B.fontMatrix=D.fontMatrix||ne.FONT_IDENTITY_MATRIX;let ee="normal";D.black?ee="900":D.bold&&(ee="bold");const fe=D.italic?"italic":"normal";W<0?(W=-W,B.fontDirection=-1):B.fontDirection=1,B.fontSize=W,B.fontFamily=D.loadedName,B.fontWeight=ee,B.fontStyle=fe,B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"y",E(-B.y)),B.xcoords=[],B.ycoords=[]}endText(){const y=this.current;y.textRenderingMode&ne.TextRenderingMode.ADD_TO_PATH_FLAG&&y.txtElement?.hasChildNodes()&&(y.element=y.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(y){y>0&&(this.current.lineWidth=y)}setLineCap(y){this.current.lineCap=ae[y]}setLineJoin(y){this.current.lineJoin=T[y]}setMiterLimit(y){this.current.miterLimit=y}setStrokeAlpha(y){this.current.strokeAlpha=y}setStrokeRGBColor(y,B,D){this.current.strokeColor=ne.Util.makeHexColor(y,B,D)}setFillAlpha(y){this.current.fillAlpha=y}setFillRGBColor(y,B,D){this.current.fillColor=ne.Util.makeHexColor(y,B,D),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(y){this.current.strokeColor=this._makeColorN_Pattern(y)}setFillColorN(y){this.current.fillColor=this._makeColorN_Pattern(y)}shadingFill(y){const{width:B,height:D}=this.viewport,W=ne.Util.inverseTransform(this.transformMatrix),[ee,fe,Q,Te]=ne.Util.getAxialAlignedBoundingBox([0,0,B,D],W),Ce=this.svgFactory.createElement("svg:rect");Ce.setAttributeNS(null,"x",ee),Ce.setAttributeNS(null,"y",fe),Ce.setAttributeNS(null,"width",Q-ee),Ce.setAttributeNS(null,"height",Te-fe),Ce.setAttributeNS(null,"fill",this._makeShadingPattern(y)),this.current.fillAlpha<1&&Ce.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ce)}_makeColorN_Pattern(y){return"TilingPattern"===y[0]?this._makeTilingPattern(y):this._makeShadingPattern(y)}_makeTilingPattern(y){const B=y[1],D=y[2],W=y[3]||ne.IDENTITY_MATRIX,[ee,fe,Q,Te]=y[4],Ce=y[5],ye=y[6],Ge=y[7],Le="shading"+A++,[me,Z,M,N]=ne.Util.normalizeRect([...ne.Util.applyTransform([ee,fe],W),...ne.Util.applyTransform([Q,Te],W)]),[V,G]=ne.Util.singularValueDecompose2dScale(W),oe=Ce*V,ce=ye*G,re=this.svgFactory.createElement("svg:pattern");re.setAttributeNS(null,"id",Le),re.setAttributeNS(null,"patternUnits","userSpaceOnUse"),re.setAttributeNS(null,"width",oe),re.setAttributeNS(null,"height",ce),re.setAttributeNS(null,"x",`${me}`),re.setAttributeNS(null,"y",`${Z}`);const P=this.svg,K=this.transformMatrix,te=this.current.fillColor,le=this.current.strokeColor,ue=this.svgFactory.create(M-me,N-Z);if(this.svg=ue,this.transformMatrix=W,2===Ge){const Me=ne.Util.makeHexColor(...B);this.current.fillColor=Me,this.current.strokeColor=Me}return this.executeOpTree(this.convertOpList(D)),this.svg=P,this.transformMatrix=K,this.current.fillColor=te,this.current.strokeColor=le,re.append(ue.childNodes[0]),this.defs.append(re),`url(#${Le})`}_makeShadingPattern(y){switch("string"==typeof y&&(y=this.objs.get(y)),y[0]){case"RadialAxial":const B="shading"+A++,D=y[3];let W;switch(y[1]){case"axial":const ee=y[4],fe=y[5];W=this.svgFactory.createElement("svg:linearGradient"),W.setAttributeNS(null,"id",B),W.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),W.setAttributeNS(null,"x1",ee[0]),W.setAttributeNS(null,"y1",ee[1]),W.setAttributeNS(null,"x2",fe[0]),W.setAttributeNS(null,"y2",fe[1]);break;case"radial":const Q=y[4],Te=y[5],Ce=y[6],ye=y[7];W=this.svgFactory.createElement("svg:radialGradient"),W.setAttributeNS(null,"id",B),W.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),W.setAttributeNS(null,"cx",Te[0]),W.setAttributeNS(null,"cy",Te[1]),W.setAttributeNS(null,"r",ye),W.setAttributeNS(null,"fx",Q[0]),W.setAttributeNS(null,"fy",Q[1]),W.setAttributeNS(null,"fr",Ce);break;default:throw new Error(`Unknown RadialAxial type: ${y[1]}`)}for(const ee of D){const fe=this.svgFactory.createElement("svg:stop");fe.setAttributeNS(null,"offset",ee[0]),fe.setAttributeNS(null,"stop-color",ee[1]),W.append(fe)}return this.defs.append(W),`url(#${B})`;case"Mesh":return(0,ne.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${y[0]}`)}}setDash(y,B){this.current.dashArray=y,this.current.dashPhase=B}constructPath(y,B){const D=this.current;let W=D.x,ee=D.y,fe=[],Q=0;for(const Te of y)switch(0|Te){case ne.OPS.rectangle:W=B[Q++],ee=B[Q++];const Ge=W+B[Q++],Le=ee+B[Q++];fe.push("M",E(W),E(ee),"L",E(Ge),E(ee),"L",E(Ge),E(Le),"L",E(W),E(Le),"Z");break;case ne.OPS.moveTo:W=B[Q++],ee=B[Q++],fe.push("M",E(W),E(ee));break;case ne.OPS.lineTo:W=B[Q++],ee=B[Q++],fe.push("L",E(W),E(ee));break;case ne.OPS.curveTo:W=B[Q+4],ee=B[Q+5],fe.push("C",E(B[Q]),E(B[Q+1]),E(B[Q+2]),E(B[Q+3]),E(W),E(ee)),Q+=6;break;case ne.OPS.curveTo2:fe.push("C",E(W),E(ee),E(B[Q]),E(B[Q+1]),E(B[Q+2]),E(B[Q+3])),W=B[Q+2],ee=B[Q+3],Q+=4;break;case ne.OPS.curveTo3:W=B[Q+2],ee=B[Q+3],fe.push("C",E(B[Q]),E(B[Q+1]),E(W),E(ee),E(W),E(ee)),Q+=4;break;case ne.OPS.closePath:fe.push("Z")}fe=fe.join(" "),D.path&&y.length>0&&y[0]!==ne.OPS.rectangle&&y[0]!==ne.OPS.moveTo?fe=D.path.getAttributeNS(null,"d")+fe:(D.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(D.path)),D.path.setAttributeNS(null,"d",fe),D.path.setAttributeNS(null,"fill","none"),D.element=D.path,D.setCurrentPoint(W,ee)}endPath(){const y=this.current;if(y.path=null,!this.pendingClip)return;if(!y.element)return void(this.pendingClip=null);const B="clippath"+C++,D=this.svgFactory.createElement("svg:clipPath");D.setAttributeNS(null,"id",B),D.setAttributeNS(null,"transform",g(this.transformMatrix));const W=y.element.cloneNode(!0);if(W.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,D.append(W),this.defs.append(D),y.activeClipUrl){y.clipGroup=null;for(const ee of this.extraStack)ee.clipGroup=null;D.setAttributeNS(null,"clip-path",y.activeClipUrl)}y.activeClipUrl=`url(#${B})`,this.tgrp=null}clip(y){this.pendingClip=y}closePath(){const y=this.current;if(y.path){const B=`${y.path.getAttributeNS(null,"d")}Z`;y.path.setAttributeNS(null,"d",B)}}setLeading(y){this.current.leading=-y}setTextRise(y){this.current.textRise=y}setTextRenderingMode(y){this.current.textRenderingMode=y}setHScale(y){this.current.textHScale=y/100}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(const[B,D]of y)switch(B){case"LW":this.setLineWidth(D);break;case"LC":this.setLineCap(D);break;case"LJ":this.setLineJoin(D);break;case"ML":this.setMiterLimit(D);break;case"D":this.setDash(D[0],D[1]);break;case"RI":this.setRenderingIntent(D);break;case"FL":this.setFlatness(D);break;case"Font":this.setFont(D);break;case"CA":this.setStrokeAlpha(D);break;case"ca":this.setFillAlpha(D);break;default:(0,ne.warn)(`Unimplemented graphic state operator ${B}`)}}fill(){const y=this.current;y.element&&(y.element.setAttributeNS(null,"fill",y.fillColor),y.element.setAttributeNS(null,"fill-opacity",y.fillAlpha),this.endPath())}stroke(){const y=this.current;y.element&&(this._setStrokeAttributes(y.element),y.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(y,B=1){const D=this.current;let W=D.dashArray;1!==B&&W.length>0&&(W=W.map(function(ee){return B*ee})),y.setAttributeNS(null,"stroke",D.strokeColor),y.setAttributeNS(null,"stroke-opacity",D.strokeAlpha),y.setAttributeNS(null,"stroke-miterlimit",E(D.miterLimit)),y.setAttributeNS(null,"stroke-linecap",D.lineCap),y.setAttributeNS(null,"stroke-linejoin",D.lineJoin),y.setAttributeNS(null,"stroke-width",E(B*D.lineWidth)+"px"),y.setAttributeNS(null,"stroke-dasharray",W.map(E).join(" ")),y.setAttributeNS(null,"stroke-dashoffset",E(B*D.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x","0"),y.setAttributeNS(null,"y","0"),y.setAttributeNS(null,"width","1px"),y.setAttributeNS(null,"height","1px"),y.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(y)}paintImageXObject(y){const B=this.getObject(y);B?this.paintInlineImageXObject(B):(0,ne.warn)(`Dependent image with object ID ${y} is not ready yet`)}paintInlineImageXObject(y,B){const D=y.width,W=y.height,ee=m(y,this.forceDataSchema,!!B),fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",E(D)),fe.setAttributeNS(null,"height",E(W)),this.current.element=fe,this.clip("nonzero");const Q=this.svgFactory.createElement("svg:image");Q.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",ee),Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y",E(-W)),Q.setAttributeNS(null,"width",E(D)+"px"),Q.setAttributeNS(null,"height",E(W)+"px"),Q.setAttributeNS(null,"transform",`scale(${E(1/D)} ${E(-1/W)})`),B?B.append(Q):this._ensureTransformGroup().append(Q)}paintImageMaskXObject(y){const B=this.getObject(y.data,y);if(B.bitmap)return void(0,ne.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const D=this.current,W=B.width,ee=B.height,fe=D.fillColor;D.maskId="mask"+S++;const Q=this.svgFactory.createElement("svg:mask");Q.setAttributeNS(null,"id",D.maskId);const Te=this.svgFactory.createElement("svg:rect");Te.setAttributeNS(null,"x","0"),Te.setAttributeNS(null,"y","0"),Te.setAttributeNS(null,"width",E(W)),Te.setAttributeNS(null,"height",E(ee)),Te.setAttributeNS(null,"fill",fe),Te.setAttributeNS(null,"mask",`url(#${D.maskId})`),this.defs.append(Q),this._ensureTransformGroup().append(Te),this.paintInlineImageXObject(B,Q)}paintFormXObjectBegin(y,B){if(Array.isArray(y)&&6===y.length&&this.transform(y[0],y[1],y[2],y[3],y[4],y[5]),B){const D=B[2]-B[0],W=B[3]-B[1],ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x",B[0]),ee.setAttributeNS(null,"y",B[1]),ee.setAttributeNS(null,"width",E(D)),ee.setAttributeNS(null,"height",E(W)),this.current.element=ee,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(y){const B=this.svgFactory.create(y.width,y.height),D=this.svgFactory.createElement("svg:defs");B.append(D),this.defs=D;const W=this.svgFactory.createElement("svg:g");return W.setAttributeNS(null,"transform",g(y.transform)),B.append(W),this.svg=W,B}_ensureClipGroup(){if(!this.current.clipGroup){const y=this.svgFactory.createElement("svg:g");y.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(y),this.current.clipGroup=y}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(De,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XfaText=void 0;class ge{static textContent(ne){const ve=[],de={items:ve,styles:Object.create(null)};return function Se(ae){if(!ae)return;let T=null;const b=ae.name;if("#text"===b)T=ae.value;else{if(!ge.shouldBuildText(b))return;ae?.attributes?.textContent?T=ae.attributes.textContent:ae.value&&(T=ae.value)}if(null!==T&&ve.push({str:T}),ae.children)for(const m of ae.children)Se(m)}(ne),de}static shouldBuildText(ne){return!("textarea"===ne||"input"===ne||"option"===ne||"select"===ne)}}I.XfaText=ge},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.TextLayerRenderTask=void 0,I.renderTextLayer=function g(S){!S.textContentSource&&(S.textContent||S.textContentStream)&&((0,ne.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),S.textContentSource=S.textContent||S.textContentStream);const{container:A,viewport:X}=S,U=getComputedStyle(A),y=U.getPropertyValue("visibility"),B=parseFloat(U.getPropertyValue("--scale-factor"));"visible"===y&&(!B||Math.abs(B-X.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const D=new E(S);return D._render(),D},I.updateTextLayer=function C({container:S,viewport:A,textDivs:X,textDivProperties:U,isOffscreenCanvasSupported:y,mustRotate:B=!0,mustRescale:D=!0}){if(B&&(0,ne.setLayerDimensions)(S,{rotation:A.rotation}),D){const W=T(0,y),fe={prevFontSize:null,prevFontFamily:null,div:null,scale:A.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:W};for(const Q of X)fe.properties=U.get(Q),fe.div=Q,f(fe)}};var x=ge(1),ne=ge(6);const ae=new Map;function T(S,A){let X;if(A&&x.FeatureTest.isOffscreenCanvasSupported)X=new OffscreenCanvas(S,S).getContext("2d",{alpha:!1});else{const U=document.createElement("canvas");U.width=U.height=S,X=U.getContext("2d",{alpha:!1})}return X}function m(S,A,X){const U=document.createElement("span"),y={angle:0,canvasWidth:0,hasText:""!==A.str,hasEOL:A.hasEOL,fontSize:0};S._textDivs.push(U);const B=x.Util.transform(S._transform,A.transform);let D=Math.atan2(B[1],B[0]);const W=X[A.fontName];W.vertical&&(D+=Math.PI/2);const ee=Math.hypot(B[2],B[3]),fe=ee*function b(S,A){const X=ae.get(S);if(X)return X;const U=T(30,A);U.font=`30px ${S}`;const y=U.measureText("");let B=y.fontBoundingBoxAscent,D=Math.abs(y.fontBoundingBoxDescent);if(B){const ee=B/(B+D);return ae.set(S,ee),U.canvas.width=U.canvas.height=0,ee}U.strokeStyle="red",U.clearRect(0,0,30,30),U.strokeText("g",0,0);let W=U.getImageData(0,0,30,30).data;D=0;for(let ee=W.length-1-3;ee>=0;ee-=4)if(W[ee]>0){D=Math.ceil(ee/4/30);break}U.clearRect(0,0,30,30),U.strokeText("A",0,30),W=U.getImageData(0,0,30,30).data,B=0;for(let ee=0,fe=W.length;ee<fe;ee+=4)if(W[ee]>0){B=30-Math.floor(ee/4/30);break}if(U.canvas.width=U.canvas.height=0,B){const ee=B/(B+D);return ae.set(S,ee),ee}return ae.set(S,.8),.8}(W.fontFamily,S._isOffscreenCanvasSupported);let Q,Te;0===D?(Q=B[4],Te=B[5]-fe):(Q=B[4]+fe*Math.sin(D),Te=B[5]-fe*Math.cos(D));const Ce="calc(var(--scale-factor)*",ye=U.style;S._container===S._rootContainer?(ye.left=`${(100*Q/S._pageWidth).toFixed(2)}%`,ye.top=`${(100*Te/S._pageHeight).toFixed(2)}%`):(ye.left=`${Ce}${Q.toFixed(2)}px)`,ye.top=`${Ce}${Te.toFixed(2)}px)`),ye.fontSize=`${Ce}${ee.toFixed(2)}px)`,ye.fontFamily=W.fontFamily,y.fontSize=ee,U.setAttribute("role","presentation"),U.textContent=A.str,U.dir=A.dir,S._fontInspectorEnabled&&(U.dataset.fontName=A.fontName),0!==D&&(y.angle=D*(180/Math.PI));let Ge=!1;if(A.str.length>1)Ge=!0;else if(" "!==A.str&&A.transform[0]!==A.transform[3]){const Le=Math.abs(A.transform[0]),me=Math.abs(A.transform[3]);Le!==me&&Math.max(Le,me)/Math.min(Le,me)>1.5&&(Ge=!0)}Ge&&(y.canvasWidth=W.vertical?A.height:A.width),S._textDivProperties.set(U,y),S._isReadableStream&&S._layoutText(U)}function f(S){const{div:A,scale:X,properties:U,ctx:y,prevFontSize:B,prevFontFamily:D}=S,{style:W}=A;let ee="";if(0!==U.canvasWidth&&U.hasText){const{fontFamily:fe}=W,{canvasWidth:Q,fontSize:Te}=U;(B!==Te||D!==fe)&&(y.font=`${Te*X}px ${fe}`,S.prevFontSize=Te,S.prevFontFamily=fe);const{width:Ce}=y.measureText(A.textContent);Ce>0&&(ee=`scaleX(${Q*X/Ce})`)}0!==U.angle&&(ee=`rotate(${U.angle}deg) ${ee}`),ee.length>0&&(W.transform=ee)}class E{constructor({textContentSource:A,container:X,viewport:U,textDivs:y,textDivProperties:B,textContentItemsStr:D,isOffscreenCanvasSupported:W}){this._textContentSource=A,this._isReadableStream=A instanceof ReadableStream,this._container=this._rootContainer=X,this._textDivs=y||[],this._textContentItemsStr=D||[],this._isOffscreenCanvasSupported=W,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=B||new WeakMap,this._canceled=!1,this._capability=new x.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:U.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:T(0,W)};const{pageWidth:ee,pageHeight:fe,pageX:Q,pageY:Te}=U.rawDims;this._transform=[1,0,0,-1,-Q,Te+fe],this._pageWidth=ee,this._pageHeight=fe,(0,ne.setLayerDimensions)(X,U),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new x.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new x.AbortException("TextLayer task cancelled."))}_processItems(A,X){for(const U of A)if(void 0!==U.str)this._textContentItemsStr.push(U.str),m(this,U,X);else if("beginMarkedContentProps"===U.type||"beginMarkedContent"===U.type){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==U.id&&this._container.setAttribute("id",`${U.id}`),y.append(this._container)}else"endMarkedContent"===U.type&&(this._container=this._container.parentNode)}_layoutText(A){const X=this._layoutTextParams.properties=this._textDivProperties.get(A);if(this._layoutTextParams.div=A,f(this._layoutTextParams),X.hasText&&this._container.append(A),X.hasEOL){const U=document.createElement("br");U.setAttribute("role","presentation"),this._container.append(U)}}_render(){const A=new x.PromiseCapability;let X=Object.create(null);if(this._isReadableStream){const U=()=>{this._reader.read().then(({value:y,done:B})=>{B?A.resolve():(Object.assign(X,y.styles),this._processItems(y.items,X),U())},A.reject)};this._reader=this._textContentSource.getReader(),U()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:U,styles:y}=this._textContentSource;this._processItems(U,y),A.resolve()}}A.promise.then(()=>{X=null,function O(S){if(S._canceled)return;const A=S._textDivs,X=S._capability;if(A.length>1e5)X.resolve();else{if(!S._isReadableStream)for(const y of A)S._layoutText(y);X.resolve()}}(this)},this._capability.reject)}}I.TextLayerRenderTask=E},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationEditorLayer=void 0;var x=ge(1),ne=ge(4),ve=ge(28),de=ge(33),Se=ge(6),ae=ge(34);I.AnnotationEditorLayer=(()=>{class b{#e;#t=!1;#n=null;#i=this.pointerup.bind(this);#a=this.pointerdown.bind(this);#s=new Map;#r=!1;#l=!1;#c=!1;#o;static _initialized=!1;constructor({uiManager:f,pageIndex:O,div:E,accessibilityManager:g,annotationLayer:C,viewport:S,l10n:A}){const X=[ve.FreeTextEditor,de.InkEditor,ae.StampEditor];if(!b._initialized){b._initialized=!0;for(const U of X)U.initialize(A)}f.registerEditorTypes(X),this.#o=f,this.pageIndex=O,this.div=E,this.#e=g,this.#n=C,this.viewport=S,this.#o.addLayer(this)}get isEmpty(){return 0===this.#s.size}updateToolbar(f){this.#o.updateToolbar(f)}updateMode(f=this.#o.getMode()){this.#p(),f===x.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),f!==x.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",f===x.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",f===x.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",f===x.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(f){if(f||this.#o.getMode()===x.AnnotationEditorType.INK){if(!f)for(const E of this.#s.values())if(E.isEmpty())return void E.setInBackground();this.#h({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(f){this.#o.setEditingState(f)}addCommands(f){this.#o.addCommands(f)}enable(){this.div.style.pointerEvents="auto";const f=new Set;for(const E of this.#s.values())E.enableEditing(),E.annotationElementId&&f.add(E.annotationElementId);if(!this.#n)return;const O=this.#n.getEditableAnnotations();for(const E of O){if(E.hide(),this.#o.isDeletedAnnotationElement(E.data.id)||f.has(E.data.id))continue;const g=this.deserialize(E);g&&(this.addOrRebuild(g),g.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const f=new Set;for(const O of this.#s.values())O.disableEditing(),O.annotationElementId&&null===O.serialize()?(this.getEditableAnnotation(O.annotationElementId)?.show(),O.remove()):f.add(O.annotationElementId);if(this.#n){const O=this.#n.getEditableAnnotations();for(const E of O){const{id:g}=E.data;f.has(g)||this.#o.isDeletedAnnotationElement(g)||E.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(f){return this.#n?.getEditableAnnotation(f)||null}setActiveEditor(f){this.#o.getActive()!==f&&this.#o.setActiveEditor(f)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#i)}attach(f){this.#s.set(f.id,f);const{annotationElementId:O}=f;O&&this.#o.isDeletedAnnotationElement(O)&&this.#o.removeDeletedAnnotationElement(f)}detach(f){this.#s.delete(f.id),this.#e?.removePointerInTextLayer(f.contentDiv),!this.#c&&f.annotationElementId&&this.#o.addDeletedAnnotationElement(f)}remove(f){this.detach(f),this.#o.removeEditor(f),f.div.contains(document.activeElement)&&setTimeout(()=>{this.#o.focusMainContainer()},0),f.div.remove(),f.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(f){f.parent!==this&&(f.annotationElementId&&(this.#o.addDeletedAnnotationElement(f.annotationElementId),ne.AnnotationEditor.deleteAnnotationElement(f),f.annotationElementId=null),this.attach(f),f.parent?.detach(f),f.setParent(this),f.div&&f.isAttachedToDOM&&(f.div.remove(),this.div.append(f.div)))}add(f){if(this.changeParent(f),this.#o.addEditor(f),this.attach(f),!f.isAttachedToDOM){const O=f.render();this.div.append(O),f.isAttachedToDOM=!0}f.fixAndSetPosition(),f.onceAdded(),this.#o.addToAnnotationStorage(f)}moveEditorInDOM(f){if(!f.isAttachedToDOM)return;const{activeElement:O}=document;f.div.contains(O)&&(f._focusEventsAllowed=!1,setTimeout(()=>{f.div.contains(document.activeElement)?f._focusEventsAllowed=!0:(f.div.addEventListener("focusin",()=>{f._focusEventsAllowed=!0},{once:!0}),O.focus())},0)),f._structTreeParentId=this.#e?.moveElementInDOM(this.div,f.div,f.contentDiv,!0)}addOrRebuild(f){f.needsToBeRebuilt()?f.rebuild():this.add(f)}addUndoableEditor(f){this.addCommands({cmd:()=>f._uiManager.rebuild(f),undo:()=>{f.remove()},mustExec:!1})}getNextId(){return this.#o.getId()}#d(f){switch(this.#o.getMode()){case x.AnnotationEditorType.FREETEXT:return new ve.FreeTextEditor(f);case x.AnnotationEditorType.INK:return new de.InkEditor(f);case x.AnnotationEditorType.STAMP:return new ae.StampEditor(f)}return null}pasteEditor(f,O){this.#o.updateToolbar(f),this.#o.updateMode(f);const{offsetX:E,offsetY:g}=this.#_(),C=this.getNextId(),S=this.#d({parent:this,id:C,x:E,y:g,uiManager:this.#o,isCentered:!0,...O});S&&this.add(S)}deserialize(f){switch(f.annotationType??f.annotationEditorType){case x.AnnotationEditorType.FREETEXT:return ve.FreeTextEditor.deserialize(f,this,this.#o);case x.AnnotationEditorType.INK:return de.InkEditor.deserialize(f,this,this.#o);case x.AnnotationEditorType.STAMP:return ae.StampEditor.deserialize(f,this,this.#o)}return null}#h(f,O){const E=this.getNextId(),g=this.#d({parent:this,id:E,x:f.offsetX,y:f.offsetY,uiManager:this.#o,isCentered:O});return g&&this.add(g),g}#_(){const{x:f,y:O,width:E,height:g}=this.div.getBoundingClientRect(),C=Math.max(0,f),S=Math.max(0,O),U=(C+Math.min(window.innerWidth,f+E))/2-f,y=(S+Math.min(window.innerHeight,O+g))/2-O,[B,D]=this.viewport.rotation%180==0?[U,y]:[y,U];return{offsetX:B,offsetY:D}}addNewEditor(){this.#h(this.#_(),!0)}setSelected(f){this.#o.setSelected(f)}toggleSelected(f){this.#o.toggleSelected(f)}isSelected(f){return this.#o.isSelected(f)}unselect(f){this.#o.unselect(f)}pointerup(f){const{isMac:O}=x.FeatureTest.platform;if(!(0!==f.button||f.ctrlKey&&O)&&f.target===this.div&&this.#r){if(this.#r=!1,!this.#t)return void(this.#t=!0);if(this.#o.getMode()===x.AnnotationEditorType.STAMP)return void this.#o.unselectAll();this.#h(f,!1)}}pointerdown(f){if(this.#r)return void(this.#r=!1);const{isMac:O}=x.FeatureTest.platform;if(0!==f.button||f.ctrlKey&&O||f.target!==this.div)return;this.#r=!0;const E=this.#o.getActive();this.#t=!E||E.isEmpty()}findNewParent(f,O,E){const g=this.#o.findParent(O,E);return null!==g&&g!==this&&(g.changeParent(f),!0)}destroy(){this.#o.getActive()?.parent===this&&(this.#o.commitOrRemove(),this.#o.setActiveEditor(null));for(const f of this.#s.values())this.#e?.removePointerInTextLayer(f.contentDiv),f.setParent(null),f.isAttachedToDOM=!1,f.div.remove();this.div=null,this.#s.clear(),this.#o.removeLayer(this)}#p(){this.#l=!0;for(const f of this.#s.values())f.isEmpty()&&f.remove();this.#l=!1}render({viewport:f}){this.viewport=f,(0,Se.setLayerDimensions)(this.div,f);for(const O of this.#o.getEditors(this.pageIndex))this.add(O);this.updateMode()}update({viewport:f}){this.#o.commitOrRemove(),this.viewport=f,(0,Se.setLayerDimensions)(this.div,{rotation:f.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:f,pageHeight:O}=this.viewport.rawDims;return[f,O]}}return b})()},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FreeTextEditor=void 0;var x=ge(1),ne=ge(5),ve=ge(4),de=ge(29);I.FreeTextEditor=(()=>{class ae extends ve.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#a;#s="";#r=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const b=ae.prototype,m=E=>E.isEmpty(),f=ne.AnnotationEditorUIManager.TRANSLATE_SMALL,O=ne.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,x.shadow)(this,"_keyboardManager",new ne.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],b.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],b.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],b._translateEmpty,{args:[-f,0],checker:m}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],b._translateEmpty,{args:[-O,0],checker:m}],[["ArrowRight","mac+ArrowRight"],b._translateEmpty,{args:[f,0],checker:m}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],b._translateEmpty,{args:[O,0],checker:m}],[["ArrowUp","mac+ArrowUp"],b._translateEmpty,{args:[0,-f],checker:m}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],b._translateEmpty,{args:[0,-O],checker:m}],[["ArrowDown","mac+ArrowDown"],b._translateEmpty,{args:[0,f],checker:m}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],b._translateEmpty,{args:[0,O],checker:m}]]))}static _type="freetext";constructor(b){super({...b,name:"freeTextEditor"}),this.#a=b.color||ae._defaultColor||ve.AnnotationEditor._defaultLineColor,this.#l=b.fontSize||ae._defaultFontSize}static initialize(b){ve.AnnotationEditor.initialize(b,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const m=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(m.getPropertyValue("--freetext-padding"))}static updateDefaultParams(b,m){switch(b){case x.AnnotationEditorParamsType.FREETEXT_SIZE:ae._defaultFontSize=m;break;case x.AnnotationEditorParamsType.FREETEXT_COLOR:ae._defaultColor=m}}updateParams(b,m){switch(b){case x.AnnotationEditorParamsType.FREETEXT_SIZE:this.#o(m);break;case x.AnnotationEditorParamsType.FREETEXT_COLOR:this.#d(m)}}static get defaultPropertiesToUpdate(){return[[x.AnnotationEditorParamsType.FREETEXT_SIZE,ae._defaultFontSize],[x.AnnotationEditorParamsType.FREETEXT_COLOR,ae._defaultColor||ve.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[x.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[x.AnnotationEditorParamsType.FREETEXT_COLOR,this.#a]]}#o(b){const m=O=>{this.editorDiv.style.fontSize=`calc(${O}px * var(--scale-factor))`,this.translate(0,-(O-this.#l)*this.parentScale),this.#l=O,this.#_()},f=this.#l;this.addCommands({cmd:()=>{m(b)},undo:()=>{m(f)},mustExec:!0,type:x.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#d(b){const m=this.#a;this.addCommands({cmd:()=>{this.#a=this.editorDiv.style.color=b},undo:()=>{this.#a=this.editorDiv.style.color=m},mustExec:!0,type:x.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(b,m){this._uiManager.translateSelectedEditors(b,m,!0)}getInitialTranslation(){const b=this.parentScale;return[-ae._internalPadding*b,-(ae._internalPadding+this.#l)*b]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(x.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#r),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(b){this._focusEventsAllowed&&(super.focusin(b),b.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width?this.#f():(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#h(){const b=this.editorDiv.getElementsByTagName("div");if(0===b.length)return this.editorDiv.innerText;const m=[];for(const f of b)m.push(f.innerText.replace(/\r\n?|\n/,""));return m.join("\n")}#_(){const[b,m]=this.parentDimensions;let f;if(this.isAttachedToDOM)f=this.div.getBoundingClientRect();else{const{currentLayer:O,div:E}=this,g=E.style.display;E.style.display="hidden",O.div.append(this.div),f=E.getBoundingClientRect(),E.remove(),E.style.display=g}this.rotation%180==this.parentRotation%180?(this.width=f.width/b,this.height=f.height/m):(this.width=f.height/b,this.height=f.width/m),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const b=this.#s,m=this.#s=this.#h().trimEnd();if(b===m)return;const f=O=>{this.#s=O,O?(this.#p(),this._uiManager.rebuild(this),this.#_()):this.remove()};this.addCommands({cmd:()=>{f(m)},undo:()=>{f(b)},mustExec:!1}),this.#_()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(b){this.enterInEditMode()}keydown(b){b.target===this.div&&"Enter"===b.key&&(this.enterInEditMode(),b.preventDefault())}editorDivKeydown(b){ae._keyboardManager.exec(this,b)}editorDivFocus(b){this.isEditing=!0}editorDivBlur(b){this.isEditing=!1}editorDivInput(b){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let b,m;this.width&&(b=this.x,m=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#r),this.enableEditing(),ve.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(O=>this.editorDiv?.setAttribute("aria-label",O)),ve.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(O=>this.editorDiv?.setAttribute("default-content",O)),this.editorDiv.contentEditable=!0;const{style:f}=this.editorDiv;if(f.fontSize=`calc(${this.#l}px * var(--scale-factor))`,f.color=this.#a,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ne.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[O,E]=this.parentDimensions;if(this.annotationElementId){const{position:g}=this.#c;let[C,S]=this.getInitialTranslation();[C,S]=this.pageTranslationToScreen(C,S);const[A,X]=this.pageDimensions,[U,y]=this.pageTranslation;let B,D;switch(this.rotation){case 0:B=b+(g[0]-U)/A,D=m+this.height-(g[1]-y)/X;break;case 90:B=b+(g[0]-U)/A,D=m-(g[1]-y)/X,[C,S]=[S,-C];break;case 180:B=b-this.width+(g[0]-U)/A,D=m-(g[1]-y)/X,[C,S]=[-C,-S];break;case 270:B=b+(g[0]-U-this.height*X)/A,D=m+(g[1]-y-this.width*A)/X,[C,S]=[-S,C]}this.setAt(B*O,D*E,C,S)}else this.setAt(b*O,m*E,this.width*O,this.height*E);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),this.#s)for(const b of this.#s.split("\n")){const m=document.createElement("div");m.append(b?document.createTextNode(b):document.createElement("br")),this.editorDiv.append(m)}}get contentDiv(){return this.editorDiv}static deserialize(b,m,f){let O=null;if(b instanceof de.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:g,fontColor:C},rect:S,rotation:A,id:X},textContent:U,textPosition:y,parent:{page:{pageNumber:B}}}=b;if(!U||0===U.length)return null;O=b={annotationType:x.AnnotationEditorType.FREETEXT,color:Array.from(C),fontSize:g,value:U.join("\n"),position:y,pageIndex:B-1,rect:S,rotation:A,id:X,deleted:!1}}const E=super.deserialize(b,m,f);return E.#l=b.fontSize,E.#a=x.Util.makeHexColor(...b.color),E.#s=b.value,E.annotationElementId=b.id||null,E.#c=O,E}serialize(b=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const m=ae._internalPadding*this.parentScale,f=this.getRect(m,m),O=ve.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#a),E={annotationType:x.AnnotationEditorType.FREETEXT,color:O,fontSize:this.#l,value:this.#s,pageIndex:this.pageIndex,rect:f,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return b?E:this.annotationElementId&&!this.#g(E)?null:(E.id=this.annotationElementId,E)}#g(b){const{value:m,fontSize:f,color:O,rect:E,pageIndex:g}=this.#c;return b.value!==m||b.fontSize!==f||b.rect.some((C,S)=>Math.abs(C-E[S])>=1)||b.color.some((C,S)=>C!==O[S])||b.pageIndex!==g}#f(b=!1){if(!this.annotationElementId)return;if(this.#_(),!b&&(0===this.width||0===this.height))return void setTimeout(()=>this.#f(!0),0);const m=ae._internalPadding*this.parentScale;this.#c.rect=this.getRect(m,m)}}return ae})()},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StampAnnotationElement=I.InkAnnotationElement=I.FreeTextAnnotationElement=I.AnnotationLayer=void 0;var x=ge(1),ne=ge(6),ve=ge(3),de=ge(30),Se=ge(31),ae=ge(32);const T=1e3,m=new WeakSet;function f(re){return{width:re[2]-re[0],height:re[3]-re[1]}}class O{static create(P){switch(P.data.annotationType){case x.AnnotationType.LINK:return new g(P);case x.AnnotationType.TEXT:return new C(P);case x.AnnotationType.WIDGET:switch(P.data.fieldType){case"Tx":return new A(P);case"Btn":return P.data.radioButton?new y(P):P.data.checkBox?new U(P):new B(P);case"Ch":return new D(P);case"Sig":return new X(P)}return new S(P);case x.AnnotationType.POPUP:return new W(P);case x.AnnotationType.FREETEXT:return new fe(P);case x.AnnotationType.LINE:return new Q(P);case x.AnnotationType.SQUARE:return new Te(P);case x.AnnotationType.CIRCLE:return new Ce(P);case x.AnnotationType.POLYLINE:return new ye(P);case x.AnnotationType.CARET:return new Le(P);case x.AnnotationType.INK:return new me(P);case x.AnnotationType.POLYGON:return new Ge(P);case x.AnnotationType.HIGHLIGHT:return new Z(P);case x.AnnotationType.UNDERLINE:return new M(P);case x.AnnotationType.SQUIGGLY:return new N(P);case x.AnnotationType.STRIKEOUT:return new V(P);case x.AnnotationType.STAMP:return new G(P);case x.AnnotationType.FILEATTACHMENT:return new oe(P);default:return new E(P)}}}class E{#e=!1;constructor(P,{isRenderable:K=!1,ignoreBorder:te=!1,createQuadrilaterals:le=!1}={}){this.isRenderable=K,this.data=P.data,this.layer=P.layer,this.linkService=P.linkService,this.downloadManager=P.downloadManager,this.imageResourcesPath=P.imageResourcesPath,this.renderForms=P.renderForms,this.svgFactory=P.svgFactory,this.annotationStorage=P.annotationStorage,this.enableScripting=P.enableScripting,this.hasJSActions=P.hasJSActions,this._fieldObjects=P.fieldObjects,this.parent=P.parent,K&&(this.container=this._createContainer(te)),le&&this._createQuadrilaterals()}static _hasPopupData({titleObj:P,contentsObj:K,richText:te}){return!!(P?.str||K?.str||te?.str)}get hasPopupData(){return E._hasPopupData(this.data)}_createContainer(P){const{data:K,parent:{page:te,viewport:le}}=this,ue=document.createElement("section");ue.setAttribute("data-annotation-id",K.id),this instanceof S||(ue.tabIndex=T),ue.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ue.setAttribute("aria-haspopup","dialog"),K.noRotate&&ue.classList.add("norotate");const{pageWidth:Me,pageHeight:Oe,pageX:xe,pageY:at}=le.rawDims;if(!K.rect||this instanceof W){const{rotation:Ne}=K;return!K.hasOwnCanvas&&0!==Ne&&this.setRotation(Ne,ue),ue}const{width:Ie,height:Ze}=f(K.rect),qe=x.Util.normalizeRect([K.rect[0],te.view[3]-K.rect[1]+te.view[1],K.rect[2],te.view[3]-K.rect[3]+te.view[1]]);if(!P&&K.borderStyle.width>0){ue.style.borderWidth=`${K.borderStyle.width}px`;const Ne=K.borderStyle.horizontalCornerRadius,Xe=K.borderStyle.verticalCornerRadius;switch(Ne>0||Xe>0?ue.style.borderRadius=`calc(${Ne}px * var(--scale-factor)) / calc(${Xe}px * var(--scale-factor))`:this instanceof y&&(ue.style.borderRadius=`calc(${Ie}px * var(--scale-factor)) / calc(${Ze}px * var(--scale-factor))`),K.borderStyle.style){case x.AnnotationBorderStyleType.SOLID:ue.style.borderStyle="solid";break;case x.AnnotationBorderStyleType.DASHED:ue.style.borderStyle="dashed";break;case x.AnnotationBorderStyleType.BEVELED:(0,x.warn)("Unimplemented border style: beveled");break;case x.AnnotationBorderStyleType.INSET:(0,x.warn)("Unimplemented border style: inset");break;case x.AnnotationBorderStyleType.UNDERLINE:ue.style.borderBottomStyle="solid"}const We=K.borderColor||null;We?(this.#e=!0,ue.style.borderColor=x.Util.makeHexColor(0|We[0],0|We[1],0|We[2])):ue.style.borderWidth=0}ue.style.left=100*(qe[0]-xe)/Me+"%",ue.style.top=100*(qe[1]-at)/Oe+"%";const{rotation:Ee}=K;return K.hasOwnCanvas||0===Ee?(ue.style.width=100*Ie/Me+"%",ue.style.height=100*Ze/Oe+"%"):this.setRotation(Ee,ue),ue}setRotation(P,K=this.container){if(!this.data.rect)return;const{pageWidth:te,pageHeight:le}=this.parent.viewport.rawDims,{width:ue,height:Me}=f(this.data.rect);let Oe,xe;P%180==0?(Oe=100*ue/te,xe=100*Me/le):(Oe=100*Me/te,xe=100*ue/le),K.style.width=`${Oe}%`,K.style.height=`${xe}%`,K.setAttribute("data-main-rotation",(360-P)%360)}get _commonActions(){const P=(K,te,le)=>{const ue=le.detail[K],Me=ue[0],Oe=ue.slice(1);le.target.style[te]=de.ColorConverters[`${Me}_HTML`](Oe),this.annotationStorage.setValue(this.data.id,{[te]:de.ColorConverters[`${Me}_rgb`](Oe)})};return(0,x.shadow)(this,"_commonActions",{display:K=>{const{display:te}=K.detail,le=te%2==1;this.container.style.visibility=le?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:le,noPrint:1===te||2===te})},print:K=>{this.annotationStorage.setValue(this.data.id,{noPrint:!K.detail.print})},hidden:K=>{const{hidden:te}=K.detail;this.container.style.visibility=te?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:te,noView:te})},focus:K=>{setTimeout(()=>K.target.focus({preventScroll:!1}),0)},userName:K=>{K.target.title=K.detail.userName},readonly:K=>{K.target.disabled=K.detail.readonly},required:K=>{this._setRequired(K.target,K.detail.required)},bgColor:K=>{P("bgColor","backgroundColor",K)},fillColor:K=>{P("fillColor","backgroundColor",K)},fgColor:K=>{P("fgColor","color",K)},textColor:K=>{P("textColor","color",K)},borderColor:K=>{P("borderColor","borderColor",K)},strokeColor:K=>{P("strokeColor","borderColor",K)},rotation:K=>{const te=K.detail.rotation;this.setRotation(te),this.annotationStorage.setValue(this.data.id,{rotation:te})}})}_dispatchEventFromSandbox(P,K){const te=this._commonActions;for(const le of Object.keys(K.detail))(P[le]||te[le])?.(K)}_setDefaultPropertiesFromJS(P){if(!this.enableScripting)return;const K=this.annotationStorage.getRawValue(this.data.id);if(!K)return;const te=this._commonActions;for(const[le,ue]of Object.entries(K)){const Me=te[le];Me&&(Me({detail:{[le]:ue},target:P}),delete K[le])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:P}=this.data;if(!P)return;const[K,te,le,ue]=this.data.rect;if(1===P.length){const[,{x:Xe,y:We},{x:dt,y:lt}]=P[0];if(le===Xe&&ue===We&&K===dt&&te===lt)return}const{style:Me}=this.container;let Oe;if(this.#e){const{borderColor:Xe,borderWidth:We}=Me;Me.borderWidth=0,Oe=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xe}" stroke-width="${We}">`],this.container.classList.add("hasBorder")}const xe=le-K,at=ue-te,{svgFactory:Ie}=this,Ze=Ie.createElement("svg");Ze.classList.add("quadrilateralsContainer"),Ze.setAttribute("width",0),Ze.setAttribute("height",0);const qe=Ie.createElement("defs");Ze.append(qe);const Ee=Ie.createElement("clipPath"),Ne=`clippath_${this.data.id}`;Ee.setAttribute("id",Ne),Ee.setAttribute("clipPathUnits","objectBoundingBox"),qe.append(Ee);for(const[,{x:Xe,y:We},{x:dt,y:lt}]of P){const kt=Ie.createElement("rect"),sn=(dt-K)/xe,yn=(ue-We)/at,qn=(Xe-dt)/xe,Vo=(We-lt)/at;kt.setAttribute("x",sn),kt.setAttribute("y",yn),kt.setAttribute("width",qn),kt.setAttribute("height",Vo),Ee.append(kt),Oe?.push(`<rect vector-effect="non-scaling-stroke" x="${sn}" y="${yn}" width="${qn}" height="${Vo}"/>`)}this.#e&&(Oe.push("</g></svg>')"),Me.backgroundImage=Oe.join("")),this.container.append(Ze),this.container.style.clipPath=`url(#${Ne})`}_createPopup(){const{container:P,data:K}=this;P.setAttribute("aria-haspopup","dialog");const te=new W({data:{color:K.color,titleObj:K.titleObj,modificationDate:K.modificationDate,contentsObj:K.contentsObj,richText:K.richText,parentRect:K.rect,borderStyle:0,id:`popup_${K.id}`,rotation:K.rotation},parent:this.parent,elements:[this]});this.parent.div.append(te.render())}render(){(0,x.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(P,K=null){const te=[];if(this._fieldObjects){const le=this._fieldObjects[P];if(le)for(const{page:ue,id:Me,exportValues:Oe}of le){if(-1===ue||Me===K)continue;const xe="string"==typeof Oe?Oe:null,at=document.querySelector(`[data-element-id="${Me}"]`);!at||m.has(at)?te.push({id:Me,exportValue:xe,domElement:at}):(0,x.warn)(`_getElementsByName - element not allowed: ${Me}`)}return te}for(const le of document.getElementsByName(P)){const{exportValue:ue}=le,Me=le.getAttribute("data-element-id");Me!==K&&m.has(le)&&te.push({id:Me,exportValue:ue,domElement:le})}return te}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const P=this.getElementsToTriggerPopup();if(Array.isArray(P))for(const K of P)K.classList.add("highlightArea");else P.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:P,data:{id:K}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:P,editId:K})})}}class g extends E{constructor(P,K=null){super(P,{isRenderable:!0,ignoreBorder:!!K?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=P.data.isTooltipOnly}render(){const{data:P,linkService:K}=this,te=document.createElement("a");te.setAttribute("data-element-id",P.id);let le=!1;return P.url?(K.addLinkAttributes(te,P.url,P.newWindow),le=!0):P.action?(this._bindNamedAction(te,P.action),le=!0):P.attachment?(this._bindAttachment(te,P.attachment),le=!0):P.setOCGState?(this.#t(te,P.setOCGState),le=!0):P.dest?(this._bindLink(te,P.dest),le=!0):(P.actions&&(P.actions.Action||P.actions["Mouse Up"]||P.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(te,P),le=!0),P.resetForm?(this._bindResetFormAction(te,P.resetForm),le=!0):this.isTooltipOnly&&!le&&(this._bindLink(te,""),le=!0)),this.container.classList.add("linkAnnotation"),le&&this.container.append(te),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(P,K){P.href=this.linkService.getDestinationHash(K),P.onclick=()=>(K&&this.linkService.goToDestination(K),!1),(K||""===K)&&this.#e()}_bindNamedAction(P,K){P.href=this.linkService.getAnchorUrl(""),P.onclick=()=>(this.linkService.executeNamedAction(K),!1),this.#e()}_bindAttachment(P,K){P.href=this.linkService.getAnchorUrl(""),P.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,K.content,K.filename),!1),this.#e()}#t(P,K){P.href=this.linkService.getAnchorUrl(""),P.onclick=()=>(this.linkService.executeSetOCGState(K),!1),this.#e()}_bindJSAction(P,K){P.href=this.linkService.getAnchorUrl("");const te=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const le of Object.keys(K.actions)){const ue=te.get(le);ue&&(P[ue]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K.id,name:le}}),!1))}P.onclick||(P.onclick=()=>!1),this.#e()}_bindResetFormAction(P,K){const te=P.onclick;if(te||(P.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return(0,x.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(te||(P.onclick=()=>!1));P.onclick=()=>{te?.();const{fields:le,refs:ue,include:Me}=K,Oe=[];if(0!==le.length||0!==ue.length){const Ie=new Set(ue);for(const Ze of le){const qe=this._fieldObjects[Ze]||[];for(const{id:Ee}of qe)Ie.add(Ee)}for(const Ze of Object.values(this._fieldObjects))for(const qe of Ze)Ie.has(qe.id)===Me&&Oe.push(qe)}else for(const Ie of Object.values(this._fieldObjects))Oe.push(...Ie);const xe=this.annotationStorage,at=[];for(const Ie of Oe){const{id:Ze}=Ie;switch(at.push(Ze),Ie.type){case"text":case"combobox":case"listbox":xe.setValue(Ze,{value:Ie.defaultValue||""});break;case"checkbox":case"radiobutton":xe.setValue(Ze,{value:Ie.defaultValue===Ie.exportValues});break;default:continue}const qe=document.querySelector(`[data-element-id="${Ze}"]`);qe&&(m.has(qe)?qe.dispatchEvent(new Event("resetform")):(0,x.warn)(`_bindResetFormAction - element not allowed: ${Ze}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:at,name:"ResetForm"}}),!1}}}class C extends E{constructor(P){super(P,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const P=document.createElement("img");return P.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",P.alt="[{{type}} Annotation]",P.dataset.l10nId="text_annotation_type",P.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(P),this.container}}class S extends E{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(P){this.data.hasOwnCanvas&&("CANVAS"===P.previousSibling?.nodeName&&(P.previousSibling.hidden=!0),P.hidden=!1)}_getKeyModifier(P){const{isWin:K,isMac:te}=x.FeatureTest.platform;return K&&P.ctrlKey||te&&P.metaKey}_setEventListener(P,K,te,le,ue){te.includes("mouse")?P.addEventListener(te,Me=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:le,value:ue(Me),shift:Me.shiftKey,modifier:this._getKeyModifier(Me)}})}):P.addEventListener(te,Me=>{if("blur"===te){if(!K.focused||!Me.relatedTarget)return;K.focused=!1}else if("focus"===te){if(K.focused)return;K.focused=!0}ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:le,value:ue(Me)}})})}_setEventListeners(P,K,te,le){for(const[ue,Me]of te)("Action"===Me||this.data.actions?.[Me])&&(("Focus"===Me||"Blur"===Me)&&(K||={focused:!1}),this._setEventListener(P,K,ue,Me,le),"Focus"!==Me||this.data.actions?.Blur?"Blur"===Me&&!this.data.actions?.Focus&&this._setEventListener(P,K,"focus","Focus",null):this._setEventListener(P,K,"blur","Blur",null))}_setBackgroundColor(P){const K=this.data.backgroundColor||null;P.style.backgroundColor=null===K?"transparent":x.Util.makeHexColor(K[0],K[1],K[2])}_setTextStyle(P){const{fontColor:te}=this.data.defaultAppearanceData,le=this.data.defaultAppearanceData.fontSize||9,ue=P.style;let Me;const xe=at=>Math.round(10*at)/10;if(this.data.multiLine){const at=Math.abs(this.data.rect[3]-this.data.rect[1]-2),Ie=Math.round(at/(x.LINE_FACTOR*le))||1;Me=Math.min(le,xe(at/Ie/x.LINE_FACTOR))}else{const at=Math.abs(this.data.rect[3]-this.data.rect[1]-2);Me=Math.min(le,xe(at/x.LINE_FACTOR))}ue.fontSize=`calc(${Me}px * var(--scale-factor))`,ue.color=x.Util.makeHexColor(te[0],te[1],te[2]),null!==this.data.textAlignment&&(ue.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(P,K){K?P.setAttribute("required",!0):P.removeAttribute("required"),P.setAttribute("aria-required",K)}}class A extends S{constructor(P){super(P,{isRenderable:P.renderForms||!P.data.hasAppearance&&!!P.data.fieldValue})}setPropertyOnSiblings(P,K,te,le){const ue=this.annotationStorage;for(const Me of this._getElementsByName(P.name,P.id))Me.domElement&&(Me.domElement[K]=te),ue.setValue(Me.id,{[le]:te})}render(){const P=this.annotationStorage,K=this.data.id;this.container.classList.add("textWidgetAnnotation");let te=null;if(this.renderForms){const le=P.getValue(K,{value:this.data.fieldValue});let ue=le.value||"";const Me=P.getValue(K,{charLimit:this.data.maxLen}).charLimit;Me&&ue.length>Me&&(ue=ue.slice(0,Me));let Oe=le.formattedValue||this.data.textContent?.join("\n")||null;Oe&&this.data.comb&&(Oe=Oe.replaceAll(/\s+/g,""));const xe={userValue:ue,formattedValue:Oe,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(te=document.createElement("textarea"),te.textContent=Oe??ue,this.data.doNotScroll&&(te.style.overflowY="hidden")):(te=document.createElement("input"),te.type="text",te.setAttribute("value",Oe??ue),this.data.doNotScroll&&(te.style.overflowX="hidden")),this.data.hasOwnCanvas&&(te.hidden=!0),m.add(te),te.setAttribute("data-element-id",K),te.disabled=this.data.readOnly,te.name=this.data.fieldName,te.tabIndex=T,this._setRequired(te,this.data.required),Me&&(te.maxLength=Me),te.addEventListener("input",Ie=>{P.setValue(K,{value:Ie.target.value}),this.setPropertyOnSiblings(te,"value",Ie.target.value,"value"),xe.formattedValue=null}),te.addEventListener("resetform",Ie=>{te.value=xe.userValue=this.data.defaultFieldValue??"",xe.formattedValue=null});let at=Ie=>{const{formattedValue:Ze}=xe;null!=Ze&&(Ie.target.value=Ze),Ie.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){te.addEventListener("focus",Ze=>{if(xe.focused)return;const{target:qe}=Ze;xe.userValue&&(qe.value=xe.userValue),xe.lastCommittedValue=qe.value,xe.commitKey=1,xe.focused=!0}),te.addEventListener("updatefromsandbox",Ze=>{this.showElementAndHideCanvas(Ze.target),this._dispatchEventFromSandbox({value(Ee){xe.userValue=Ee.detail.value??"",P.setValue(K,{value:xe.userValue.toString()}),Ee.target.value=xe.userValue},formattedValue(Ee){const{formattedValue:Ne}=Ee.detail;xe.formattedValue=Ne,null!=Ne&&Ee.target!==document.activeElement&&(Ee.target.value=Ne),P.setValue(K,{formattedValue:Ne})},selRange(Ee){Ee.target.setSelectionRange(...Ee.detail.selRange)},charLimit:Ee=>{const{charLimit:Ne}=Ee.detail,{target:Xe}=Ee;if(0===Ne)return void Xe.removeAttribute("maxLength");Xe.setAttribute("maxLength",Ne);let We=xe.userValue;!We||We.length<=Ne||(We=We.slice(0,Ne),Xe.value=xe.userValue=We,P.setValue(K,{value:We}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:We,willCommit:!0,commitKey:1,selStart:Xe.selectionStart,selEnd:Xe.selectionEnd}}))}},Ze)}),te.addEventListener("keydown",Ze=>{xe.commitKey=1;let qe=-1;if("Escape"===Ze.key?qe=0:"Enter"!==Ze.key||this.data.multiLine?"Tab"===Ze.key&&(xe.commitKey=3):qe=2,-1===qe)return;const{value:Ee}=Ze.target;xe.lastCommittedValue!==Ee&&(xe.lastCommittedValue=Ee,xe.userValue=Ee,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Ee,willCommit:!0,commitKey:qe,selStart:Ze.target.selectionStart,selEnd:Ze.target.selectionEnd}}))});const Ie=at;at=null,te.addEventListener("blur",Ze=>{if(!xe.focused||!Ze.relatedTarget)return;xe.focused=!1;const{value:qe}=Ze.target;xe.userValue=qe,xe.lastCommittedValue!==qe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:qe,willCommit:!0,commitKey:xe.commitKey,selStart:Ze.target.selectionStart,selEnd:Ze.target.selectionEnd}}),Ie(Ze)}),this.data.actions?.Keystroke&&te.addEventListener("beforeinput",Ze=>{xe.lastCommittedValue=null;const{data:qe,target:Ee}=Ze,{value:Ne,selectionStart:Xe,selectionEnd:We}=Ee;let dt=Xe,lt=We;switch(Ze.inputType){case"deleteWordBackward":{const kt=Ne.substring(0,Xe).match(/\w*[^\w]*$/);kt&&(dt-=kt[0].length);break}case"deleteWordForward":{const kt=Ne.substring(Xe).match(/^[^\w]*\w*/);kt&&(lt+=kt[0].length);break}case"deleteContentBackward":Xe===We&&(dt-=1);break;case"deleteContentForward":Xe===We&&(lt+=1)}Ze.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:Ne,change:qe||"",willCommit:!1,selStart:dt,selEnd:lt}})}),this._setEventListeners(te,xe,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ze=>Ze.target.value)}if(at&&te.addEventListener("blur",at),this.data.comb){const Ze=(this.data.rect[2]-this.data.rect[0])/Me;te.classList.add("comb"),te.style.letterSpacing=`calc(${Ze}px * var(--scale-factor) - 1ch)`}}else te=document.createElement("div"),te.textContent=this.data.fieldValue,te.style.verticalAlign="middle",te.style.display="table-cell";return this._setTextStyle(te),this._setBackgroundColor(te),this._setDefaultPropertiesFromJS(te),this.container.append(te),this.container}}class X extends S{constructor(P){super(P,{isRenderable:!!P.data.hasOwnCanvas})}}class U extends S{constructor(P){super(P,{isRenderable:P.renderForms})}render(){const P=this.annotationStorage,K=this.data,te=K.id;let le=P.getValue(te,{value:K.exportValue===K.fieldValue}).value;"string"==typeof le&&(le="Off"!==le,P.setValue(te,{value:le})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ue=document.createElement("input");return m.add(ue),ue.setAttribute("data-element-id",te),ue.disabled=K.readOnly,this._setRequired(ue,this.data.required),ue.type="checkbox",ue.name=K.fieldName,le&&ue.setAttribute("checked",!0),ue.setAttribute("exportValue",K.exportValue),ue.tabIndex=T,ue.addEventListener("change",Me=>{const{name:Oe,checked:xe}=Me.target;for(const at of this._getElementsByName(Oe,te)){const Ie=xe&&at.exportValue===K.exportValue;at.domElement&&(at.domElement.checked=Ie),P.setValue(at.id,{value:Ie})}P.setValue(te,{value:xe})}),ue.addEventListener("resetform",Me=>{Me.target.checked=(K.defaultFieldValue||"Off")===K.exportValue}),this.enableScripting&&this.hasJSActions&&(ue.addEventListener("updatefromsandbox",Me=>{this._dispatchEventFromSandbox({value(xe){xe.target.checked="Off"!==xe.detail.value,P.setValue(te,{value:xe.target.checked})}},Me)}),this._setEventListeners(ue,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Me=>Me.target.checked)),this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}class y extends S{constructor(P){super(P,{isRenderable:P.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const P=this.annotationStorage,K=this.data,te=K.id;let le=P.getValue(te,{value:K.fieldValue===K.buttonValue}).value;"string"==typeof le&&(le=le!==K.buttonValue,P.setValue(te,{value:le}));const ue=document.createElement("input");if(m.add(ue),ue.setAttribute("data-element-id",te),ue.disabled=K.readOnly,this._setRequired(ue,this.data.required),ue.type="radio",ue.name=K.fieldName,le&&ue.setAttribute("checked",!0),ue.tabIndex=T,ue.addEventListener("change",Me=>{const{name:Oe,checked:xe}=Me.target;for(const at of this._getElementsByName(Oe,te))P.setValue(at.id,{value:!1});P.setValue(te,{value:xe})}),ue.addEventListener("resetform",Me=>{const Oe=K.defaultFieldValue;Me.target.checked=null!=Oe&&Oe===K.buttonValue}),this.enableScripting&&this.hasJSActions){const Me=K.buttonValue;ue.addEventListener("updatefromsandbox",Oe=>{this._dispatchEventFromSandbox({value:at=>{const Ie=Me===at.detail.value;for(const Ze of this._getElementsByName(at.target.name)){const qe=Ie&&Ze.id===te;Ze.domElement&&(Ze.domElement.checked=qe),P.setValue(Ze.id,{value:qe})}}},Oe)}),this._setEventListeners(ue,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Oe=>Oe.target.checked)}return this._setBackgroundColor(ue),this._setDefaultPropertiesFromJS(ue),this.container.append(ue),this.container}}class B extends g{constructor(P){super(P,{ignoreBorder:P.data.hasAppearance})}render(){const P=super.render();P.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(P.title=this.data.alternativeText);const K=P.lastChild;return this.enableScripting&&this.hasJSActions&&K&&(this._setDefaultPropertiesFromJS(K),K.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({},te)})),P}}class D extends S{constructor(P){super(P,{isRenderable:P.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const P=this.annotationStorage,K=this.data.id,te=P.getValue(K,{value:this.data.fieldValue}),le=document.createElement("select");m.add(le),le.setAttribute("data-element-id",K),le.disabled=this.data.readOnly,this._setRequired(le,this.data.required),le.name=this.data.fieldName,le.tabIndex=T;let ue=this.data.combo&&this.data.options.length>0;this.data.combo||(le.size=this.data.options.length,this.data.multiSelect&&(le.multiple=!0)),le.addEventListener("resetform",Ie=>{const Ze=this.data.defaultFieldValue;for(const qe of le.options)qe.selected=qe.value===Ze});for(const Ie of this.data.options){const Ze=document.createElement("option");Ze.textContent=Ie.displayValue,Ze.value=Ie.exportValue,te.value.includes(Ie.exportValue)&&(Ze.setAttribute("selected",!0),ue=!1),le.append(Ze)}let Me=null;if(ue){const Ie=document.createElement("option");Ie.value=" ",Ie.setAttribute("hidden",!0),Ie.setAttribute("selected",!0),le.prepend(Ie),Me=()=>{Ie.remove(),le.removeEventListener("input",Me),Me=null},le.addEventListener("input",Me)}const Oe=Ie=>{const Ze=Ie?"value":"textContent",{options:qe,multiple:Ee}=le;return Ee?Array.prototype.filter.call(qe,Ne=>Ne.selected).map(Ne=>Ne[Ze]):-1===qe.selectedIndex?null:qe[qe.selectedIndex][Ze]};let xe=Oe(!1);const at=Ie=>Array.prototype.map.call(Ie.target.options,qe=>({displayValue:qe.textContent,exportValue:qe.value}));return this.enableScripting&&this.hasJSActions?(le.addEventListener("updatefromsandbox",Ie=>{this._dispatchEventFromSandbox({value(qe){Me?.();const Ee=qe.detail.value,Ne=new Set(Array.isArray(Ee)?Ee:[Ee]);for(const Xe of le.options)Xe.selected=Ne.has(Xe.value);P.setValue(K,{value:Oe(!0)}),xe=Oe(!1)},multipleSelection(qe){le.multiple=!0},remove(qe){const Ee=le.options,Ne=qe.detail.remove;Ee[Ne].selected=!1,le.remove(Ne),Ee.length>0&&-1===Array.prototype.findIndex.call(Ee,We=>We.selected)&&(Ee[0].selected=!0),P.setValue(K,{value:Oe(!0),items:at(qe)}),xe=Oe(!1)},clear(qe){for(;0!==le.length;)le.remove(0);P.setValue(K,{value:null,items:[]}),xe=Oe(!1)},insert(qe){const{index:Ee,displayValue:Ne,exportValue:Xe}=qe.detail.insert,We=le.children[Ee],dt=document.createElement("option");dt.textContent=Ne,dt.value=Xe,We?We.before(dt):le.append(dt),P.setValue(K,{value:Oe(!0),items:at(qe)}),xe=Oe(!1)},items(qe){const{items:Ee}=qe.detail;for(;0!==le.length;)le.remove(0);for(const Ne of Ee){const{displayValue:Xe,exportValue:We}=Ne,dt=document.createElement("option");dt.textContent=Xe,dt.value=We,le.append(dt)}le.options.length>0&&(le.options[0].selected=!0),P.setValue(K,{value:Oe(!0),items:at(qe)}),xe=Oe(!1)},indices(qe){const Ee=new Set(qe.detail.indices);for(const Ne of qe.target.options)Ne.selected=Ee.has(Ne.index);P.setValue(K,{value:Oe(!0)}),xe=Oe(!1)},editable(qe){qe.target.disabled=!qe.detail.editable}},Ie)}),le.addEventListener("input",Ie=>{const Ze=Oe(!0);P.setValue(K,{value:Ze}),Ie.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:K,name:"Keystroke",value:xe,changeEx:Ze,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(le,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ie=>Ie.target.value)):le.addEventListener("input",function(Ie){P.setValue(K,{value:Oe(!0)})}),this.data.combo&&this._setTextStyle(le),this._setBackgroundColor(le),this._setDefaultPropertiesFromJS(le),this.container.append(le),this.container}}class W extends E{constructor(P){const{data:K,elements:te}=P;super(P,{isRenderable:E._hasPopupData(K)}),this.elements=te}render(){this.container.classList.add("popupAnnotation");const P=new ee({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),K=[];for(const te of this.elements)te.popup=P,K.push(te.data.id),te.addHighlightArea();return this.container.setAttribute("aria-controls",K.map(te=>`${x.AnnotationPrefix}${te}`).join(",")),this.container}}class ee{#e=null;#t=this.#u.bind(this);#n=this.#w.bind(this);#i=this.#S.bind(this);#a=this.#v.bind(this);#s=null;#r=null;#l=null;#c=null;#o=null;#d=null;#h=!1;#_=null;#p=null;#g=null;#f=null;#m=!1;constructor({container:P,color:K,elements:te,titleObj:le,modificationDate:ue,contentsObj:Me,richText:Oe,parent:xe,rect:at,parentRect:Ie,open:Ze}){this.#r=P,this.#f=le,this.#l=Me,this.#g=Oe,this.#o=xe,this.#s=K,this.#p=at,this.#d=Ie,this.#c=te;const qe=ne.PDFDateString.toDateObject(ue);qe&&(this.#e=xe.l10n.get("annotation_date_string",{date:qe.toLocaleDateString(),time:qe.toLocaleTimeString()})),this.trigger=te.flatMap(Ee=>Ee.getElementsToTriggerPopup());for(const Ee of this.trigger)Ee.addEventListener("click",this.#a),Ee.addEventListener("mouseenter",this.#i),Ee.addEventListener("mouseleave",this.#n),Ee.classList.add("popupTriggerArea");for(const Ee of te)Ee.container?.addEventListener("keydown",this.#t);this.#r.hidden=!0,Ze&&this.#v()}render(){if(this.#_)return;const{page:{view:P},viewport:{rawDims:{pageWidth:K,pageHeight:te,pageX:le,pageY:ue}}}=this.#o,Me=this.#_=document.createElement("div");if(Me.className="popup",this.#s){const kt=Me.style.outlineColor=x.Util.makeHexColor(...this.#s);Me.style.backgroundColor=CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?`color-mix(in srgb, ${kt} 30%, white)`:x.Util.makeHexColor(...this.#s.map(yn=>Math.floor(.7*(255-yn)+yn)))}const Oe=document.createElement("span");Oe.className="header";const xe=document.createElement("h1");if(Oe.append(xe),({dir:xe.dir,str:xe.textContent}=this.#f),Me.append(Oe),this.#e){const kt=document.createElement("span");kt.classList.add("popupDate"),this.#e.then(sn=>{kt.textContent=sn}),Oe.append(kt)}const at=this.#l,Ie=this.#g;if(!Ie?.str||at?.str&&at.str!==Ie.str){const kt=this._formatContents(at);Me.append(kt)}else ae.XfaLayer.render({xfaHtml:Ie.html,intent:"richText",div:Me}),Me.lastChild.classList.add("richText","popupContent");let Ze=!!this.#d,qe=Ze?this.#d:this.#p;for(const kt of this.#c)if(!qe||null!==x.Util.intersect(kt.data.rect,qe)){qe=kt.data.rect,Ze=!0;break}const Ee=x.Util.normalizeRect([qe[0],P[3]-qe[1]+P[1],qe[2],P[3]-qe[3]+P[1]]),We=Ee[0]+(Ze?qe[2]-qe[0]+5:0),dt=Ee[1],{style:lt}=this.#r;lt.left=100*(We-le)/K+"%",lt.top=100*(dt-ue)/te+"%",this.#r.append(Me)}_formatContents({str:P,dir:K}){const te=document.createElement("p");te.classList.add("popupContent"),te.dir=K;const le=P.split(/(?:\r\n?|\n)/);for(let ue=0,Me=le.length;ue<Me;++ue)te.append(document.createTextNode(le[ue])),ue<Me-1&&te.append(document.createElement("br"));return te}#u(P){P.altKey||P.shiftKey||P.ctrlKey||P.metaKey||("Enter"===P.key||"Escape"===P.key&&this.#h)&&this.#v()}#v(){this.#h=!this.#h,this.#h?(this.#S(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#t)):(this.#w(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#t))}#S(){this.#_||this.render(),this.isVisible?this.#h&&this.#r.classList.add("focused"):(this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#w(){this.#r.classList.remove("focused"),!this.#h&&this.isVisible&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#r.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#r.hidden=!1)}get isVisible(){return!1===this.#r.hidden}}class fe extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0}),this.textContent=P.data.textContent,this.textPosition=P.data.textPosition,this.annotationEditorType=x.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const P=document.createElement("div");P.classList.add("annotationTextContent"),P.setAttribute("role","comment");for(const K of this.textContent){const te=document.createElement("span");te.textContent=K,P.append(te)}this.container.append(P)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}I.FreeTextAnnotationElement=fe;class Q extends E{#e=null;constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const P=this.data,{width:K,height:te}=f(P.rect),le=this.svgFactory.create(K,te,!0),ue=this.#e=this.svgFactory.createElement("svg:line");return ue.setAttribute("x1",P.rect[2]-P.lineCoordinates[0]),ue.setAttribute("y1",P.rect[3]-P.lineCoordinates[1]),ue.setAttribute("x2",P.rect[2]-P.lineCoordinates[2]),ue.setAttribute("y2",P.rect[3]-P.lineCoordinates[3]),ue.setAttribute("stroke-width",P.borderStyle.width||1),ue.setAttribute("stroke","transparent"),ue.setAttribute("fill","transparent"),le.append(ue),this.container.append(le),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Te extends E{#e=null;constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const P=this.data,{width:K,height:te}=f(P.rect),le=this.svgFactory.create(K,te,!0),ue=P.borderStyle.width,Me=this.#e=this.svgFactory.createElement("svg:rect");return Me.setAttribute("x",ue/2),Me.setAttribute("y",ue/2),Me.setAttribute("width",K-ue),Me.setAttribute("height",te-ue),Me.setAttribute("stroke-width",ue||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),le.append(Me),this.container.append(le),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ce extends E{#e=null;constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const P=this.data,{width:K,height:te}=f(P.rect),le=this.svgFactory.create(K,te,!0),ue=P.borderStyle.width,Me=this.#e=this.svgFactory.createElement("svg:ellipse");return Me.setAttribute("cx",K/2),Me.setAttribute("cy",te/2),Me.setAttribute("rx",K/2-ue/2),Me.setAttribute("ry",te/2-ue/2),Me.setAttribute("stroke-width",ue||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),le.append(Me),this.container.append(le),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ye extends E{#e=null;constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const P=this.data,{width:K,height:te}=f(P.rect),le=this.svgFactory.create(K,te,!0);let ue=[];for(const Oe of P.vertices)ue.push(Oe.x-P.rect[0]+","+(P.rect[3]-Oe.y));ue=ue.join(" ");const Me=this.#e=this.svgFactory.createElement(this.svgElementName);return Me.setAttribute("points",ue),Me.setAttribute("stroke-width",P.borderStyle.width||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),le.append(Me),this.container.append(le),!P.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ge extends ye{constructor(P){super(P),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Le extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class me extends E{#e=[];constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=x.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const P=this.data,{width:K,height:te}=f(P.rect),le=this.svgFactory.create(K,te,!0);for(const ue of P.inkLists){let Me=[];for(const xe of ue)Me.push(`${xe.x-P.rect[0]},${P.rect[3]-xe.y}`);Me=Me.join(" ");const Oe=this.svgFactory.createElement(this.svgElementName);this.#e.push(Oe),Oe.setAttribute("points",Me),Oe.setAttribute("stroke-width",P.borderStyle.width||1),Oe.setAttribute("stroke","transparent"),Oe.setAttribute("fill","transparent"),!P.popupRef&&this.hasPopupData&&this._createPopup(),le.append(Oe)}return this.container.append(le),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}I.InkAnnotationElement=me;class Z extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class M extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class N extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class V extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class G extends E{constructor(P){super(P,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}I.StampAnnotationElement=G;class oe extends E{#e=null;constructor(P){super(P,{isRenderable:!0});const{filename:K,content:te}=this.data.file;this.filename=(0,ne.getFilenameFromUrl)(K,!0),this.content=te,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:K,content:te})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:P,data:K}=this;let te;K.hasAppearance||0===K.fillAlpha?te=document.createElement("div"):(te=document.createElement("img"),te.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(K.name)?"paperclip":"pushpin"}.svg`,K.fillAlpha&&K.fillAlpha<1&&(te.style=`filter: opacity(${Math.round(100*K.fillAlpha)}%);`)),te.addEventListener("dblclick",this.#t.bind(this)),this.#e=te;const{isMac:le}=x.FeatureTest.platform;return P.addEventListener("keydown",ue=>{"Enter"===ue.key&&(le?ue.metaKey:ue.ctrlKey)&&this.#t()}),!K.popupRef&&this.hasPopupData?this._createPopup():te.classList.add("popupTriggerArea"),P.append(te),P}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}I.AnnotationLayer=class ce{#e=null;#t=null;#n=new Map;constructor({div:P,accessibilityManager:K,annotationCanvasMap:te,l10n:le,page:ue,viewport:Me}){this.div=P,this.#e=K,this.#t=te,this.l10n=le,this.page=ue,this.viewport=Me,this.zIndex=0,this.l10n||=Se.NullL10n}#i(P,K){const te=P.firstChild||P;te.id=`${x.AnnotationPrefix}${K}`,this.div.append(P),this.#e?.moveElementInDOM(this.div,P,te,!1)}render(P){var K=this;return _asyncToGenerator(function*(){const{annotations:te}=P,le=K.div;(0,ne.setLayerDimensions)(le,K.viewport);const ue=new Map,Me={data:null,layer:le,linkService:P.linkService,downloadManager:P.downloadManager,imageResourcesPath:P.imageResourcesPath||"",renderForms:!1!==P.renderForms,svgFactory:new ne.DOMSVGFactory,annotationStorage:P.annotationStorage||new ve.AnnotationStorage,enableScripting:!0===P.enableScripting,hasJSActions:P.hasJSActions,fieldObjects:P.fieldObjects,parent:K,elements:null};for(const Oe of te){if(Oe.noHTML)continue;const xe=Oe.annotationType===x.AnnotationType.POPUP;if(xe){const Ze=ue.get(Oe.id);if(!Ze)continue;Me.elements=Ze}else{const{width:Ze,height:qe}=f(Oe.rect);if(Ze<=0||qe<=0)continue}Me.data=Oe;const at=O.create(Me);if(!at.isRenderable)continue;if(!xe&&Oe.popupRef){const Ze=ue.get(Oe.popupRef);Ze?Ze.push(at):ue.set(Oe.popupRef,[at])}at.annotationEditorType>0&&K.#n.set(at.data.id,at);const Ie=at.render();Oe.hidden&&(Ie.style.visibility="hidden"),K.#i(Ie,Oe.id)}K.#a(),yield K.l10n.translate(le)})()}update({viewport:P}){const K=this.div;this.viewport=P,(0,ne.setLayerDimensions)(K,{rotation:P.rotation}),this.#a(),K.hidden=!1}#a(){if(!this.#t)return;const P=this.div;for(const[K,te]of this.#t){const le=P.querySelector(`[data-annotation-id="${K}"]`);if(!le)continue;const{firstChild:ue}=le;ue?"CANVAS"===ue.nodeName?ue.replaceWith(te):ue.before(te):le.append(te)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(P){return this.#n.get(P)}}},(De,I)=>{function ge(ve){return Math.floor(255*Math.max(0,Math.min(1,ve))).toString(16).padStart(2,"0")}function x(ve){return Math.max(0,Math.min(255,255*ve))}Object.defineProperty(I,"__esModule",{value:!0}),I.ColorConverters=void 0,I.ColorConverters=class ne{static CMYK_G([de,Se,ae,T]){return["G",1-Math.min(1,.3*de+.59*ae+.11*Se+T)]}static G_CMYK([de]){return["CMYK",0,0,0,1-de]}static G_RGB([de]){return["RGB",de,de,de]}static G_rgb([de]){return[de=x(de),de,de]}static G_HTML([de]){const Se=ge(de);return`#${Se}${Se}${Se}`}static RGB_G([de,Se,ae]){return["G",.3*de+.59*Se+.11*ae]}static RGB_rgb(de){return de.map(x)}static RGB_HTML(de){return`#${de.map(ge).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([de,Se,ae,T]){return["RGB",1-Math.min(1,de+T),1-Math.min(1,ae+T),1-Math.min(1,Se+T)]}static CMYK_rgb([de,Se,ae,T]){return[x(1-Math.min(1,de+T)),x(1-Math.min(1,ae+T)),x(1-Math.min(1,Se+T))]}static CMYK_HTML(de){const Se=this.CMYK_RGB(de).slice(1);return this.RGB_HTML(Se)}static RGB_CMYK([de,Se,ae]){const T=1-de,b=1-Se,m=1-ae;return["CMYK",T,b,m,Math.min(T,b,m)]}}},(De,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NullL10n=void 0,I.getL10nFallback=x;const ge={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function x(de,Se){switch(de){case"find_match_count":de=`find_match_count[${1===Se.total?"one":"other"}]`;break;case"find_match_count_limit":de=`find_match_count_limit[${1===Se.limit?"one":"other"}]`}return ge[de]||""}ge.print_progress_percent="{{progress}}%",I.NullL10n={getLanguage:()=>_asyncToGenerator(function*(){return"en-us"})(),getDirection:()=>_asyncToGenerator(function*(){return"ltr"})(),get:(de,Se=null,ae=x(de,Se))=>_asyncToGenerator(function*(){return function ne(de,Se){return Se?de.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ae,T)=>T in Se?Se[T]:"{{"+T+"}}"):de}(ae,Se)})(),translate:de=>_asyncToGenerator(function*(){})()}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XfaLayer=void 0;var x=ge(25);I.XfaLayer=class ne{static setupStorage(de,Se,ae,T,b){const m=T.getValue(Se,{value:null});switch(ae.name){case"textarea":if(null!==m.value&&(de.textContent=m.value),"print"===b)break;de.addEventListener("input",f=>{T.setValue(Se,{value:f.target.value})});break;case"input":if("radio"===ae.attributes.type||"checkbox"===ae.attributes.type){if(m.value===ae.attributes.xfaOn?de.setAttribute("checked",!0):m.value===ae.attributes.xfaOff&&de.removeAttribute("checked"),"print"===b)break;de.addEventListener("change",f=>{T.setValue(Se,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==m.value&&de.setAttribute("value",m.value),"print"===b)break;de.addEventListener("input",f=>{T.setValue(Se,{value:f.target.value})})}break;case"select":if(null!==m.value){de.setAttribute("value",m.value);for(const f of ae.children)f.attributes.value===m.value?f.attributes.selected=!0:f.attributes.hasOwnProperty("selected")&&delete f.attributes.selected}de.addEventListener("input",f=>{const O=f.target.options;T.setValue(Se,{value:-1===O.selectedIndex?"":O[O.selectedIndex].value})})}}static setAttributes({html:de,element:Se,storage:ae=null,intent:T,linkService:b}){const{attributes:m}=Se,f=de instanceof HTMLAnchorElement;"radio"===m.type&&(m.name=`${m.name}-${T}`);for(const[O,E]of Object.entries(m))if(null!=E)switch(O){case"class":E.length&&de.setAttribute(O,E.join(" "));break;case"dataId":break;case"id":de.setAttribute("data-element-id",E);break;case"style":Object.assign(de.style,E);break;case"textContent":de.textContent=E;break;default:(!f||"href"!==O&&"newWindow"!==O)&&de.setAttribute(O,E)}f&&b.addLinkAttributes(de,m.href,m.newWindow),ae&&m.dataId&&this.setupStorage(de,m.dataId,Se,ae)}static render(de){const Se=de.annotationStorage,ae=de.linkService,T=de.xfaHtml,b=de.intent||"display",m=document.createElement(T.name);T.attributes&&this.setAttributes({html:m,element:T,intent:b,linkService:ae});const f=[[T,-1,m]],O=de.div;if(O.append(m),de.viewport){const g=`matrix(${de.viewport.transform.join(",")})`;O.style.transform=g}"richText"!==b&&O.setAttribute("class","xfaLayer xfaFont");const E=[];for(;f.length>0;){const[g,C,S]=f.at(-1);if(C+1===g.children.length){f.pop();continue}const A=g.children[++f.at(-1)[1]];if(null===A)continue;const{name:X}=A;if("#text"===X){const y=document.createTextNode(A.value);E.push(y),S.append(y);continue}const U=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,X):document.createElement(X);if(S.append(U),A.attributes&&this.setAttributes({html:U,element:A,storage:Se,intent:b,linkService:ae}),A.children&&A.children.length>0)f.push([A,-1,U]);else if(A.value){const y=document.createTextNode(A.value);x.XfaText.shouldBuildText(X)&&E.push(y),U.append(y)}}for(const g of O.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:E}}static update(de){const Se=`matrix(${de.viewport.transform.join(",")})`;de.div.style.transform=Se,de.div.hidden=!1}}},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.InkEditor=void 0;var x=ge(1),ne=ge(4),ve=ge(29),de=ge(6),Se=ge(5);I.InkEditor=(()=>{class T extends ne.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#a=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#r=new Path2D;#l=!1;#c=!1;#o=!1;#d=null;#h=0;#_=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(m){super({...m,name:"inkEditor"}),this.color=m.color||null,this.thickness=m.thickness||null,this.opacity=m.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(m){ne.AnnotationEditor.initialize(m,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(m,f){switch(m){case x.AnnotationEditorParamsType.INK_THICKNESS:T._defaultThickness=f;break;case x.AnnotationEditorParamsType.INK_COLOR:T._defaultColor=f;break;case x.AnnotationEditorParamsType.INK_OPACITY:T._defaultOpacity=f/100}}updateParams(m,f){switch(m){case x.AnnotationEditorParamsType.INK_THICKNESS:this.#g(f);break;case x.AnnotationEditorParamsType.INK_COLOR:this.#f(f);break;case x.AnnotationEditorParamsType.INK_OPACITY:this.#m(f)}}static get defaultPropertiesToUpdate(){return[[x.AnnotationEditorParamsType.INK_THICKNESS,T._defaultThickness],[x.AnnotationEditorParamsType.INK_COLOR,T._defaultColor||ne.AnnotationEditor._defaultLineColor],[x.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*T._defaultOpacity)]]}get propertiesToUpdate(){return[[x.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||T._defaultThickness],[x.AnnotationEditorParamsType.INK_COLOR,this.color||T._defaultColor||ne.AnnotationEditor._defaultLineColor],[x.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??T._defaultOpacity))]]}#g(m){const f=this.thickness;this.addCommands({cmd:()=>{this.thickness=m,this.#P()},undo:()=>{this.thickness=f,this.#P()},mustExec:!0,type:x.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(m){const f=this.color;this.addCommands({cmd:()=>{this.color=m,this.#C()},undo:()=>{this.color=f,this.#C()},mustExec:!0,type:x.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(m){m/=100;const f=this.opacity;this.addCommands({cmd:()=>{this.opacity=m,this.#C()},undo:()=>{this.opacity=f,this.#C()},mustExec:!0,type:x.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#y(),this.#D()),this.isAttachedToDOM||(this.parent.add(this),this.#T()),this.#P()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#d.disconnect(),this.#d=null,super.remove())}setParent(m){!this.parent&&m?this._uiManager.removeShouldRescale(this):this.parent&&null===m&&this._uiManager.addShouldRescale(this),super.setParent(m)}onScaleChanging(){const[m,f]=this.parentDimensions;this.setDimensions(this.width*m,this.height*f)}enableEditMode(){this.#l||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#u(){const{parentRotation:m,parentDimensions:[f,O]}=this;switch(m){case 90:return[0,O,O,f];case 180:return[f,O,f,O];case 270:return[f,0,O,f];default:return[0,0,f,O]}}#v(){const{ctx:m,color:f,opacity:O,thickness:E,parentScale:g,scaleFactor:C}=this;m.lineWidth=E*g/C,m.lineCap="round",m.lineJoin="round",m.miterLimit=10,m.strokeStyle=`${f}${(0,Se.opacityToHex)(O)}`}#S(m,f){this.canvas.addEventListener("contextmenu",de.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#a),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#o||(this.#o=!0,this.#T(),this.thickness||=T._defaultThickness,this.color||=T._defaultColor||ne.AnnotationEditor._defaultLineColor,this.opacity??=T._defaultOpacity),this.currentPath.push([m,f]),this.#c=!1,this.#v(),this.#p=()=>{this.#L(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#w(m,f){const[O,E]=this.currentPath.at(-1);if(this.currentPath.length>1&&m===O&&f===E)return;const g=this.currentPath;let C=this.#r;if(g.push([m,f]),this.#c=!0,g.length<=2)return C.moveTo(...g[0]),void C.lineTo(m,f);3===g.length&&(this.#r=C=new Path2D,C.moveTo(...g[0])),this.#I(C,...g.at(-3),...g.at(-2),m,f)}#M(){if(0===this.currentPath.length)return;const m=this.currentPath.at(-1);this.#r.lineTo(...m)}#b(m,f){let O;if(this.#p=null,m=Math.min(Math.max(m,0),this.canvas.width),f=Math.min(Math.max(f,0),this.canvas.height),this.#w(m,f),this.#M(),1!==this.currentPath.length)O=this.#x();else{const A=[m,f];O=[[A,A.slice(),A.slice(),A]]}const E=this.#r,g=this.currentPath;this.currentPath=[],this.#r=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(g),this.paths.push(O),this.bezierPath2D.push(E),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#y(),this.#D()),this.#P())},mustExec:!0})}#L(){if(!this.#c)return;this.#c=!1,Math.ceil(this.thickness*this.parentScale);const f=this.currentPath.slice(-3),O=f.map(U=>U[0]),E=f.map(U=>U[1]),{ctx:X}=(Math.min(...O),Math.max(...O),Math.min(...E),Math.max(...E),this);X.save(),X.clearRect(0,0,this.canvas.width,this.canvas.height);for(const U of this.bezierPath2D)X.stroke(U);X.stroke(this.#r),X.restore()}#I(m,f,O,E,g,C,S){const A=(f+E)/2,X=(O+g)/2,U=(E+C)/2,y=(g+S)/2;m.bezierCurveTo(A+2*(E-A)/3,X+2*(g-X)/3,U+2*(E-U)/3,y+2*(g-y)/3,U,y)}#x(){const m=this.currentPath;if(m.length<=2)return[[m[0],m[0],m.at(-1),m.at(-1)]];const f=[];let O,[E,g]=m[0];for(O=1;O<m.length-2;O++){const[B,D]=m[O],[W,ee]=m[O+1],fe=(B+W)/2,Q=(D+ee)/2;f.push([[E,g],[E+2*(B-E)/3,g+2*(D-g)/3],[fe+2*(B-fe)/3,Q+2*(D-Q)/3],[fe,Q]]),[E,g]=[fe,Q]}const[C,S]=m[O],[A,X]=m[O+1];return f.push([[E,g],[E+2*(C-E)/3,g+2*(S-g)/3],[A+2*(C-A)/3,X+2*(S-X)/3],[A,X]]),f}#C(){if(this.isEmpty())return void this.#N();this.#v();const{canvas:m,ctx:f}=this;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,m.width,m.height),this.#N();for(const O of this.bezierPath2D)f.stroke(O)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#P(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(m){this._focusEventsAllowed&&(super.focusin(m),this.enableEditMode())}canvasPointerdown(m){0!==m.button||!this.isInEditMode()||this.#l||(this.setInForeground(),m.preventDefault(),"mouse"!==m.type&&this.div.focus(),this.#S(m.offsetX,m.offsetY))}canvasPointermove(m){m.preventDefault(),this.#w(m.offsetX,m.offsetY)}canvasPointerup(m){m.preventDefault(),this.#O(m)}canvasPointerleave(m){this.#O(m)}#O(m){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#a),this.canvas.addEventListener("pointerdown",this.#s),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",de.noContextMenu)},10),this.#b(m.offsetX,m.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#y(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ne.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(m=>this.canvas?.setAttribute("aria-label",m)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#D(){this.#d=new ResizeObserver(m=>{const f=m[0].contentRect;f.width&&f.height&&this.setDimensions(f.width,f.height)}),this.#d.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let m,f;this.width&&(m=this.x,f=this.y),super.render(),ne.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(S=>this.div?.setAttribute("aria-label",S));const[O,E,g,C]=this.#u();if(this.setAt(O,E,0,0),this.setDims(g,C),this.#y(),this.width){const[S,A]=this.parentDimensions;this.setAspectRatio(this.width*S,this.height*A),this.setAt(m*S,f*A,this.width*S,this.height*A),this.#o=!0,this.#T(),this.setDims(this.width*S,this.height*A),this.#C(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#D(),this.div}#T(){if(!this.#o)return;const[m,f]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*m),this.canvas.height=Math.ceil(this.height*f),this.#N()}setDimensions(m,f){const O=Math.round(m),E=Math.round(f);if(this.#h===O&&this.#_===E)return;this.#h=O,this.#_=E,this.canvas.style.visibility="hidden";const[g,C]=this.parentDimensions;this.width=m/g,this.height=f/C,this.fixAndSetPosition(),this.#l&&this.#A(m,f),this.#T(),this.#C(),this.canvas.style.visibility="visible",this.fixDims()}#A(m,f){const O=this.#F(),E=(m-O)/this.#t,g=(f-O)/this.#e;this.scaleFactor=Math.min(E,g)}#N(){const m=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+m,this.translationY*this.scaleFactor+m)}static#k(m){const f=new Path2D;for(let O=0,E=m.length;O<E;O++){const[g,C,S,A]=m[O];0===O&&f.moveTo(...g),f.bezierCurveTo(C[0],C[1],S[0],S[1],A[0],A[1])}return f}static#z(m,f,O){const[E,g,C,S]=f;switch(O){case 0:for(let A=0,X=m.length;A<X;A+=2)m[A]+=E,m[A+1]=S-m[A+1];break;case 90:for(let A=0,X=m.length;A<X;A+=2){const U=m[A];m[A]=m[A+1]+E,m[A+1]=U+g}break;case 180:for(let A=0,X=m.length;A<X;A+=2)m[A]=C-m[A],m[A+1]+=g;break;case 270:for(let A=0,X=m.length;A<X;A+=2){const U=m[A];m[A]=C-m[A+1],m[A+1]=S-U}break;default:throw new Error("Invalid rotation")}return m}static#V(m,f,O){const[E,g,C,S]=f;switch(O){case 0:for(let A=0,X=m.length;A<X;A+=2)m[A]-=E,m[A+1]=S-m[A+1];break;case 90:for(let A=0,X=m.length;A<X;A+=2){const U=m[A];m[A]=m[A+1]-g,m[A+1]=U-E}break;case 180:for(let A=0,X=m.length;A<X;A+=2)m[A]=C-m[A],m[A+1]-=g;break;case 270:for(let A=0,X=m.length;A<X;A+=2){const U=m[A];m[A]=S-m[A+1],m[A+1]=C-U}break;default:throw new Error("Invalid rotation")}return m}#H(m,f,O,E){const g=[],C=this.thickness/2,S=m*f+C,A=m*O+C;for(const X of this.paths){const U=[],y=[];for(let B=0,D=X.length;B<D;B++){const[W,ee,fe,Q]=X[B],Te=m*W[0]+S,Ce=m*W[1]+A,ye=m*ee[0]+S,Ge=m*ee[1]+A,Le=m*fe[0]+S,me=m*fe[1]+A,Z=m*Q[0]+S,M=m*Q[1]+A;0===B&&(U.push(Te,Ce),y.push(Te,Ce)),U.push(ye,Ge,Le,me,Z,M),y.push(ye,Ge),B===D-1&&y.push(Z,M)}g.push({bezier:T.#z(U,E,this.rotation),points:T.#z(y,E,this.rotation)})}return g}#R(){let m=1/0,f=-1/0,O=1/0,E=-1/0;for(const g of this.paths)for(const[C,S,A,X]of g){const U=x.Util.bezierBoundingBox(...C,...S,...A,...X);m=Math.min(m,U[0]),O=Math.min(O,U[1]),f=Math.max(f,U[2]),E=Math.max(E,U[3])}return[m,O,f,E]}#F(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#P(m=!1){if(this.isEmpty())return;if(!this.#l)return void this.#C();const f=this.#R(),O=this.#F();this.#t=Math.max(ne.AnnotationEditor.MIN_SIZE,f[2]-f[0]),this.#e=Math.max(ne.AnnotationEditor.MIN_SIZE,f[3]-f[1]);const E=Math.ceil(O+this.#t*this.scaleFactor),g=Math.ceil(O+this.#e*this.scaleFactor),[C,S]=this.parentDimensions;this.width=E/C,this.height=g/S,this.setAspectRatio(E,g);const A=this.translationX,X=this.translationY;this.translationX=-f[0],this.translationY=-f[1],this.#T(),this.#C(),this.#h=E,this.#_=g,this.setDims(E,g);const U=m?O/this.scaleFactor/2:0;this.translate(A-this.translationX-U,X-this.translationY-U)}static deserialize(m,f,O){if(m instanceof ve.InkAnnotationElement)return null;const E=super.deserialize(m,f,O);E.thickness=m.thickness,E.color=x.Util.makeHexColor(...m.color),E.opacity=m.opacity;const[g,C]=E.pageDimensions,S=E.width*g,A=E.height*C,X=E.parentScale,U=m.thickness/2;E.#l=!0,E.#h=Math.round(S),E.#_=Math.round(A);const{paths:y,rect:B,rotation:D}=m;for(let{bezier:ee}of y){ee=T.#V(ee,B,D);const fe=[];E.paths.push(fe);let Q=X*(ee[0]-U),Te=X*(ee[1]-U);for(let ye=2,Ge=ee.length;ye<Ge;ye+=6){const N=X*(ee[ye+4]-U),V=X*(ee[ye+5]-U);fe.push([[Q,Te],[X*(ee[ye]-U),X*(ee[ye+1]-U)],[X*(ee[ye+2]-U),X*(ee[ye+3]-U)],[N,V]]),Q=N,Te=V}const Ce=this.#k(fe);E.bezierPath2D.push(Ce)}const W=E.#R();return E.#t=Math.max(ne.AnnotationEditor.MIN_SIZE,W[2]-W[0]),E.#e=Math.max(ne.AnnotationEditor.MIN_SIZE,W[3]-W[1]),E.#A(S,A),E}serialize(){if(this.isEmpty())return null;const m=this.getRect(0,0),f=ne.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:x.AnnotationEditorType.INK,color:f,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,m),pageIndex:this.pageIndex,rect:m,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}return T})()},(De,I,ge)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StampEditor=void 0;var x=ge(1),ne=ge(4),ve=ge(6),de=ge(29);I.StampEditor=(()=>{class ae extends ne.AnnotationEditor{#e=null;#t=null;#n=null;#i=null;#a=null;#s=null;#r=null;#l=null;#c=!1;#o=!1;static _type="stamp";constructor(b){super({...b,name:"stampEditor"}),this.#i=b.bitmapUrl,this.#a=b.bitmapFile}static initialize(b){ne.AnnotationEditor.initialize(b)}static get supportedTypes(){return(0,x.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(m=>`image/${m}`))}static get supportedTypesStr(){return(0,x.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(b){return this.supportedTypes.includes(b)}static paste(b,m){m.pasteEditor(x.AnnotationEditorType.STAMP,{bitmapFile:b.getAsFile()})}#d(b,m=!1){b?(this.#e=b.bitmap,m||(this.#t=b.id,this.#c=b.isSvg),this.#p()):this.remove()}#h(){this.#n=null,this._uiManager.enableWaiting(!1),this.#s&&this.div.focus()}#_(){var b=this;if(this.#t)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#t).then(f=>this.#d(f,!0)).finally(()=>this.#h());if(this.#i){const f=this.#i;return this.#i=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromUrl(f).then(O=>this.#d(O)).finally(()=>this.#h()))}if(this.#a){const f=this.#a;return this.#a=null,this._uiManager.enableWaiting(!0),void(this.#n=this._uiManager.imageManager.getFromFile(f).then(O=>this.#d(O)).finally(()=>this.#h()))}const m=document.createElement("input");m.type="file",m.accept=ae.supportedTypesStr,this.#n=new Promise(f=>{m.addEventListener("change",_asyncToGenerator(function*(){if(m.files&&0!==m.files.length){b._uiManager.enableWaiting(!0);const O=yield b._uiManager.imageManager.getFromFile(m.files[0]);b.#d(O)}else b.remove();f()})),m.addEventListener("cancel",()=>{this.remove(),f()})}).finally(()=>this.#h()),m.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#r?.disconnect(),this.#r=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#t&&this.#_(),this.isAttachedToDOM||this.parent.add(this))):this.#t&&this.#_()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#a)}get isResizable(){return!0}render(){if(this.div)return this.div;let b,m;if(this.width&&(b=this.x,m=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#_(),this.width){const[f,O]=this.parentDimensions;this.setAt(b*f,m*O,this.width*f,this.height*O)}return this.div}#p(){const{div:b}=this;let{width:m,height:f}=this.#e;const[O,E]=this.pageDimensions,g=.75;if(this.width)m=this.width*O,f=this.height*E;else if(m>g*O||f>g*E){const X=Math.min(g*O/m,g*E/f);m*=X,f*=X}const[C,S]=this.parentDimensions;this.setDims(m*C/O,f*S/E),this._uiManager.enableWaiting(!1);const A=this.#s=document.createElement("canvas");b.append(A),b.hidden=!1,this.#m(m,f),this.#v(),this.#o||(this.parent.addUndoableEditor(this),this.#o=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#g(b,m){const[f,O]=this.parentDimensions;this.width=b/f,this.height=m/O,this.setDims(b,m),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#l&&clearTimeout(this.#l),this.#l=setTimeout(()=>{this.#l=null,this.#m(b,m)},200)}#f(b,m){const{width:f,height:O}=this.#e;let E=f,g=O,C=this.#e;for(;E>2*b||g>2*m;){const S=E,A=g;E>2*b&&(E=E>=16384?Math.floor(E/2)-1:Math.ceil(E/2)),g>2*m&&(g=g>=16384?Math.floor(g/2)-1:Math.ceil(g/2));const X=new OffscreenCanvas(E,g);X.getContext("2d").drawImage(C,0,0,S,A,0,0,E,g),C=X.transferToImageBitmap()}return C}#m(b,m){b=Math.ceil(b),m=Math.ceil(m);const f=this.#s;if(!f||f.width===b&&f.height===m)return;f.width=b,f.height=m;const O=this.#c?this.#e:this.#f(b,m),E=f.getContext("2d");E.filter=this._uiManager.hcmFilter,E.drawImage(O,0,0,O.width,O.height,0,0,b,m)}#u(b){if(b){if(this.#c){const O=this._uiManager.imageManager.getSvgUrl(this.#t);if(O)return O}const m=document.createElement("canvas");return({width:m.width,height:m.height}=this.#e),m.getContext("2d").drawImage(this.#e,0,0),m.toDataURL()}if(this.#c){const[m,f]=this.pageDimensions,O=Math.round(this.width*m*ve.PixelsPerInch.PDF_TO_CSS_UNITS),E=Math.round(this.height*f*ve.PixelsPerInch.PDF_TO_CSS_UNITS),g=new OffscreenCanvas(O,E);return g.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,O,E),g.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#r=new ResizeObserver(b=>{const m=b[0].contentRect;m.width&&m.height&&this.#g(m.width,m.height)}),this.#r.observe(this.div)}static deserialize(b,m,f){if(b instanceof de.StampAnnotationElement)return null;const O=super.deserialize(b,m,f),{rect:E,bitmapUrl:g,bitmapId:C,isSvg:S,accessibilityData:A}=b;C&&f.imageManager.isValidId(C)?O.#t=C:O.#i=g,O.#c=S;const[X,U]=O.pageDimensions;return O.width=(E[2]-E[0])/X,O.height=(E[3]-E[1])/U,A&&(O.altTextData=A),O}serialize(b=!1,m=null){if(this.isEmpty())return null;const f={annotationType:x.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(b)return f.bitmapUrl=this.#u(!0),f.accessibilityData=this.altTextData,f;const{decorative:O,altText:E}=this.altTextData;if(!O&&E&&(f.accessibilityData={type:"Figure",alt:E}),null===m)return f;m.stamps||=new Map;const g=this.#c?(f.rect[2]-f.rect[0])*(f.rect[3]-f.rect[1]):null;if(m.stamps.has(this.#t)){if(this.#c){const C=m.stamps.get(this.#t);g>C.area&&(C.area=g,C.serialized.bitmap.close(),C.serialized.bitmap=this.#u(!1))}}else m.stamps.set(this.#t,{area:g,serialized:f}),f.bitmap=this.#u(!1);return f}}return ae})()}],__webpack_module_cache__={};function __w_pdfjs_require__(De){var I=__webpack_module_cache__[De];if(void 0!==I)return I.exports;var ge=__webpack_module_cache__[De]={exports:{}};return __webpack_modules__[De](ge,ge.exports,__w_pdfjs_require__),ge.exports}var __nested_webpack_exports__={};return(()=>{var De=__nested_webpack_exports__;Object.defineProperty(De,"__esModule",{value:!0}),Object.defineProperty(De,"AbortException",{enumerable:!0,get:function(){return I.AbortException}}),Object.defineProperty(De,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ve.AnnotationEditorLayer}}),Object.defineProperty(De,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return I.AnnotationEditorParamsType}}),Object.defineProperty(De,"AnnotationEditorType",{enumerable:!0,get:function(){return I.AnnotationEditorType}}),Object.defineProperty(De,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return de.AnnotationEditorUIManager}}),Object.defineProperty(De,"AnnotationLayer",{enumerable:!0,get:function(){return Se.AnnotationLayer}}),Object.defineProperty(De,"AnnotationMode",{enumerable:!0,get:function(){return I.AnnotationMode}}),Object.defineProperty(De,"CMapCompressionType",{enumerable:!0,get:function(){return I.CMapCompressionType}}),Object.defineProperty(De,"DOMSVGFactory",{enumerable:!0,get:function(){return x.DOMSVGFactory}}),Object.defineProperty(De,"FeatureTest",{enumerable:!0,get:function(){return I.FeatureTest}}),Object.defineProperty(De,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ae.GlobalWorkerOptions}}),Object.defineProperty(De,"ImageKind",{enumerable:!0,get:function(){return I.ImageKind}}),Object.defineProperty(De,"InvalidPDFException",{enumerable:!0,get:function(){return I.InvalidPDFException}}),Object.defineProperty(De,"MissingPDFException",{enumerable:!0,get:function(){return I.MissingPDFException}}),Object.defineProperty(De,"OPS",{enumerable:!0,get:function(){return I.OPS}}),Object.defineProperty(De,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ge.PDFDataRangeTransport}}),Object.defineProperty(De,"PDFDateString",{enumerable:!0,get:function(){return x.PDFDateString}}),Object.defineProperty(De,"PDFWorker",{enumerable:!0,get:function(){return ge.PDFWorker}}),Object.defineProperty(De,"PasswordResponses",{enumerable:!0,get:function(){return I.PasswordResponses}}),Object.defineProperty(De,"PermissionFlag",{enumerable:!0,get:function(){return I.PermissionFlag}}),Object.defineProperty(De,"PixelsPerInch",{enumerable:!0,get:function(){return x.PixelsPerInch}}),Object.defineProperty(De,"PromiseCapability",{enumerable:!0,get:function(){return I.PromiseCapability}}),Object.defineProperty(De,"RenderingCancelledException",{enumerable:!0,get:function(){return x.RenderingCancelledException}}),Object.defineProperty(De,"SVGGraphics",{enumerable:!0,get:function(){return ge.SVGGraphics}}),Object.defineProperty(De,"UnexpectedResponseException",{enumerable:!0,get:function(){return I.UnexpectedResponseException}}),Object.defineProperty(De,"Util",{enumerable:!0,get:function(){return I.Util}}),Object.defineProperty(De,"VerbosityLevel",{enumerable:!0,get:function(){return I.VerbosityLevel}}),Object.defineProperty(De,"XfaLayer",{enumerable:!0,get:function(){return T.XfaLayer}}),Object.defineProperty(De,"build",{enumerable:!0,get:function(){return ge.build}}),Object.defineProperty(De,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return I.createValidAbsoluteUrl}}),Object.defineProperty(De,"getDocument",{enumerable:!0,get:function(){return ge.getDocument}}),Object.defineProperty(De,"getFilenameFromUrl",{enumerable:!0,get:function(){return x.getFilenameFromUrl}}),Object.defineProperty(De,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return x.getPdfFilenameFromUrl}}),Object.defineProperty(De,"getXfaPageViewport",{enumerable:!0,get:function(){return x.getXfaPageViewport}}),Object.defineProperty(De,"isDataScheme",{enumerable:!0,get:function(){return x.isDataScheme}}),Object.defineProperty(De,"isPdfFile",{enumerable:!0,get:function(){return x.isPdfFile}}),Object.defineProperty(De,"loadScript",{enumerable:!0,get:function(){return x.loadScript}}),Object.defineProperty(De,"noContextMenu",{enumerable:!0,get:function(){return x.noContextMenu}}),Object.defineProperty(De,"normalizeUnicode",{enumerable:!0,get:function(){return I.normalizeUnicode}}),Object.defineProperty(De,"renderTextLayer",{enumerable:!0,get:function(){return ne.renderTextLayer}}),Object.defineProperty(De,"setLayerDimensions",{enumerable:!0,get:function(){return x.setLayerDimensions}}),Object.defineProperty(De,"shadow",{enumerable:!0,get:function(){return I.shadow}}),Object.defineProperty(De,"updateTextLayer",{enumerable:!0,get:function(){return ne.updateTextLayer}}),Object.defineProperty(De,"version",{enumerable:!0,get:function(){return ge.version}});var I=__w_pdfjs_require__(1),ge=__w_pdfjs_require__(2),x=__w_pdfjs_require__(6),ne=__w_pdfjs_require__(26),ve=__w_pdfjs_require__(27),de=__w_pdfjs_require__(5),Se=__w_pdfjs_require__(29),ae=__w_pdfjs_require__(14),T=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=I.pdfjsLib=ge()},876:(De,I,ge)=>{var ve,de,x=ge(293).default;ve=globalThis,de=()=>(()=>{"use strict";var ne=[,(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFFindController=T.FindState=void 0;var m=b(2),f=b(3),O=b(4);const E={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};T.FindState=E;const A={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},X=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let U;const y=new RegExp("\\p{M}+","gu"),B=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),D=new RegExp("([^\\p{M}])\\p{M}*$","u"),W=new RegExp("^\\p{M}*([^\\p{M}])","u"),ee=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,fe=new Map,Te=new Map;let Ce=null,ye=null;function Ge(Z){const M=[];let N,V;for(;null!==(N=ee.exec(Z));){let{index:Me}=N;for(const Oe of N[0]){let xe=fe.get(Oe);xe||(xe=Oe.normalize("NFD").length,fe.set(Oe,xe)),M.push([xe,Me++])}}if(0===M.length&&Ce)V=Ce;else if(M.length>0&&ye)V=ye;else{const Ie=`([${Object.keys(A).join("")}])|([${(0,f.getNormalizeWithNFKC)()}])|((?:\u3099|\u309a)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30ff])\\n)|(\\n)`;V=0===M.length?Ce=new RegExp(Ie+"|(\\u0000)","gum"):ye=new RegExp(Ie+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const G=[];for(;null!==(N=y.exec(Z));)G.push([N[0].length,N.index]);let oe=Z.normalize("NFD");const ce=[[0,0]];let re=0,P=0,K=0,te=0,le=0,ue=!1;return oe=oe.replace(V,(Me,Oe,xe,at,Ie,Ze,qe,Ee,Ne,Xe)=>{if(Xe-=te,Oe){const We=A[Oe],dt=We.length;for(let lt=1;lt<dt;lt++)ce.push([Xe-K+lt,K-lt]);return K-=dt-1,We}if(xe){let We=Te.get(xe);We||(We=xe.normalize("NFKC"),Te.set(xe,We));const dt=We.length;for(let lt=1;lt<dt;lt++)ce.push([Xe-K+lt,K-lt]);return K-=dt-1,We}if(at)return ue=!0,Xe+le===G[re]?.[1]?++re:(ce.push([Xe-1-K+1,K-1]),K-=1,te+=1),ce.push([Xe-K+1,K]),te+=1,le+=1,at.charAt(0);if(Ie){const We=Ie.endsWith("\n"),dt=We?Ie.length-2:Ie.length;ue=!0;let lt=dt;Xe+le===G[re]?.[1]&&(lt-=G[re][0],++re);for(let kt=1;kt<=lt;kt++)ce.push([Xe-1-K+kt,K-kt]);return K-=lt,te+=lt,We?(ce.push([(Xe+=dt-1)-K+1,1+K]),K+=1,te+=1,le+=1,Ie.slice(0,dt)):Ie}if(Ze)return ce.push([Xe-K+(Ze.length-2),1+K]),K+=1,te+=1,le+=1,Ze.slice(0,-2);if(qe)return ce.push([Xe-K+(qe.length-1),K]),te+=1,le+=1,qe.slice(0,-1);if(Ee)return ce.push([Xe-K+1,K-1]),K-=1,te+=1,le+=1," ";if(Xe+le===M[P]?.[1]){const We=M[P][0]-1;++P;for(let dt=1;dt<=We;dt++)ce.push([Xe-(K-dt),K-dt]);K-=We,te+=We}return Ne}),ce.push([oe.length,K]),[oe,ce,ue]}function Le(Z,M,N){if(!Z)return[M,N];const V=M,G=M+N-1;let oe=(0,m.binarySearchFirstItem)(Z,te=>te[0]>=V);Z[oe][0]>V&&--oe;let ce=(0,m.binarySearchFirstItem)(Z,te=>te[0]>=G,oe);Z[ce][0]>G&&--ce;const re=V+Z[oe][1];return[re,G+Z[ce][1]+1-re]}T.PDFFindController=class me{#e=null;#t=!0;#n=0;constructor({linkService:M,eventBus:N,updateMatchesCountOnProgress:V=!0}){this._linkService=M,this._eventBus=N,this.#t=V,this.onIsPageVisible=null,this.#a(),N._on("find",this.#i.bind(this)),N._on("findbarclose",this.#S.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(M){this._pdfDocument&&this.#a(),M&&(this._pdfDocument=M,this._firstPageCapability.resolve())}#i(M){if(!M)return;!1===M.phraseSearch&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),"string"==typeof M.query&&(M.query=M.query.match(/\S+/g)));const N=this._pdfDocument,{type:V}=M;(null===this.#e||this.#r(M))&&(this._dirtyMatch=!0),this.#e=M,"highlightallchange"!==V&&this.#b(E.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||N&&this._pdfDocument!==N)return;this.#h();const G=!this._highlightMatches,oe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),V?this._dirtyMatch?this.#g():"again"===V?(this.#g(),G&&this.#e.highlightAll&&this.#p()):"highlightallchange"===V?(oe?this.#g():this._highlightMatches=!0,this.#p()):this.#g():this._findTimeout=setTimeout(()=>{this.#g(),this._findTimeout=null},250)})}scrollMatchIntoView({element:M=null,selectedLeft:N=0,pageIndex:V=-1,matchIndex:G=-1}){this._scrollMatches&&M&&-1!==G&&G===this._selected.matchIdx&&-1!==V&&V===this._selected.pageIdx&&(this._scrollMatches=!1,(0,m.scrollIntoView)(M,{top:-50,left:N+-400},!0))}#a(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new O.PromiseCapability}get#s(){const{query:M}=this.#e;return"string"==typeof M?(M!==this._rawQuery&&(this._rawQuery=M,[this._normalizedQuery]=Ge(M)),this._normalizedQuery):(M||[]).filter(N=>!!N).map(N=>Ge(N)[0])}#r(M){const N=M.query,V=this.#e.query,G=typeof N;if(G!==typeof V)return!0;if("string"===G){if(N!==V)return!0}else if(JSON.stringify(N)!==JSON.stringify(V))return!0;switch(M.type){case"again":const ce=this._selected.pageIdx+1,re=this._linkService;return ce>=1&&ce<=re.pagesCount&&ce!==re.page&&!(this.onIsPageVisible?.(ce)??1);case"highlightallchange":return!1}return!0}#l(M,N,V){let G=M.slice(0,N).match(D);if(G){const oe=M.charCodeAt(N),ce=G[1].charCodeAt(0);if((0,f.getCharacterType)(oe)===(0,f.getCharacterType)(ce))return!1}if(G=M.slice(N+V).match(W),G){const oe=M.charCodeAt(N+V-1),ce=G[1].charCodeAt(0);if((0,f.getCharacterType)(oe)===(0,f.getCharacterType)(ce))return!1}return!0}#c(M,N,V,G){const oe=this._pageMatches[V]=[],ce=this._pageMatchesLength[V]=[];if(!M)return;const re=this._pageDiffs[V];let P;for(;null!==(P=M.exec(G));){if(N&&!this.#l(G,P.index,P[0].length))continue;const[K,te]=Le(re,P.index,P[0].length);te&&(oe.push(K),ce.push(te))}}#o(M,N){const{matchDiacritics:V}=this.#e;let G=!1;return(M=M.replaceAll(B,(ce,re,P,K,te,le)=>re?`[ ]*\\${re}[ ]*`:P?`[ ]*${P}[ ]*`:K?"[ ]+":V?te||le:te?X.has(te.charCodeAt(0))?te:"":N?(G=!0,`${le}\\p{M}*`):le)).endsWith("[ ]*")&&(M=M.slice(0,M.length-4)),V&&N&&(U||=String.fromCharCode(...X),G=!0,M=`${M}(?=[${U}]|[^\\p{M}]|$)`),[G,M]}#d(M){let N=this.#s;if(0===N.length)return;const{caseSensitive:V,entireWord:G}=this.#e,oe=this._pageContents[M],ce=this._hasDiacritics[M];let re=!1;"string"==typeof N?[re,N]=this.#o(N,ce):N=N.sort().reverse().map(te=>{const[le,ue]=this.#o(te,ce);return re||=le,`(${ue})`}).join("|"),N=N?new RegExp(N,`g${re?"u":""}${V?"":"i"}`):null,this.#c(N,G,M,oe),this.#e.highlightAll&&this.#_(M),this._resumePageIdx===M&&(this._resumePageIdx=null,this.#m());const K=this._pageMatches[M].length;this._matchesCountTotal+=K,this.#t?K>0&&this.#M():++this.#n===this._linkService.pagesCount&&this.#M()}#h(){if(this._extractTextPromises.length>0)return;let M=Promise.resolve();const N={disableNormalization:!0};for(let V=0,G=this._linkService.pagesCount;V<G;V++){const oe=new O.PromiseCapability;this._extractTextPromises[V]=oe.promise,M=M.then(()=>this._pdfDocument.getPage(V+1).then(ce=>ce.getTextContent(N)).then(ce=>{const re=[];for(const P of ce.items)re.push(P.str),P.hasEOL&&re.push("\n");[this._pageContents[V],this._pageDiffs[V],this._hasDiacritics[V]]=Ge(re.join("")),oe.resolve()},ce=>{console.error(`Unable to get text content for page ${V+1}`,ce),this._pageContents[V]="",this._pageDiffs[V]=null,this._hasDiacritics[V]=!1,oe.resolve()}))}}#_(M){this._scrollMatches&&this._selected.pageIdx===M&&(this._linkService.page=M+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:M})}#p(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#g(){const M=this.#e.findPrevious,N=this._linkService.page-1,V=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=N,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#p();for(let ce=0;ce<V;ce++)this._pendingFindMatches.has(ce)||(this._pendingFindMatches.add(ce),this._extractTextPromises[ce].then(()=>{this._pendingFindMatches.delete(ce),this.#d(ce)}))}if(0===this.#s.length)return void this.#b(E.FOUND);if(this._resumePageIdx)return;const oe=this._offset;if(this._pagesToSearch=V,null!==oe.matchIdx){if(!M&&oe.matchIdx+1<this._pageMatches[oe.pageIdx].length||M&&oe.matchIdx>0)return oe.matchIdx=M?oe.matchIdx-1:oe.matchIdx+1,void this.#v(!0);this.#u(M)}this.#m()}#f(M){const N=this._offset,V=M.length,G=this.#e.findPrevious;return V?(N.matchIdx=G?V-1:0,this.#v(!0),!0):(this.#u(G),!!(N.wrapped&&(N.matchIdx=null,this._pagesToSearch<0))&&(this.#v(!1),!0))}#m(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let M=null;do{const N=this._offset.pageIdx;if(M=this._pageMatches[N],!M){this._resumePageIdx=N;break}}while(!this.#f(M))}#u(M){const N=this._offset,V=this._linkService.pagesCount;N.pageIdx=M?N.pageIdx-1:N.pageIdx+1,N.matchIdx=null,this._pagesToSearch--,(N.pageIdx>=V||N.pageIdx<0)&&(N.pageIdx=M?V-1:0,N.wrapped=!0)}#v(M=!1){let N=E.NOT_FOUND;const V=this._offset.wrapped;if(this._offset.wrapped=!1,M){const G=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,N=V?E.WRAPPED:E.FOUND,-1!==G&&G!==this._selected.pageIdx&&this.#_(G)}this.#b(N,this.#e.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#_(this._selected.pageIdx))}#S(M){const N=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||N&&this._pdfDocument!==N||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#b(E.FOUND),this._highlightMatches=!1,this.#p())})}#w(){const{pageIdx:M,matchIdx:N}=this._selected;let V=0,G=this._matchesCountTotal;if(-1!==N){for(let oe=0;oe<M;oe++)V+=this._pageMatches[oe]?.length||0;V+=N+1}return(V<1||V>G)&&(V=G=0),{current:V,total:G}}#M(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#w()})}#b(M,N=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||M===E.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:M,previous:N,matchesCount:this.#w(),rawQuery:this.#e?.query??null})}}},(ae,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.animationStarted=T.VERTICAL_PADDING=T.UNKNOWN_SCALE=T.TextLayerMode=T.SpreadMode=T.SidebarView=T.ScrollMode=T.SCROLLBAR_PADDING=T.RenderingStates=T.ProgressBar=T.PresentationModeState=T.OutputScale=T.MIN_SCALE=T.MAX_SCALE=T.MAX_AUTO_SCALE=T.DEFAULT_SCALE_VALUE=T.DEFAULT_SCALE_DELTA=T.DEFAULT_SCALE=T.CursorTool=T.AutoPrintRegExp=void 0,T.apiPageLayoutToViewerModes=function at(Ee){let Ne=D.VERTICAL,Xe=W.NONE;switch(Ee){case"SinglePage":Ne=D.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Ne=D.PAGE;case"TwoColumnLeft":Xe=W.ODD;break;case"TwoPageRight":Ne=D.PAGE;case"TwoColumnRight":Xe=W.EVEN}return{scrollMode:Ne,spreadMode:Xe}},T.apiPageModeToSidebarView=function Ie(Ee){switch(Ee){case"UseNone":return y.NONE;case"UseThumbs":return y.THUMBS;case"UseOutlines":return y.OUTLINE;case"UseAttachments":return y.ATTACHMENTS;case"UseOC":return y.LAYERS}return y.NONE},T.approximateFraction=function Z(Ee){if(Math.floor(Ee)===Ee)return[Ee,1];const Ne=1/Ee;if(Ne>8)return[1,8];if(Math.floor(Ne)===Ne)return[1,Ne];const We=Ee>1?Ne:Ee;let yn,dt=0,lt=1,kt=1,sn=1;for(;;){const qn=dt+kt,Vo=lt+sn;if(Vo>8)break;We<=qn/Vo?(kt=qn,sn=Vo):(dt=qn,lt=Vo)}return yn=We-dt/lt<kt/sn-We?We===Ee?[dt,lt]:[lt,dt]:We===Ee?[kt,sn]:[sn,kt],yn},T.backtrackBeforeAllVisibleElements=V,T.binarySearchFirstItem=me,T.docStyle=void 0,T.getActiveOrFocusedElement=function xe(){let Ee=document,Ne=Ee.activeElement||Ee.querySelector(":focus");for(;Ne?.shadowRoot;)Ee=Ne.shadowRoot,Ne=Ee.activeElement||Ee.querySelector(":focus");return Ne},T.getPageSizeInches=function N({view:Ee,userUnit:Ne,rotate:Xe}){const[We,dt,lt,kt]=Ee,sn=Xe%180!=0,yn=(lt-We)/72*Ne,qn=(kt-dt)/72*Ne;return{width:sn?qn:yn,height:sn?yn:qn}},T.getVisibleElements=function G({scrollEl:Ee,views:Ne,sortByVisibility:Xe=!1,horizontal:We=!1,rtl:dt=!1}){const lt=Ee.scrollTop,kt=lt+Ee.clientHeight,sn=Ee.scrollLeft,yn=sn+Ee.clientWidth,Hi=[],rs=new Set,zs=Ne.length;let xr=me(Ne,We?function Vo(Ve){const St=Ve.div,tn=St.offsetLeft+St.clientLeft;return dt?tn<yn:tn+St.clientWidth>sn}:function qn(Ve){const St=Ve.div;return St.offsetTop+St.clientTop+St.clientHeight>lt});xr>0&&xr<zs&&!We&&(xr=V(xr,Ne,lt));let S0=We?yn:-1;for(let Ve=xr;Ve<zs;Ve++){const St=Ne[Ve],tn=St.div,Yn=tn.offsetLeft+tn.clientLeft,Ei=tn.offsetTop+tn.clientTop,Vs=tn.clientWidth,Rr=tn.clientHeight,Hs=Yn+Vs,ei=Ei+Rr;if(-1===S0)ei>=kt&&(S0=ei);else if((We?Yn:Ei)>S0)break;if(ei<=lt||Ei>=kt||Hs<=sn||Yn>=yn)continue;const b1=Math.max(0,lt-Ei)+Math.max(0,ei-kt),Pi=(Vs-(Math.max(0,sn-Yn)+Math.max(0,Hs-yn)))/Vs;Hi.push({id:St.id,x:Yn,y:Ei,view:St,percent:(Rr-b1)/Rr*Pi*100|0,widthPercent:100*Pi|0}),rs.add(St.id)}const ht=Hi[0],He=Hi.at(-1);return Xe&&Hi.sort(function(Ve,St){const tn=Ve.percent-St.percent;return Math.abs(tn)>.001?-tn:Ve.id-St.id}),{first:ht,last:He,views:Hi,ids:rs}},T.isPortraitOrientation=function te(Ee){return Ee.width<=Ee.height},T.isValidRotation=function re(Ee){return Number.isInteger(Ee)&&Ee%90==0},T.isValidScrollMode=function P(Ee){return Number.isInteger(Ee)&&Object.values(D).includes(Ee)&&Ee!==D.UNKNOWN},T.isValidSpreadMode=function K(Ee){return Number.isInteger(Ee)&&Object.values(W).includes(Ee)&&Ee!==W.UNKNOWN},T.normalizeWheelEventDelta=function ce(Ee){const Ne=Ee.deltaMode;let Xe=oe(Ee);return Ne===WheelEvent.DOM_DELTA_PIXEL?Xe/=900:Ne===WheelEvent.DOM_DELTA_LINE&&(Xe/=30),Xe},T.normalizeWheelEventDirection=oe,T.parseQueryString=function ye(Ee){const Ne=new Map;for(const[Xe,We]of new URLSearchParams(Ee))Ne.set(Xe.toLowerCase(),We);return Ne},T.removeNullCharacters=function Le(Ee,Ne=!1){return"string"!=typeof Ee?(console.error("The argument must be a string."),Ee):(Ne&&(Ee=Ee.replaceAll(Ge," ")),Ee.replaceAll("\0",""))},T.roundToDivide=function M(Ee,Ne){const Xe=Ee%Ne;return 0===Xe?Ee:Math.round(Ee-Xe+Ne)},T.scrollIntoView=function Te(Ee,Ne,Xe=!1){let We=Ee.offsetParent;if(!We)return void console.error("offsetParent is not set -- cannot scroll");let dt=Ee.offsetTop+Ee.clientTop,lt=Ee.offsetLeft+Ee.clientLeft;for(;We.clientHeight===We.scrollHeight&&We.clientWidth===We.scrollWidth||Xe&&(We.classList.contains("markedContent")||"hidden"===getComputedStyle(We).overflow);)if(dt+=We.offsetTop,lt+=We.offsetLeft,We=We.offsetParent,!We)return;Ne&&(void 0!==Ne.top&&(dt+=Ne.top),void 0!==Ne.left&&(lt+=Ne.left,We.scrollLeft=lt)),We.scrollTop=dt},T.toggleCheckedBtn=function Ze(Ee,Ne,Xe=null){Ee.classList.toggle("toggled",Ne),Ee.setAttribute("aria-checked",Ne),Xe?.classList.toggle("hidden",!Ne)},T.toggleExpandedBtn=function qe(Ee,Ne,Xe=null){Ee.classList.toggle("toggled",Ne),Ee.setAttribute("aria-expanded",Ne),Xe?.classList.toggle("hidden",!Ne)},T.watchScroll=function Ce(Ee,Ne){const Xe=function(lt){dt||(dt=window.requestAnimationFrame(function(){dt=null;const sn=Ee.scrollLeft,yn=We.lastX;sn!==yn&&(We.right=sn>yn),We.lastX=sn;const qn=Ee.scrollTop,Vo=We.lastY;qn!==Vo&&(We.down=qn>Vo),We.lastY=qn,Ne(We)}))},We={right:!0,down:!0,lastX:Ee.scrollLeft,lastY:Ee.scrollTop,_eventHandler:Xe};let dt=null;return Ee.addEventListener("scroll",Xe,!0),We},T.DEFAULT_SCALE_VALUE="auto",T.DEFAULT_SCALE=1,T.DEFAULT_SCALE_DELTA=1.1,T.MIN_SCALE=.1,T.MAX_SCALE=10,T.UNKNOWN_SCALE=0,T.MAX_AUTO_SCALE=1.25,T.SCROLLBAR_PADDING=40,T.VERTICAL_PADDING=5,T.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},T.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const y={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};T.SidebarView=y,T.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};const D={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};T.ScrollMode=D;const W={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};T.SpreadMode=W,T.CursorTool={SELECT:0,HAND:1,ZOOM:2},T.AutoPrintRegExp=/\bprint\s*\(/,T.OutputScale=class Q{constructor(){const Ne=window.devicePixelRatio||1;this.sx=Ne,this.sy=Ne}get scaled(){return 1!==this.sx||1!==this.sy}};const Ge=/[\x01-\x1F]/g;function me(Ee,Ne,Xe=0){let We=Xe,dt=Ee.length-1;if(dt<0||!Ne(Ee[dt]))return Ee.length;if(Ne(Ee[We]))return We;for(;We<dt;){const lt=We+dt>>1;Ne(Ee[lt])?dt=lt:We=lt+1}return We}function V(Ee,Ne,Xe){if(Ee<2)return Ee;let We=Ne[Ee].div,dt=We.offsetTop+We.clientTop;dt>=Xe&&(We=Ne[Ee-1].div,dt=We.offsetTop+We.clientTop);for(let lt=Ee-2;lt>=0&&(We=Ne[lt].div,!(We.offsetTop+We.clientTop+We.clientHeight<=dt));--lt)Ee=lt;return Ee}function oe(Ee){let Ne=Math.hypot(Ee.deltaX,Ee.deltaY);const Xe=Math.atan2(Ee.deltaY,Ee.deltaX);return-.25*Math.PI<Xe&&Xe<.75*Math.PI&&(Ne=-Ne),Ne}const le=new Promise(function(Ee){window.requestAnimationFrame(Ee)});T.animationStarted=le;const ue=document.documentElement.style;T.docStyle=ue,T.ProgressBar=class Oe{#e=null;#t=null;#n=0;#i=null;#a=!0;constructor(Ne){this.#e=Ne.classList,this.#i=Ne.style}get percent(){return this.#n}set percent(Ne){this.#n=function Me(Ee,Ne,Xe){return Math.min(Math.max(Ee,Ne),Xe)}(Ne,0,100),isNaN(Ne)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`))}setWidth(Ne){if(!Ne)return;const We=Ne.parentNode.offsetWidth-Ne.offsetWidth;We>0&&this.#i.setProperty("--progressBar-end-offset",`${We}px`)}setDisableAutoFetch(Ne=5e3){isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},Ne))}hide(){this.#a&&(this.#a=!1,this.#e.add("hidden"))}show(){this.#a||(this.#a=!0,this.#e.remove("hidden"))}}},(ae,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.CharacterType=void 0,T.getCharacterType=function y(W){return function m(W){return W<11904}(W)?function f(W){return!(65408&W)}(W)?function g(W){return 32===W||9===W||13===W||10===W}(W)?b.SPACE:function O(W){return W>=97&&W<=122||W>=65&&W<=90}(W)||function E(W){return W>=48&&W<=57}(W)||95===W?b.ALPHA_LETTER:b.PUNCT:function U(W){return 3584==(65408&W)}(W)?b.THAI_LETTER:160===W?b.SPACE:b.ALPHA_LETTER:function C(W){return W>=13312&&W<=40959||W>=63744&&W<=64255}(W)?b.HAN_LETTER:function S(W){return W>=12448&&W<=12543}(W)?b.KATAKANA_LETTER:function A(W){return W>=12352&&W<=12447}(W)?b.HIRAGANA_LETTER:function X(W){return W>=65376&&W<=65439}(W)?b.HALFWIDTH_KATAKANA_LETTER:b.ALPHA_LETTER},T.getNormalizeWithNFKC=function D(){return B||="\xa0\xa8\xaa\xaf\xb2-\xb5\xb8-\xba\xbc-\xbe\u0132-\u0133\u013f-\u0140\u0149\u017f\u01c4-\u01cc\u01f1-\u01f3\u02b0-\u02b8\u02d8-\u02dd\u02e0-\u02e4\u0374\u037a\u037e\u0384-\u0385\u0387\u03d0-\u03d6\u03f0-\u03f2\u03f4-\u03f5\u03f9\u0587\u0675-\u0678\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e33\u0eb3\u0edc-\u0edd\u0f0c\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u10fc\u1d2c-\u1d2e\u1d30-\u1d3a\u1d3c-\u1d4d\u1d4f-\u1d6a\u1d78\u1d9b-\u1dbf\u1e9a-\u1e9b\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbd-\u1fc1\u1fc9\u1fcb\u1fcd-\u1fcf\u1fd3\u1fdb\u1fdd-\u1fdf\u1fe3\u1feb\u1fed-\u1fef\u1ff9\u1ffb\u1ffd-\u1ffe\u2000-\u200a\u2011\u2017\u2024-\u2026\u202f\u2033-\u2034\u2036-\u2037\u203c\u203e\u2047-\u2049\u2057\u205f\u2070-\u2071\u2074-\u208e\u2090-\u209c\u20a8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211d\u2120-\u2122\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213b-\u2140\u2145-\u2149\u2150-\u217f\u2189\u222c-\u222d\u222f-\u2230\u2329-\u232a\u2460-\u24ea\u2a0c\u2a74-\u2a76\u2adc\u2c7c-\u2c7d\u2d6f\u2e9f\u2ef3\u2f00-\u2fd5\u3000\u3036\u3038-\u303a\u309b-\u309c\u309f\u30ff\u3131-\u318e\u3192-\u319f\u3200-\u321e\u3220-\u3247\u3250-\u327e\u3280-\u33ff\ua69c-\ua69d\ua770\ua7f2-\ua7f4\ua7f8-\ua7f9\uab5c-\uab5f\uab69\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfc\ufe10-\ufe19\ufe30-\ufe44\ufe47-\ufe52\ufe54-\ufe66\ufe68-\ufe6b\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff01-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\uffe0-\uffe6",B};const b={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};let B;T.CharacterType=b},ae=>{ae.exports=globalThis.pdfjsLib},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.SimpleLinkService=T.PDFLinkService=T.LinkTarget=void 0;var m=b(2);const O={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function E(S,{url:A,target:X,rel:U,enabled:y=!0}={}){if(!A||"string"!=typeof A)throw new Error('A valid "url" parameter must provided.');y?S.href=S.title=A:(S.href="",S.title=`Disabled: ${A}`,S.onclick=()=>!1);let B="";switch(X){case O.NONE:break;case O.SELF:B="_self";break;case O.BLANK:B="_blank";break;case O.PARENT:B="_parent";break;case O.TOP:B="_top"}S.target=B,S.rel="string"==typeof U?U:"noopener noreferrer nofollow"}T.LinkTarget=O;class g{#e=new Map;constructor({eventBus:A,externalLinkTarget:X=null,externalLinkRel:U=null,ignoreDestinationZoom:y=!1}={}){this.eventBus=A,this.externalLinkTarget=X,this.externalLinkRel=U,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=y,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(A,X=null){this.baseUrl=X,this.pdfDocument=A,this.#e.clear()}setViewer(A){this.pdfViewer=A}setHistory(A){this.pdfHistory=A}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(A){this.pdfViewer.currentPageNumber=A}get rotation(){return this.pdfViewer.pagesRotation}set rotation(A){this.pdfViewer.pagesRotation=A}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}#t(A,X=null,U){const y=U[0];let B;if("object"==typeof y&&null!==y){if(B=this._cachedPageNumber(y),!B)return void this.pdfDocument.getPageIndex(y).then(D=>{this.cachePageRef(D+1,y),this.#t(A,X,U)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${y}" is not a valid page reference, for dest="${A}".`)})}else{if(!Number.isInteger(y))return void console.error(`PDFLinkService.#goToDestinationHelper: "${y}" is not a valid destination reference, for dest="${A}".`);B=y+1}!B||B<1||B>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${B}" is not a valid page number, for dest="${A}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:X,explicitDest:U,pageNumber:B})),this.pdfViewer.scrollPageIntoView({pageNumber:B,destArray:U,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(A){var X=this;return x(function*(){if(!X.pdfDocument)return;let U,y;"string"==typeof A?(U=A,y=yield X.pdfDocument.getDestination(A)):(U=null,y=yield A),Array.isArray(y)?X.#t(A,U,y):console.error(`PDFLinkService.goToDestination: "${y}" is not a valid destination array, for dest="${A}".`)})()}goToPage(A){if(!this.pdfDocument)return;const X="string"==typeof A&&this.pdfViewer.pageLabelToPageNumber(A)||0|A;Number.isInteger(X)&&X>0&&X<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(X)),this.pdfViewer.scrollPageIntoView({pageNumber:X})):console.error(`PDFLinkService.goToPage: "${A}" is not a valid page.`)}addLinkAttributes(A,X,U=!1){E(A,{url:X,target:U?O.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(A){if("string"==typeof A){if(A.length>0)return this.getAnchorUrl("#"+escape(A))}else if(Array.isArray(A)){const X=JSON.stringify(A);if(X.length>0)return this.getAnchorUrl("#"+escape(X))}return this.getAnchorUrl("")}getAnchorUrl(A){return this.baseUrl?this.baseUrl+A:A}setHash(A){if(!this.pdfDocument)return;let X,U;if(A.includes("=")){const y=(0,m.parseQueryString)(A);if(y.has("search")){const B=y.get("search").replaceAll('"',""),D="true"===y.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:D?B:B.match(/\S+/g)})}if(y.has("page")&&(X=0|y.get("page")||1),y.has("zoom")){const B=y.get("zoom").split(","),D=B[0],W=parseFloat(D);D.includes("Fit")?"Fit"===D||"FitB"===D?U=[null,{name:D}]:"FitH"===D||"FitBH"===D||"FitV"===D||"FitBV"===D?U=[null,{name:D},B.length>1?0|B[1]:null]:"FitR"===D?5!==B.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):U=[null,{name:D},0|B[1],0|B[2],0|B[3],0|B[4]]:console.error(`PDFLinkService.setHash: "${D}" is not a valid zoom value.`):U=[null,{name:"XYZ"},B.length>1?0|B[1]:null,B.length>2?0|B[2]:null,W?W/100:D]}U?this.pdfViewer.scrollPageIntoView({pageNumber:X||this.page,destArray:U,allowNegativeOffset:!0}):X&&(this.page=X),y.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:y.get("pagemode")}),y.has("nameddest")&&this.goToDestination(y.get("nameddest"))}else{U=unescape(A);try{U=JSON.parse(U),Array.isArray(U)||(U=U.toString())}catch{}if("string"==typeof U||g.#n(U))return void this.goToDestination(U);console.error(`PDFLinkService.setHash: "${unescape(A)}" is not a valid destination.`)}}executeNamedAction(A){switch(A){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:A})}executeSetOCGState(A){var X=this;return x(function*(){const U=X.pdfDocument,y=yield X.pdfViewer.optionalContentConfigPromise;if(U!==X.pdfDocument)return;let B;for(const D of A.state){switch(D){case"ON":case"OFF":case"Toggle":B=D;continue}switch(B){case"ON":y.setVisibility(D,!0);break;case"OFF":y.setVisibility(D,!1);break;case"Toggle":const W=y.getGroup(D);W&&y.setVisibility(D,!W.visible)}}X.pdfViewer.optionalContentConfigPromise=Promise.resolve(y)})()}cachePageRef(A,X){X&&this.#e.set(0===X.gen?`${X.num}R`:`${X.num}R${X.gen}`,A)}_cachedPageNumber(A){return A&&this.#e.get(0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`)||null}static#n(A){if(!Array.isArray(A))return!1;const X=A.length;if(X<2)return!1;const U=A[0];if(!("object"==typeof U&&Number.isInteger(U.num)&&Number.isInteger(U.gen)||Number.isInteger(U)&&U>=0))return!1;const y=A[1];if("object"!=typeof y||"string"!=typeof y.name)return!1;let B=!0;switch(y.name){case"XYZ":if(5!==X)return!1;break;case"Fit":case"FitB":return 2===X;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==X)return!1;break;case"FitR":if(6!==X)return!1;B=!1;break;default:return!1}for(let D=2;D<X;D++){const W=A[D];if(!("number"==typeof W||B&&null===W))return!1}return!0}}T.PDFLinkService=g,T.SimpleLinkService=class C{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(A){}get rotation(){return 0}set rotation(A){}get isInPresentationMode(){return!1}goToDestination(A){return x(function*(){})()}goToPage(A){}addLinkAttributes(A,X,U=!1){E(A,{url:X,enabled:this.externalLinkEnabled})}getDestinationHash(A){return"#"}getAnchorUrl(A){return"#"}setHash(A){}executeNamedAction(A){}executeSetOCGState(A){}cachePageRef(A,X){}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.AnnotationLayerBuilder=void 0;var m=b(4),f=b(7),O=b(2);T.AnnotationLayerBuilder=class E{#e=null;constructor({pageDiv:C,pdfPage:S,linkService:A,downloadManager:X,annotationStorage:U=null,imageResourcesPath:y="",renderForms:B=!0,l10n:D=f.NullL10n,enableScripting:W=!1,hasJSActionsPromise:ee=null,fieldObjectsPromise:fe=null,annotationCanvasMap:Q=null,accessibilityManager:Te=null}){this.pageDiv=C,this.pdfPage=S,this.linkService=A,this.downloadManager=X,this.imageResourcesPath=y,this.renderForms=B,this.l10n=D,this.annotationStorage=U,this.enableScripting=W,this._hasJSActionsPromise=ee||Promise.resolve(!1),this._fieldObjectsPromise=fe||Promise.resolve(null),this._annotationCanvasMap=Q,this._accessibilityManager=Te,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=A.eventBus}render(C,S="display"){var A=this;return x(function*(){if(A.div){if(A._cancelled||!A.annotationLayer)return;return void A.annotationLayer.update({viewport:C.clone({dontFlip:!0})})}const[X,U,y]=yield Promise.all([A.pdfPage.getAnnotations({intent:S}),A._hasJSActionsPromise,A._fieldObjectsPromise]);if(A._cancelled)return;const B=A.div=document.createElement("div");B.className="annotationLayer",A.pageDiv.append(B),0!==X.length?(A.annotationLayer=new m.AnnotationLayer({div:B,accessibilityManager:A._accessibilityManager,annotationCanvasMap:A._annotationCanvasMap,l10n:A.l10n,page:A.pdfPage,viewport:C.clone({dontFlip:!0})}),yield A.annotationLayer.render({annotations:X,imageResourcesPath:A.imageResourcesPath,renderForms:A.renderForms,linkService:A.linkService,downloadManager:A.downloadManager,annotationStorage:A.annotationStorage,enableScripting:A.enableScripting,hasJSActions:U,fieldObjects:y}),A.linkService.isInPresentationMode&&A.#t(O.PresentationModeState.FULLSCREEN),A.#e||(A.#e=D=>{A.#t(D.state)},A._eventBus?._on("presentationmodechanged",A.#e))):A.hide()})()}cancel(){this._cancelled=!0,this.#e&&(this._eventBus?._off("presentationmodechanged",this.#e),this.#e=null)}hide(){this.div&&(this.div.hidden=!0)}#t(C){if(!this.div)return;let S=!1;switch(C){case O.PresentationModeState.FULLSCREEN:S=!0;break;case O.PresentationModeState.NORMAL:break;default:return}for(const A of this.div.childNodes)A.hasAttribute("data-internal-link")||(A.inert=S)}}},(ae,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.NullL10n=void 0,T.getL10nFallback=m;const b={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function m(E,g){switch(E){case"find_match_count":E=`find_match_count[${1===g.total?"one":"other"}]`;break;case"find_match_count_limit":E=`find_match_count_limit[${1===g.limit?"one":"other"}]`}return b[E]||""}b.print_progress_percent="{{progress}}%",T.NullL10n={getLanguage:()=>x(function*(){return"en-us"})(),getDirection:()=>x(function*(){return"ltr"})(),get:(E,g=null,C=m(E,g))=>x(function*(){return function f(E,g){return g?E.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(C,S)=>S in g?g[S]:"{{"+S+"}}"):E}(C,g)})(),translate:E=>x(function*(){})()}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.DownloadManager=void 0;var m=b(4);function f(E,g){const C=document.createElement("a");if(!C.click)throw new Error('DownloadManager: "a.click()" is not supported.');C.href=E,C.target="_parent","download"in C&&(C.download=g),(document.body||document.documentElement).append(C),C.click(),C.remove()}T.DownloadManager=class O{#e=new WeakMap;downloadUrl(g,C,S){(0,m.createValidAbsoluteUrl)(g,"http://example.com")?f(g+"#pdfjs.action=download",C):console.error(`downloadUrl - not a valid URL: ${g}`)}downloadData(g,C,S){f(URL.createObjectURL(new Blob([g],{type:S})),C)}openOrDownloadData(g,C,S){const X=(0,m.isPdfFile)(S)?"application/pdf":"";return this.downloadData(C,S,X),!1}download(g,C,S,A){f(URL.createObjectURL(g),S)}}},(ae,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.WaitOnType=T.EventBus=T.AutomationEventBus=void 0,T.waitOnEventOrTimeout=function m({target:E,name:g,delay:C=0}){return new Promise(function(S,A){if("object"!=typeof E||!g||"string"!=typeof g||!(Number.isInteger(C)&&C>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function X(D){E instanceof f?E._off(g,U):E.removeEventListener(g,U),B&&clearTimeout(B),S(D)}const U=X.bind(null,b.EVENT);E instanceof f?E._on(g,U):E.addEventListener(g,U);const y=X.bind(null,b.TIMEOUT),B=setTimeout(y,C)})};const b={EVENT:"event",TIMEOUT:"timeout"};T.WaitOnType=b;class f{#e=Object.create(null);on(g,C,S=null){this._on(g,C,{external:!0,once:S?.once})}off(g,C,S=null){this._off(g,C,{external:!0,once:S?.once})}dispatch(g,C){const S=this.#e[g];if(!S||0===S.length)return;let A;for(const{listener:X,external:U,once:y}of S.slice(0))y&&this._off(g,X),U?(A||=[]).push(X):X(C);if(A){for(const X of A)X(C);A=null}}_on(g,C,S=null){(this.#e[g]||=[]).push({listener:C,external:!0===S?.external,once:!0===S?.once})}_off(g,C,S=null){const A=this.#e[g];if(A)for(let X=0,U=A.length;X<U;X++)if(A[X].listener===C)return void A.splice(X,1)}}T.EventBus=f,T.AutomationEventBus=class O extends f{dispatch(g,C){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.GenericL10n=void 0,b(11);var m=b(7);const f={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};T.GenericL10n=class E{constructor(C){const{webL10n:S}=document;this._lang=C,this._ready=new Promise((A,X)=>{S.setLanguage(function O(g){return f[g?.toLowerCase()]||g}(C),()=>{A(S)})})}getLanguage(){var C=this;return x(function*(){return(yield C._ready).getLanguage()})()}getDirection(){var C=this;return x(function*(){return(yield C._ready).getDirection()})()}get(C,S=null,A=(0,m.getL10nFallback)(C,S)){var X=this;return x(function*(){return(yield X._ready).get(C,S,A)})()}translate(C){var S=this;return x(function*(){return(yield S._ready).translate(C)})()}}},()=>{document.webL10n=function(ae,T){var b={},m="",f="textContent",O="",E={},g="loading",C=!0;function y(Le,me,Z){me=me||function(V){},Z=Z||function(){};var M=new XMLHttpRequest;M.open("GET",Le,C),M.overrideMimeType&&M.overrideMimeType("text/plain; charset=utf-8"),M.onreadystatechange=function(){4==M.readyState&&(200==M.status||0===M.status?me(M.responseText):Z())},M.onerror=Z,M.ontimeout=Z;try{M.send(null)}catch{Z()}}function D(Le,me){Le&&(Le=Le.toLowerCase()),me=me||function(){},function W(){b={},m="",O=""}(),O=Le;var Z=function S(){return T.querySelectorAll('link[type="application/l10n"]')}(),M=Z.length;if(0!==M){var oe,ce=0;oe=function(){++ce>=M&&(me(),g="complete")};for(var P=0;P<M;P++)new re(Z[P]).load(Le,oe)}else{var N=function A(){var Le=T.querySelector('script[type="application/l10n"]');return Le?JSON.parse(Le.innerHTML):null}();if(N&&N.locales&&N.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(b=N.locales[Le])){var V=N.default_locale.toLowerCase();for(var G in N.locales){if((G=G.toLowerCase())===Le){b=N.locales[Le];break}G===V&&(b=N.locales[V])}}me()}else console.log("no resource to load, early way out");g="complete"}function re(te){var le=te.href;this.load=function(ue,Me){!function B(Le,me,Z,M){var N=Le.replace(/[^\/]*$/,"")||"./";function V(oe){return oe.lastIndexOf("\\")<0?oe:oe.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}y(Le,function(oe){m+=oe,function G(oe,ce){var re={},P=/^\s*|\s*$/,K=/^\s*#|^\s*$/,te=/^\s*\[(.*)\]\s*$/,le=/^\s*@import\s+url\((.*)\)\s*$/i,ue=/^([^=\s]*)\s*=\s*(.+)$/;function Me(xe,at,Ie){var Ze=xe.replace(P,"").split(/[\r\n]+/),qe="*",Ee=me.split("-",1)[0],Ne=!1,Xe="";!function We(){for(;;){if(!Ze.length)return void Ie();var dt=Ze.shift();if(!K.test(dt)){if(at){if(Xe=te.exec(dt)){qe=Xe[1].toLowerCase(),Ne="*"!==qe&&qe!==me&&qe!==Ee;continue}if(Ne)continue;if(Xe=le.exec(dt))return void Oe(N+Xe[1],We)}var lt=dt.match(ue);lt&&3==lt.length&&(re[lt[1]]=V(lt[2]))}}}()}function Oe(xe,at){y(xe,function(Ie){Me(Ie,!1,at)},function(){console.warn(xe+" not found."),at()})}Me(oe,!0,function(){ce(re)})}(oe,function(ce){for(var re in ce){var P,K,te=re.lastIndexOf(".");te>0?(P=re.substring(0,te),K=re.substring(te+1)):(P=re,K=f),b[P]||(b[P]={}),b[P][K]=ce[re]}Z&&Z()})},M)}(le,ue,Me,function(){console.warn(le+" not found."),console.warn('"'+ue+'" resource not found'),O="",Me()})}}}function fe(Le,me,Z){var M=b[Le];if(!M){if(console.warn("#"+Le+" is undefined."),!Z)return null;M=Z}var N={};for(var V in M){var G=M[V];G=Te(G=Q(G,me,Le,V),me,Le),N[V]=G}return N}function Q(Le,me,Z,M){var V=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(Le);if(!V||!V.length)return Le;var ce,G=V[1],oe=V[2];return me&&oe in me?ce=me[oe]:oe in b&&(ce=b[oe]),G in E&&(Le=(0,E[G])(Le,ce,Z,M)),Le}function Te(Le,me,Z){return Le.replace(/\{\{\s*(.+?)\s*\}\}/g,function(N,V){return me&&V in me?me[V]:V in b?b[V]:(console.log("argument {{"+V+"}} for #"+Z+" is undefined."),N)})}function Ce(Le){var me=function U(Le){if(!Le)return{};var me=Le.getAttribute("data-l10n-id"),Z=Le.getAttribute("data-l10n-args"),M={};if(Z)try{M=JSON.parse(Z)}catch{console.warn("could not parse arguments for #"+me)}return{id:me,args:M}}(Le);if(me.id){var Z=fe(me.id,me.args);if(!Z)return void console.warn("#"+me.id+" is undefined.");if(Z[f]){if(0===function ye(Le){if(Le.children)return Le.children.length;if(typeof Le.childElementCount<"u")return Le.childElementCount;for(var me=0,Z=0;Z<Le.childNodes.length;Z++)me+=1===Le.nodeType?1:0;return me}(Le))Le[f]=Z[f];else{for(var M=Le.childNodes,N=!1,V=0,G=M.length;V<G;V++)3===M[V].nodeType&&/\S/.test(M[V].nodeValue)&&(N?M[V].nodeValue="":(M[V].nodeValue=Z[f],N=!0));if(!N){var oe=T.createTextNode(Z[f]);Le.prepend(oe)}}delete Z[f]}for(var ce in Z)Le[ce]=Z[ce]}}return E.plural=function(Le,me,Z,M){var N=parseFloat(me);if(isNaN(N)||M!=f)return Le;E._pluralRules||(E._pluralRules=function ee(Le){function Z(G,oe){return-1!==oe.indexOf(G)}function M(G,oe,ce){return oe<=G&&G<=ce}var N={0:function(G){return"other"},1:function(G){return M(G%100,3,10)?"few":0===G?"zero":M(G%100,11,99)?"many":2==G?"two":1==G?"one":"other"},2:function(G){return 0!==G&&G%10==0?"many":2==G?"two":1==G?"one":"other"},3:function(G){return 1==G?"one":"other"},4:function(G){return M(G,0,1)?"one":"other"},5:function(G){return M(G,0,2)&&2!=G?"one":"other"},6:function(G){return 0===G?"zero":G%10==1&&G%100!=11?"one":"other"},7:function(G){return 2==G?"two":1==G?"one":"other"},8:function(G){return M(G,3,6)?"few":M(G,7,10)?"many":2==G?"two":1==G?"one":"other"},9:function(G){return 0===G||1!=G&&M(G%100,1,19)?"few":1==G?"one":"other"},10:function(G){return M(G%10,2,9)&&!M(G%100,11,19)?"few":G%10!=1||M(G%100,11,19)?"other":"one"},11:function(G){return M(G%10,2,4)&&!M(G%100,12,14)?"few":G%10==0||M(G%10,5,9)||M(G%100,11,14)?"many":G%10==1&&G%100!=11?"one":"other"},12:function(G){return M(G,2,4)?"few":1==G?"one":"other"},13:function(G){return M(G%10,2,4)&&!M(G%100,12,14)?"few":1!=G&&M(G%10,0,1)||M(G%10,5,9)||M(G%100,12,14)?"many":1==G?"one":"other"},14:function(G){return M(G%100,3,4)?"few":G%100==2?"two":G%100==1?"one":"other"},15:function(G){return 0===G||M(G%100,2,10)?"few":M(G%100,11,19)?"many":1==G?"one":"other"},16:function(G){return G%10==1&&11!=G?"one":"other"},17:function(G){return 3==G?"few":0===G?"zero":6==G?"many":2==G?"two":1==G?"one":"other"},18:function(G){return 0===G?"zero":M(G,0,2)&&0!==G&&2!=G?"one":"other"},19:function(G){return M(G,2,10)?"few":M(G,0,1)?"one":"other"},20:function(G){return!M(G%10,3,4)&&G%10!=9||M(G%100,10,19)||M(G%100,70,79)||M(G%100,90,99)?G%1e6==0&&0!==G?"many":G%10!=2||Z(G%100,[12,72,92])?G%10!=1||Z(G%100,[11,71,91])?"other":"one":"two":"few"},21:function(G){return 0===G?"zero":1==G?"one":"other"},22:function(G){return M(G,0,1)||M(G,11,99)?"one":"other"},23:function(G){return M(G%10,1,2)||G%20==0?"one":"other"},24:function(G){return M(G,3,10)||M(G,13,19)?"few":Z(G,[2,12])?"two":Z(G,[1,11])?"one":"other"}},V={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[Le.replace(/-.*$/,"")];return V in N?N[V]:(console.warn("plural form unknown for ["+Le+"]"),function(){return"other"})}(O));var V="["+E._pluralRules(N)+"]";return 0===N&&Z+"[zero]"in b?Le=b[Z+"[zero]"][M]:1==N&&Z+"[one]"in b?Le=b[Z+"[one]"][M]:2==N&&Z+"[two]"in b?Le=b[Z+"[two]"][M]:Z+V in b?Le=b[Z+V][M]:Z+"[other]"in b&&(Le=b[Z+"[other]"][M]),Le},{get:function(Le,me,Z){var V,M=Le.lastIndexOf("."),N=f;M>0&&(N=Le.substring(M+1),Le=Le.substring(0,M)),Z&&((V={})[N]=Z);var G=fe(Le,me,V);return G&&N in G?G[N]:"{{"+Le+"}}"},getData:function(){return b},getText:function(){return m},getLanguage:function(){return O},setLanguage:function(Le,me){D(Le,function(){me&&me()})},getDirection:function(){var me=O.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(me)>=0?"rtl":"ltr"},translate:function Ge(Le){for(var me=function X(Le){return Le?Le.querySelectorAll("*[data-l10n-id]"):[]}(Le=Le||T.documentElement),Z=me.length,M=0;M<Z;M++)Ce(me[M]);Ce(Le)},getReadyState:function(){return g},ready:function(Le){Le&&("complete"==g||"interactive"==g?ae.setTimeout(function(){Le()}):T.addEventListener&&T.addEventListener("localized",function me(){T.removeEventListener("localized",me),Le()}))}}}(window,document)},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFHistory=void 0,T.isDestArraysEqual=X,T.isDestHashesEqual=A;var m=b(2),f=b(9);function C(){return document.location.hash}function A(U,y){return"string"==typeof U&&"string"==typeof y&&(U===y||(0,m.parseQueryString)(U).get("nameddest")===y)}function X(U,y){function B(D,W){if(typeof D!=typeof W||Array.isArray(D)||Array.isArray(W))return!1;if(null!==D&&"object"==typeof D&&null!==W){if(Object.keys(D).length!==Object.keys(W).length)return!1;for(const ee in D)if(!B(D[ee],W[ee]))return!1;return!0}return D===W||Number.isNaN(D)&&Number.isNaN(W)}if(!Array.isArray(U)||!Array.isArray(y)||U.length!==y.length)return!1;for(let D=0,W=U.length;D<W;D++)if(!B(U[D],y[D]))return!1;return!0}T.PDFHistory=class S{constructor({linkService:y,eventBus:B}){this.linkService=y,this.eventBus=B,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",D=>{this._isPagesLoaded=!!D.pagesCount},{once:!0})})}initialize({fingerprint:y,resetHistory:B=!1,updateUrl:D=!1}){if(!y||"string"!=typeof y)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==y;this._fingerprint=y,this._updateUrl=!0===D,this._initialized=!0,this._bindEvents();const ee=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=C(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(ee,!0)||B){const{hash:Q,page:Te,rotation:Ce}=this._parseCurrentHash(!0);return!Q||W||B?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:Q,page:Te,rotation:Ce},!0)}const fe=ee.destination;this._updateInternalState(fe,ee.uid,!0),void 0!==fe.rotation&&(this._initialRotation=fe.rotation),fe.dest?(this._initialBookmark=JSON.stringify(fe.dest),this._destination.page=null):fe.hash?this._initialBookmark=fe.hash:fe.page&&(this._initialBookmark=`page=${fe.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:y=null,explicitDest:B,pageNumber:D}){if(!this._initialized)return;if(y&&"string"!=typeof y)return void console.error(`PDFHistory.push: "${y}" is not a valid namedDest parameter.`);if(!Array.isArray(B))return void console.error(`PDFHistory.push: "${B}" is not a valid explicitDest parameter.`);if(!this._isValidPage(D)&&(null!==D||this._destination))return void console.error(`PDFHistory.push: "${D}" is not a valid pageNumber parameter.`);const W=y||JSON.stringify(B);if(!W)return;let ee=!1;if(this._destination&&(A(this._destination.hash,W)||X(this._destination.dest,B))){if(this._destination.page)return;ee=!0}this._popStateInProgress&&!ee||(this._pushOrReplaceState({dest:B,hash:W,page:D,rotation:this.linkService.rotation},ee),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(y){if(this._initialized){if(!this._isValidPage(y))return void console.error(`PDFHistory.pushPage: "${y}" is not a valid page number.`);this._destination?.page!==y&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${y}`,page:y,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const y=window.history.state;this._isValidState(y)&&y.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const y=window.history.state;this._isValidState(y)&&y.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(y,B=!1){const D=B||!this._destination,W={fingerprint:this._fingerprint,uid:D?this._uid:this._uid+1,destination:y};let ee;if(this._updateInternalState(y,W.uid),this._updateUrl&&y?.hash){const fe=document.location.href.split("#")[0];fe.startsWith("file://")||(ee=`${fe}#${y.hash}`)}D?window.history.replaceState(W,"",ee):window.history.pushState(W,"",ee)}_tryPushCurrentPosition(y=!1){if(!this._position)return;let B=this._position;if(y&&(B=Object.assign(Object.create(null),this._position),B.temporary=!0),!this._destination)return void this._pushOrReplaceState(B);if(this._destination.temporary)return void this._pushOrReplaceState(B,!0);if(this._destination.hash===B.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let D=!1;if(this._destination.page>=B.first&&this._destination.page<=B.page){if(void 0!==this._destination.dest||!this._destination.first)return;D=!0}this._pushOrReplaceState(B,D)}_isValidPage(y){return Number.isInteger(y)&&y>0&&y<=this.linkService.pagesCount}_isValidState(y,B=!1){if(!y)return!1;if(y.fingerprint!==this._fingerprint){if(!B)return!1;{if("string"!=typeof y.fingerprint||y.fingerprint.length!==this._fingerprint.length)return!1;const[D]=performance.getEntriesByType("navigation");if("reload"!==D?.type)return!1}}return!(!Number.isInteger(y.uid)||y.uid<0||null===y.destination||"object"!=typeof y.destination)}_updateInternalState(y,B,D=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),D&&y?.temporary&&delete y.temporary,this._destination=y,this._uid=B,this._maxUid=Math.max(this._maxUid,B),this._numPositionUpdates=0}_parseCurrentHash(y=!1){const B=unescape(C()).substring(1),D=(0,m.parseQueryString)(B),W=D.get("nameddest")||"";let ee=0|D.get("page");return(!this._isValidPage(ee)||y&&W.length>0)&&(ee=null),{hash:B,page:ee,rotation:this.linkService.rotation}}_updateViewarea({location:y}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:y.pdfOpenParams.substring(1),page:this.linkService.page,first:y.pageNumber,rotation:y.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:y}){const B=C(),D=this._currentHash!==B;if(this._currentHash=B,!y){this._uid++;const{hash:ee,page:fe,rotation:Q}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:ee,page:fe,rotation:Q},!0)}if(!this._isValidState(y))return;this._popStateInProgress=!0,D&&(this._blockHashChange++,(0,f.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=y.destination;this._updateInternalState(W,y.uid,!0),(0,m.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFPageView=void 0;var m=b(4),f=b(2),O=b(14),E=b(6),g=b(15),C=b(7),S=b(5),A=b(16),X=b(17),U=b(18),y=b(19),B=b(20);const D=g.compatibilityParams.maxCanvasPixels||16777216,W=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new S.SimpleLinkService}});T.PDFPageView=class ee{#e=m.AnnotationMode.ENABLE_FORMS;#t=!1;#n=null;#i=null;#a=null;#s=null;#r=f.RenderingStates.INITIAL;#l=f.TextLayerMode.ENABLE;#c={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#o=new WeakMap;constructor(Q){const Te=Q.container,Ce=Q.defaultViewport;this.id=Q.id,this.renderingId="page"+this.id,this.#n=Q.layerProperties||W,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=Q.scale||f.DEFAULT_SCALE,this.viewport=Ce,this.pdfPageRotate=Ce.rotation,this._optionalContentConfigPromise=Q.optionalContentConfigPromise||null,this.#l=Q.textLayerMode??f.TextLayerMode.ENABLE,this.#e=Q.annotationMode??m.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=Q.imageResourcesPath||"",this.isOffscreenCanvasSupported=Q.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=Q.maxCanvasPixels??D,this.pageColors=Q.pageColors||null,this.eventBus=Q.eventBus,this.renderingQueue=Q.renderingQueue,this.l10n=Q.l10n||C.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=Te,Q.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const ye=document.createElement("div");if(ye.className="page",ye.setAttribute("data-page-number",this.id),ye.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Ge=>{ye.setAttribute("aria-label",Ge)}),this.div=ye,this.#d(),Te?.append(ye),this._isStandalone){Te?.style.setProperty("--scale-factor",this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:Ge}=Q;Ge&&Ge.then(Le=>{Ge===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=Le.hasInitialVisibility)})}}get renderingState(){return this.#r}set renderingState(Q){if(Q!==this.#r)switch(this.#r=Q,this.#i&&(clearTimeout(this.#i),this.#i=null),Q){case f.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case f.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),this.#i=setTimeout(()=>{this.div.classList.add("loading"),this.#i=null},0);break;case f.RenderingStates.INITIAL:case f.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading")}}#d(){const{viewport:Q}=this;if(this.pdfPage){if(this.#a===Q.rotation)return;this.#a=Q.rotation}(0,m.setLayerDimensions)(this.div,Q,!0,!1)}setPdfPage(Q){this._isStandalone&&("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&this._container?.style.setProperty("--hcm-highligh-filter",Q.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight")),this.pdfPage=Q,this.pdfPageRotate=Q.rotate,this.viewport=Q.getViewport({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#d(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}get _textHighlighter(){return(0,m.shadow)(this,"_textHighlighter",new U.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#n().findController}))}#h(){var Q=this;return x(function*(){let Te=null;try{yield Q.annotationLayer.render(Q.viewport,"display")}catch(Ce){console.error(`#renderAnnotationLayer: "${Ce}".`),Te=Ce}finally{Q.eventBus.dispatch("annotationlayerrendered",{source:Q,pageNumber:Q.id,error:Te})}})()}#_(){var Q=this;return x(function*(){let Te=null;try{yield Q.annotationEditorLayer.render(Q.viewport,"display")}catch(Ce){console.error(`#renderAnnotationEditorLayer: "${Ce}".`),Te=Ce}finally{Q.eventBus.dispatch("annotationeditorlayerrendered",{source:Q,pageNumber:Q.id,error:Te})}})()}#p(){var Q=this;return x(function*(){let Te=null;try{const Ce=yield Q.xfaLayer.render(Q.viewport,"display");Ce?.textDivs&&Q._textHighlighter&&Q.#m(Ce.textDivs)}catch(Ce){console.error(`#renderXfaLayer: "${Ce}".`),Te=Ce}finally{Q.eventBus.dispatch("xfalayerrendered",{source:Q,pageNumber:Q.id,error:Te})}})()}#g(){var Q=this;return x(function*(){const{pdfPage:Te,textLayer:Ce,viewport:ye}=Q;if(!Ce)return;let Ge=null;try{if(!Ce.renderingDone){const Le=Te.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});Ce.setTextContentSource(Le)}yield Ce.render(ye)}catch(Le){if(Le instanceof m.AbortException)return;console.error(`#renderTextLayer: "${Le}".`),Ge=Le}Q.eventBus.dispatch("textlayerrendered",{source:Q,pageNumber:Q.id,numTextDivs:Ce.numTextDivs,error:Ge}),Q.#f()})()}#f(){var Q=this;return x(function*(){if(!Q.textLayer)return;Q.structTreeLayer||=new A.StructTreeLayerBuilder;const Te=yield Q.structTreeLayer.renderingDone?null:Q.pdfPage.getStructTree(),Ce=Q.structTreeLayer?.render(Te);Ce&&Q.canvas?.append(Ce),Q.structTreeLayer?.show()})()}#m(Q){var Te=this;return x(function*(){const Ce=yield Te.pdfPage.getTextContent(),ye=[];for(const Ge of Ce.items)ye.push(Ge.str);Te._textHighlighter.setTextMapping(Q,ye),Te._textHighlighter.enable()})()}_resetZoomLayer(Q=!1){if(!this.zoomLayer)return;const Te=this.zoomLayer.firstChild;this.#o.delete(Te),Te.width=0,Te.height=0,Q&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:Q=!1,keepAnnotationLayer:Te=!1,keepAnnotationEditorLayer:Ce=!1,keepXfaLayer:ye=!1,keepTextLayer:Ge=!1}={}){this.cancelRendering({keepAnnotationLayer:Te,keepAnnotationEditorLayer:Ce,keepXfaLayer:ye,keepTextLayer:Ge}),this.renderingState=f.RenderingStates.INITIAL;const Le=this.div,me=Le.childNodes,Z=Q&&this.zoomLayer||null,M=Te&&this.annotationLayer?.div||null,N=Ce&&this.annotationEditorLayer?.div||null,V=ye&&this.xfaLayer?.div||null,G=Ge&&this.textLayer?.div||null;for(let oe=me.length-1;oe>=0;oe--){const ce=me[oe];switch(ce){case Z:case M:case N:case V:case G:continue}ce.remove()}Le.removeAttribute("data-loaded"),M&&this.annotationLayer.hide(),N&&this.annotationEditorLayer.hide(),V&&this.xfaLayer.hide(),G&&this.textLayer.hide(),this.structTreeLayer?.hide(),Z||(this.canvas&&(this.#o.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:Q=0,rotation:Te=null,optionalContentConfigPromise:Ce=null,drawingDelay:ye=-1}){if(this.scale=Q||this.scale,"number"==typeof Te&&(this.rotation=Te),Ce instanceof Promise&&(this._optionalContentConfigPromise=Ce,Ce.then(Le=>{Ce===this._optionalContentConfigPromise&&(this.#c.initialOptionalContent=Le.hasInitialVisibility)})),this.#c.directDrawing=!0,this.viewport=this.viewport.clone({scale:this.scale*m.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.#d(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let Le=!1;if(this.#t)if(0===this.maxCanvasPixels)Le=!0;else if(this.maxCanvasPixels>0){const{width:Z,height:M}=this.viewport,{sx:N,sy:V}=this.outputScale;Le=(Math.floor(Z)*N|0)*(Math.floor(M)*V|0)>this.maxCanvasPixels}const me=!Le&&ye>=0&&ye<1e3;if(me||Le){if(me&&this.renderingState!==f.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:ye}),this.renderingState=f.RenderingStates.FINISHED,this.#c.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!me,hideTextLayer:me}),me)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#s})}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:Q=!1,keepAnnotationEditorLayer:Te=!1,keepXfaLayer:Ce=!1,keepTextLayer:ye=!1,cancelExtraDelay:Ge=0}={}){this.renderTask&&(this.renderTask.cancel(Ge),this.renderTask=null),this.resume=null,this.textLayer&&(!ye||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!Q||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!Te||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Ce||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:Q,redrawAnnotationLayer:Te=!1,redrawAnnotationEditorLayer:Ce=!1,redrawXfaLayer:ye=!1,redrawTextLayer:Ge=!1,hideTextLayer:Le=!1}){if(!Q.hasAttribute("zooming")){Q.setAttribute("zooming",!0);const{style:Z}=Q;Z.width=Z.height=""}const me=this.#o.get(Q);if(this.viewport!==me){const Z=this.viewport.rotation-me.rotation,M=Math.abs(Z);let N=1,V=1;if(90===M||270===M){const{width:G,height:oe}=this.viewport;N=oe/G,V=G/oe}Q.style.transform=`rotate(${Z}deg) scale(${N}, ${V})`}Te&&this.annotationLayer&&this.#h(),Ce&&this.annotationEditorLayer&&this.#_(),ye&&this.xfaLayer&&this.#p(),this.textLayer&&(Le?(this.textLayer.hide(),this.structTreeLayer?.hide()):Ge&&this.#g())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(Q,Te){return this.viewport.convertToPdfPoint(Q,Te)}#u(Q,Te=null){var Ce=this;return x(function*(){if(Q===Ce.renderTask&&(Ce.renderTask=null),Te instanceof m.RenderingCancelledException)Ce.#s=null;else if(Ce.#s=Te,Ce.renderingState=f.RenderingStates.FINISHED,Ce._resetZoomLayer(!0),Ce.#c.regularAnnotations=!Q.separateAnnots,Ce.eventBus.dispatch("pagerendered",{source:Ce,pageNumber:Ce.id,cssTransform:!1,timestamp:performance.now(),error:Ce.#s}),Te)throw Te})()}draw(){var Q=this;return x(function*(){Q.renderingState!==f.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),Q.reset());const{div:Te,l10n:Ce,pageColors:ye,pdfPage:Ge,viewport:Le}=Q;if(!Ge)throw Q.renderingState=f.RenderingStates.FINISHED,new Error("pdfPage is not loaded");Q.renderingState=f.RenderingStates.RUNNING;const me=document.createElement("div");if(me.classList.add("canvasWrapper"),Te.append(me),!Q.textLayer&&Q.#l!==f.TextLayerMode.DISABLE&&!Ge.isPureXfa&&(Q._accessibilityManager||=new X.TextAccessibilityManager,Q.textLayer=new y.TextLayerBuilder({highlighter:Q._textHighlighter,accessibilityManager:Q._accessibilityManager,isOffscreenCanvasSupported:Q.isOffscreenCanvasSupported,enablePermissions:Q.#l===f.TextLayerMode.ENABLE_PERMISSIONS}),Te.append(Q.textLayer.div)),!Q.annotationLayer&&Q.#e!==m.AnnotationMode.DISABLE){const{annotationStorage:xe,downloadManager:at,enableScripting:Ie,fieldObjectsPromise:Ze,hasJSActionsPromise:qe,linkService:Ee}=Q.#n();Q._annotationCanvasMap||=new Map,Q.annotationLayer=new E.AnnotationLayerBuilder({pageDiv:Te,pdfPage:Ge,annotationStorage:xe,imageResourcesPath:Q.imageResourcesPath,renderForms:Q.#e===m.AnnotationMode.ENABLE_FORMS,linkService:Ee,downloadManager:at,l10n:Ce,enableScripting:Ie,hasJSActionsPromise:qe,fieldObjectsPromise:Ze,annotationCanvasMap:Q._annotationCanvasMap,accessibilityManager:Q._accessibilityManager})}const{width:M,height:N}=Le,V=document.createElement("canvas");V.setAttribute("role","presentation"),V.hidden=!0;const G=!(!ye?.background||!ye?.foreground);let oe=xe=>{(!G||xe)&&(V.hidden=!1,oe=null)};me.append(V),Q.canvas=V;const ce=V.getContext("2d",{alpha:!1}),re=Q.outputScale=new f.OutputScale;if(0===Q.maxCanvasPixels){const xe=1/Q.scale;re.sx*=xe,re.sy*=xe,Q.#t=!0}else if(Q.maxCanvasPixels>0){const at=Math.sqrt(Q.maxCanvasPixels/(M*N));re.sx>at||re.sy>at?(re.sx=at,re.sy=at,Q.#t=!0):Q.#t=!1}const P=(0,f.approximateFraction)(re.sx),K=(0,f.approximateFraction)(re.sy);V.width=(0,f.roundToDivide)(M*re.sx,P[0]),V.height=(0,f.roundToDivide)(N*re.sy,K[0]);const{style:te}=V;te.width=(0,f.roundToDivide)(M,P[1])+"px",te.height=(0,f.roundToDivide)(N,K[1])+"px",Q.#o.set(V,Le);const ue={canvasContext:ce,transform:re.scaled?[re.sx,0,0,re.sy,0,0]:null,viewport:Le,annotationMode:Q.#e,optionalContentConfigPromise:Q._optionalContentConfigPromise,annotationCanvasMap:Q._annotationCanvasMap,pageColors:ye},Me=Q.renderTask=Q.pdfPage.render(ue);Me.onContinue=xe=>{if(oe?.(!1),Q.renderingQueue&&!Q.renderingQueue.isHighestPriority(Q))return Q.renderingState=f.RenderingStates.PAUSED,void(Q.resume=()=>{Q.renderingState=f.RenderingStates.RUNNING,xe()});xe()};const Oe=Me.promise.then(x(function*(){if(oe?.(!0),yield Q.#u(Me),Q.#g(),Q.annotationLayer&&(yield Q.#h()),!Q.annotationEditorLayer){const{annotationEditorUIManager:xe}=Q.#n();if(!xe)return;Q.annotationEditorLayer=new O.AnnotationEditorLayerBuilder({uiManager:xe,pageDiv:Te,pdfPage:Ge,l10n:Ce,accessibilityManager:Q._accessibilityManager,annotationLayer:Q.annotationLayer?.annotationLayer})}Q.#_()}),xe=>(xe instanceof m.RenderingCancelledException||oe?.(!0),Q.#u(Me,xe)));if(Ge.isPureXfa){if(Q.xfaLayer)Q.xfaLayer.div&&Te.append(Q.xfaLayer.div);else{const{annotationStorage:xe,linkService:at}=Q.#n();Q.xfaLayer=new B.XfaLayerBuilder({pageDiv:Te,pdfPage:Ge,annotationStorage:xe,linkService:at})}Q.#p()}return Te.setAttribute("data-loaded",!0),Q.eventBus.dispatch("pagerender",{source:Q,pageNumber:Q.id}),Oe})()}setPageLabel(Q){this.pageLabel="string"==typeof Q?Q:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:Q,initialOptionalContent:Te,regularAnnotations:Ce}=this.#c;return Q&&Te&&Ce?this.canvas:null}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.AnnotationEditorLayerBuilder=void 0;var m=b(4),f=b(7);T.AnnotationEditorLayerBuilder=class O{#e=null;#t;constructor(g){this.pageDiv=g.pageDiv,this.pdfPage=g.pdfPage,this.accessibilityManager=g.accessibilityManager,this.l10n=g.l10n||f.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#t=g.uiManager,this.#e=g.annotationLayer||null}render(g,C="display"){var S=this;return x(function*(){if("display"!==C||S._cancelled)return;const A=g.clone({dontFlip:!0});if(S.div)return S.annotationEditorLayer.update({viewport:A}),void S.show();const X=S.div=document.createElement("div");X.className="annotationEditorLayer",X.tabIndex=0,X.hidden=!0,X.dir=S.#t.direction,S.pageDiv.append(X),S.annotationEditorLayer=new m.AnnotationEditorLayer({uiManager:S.#t,div:X,accessibilityManager:S.accessibilityManager,pageIndex:S.pdfPage.pageNumber-1,l10n:S.l10n,viewport:A,annotationLayer:S.#e}),S.annotationEditorLayer.render({viewport:A,div:X,annotations:null,intent:C}),S.show()})()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}},(ae,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.compatibilityParams=T.OptionKind=T.AppOptions=void 0;const b=Object.create(null);T.compatibilityParams=b;{const g=navigator.userAgent||"",C=navigator.platform||"",S=navigator.maxTouchPoints||1,A=/Android/.test(g);(/\b(iPad|iPhone|iPod)(?=;)/.test(g)||"MacIntel"===C&&S>1||A)&&(b.maxCanvasPixels=5242880)}const m={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};T.OptionKind=m;const f={annotationEditorMode:{value:0,kind:m.VIEWER+m.PREFERENCE},annotationMode:{value:2,kind:m.VIEWER+m.PREFERENCE},cursorToolOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},defaultZoomDelay:{value:400,kind:m.VIEWER+m.PREFERENCE},defaultZoomValue:{value:"",kind:m.VIEWER+m.PREFERENCE},disableHistory:{value:!1,kind:m.VIEWER},disablePageLabels:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePermissions:{value:!1,kind:m.VIEWER+m.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableScripting:{value:!0,kind:m.VIEWER+m.PREFERENCE},enableStampEditor:{value:!0,kind:m.VIEWER+m.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:m.VIEWER},externalLinkTarget:{value:0,kind:m.VIEWER+m.PREFERENCE},historyUpdateUrl:{value:!1,kind:m.VIEWER+m.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:m.VIEWER+m.PREFERENCE},imageResourcesPath:{value:"./images/",kind:m.VIEWER},maxCanvasPixels:{value:16777216,kind:m.VIEWER},forcePageColors:{value:!1,kind:m.VIEWER+m.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:m.VIEWER+m.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:m.VIEWER+m.PREFERENCE},pdfBugEnabled:{value:!1,kind:m.VIEWER+m.PREFERENCE},printResolution:{value:150,kind:m.VIEWER},sidebarViewOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},scrollModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},spreadModeOnLoad:{value:-1,kind:m.VIEWER+m.PREFERENCE},textLayerMode:{value:1,kind:m.VIEWER+m.PREFERENCE},viewerCssTheme:{value:0,kind:m.VIEWER+m.PREFERENCE},viewOnLoad:{value:0,kind:m.VIEWER+m.PREFERENCE},cMapPacked:{value:!0,kind:m.API},cMapUrl:{value:"../web/cmaps/",kind:m.API},disableAutoFetch:{value:!1,kind:m.API+m.PREFERENCE},disableFontFace:{value:!1,kind:m.API+m.PREFERENCE},disableRange:{value:!1,kind:m.API+m.PREFERENCE},disableStream:{value:!1,kind:m.API+m.PREFERENCE},docBaseUrl:{value:"",kind:m.API},enableXfa:{value:!0,kind:m.API+m.PREFERENCE},fontExtraProperties:{value:!1,kind:m.API},isEvalSupported:{value:!0,kind:m.API},isOffscreenCanvasSupported:{value:!0,kind:m.API},maxImageSize:{value:-1,kind:m.API},pdfBug:{value:!1,kind:m.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:m.API},verbosity:{value:1,kind:m.API},workerPort:{value:null,kind:m.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:m.WORKER}};f.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:m.VIEWER},f.disablePreferences={value:!1,kind:m.VIEWER},f.locale={value:navigator.language||"en-US",kind:m.VIEWER},f.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:m.VIEWER};const O=Object.create(null);class E{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(C){const S=O[C];if(void 0!==S)return S;const A=f[C];return void 0!==A?b[C]??A.value:void 0}static getAll(C=null){const S=Object.create(null);for(const A in f){const X=f[A];if(C){if(!(C&X.kind))continue;if(C===m.PREFERENCE){const y=X.value,B=typeof y;if("boolean"===B||"string"===B||"number"===B&&Number.isInteger(y)){S[A]=y;continue}throw new Error(`Invalid type for preference: ${A}`)}}const U=O[A];S[A]=void 0!==U?U:b[A]??X.value}return S}static set(C,S){O[C]=S}static setAll(C){for(const S in C)O[S]=C[S]}static remove(C){delete O[C]}}T.AppOptions=E,E._hasUserOptions=function(){return Object.keys(O).length>0}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.StructTreeLayerBuilder=void 0;var m=b(2);const f={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},O=/^H(\d+)$/;T.StructTreeLayerBuilder=class E{#e=void 0;get renderingDone(){return void 0!==this.#e}render(C){if(void 0!==this.#e)return this.#e;const S=this.#n(C);return S?.classList.add("structTree"),this.#e=S}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(C,S){const{alt:A,id:X,lang:U}=C;void 0!==A&&S.setAttribute("aria-label",(0,m.removeNullCharacters)(A)),void 0!==X&&S.setAttribute("aria-owns",X),void 0!==U&&S.setAttribute("lang",(0,m.removeNullCharacters)(U,!0))}#n(C){if(!C)return null;const S=document.createElement("span");if("role"in C){const{role:A}=C,X=A.match(O);X?(S.setAttribute("role","heading"),S.setAttribute("aria-level",X[1])):f[A]&&S.setAttribute("role",f[A])}if(this.#t(C,S),C.children)if(1===C.children.length&&"id"in C.children[0])this.#t(C.children[0],S);else for(const A of C.children)S.append(this.#n(A));return S}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TextAccessibilityManager=void 0;var m=b(2);class f{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(E){this.#t=E}static#a(E,g){const C=E.getBoundingClientRect(),S=g.getBoundingClientRect();if(0===C.width&&0===C.height)return 1;if(0===S.width&&0===S.height)return-1;const U=C.y+C.height/2,D=S.y+S.height/2;return U<=S.y&&D>=C.y+C.height?-1:D<=C.y&&U>=S.y+S.height?1:C.x+C.width/2-(S.x+S.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(f.#a),this.#n.size>0){const E=this.#t;for(const[g,C]of this.#n)document.getElementById(g)?this.#s(g,E[C]):this.#n.delete(g)}for(const[E,g]of this.#i)this.addPointerInTextLayer(E,g);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(E){if(!this.#e)return void this.#i.delete(E);const g=this.#t;if(!g||0===g.length)return;const{id:C}=E,S=this.#n.get(C);if(void 0===S)return;const A=g[S];this.#n.delete(C);let X=A.getAttribute("aria-owns");X?.includes(C)&&(X=X.split(" ").filter(U=>U!==C).join(" "),X?A.setAttribute("aria-owns",X):(A.removeAttribute("aria-owns"),A.setAttribute("role","presentation")))}#s(E,g){const C=g.getAttribute("aria-owns");C?.includes(E)||g.setAttribute("aria-owns",C?`${C} ${E}`:E),g.removeAttribute("role")}addPointerInTextLayer(E,g){const{id:C}=E;if(!C)return null;if(!this.#e)return this.#i.set(E,g),null;g&&this.removePointerInTextLayer(E);const S=this.#t;if(!S||0===S.length)return null;const A=(0,m.binarySearchFirstItem)(S,B=>f.#a(E,B)<0),X=Math.max(0,A-1),U=S[X];this.#s(C,U),this.#n.set(C,X);const y=U.parentNode;return y?.classList.contains("markedContent")?y.id:null}moveElementInDOM(E,g,C,S){const A=this.addPointerInTextLayer(C,S);if(!E.hasChildNodes())return E.append(g),A;const X=Array.from(E.childNodes).filter(B=>B!==g);if(0===X.length)return A;const U=C||g,y=(0,m.binarySearchFirstItem)(X,B=>f.#a(U,B)<0);return 0===y?X[0].before(g):X[y-1].after(g),A}}T.TextAccessibilityManager=f},(ae,T)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TextHighlighter=void 0,T.TextHighlighter=class b{constructor({findController:f,eventBus:O,pageIndex:E}){this.findController=f,this.matches=[],this.eventBus=O,this.pageIdx=E,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(f,O){this.textDivs=f,this.textContentItemsStr=O}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=f=>{(f.pageIndex===this.pageIdx||-1===f.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(f,O){if(!f)return[];const{textContentItemsStr:E}=this;let g=0,C=0;const S=E.length-1,A=[];for(let X=0,U=f.length;X<U;X++){let y=f[X];for(;g!==S&&y>=C+E[g].length;)C+=E[g].length,g++;g===E.length&&console.error("Could not find a matching mapping");const B={begin:{divIdx:g,offset:y-C}};for(y+=O[X];g!==S&&y>C+E[g].length;)C+=E[g].length,g++;B.end={divIdx:g,offset:y-C},A.push(B)}return A}_renderMatches(f){if(0===f.length)return;const{findController:O,pageIdx:E}=this,{textContentItemsStr:g,textDivs:C}=this,S=E===O.selected.pageIdx,A=O.selected.matchIdx;let U=null;function B(Te,Ce){const ye=Te.divIdx;return C[ye].textContent="",D(ye,0,Te.offset,Ce)}function D(Te,Ce,ye,Ge){let Le=C[Te];if(Le.nodeType===Node.TEXT_NODE){const M=document.createElement("span");Le.before(M),M.append(Le),C[Te]=M,Le=M}const me=g[Te].substring(Ce,ye),Z=document.createTextNode(me);if(Ge){const M=document.createElement("span");return M.className=`${Ge} appended`,M.append(Z),Le.append(M),Ge.includes("selected")?M.offsetLeft:0}return Le.append(Z),0}let W=A,ee=W+1;if(O.state.highlightAll)W=0,ee=f.length;else if(!S)return;let fe=-1,Q=-1;for(let Te=W;Te<ee;Te++){const Ce=f[Te],ye=Ce.begin;if(ye.divIdx===fe&&ye.offset===Q)continue;fe=ye.divIdx,Q=ye.offset;const Ge=Ce.end,Le=S&&Te===A,me=Le?" selected":"";let Z=0;if(U&&ye.divIdx===U.divIdx?D(U.divIdx,U.offset,ye.offset):(null!==U&&D(U.divIdx,U.offset,undefined),B(ye)),ye.divIdx===Ge.divIdx)Z=D(ye.divIdx,ye.offset,Ge.offset,"highlight"+me);else{Z=D(ye.divIdx,ye.offset,undefined,"highlight begin"+me);for(let M=ye.divIdx+1,N=Ge.divIdx;M<N;M++)C[M].className="highlight middle"+me;B(Ge,"highlight end"+me)}U=Ge,Le&&O.scrollMatchIntoView({element:C[ye.divIdx],selectedLeft:Z,pageIndex:E,matchIndex:A})}U&&D(U.divIdx,U.offset,undefined)}_updateMatches(f=!1){if(!this.enabled&&!f)return;const{findController:O,matches:E,pageIdx:g}=this,{textContentItemsStr:C,textDivs:S}=this;let A=-1;for(const y of E){for(let D=Math.max(A,y.begin.divIdx),W=y.end.divIdx;D<=W;D++){const ee=S[D];ee.textContent=C[D],ee.className=""}A=y.end.divIdx+1}O?.highlightMatches&&!f&&(this.matches=this._convertMatches(O.pageMatches[g]||null,O.pageMatchesLength[g]||null),this._renderMatches(this.matches))}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.TextLayerBuilder=void 0;var m=b(4),f=b(2);T.TextLayerBuilder=class O{#e=!1;#t=0;#n=0;#i=null;constructor({highlighter:g=null,accessibilityManager:C=null,isOffscreenCanvasSupported:S=!0,enablePermissions:A=!1}){this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=g,this.accessibilityManager=C,this.isOffscreenCanvasSupported=S,this.#e=!0===A,this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}#a(){this.renderingDone=!0;const g=document.createElement("div");g.className="endOfContent",this.div.append(g),this.#s()}get numTextDivs(){return this.textDivs.length}render(g){var C=this;return x(function*(){if(!C.#i)throw new Error('No "textContentSource" parameter specified.');const S=g.scale*(globalThis.devicePixelRatio||1),{rotation:A}=g;if(C.renderingDone){const X=A!==C.#t,U=S!==C.#n;return(X||U)&&(C.hide(),(0,m.updateTextLayer)({container:C.div,viewport:g,textDivs:C.textDivs,textDivProperties:C.textDivProperties,isOffscreenCanvasSupported:C.isOffscreenCanvasSupported,mustRescale:U,mustRotate:X}),C.#n=S,C.#t=A),void C.show()}C.cancel(),C.highlighter?.setTextMapping(C.textDivs,C.textContentItemsStr),C.accessibilityManager?.setTextMapping(C.textDivs),C.textLayerRenderTask=(0,m.renderTextLayer)({textContentSource:C.#i,container:C.div,viewport:g,textDivs:C.textDivs,textDivProperties:C.textDivProperties,textContentItemsStr:C.textContentItemsStr,isOffscreenCanvasSupported:C.isOffscreenCanvasSupported}),yield C.textLayerRenderTask.promise,C.#a(),C.#n=S,C.#t=A,C.show(),C.accessibilityManager?.enable()})()}hide(){this.div.hidden||(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(g){this.cancel(),this.#i=g}#s(){const{div:g}=this;g.addEventListener("mousedown",C=>{const S=g.querySelector(".endOfContent");if(!S)return;let A=C.target!==g;if(A&&="none"!==getComputedStyle(S).getPropertyValue("-moz-user-select"),A){const X=g.getBoundingClientRect(),U=Math.max(0,(C.pageY-X.top)/X.height);S.style.top=(100*U).toFixed(2)+"%"}S.classList.add("active")}),g.addEventListener("mouseup",()=>{const C=g.querySelector(".endOfContent");C&&(C.style.top="",C.classList.remove("active"))}),g.addEventListener("copy",C=>{if(!this.#e){const S=document.getSelection();C.clipboardData.setData("text/plain",(0,f.removeNullCharacters)((0,m.normalizeUnicode)(S.toString())))}C.preventDefault(),C.stopPropagation()})}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.XfaLayerBuilder=void 0;var m=b(4);T.XfaLayerBuilder=class f{constructor({pageDiv:E,pdfPage:g,annotationStorage:C=null,linkService:S,xfaHtml:A=null}){this.pageDiv=E,this.pdfPage=g,this.annotationStorage=C,this.linkService=S,this.xfaHtml=A,this.div=null,this._cancelled=!1}render(E,g="display"){var C=this;return x(function*(){if("print"===g){const X={viewport:E.clone({dontFlip:!0}),div:C.div,xfaHtml:C.xfaHtml,annotationStorage:C.annotationStorage,linkService:C.linkService,intent:g},U=document.createElement("div");return C.pageDiv.append(U),X.div=U,m.XfaLayer.render(X)}const S=yield C.pdfPage.getXfa();if(C._cancelled||!S)return{textDivs:[]};const A={viewport:E.clone({dontFlip:!0}),div:C.div,xfaHtml:S,annotationStorage:C.annotationStorage,linkService:C.linkService,intent:g};return C.div?m.XfaLayer.update(A):(C.div=document.createElement("div"),C.pageDiv.append(C.div),A.div=C.div,m.XfaLayer.render(A))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFScriptingManager=void 0;var m=b(22),f=b(23);T.PDFScriptingManager=class O extends f.PDFScriptingManager{constructor(g){g.externalServices||window.addEventListener("updatefromsandbox",C=>{g.eventBus.dispatch("updatefromsandbox",{source:window,detail:C.detail})}),g.externalServices||={createScripting:({sandboxBundleSrc:C})=>new m.GenericScripting(C)},g.docProperties||=C=>(0,m.docProperties)(C),super(g)}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.GenericScripting=void 0,T.docProperties=function f(g){return O.apply(this,arguments)};var m=b(4);function O(){return(O=x(function*(g){const S="".split("#")[0];let{info:A,metadata:X,contentDispositionFilename:U,contentLength:y}=yield g.getMetadata();if(!y){const{length:B}=yield g.getDownloadInfo();y=B}return{...A,baseURL:S,filesize:y,filename:U||(0,m.getPdfFilenameFromUrl)(""),metadata:X?.getRaw(),authors:X?.get("dc:creator"),numPages:g.numPages,URL:""}})).apply(this,arguments)}T.GenericScripting=class E{constructor(C){this._ready=(0,m.loadScript)(C,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(C){var S=this;return x(function*(){(yield S._ready).create(C)})()}dispatchEventInSandbox(C){var S=this;return x(function*(){const A=yield S._ready;setTimeout(()=>A.dispatchEvent(C),0)})()}destroySandbox(){var C=this;return x(function*(){(yield C._ready).nukeSandbox()})()}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFScriptingManager=void 0;var m=b(2),f=b(4);T.PDFScriptingManager=class O{#e=null;#t=null;#n=null;#i=null;#a=null;#s=null;#r=null;#l=!1;#c=null;#o=null;#d=null;constructor({eventBus:g,sandboxBundleSrc:C=null,externalServices:S=null,docProperties:A=null}){this.#i=g,this.#c=C,this.#a=S,this.#n=A}setViewer(g){this.#r=g}setDocument(g){var C=this;return x(function*(){if(C.#s&&(yield C.#f()),C.#s=g,!g)return;const[S,A,X]=yield Promise.all([g.getFieldObjects(),g.getCalculationOrderIds(),g.getJSActions()]);if(S||X){if(g===C.#s){try{C.#o=C.#g()}catch(U){return console.error(`setDocument: "${U.message}".`),void(yield C.#f())}C._internalEvents.set("updatefromsandbox",U=>{U?.source===window&&C.#h(U.detail)}),C._internalEvents.set("dispatcheventinsandbox",U=>{C.#o?.dispatchEventInSandbox(U.detail)}),C._internalEvents.set("pagechanging",({pageNumber:U,previous:y})=>{U!==y&&(C.#p(y),C.#_(U))}),C._internalEvents.set("pagerendered",({pageNumber:U})=>{C._pageOpenPending.has(U)&&U===C.#r.currentPageNumber&&C.#_(U)}),C._internalEvents.set("pagesdestroy",x(function*(){yield C.#p(C.#r.currentPageNumber),yield C.#o?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),C.#e?.resolve()}));for(const[U,y]of C._internalEvents)C.#i._on(U,y);try{const U=yield C.#n(g);if(g!==C.#s)return;yield C.#o.createSandbox({objects:S,calculationOrder:A,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...U,actions:X}}),C.#i.dispatch("sandboxcreated",{source:C})}catch(U){return console.error(`setDocument: "${U.message}".`),void(yield C.#f())}yield C.#o?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield C.#_(C.#r.currentPageNumber,!0),Promise.resolve().then(()=>{g===C.#s&&(C.#l=!0)})}}else yield C.#f()})()}dispatchWillSave(){var g=this;return x(function*(){return g.#o?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(){var g=this;return x(function*(){return g.#o?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(){var g=this;return x(function*(){if(g.#o){yield g.#d?.promise,g.#d=new f.PromiseCapability;try{yield g.#o.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(C){throw g.#d.resolve(),g.#d=null,C}yield g.#d.promise}})()}dispatchDidPrint(){var g=this;return x(function*(){return g.#o?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#l}get _internalEvents(){return(0,f.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,f.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,f.shadow)(this,"_visitedPages",new Map)}#h(g){var C=this;return x(function*(){const S=C.#r,A=S.isInPresentationMode||S.isChangingPresentationMode,{id:X,siblings:U,command:y,value:B}=g;if(!X){switch(y){case"clear":console.clear();break;case"error":console.error(B);break;case"layout":if(!A){const W=(0,m.apiPageLayoutToViewerModes)(B);S.spreadMode=W.spreadMode}break;case"page-num":S.currentPageNumber=B+1;break;case"print":yield S.pagesPromise,C.#i.dispatch("print",{source:C});break;case"println":console.log(B);break;case"zoom":A||(S.currentScaleValue=B);break;case"SaveAs":C.#i.dispatch("download",{source:C});break;case"FirstPage":S.currentPageNumber=1;break;case"LastPage":S.currentPageNumber=S.pagesCount;break;case"NextPage":S.nextPage();break;case"PrevPage":S.previousPage();break;case"ZoomViewIn":A||S.increaseScale();break;case"ZoomViewOut":A||S.decreaseScale();break;case"WillPrintFinished":C.#d?.resolve(),C.#d=null}return}if(A&&g.focus)return;delete g.id,delete g.siblings;const D=U?[X,...U]:[X];for(const W of D){const ee=document.querySelector(`[data-element-id="${W}"]`);ee?ee.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:g})):C.#s?.annotationStorage.setValue(W,g)}})()}#_(g,C=!1){var S=this;return x(function*(){const A=S.#s,X=S._visitedPages;if(C&&(S.#e=new f.PromiseCapability),!S.#e)return;const U=S.#r.getPageView(g-1);if(U?.renderingState!==m.RenderingStates.FINISHED)return void S._pageOpenPending.add(g);S._pageOpenPending.delete(g);const y=x(function*(){const B=yield X.has(g)?null:U.pdfPage?.getJSActions();A===S.#s&&(yield S.#o?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:g,actions:B}))})();X.set(g,y)})()}#p(g){var C=this;return x(function*(){const S=C.#s,A=C._visitedPages;if(!C.#e||C._pageOpenPending.has(g))return;const X=A.get(g);X&&(A.set(g,null),yield X,S===C.#s&&(yield C.#o?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:g})))})()}#g(){if(this.#t=new f.PromiseCapability,this.#o)throw new Error("#initScripting: Scripting already exists.");return this.#a.createScripting({sandboxBundleSrc:this.#c})}#f(){var g=this;return x(function*(){if(!g.#o)return g.#s=null,void g.#t?.resolve();g.#e&&(yield Promise.race([g.#e.promise,new Promise(C=>{setTimeout(C,1e3)})]).catch(()=>{}),g.#e=null),g.#s=null;try{yield g.#o.destroySandbox()}catch{}g.#d?.reject(new Error("Scripting destroyed.")),g.#d=null;for(const[C,S]of g._internalEvents)g.#i._off(C,S);g._internalEvents.clear(),g._pageOpenPending.clear(),g._visitedPages.clear(),g.#o=null,g.#l=!1,g.#t?.resolve()})()}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFSinglePageViewer=void 0;var m=b(2),f=b(25);T.PDFSinglePageViewer=class O extends f.PDFViewer{_resetView(){super._resetView(),this._scrollMode=m.ScrollMode.PAGE,this._spreadMode=m.SpreadMode.NONE}set scrollMode(g){}_updateScrollMode(){}set spreadMode(g){}_updateSpreadMode(){}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PagesCountLimit=T.PDFViewer=T.PDFPageViewBuffer=void 0;var m=b(4),f=b(2),O=b(7),E=b(13),g=b(26),C=b(5);const A={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function X(B){return Object.values(m.AnnotationEditorType).includes(B)&&B!==m.AnnotationEditorType.DISABLE}T.PagesCountLimit=A;class U{#e=new Set;#t=0;constructor(D){this.#t=D}push(D){const W=this.#e;W.has(D)&&W.delete(D),W.add(D),W.size>this.#t&&this.#n()}resize(D,W=null){this.#t=D;const ee=this.#e;if(W){const fe=ee.size;let Q=1;for(const Te of ee)if(W.has(Te.id)&&(ee.delete(Te),ee.add(Te)),++Q>fe)break}for(;ee.size>this.#t;)this.#n()}has(D){return this.#e.has(D)}[Symbol.iterator](){return this.#e.keys()}#n(){const D=this.#e.keys().next().value;D?.destroy(),this.#e.delete(D)}}T.PDFPageViewBuffer=U,T.PDFViewer=class y{#e=null;#t=null;#n=m.AnnotationEditorType.NONE;#i=null;#a=m.AnnotationMode.ENABLE_FORMS;#s=null;#r=null;#l=!1;#c=!1;#o=null;#d=!1;#h=0;#_=new ResizeObserver(this.#A.bind(this));#p=null;#g=null;#f=null;#m=f.TextLayerMode.ENABLE;constructor(D){const W="3.11.174";if(m.version!==W)throw new Error(`The API version "${m.version}" does not match the Viewer version "${W}".`);if(this.container=D.container,this.viewer=D.viewer||D.container.firstElementChild,"DIV"!==this.container?.tagName||"DIV"!==this.viewer?.tagName)throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.#_.observe(this.container),this.eventBus=D.eventBus,this.linkService=D.linkService||new C.SimpleLinkService,this.downloadManager=D.downloadManager||null,this.findController=D.findController||null,this.#t=D.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=ee=>this._getVisiblePages().ids.has(ee)),this._scriptingManager=D.scriptingManager||null,this.#m=D.textLayerMode??f.TextLayerMode.ENABLE,this.#a=D.annotationMode??m.AnnotationMode.ENABLE_FORMS,this.#n=D.annotationEditorMode??m.AnnotationEditorType.NONE,this.imageResourcesPath=D.imageResourcesPath||"",this.enablePrintAutoRotate=D.enablePrintAutoRotate||!1,this.removePageBorders=D.removePageBorders||!1,D.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),D.maxCanvasPixels=0),this.isOffscreenCanvasSupported=D.isOffscreenCanvasSupported??!0,this.maxCanvasPixels=D.maxCanvasPixels,this.l10n=D.l10n||O.NullL10n,this.#l=D.enablePermissions||!1,this.pageColors=D.pageColors||null,this.defaultRenderingQueue=!D.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new g.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=D.renderingQueue,this.scroll=(0,f.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=f.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#T(),this.eventBus._on("thumbnailrendered",({pageNumber:ee,pdfPage:fe})=>{this.#e.has(this._pages[ee-1])||fe?.cleanup()})}get pagesCount(){return this._pages.length}getPageView(D){return this._pages[D]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(D=>D?.pdfPage)}get renderForms(){return this.#a===m.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(D){if(!Number.isInteger(D))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(D,!0)||console.error(`currentPageNumber: "${D}" is not a valid page.`))}_setCurrentPageNumber(D,W=!1){if(this._currentPageNumber===D)return W&&this.#O(),!0;if(!(0<D&&D<=this.pagesCount))return!1;const ee=this._currentPageNumber;return this._currentPageNumber=D,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:D,pageLabel:this._pageLabels?.[D-1]??null,previous:ee}),W&&this.#O(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(D){if(!this.pdfDocument)return;let W=0|D;if(this._pageLabels){const ee=this._pageLabels.indexOf(D);ee>=0&&(W=ee+1)}this._setCurrentPageNumber(W,!0)||console.error(`currentPageLabel: "${D}" is not a valid page.`)}get currentScale(){return this._currentScale!==f.UNKNOWN_SCALE?this._currentScale:f.DEFAULT_SCALE}set currentScale(D){if(isNaN(D))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#C(D,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(D){this.pdfDocument&&this.#C(D,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(D){if(!(0,f.isValidRotation)(D))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((D%=360)<0&&(D+=360),this._pagesRotation===D))return;this._pagesRotation=D;const W=this._currentPageNumber;this.refresh(!0,{rotation:D}),this._currentScaleValue&&this.#C(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:D,pageNumber:W}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#u(){const D=this;return{get annotationEditorUIManager(){return D.#i},get annotationStorage(){return D.pdfDocument?.annotationStorage},get downloadManager(){return D.downloadManager},get enableScripting(){return!!D._scriptingManager},get fieldObjectsPromise(){return D.pdfDocument?.getFieldObjects()},get findController(){return D.findController},get hasJSActionsPromise(){return D.pdfDocument?.hasJSActions()},get linkService(){return D.linkService}}}#v(D){const W={annotationEditorMode:this.#n,annotationMode:this.#a,textLayerMode:this.#m};return D&&(!D.includes(m.PermissionFlag.COPY)&&this.#m===f.TextLayerMode.ENABLE&&(W.textLayerMode=f.TextLayerMode.ENABLE_PERMISSIONS),D.includes(m.PermissionFlag.MODIFY_CONTENTS)||(W.annotationEditorMode=m.AnnotationEditorType.DISABLE),!D.includes(m.PermissionFlag.MODIFY_ANNOTATIONS)&&!D.includes(m.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#a===m.AnnotationMode.ENABLE_FORMS&&(W.annotationMode=m.AnnotationMode.ENABLE)),W}#S(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const D=new Promise(W=>{this.#g=()=>{"hidden"===document.visibilityState&&(W(),document.removeEventListener("visibilitychange",this.#g),this.#g=null)},document.addEventListener("visibilitychange",this.#g)});return Promise.race([this._onePageRenderedCapability.promise,D])}getAllText(){var D=this;return x(function*(){const W=[],ee=[];for(let fe=1,Q=D.pdfDocument.numPages;fe<=Q;++fe){if(D.#d)return null;ee.length=0;const Te=yield D.pdfDocument.getPage(fe),{items:Ce}=yield Te.getTextContent();for(const ye of Ce)ye.str&&ee.push(ye.str),ye.hasEOL&&ee.push("\n");W.push((0,f.removeNullCharacters)(ee.join("")))}return W.join("\n")})()}#w(D,W){const ee=document.getSelection(),{focusNode:fe,anchorNode:Q}=ee;if(Q&&fe&&ee.containsNode(this.#o)){if(this.#c||D===f.TextLayerMode.ENABLE_PERMISSIONS)return W.preventDefault(),void W.stopPropagation();this.#c=!0;const Te=this.container.style.cursor;this.container.style.cursor="wait";const Ce=ye=>this.#d="Escape"===ye.key;window.addEventListener("keydown",Ce),this.getAllText().then(function(){var ye=x(function*(Ge){null!==Ge&&(yield navigator.clipboard.writeText(Ge))});return function(Ge){return ye.apply(this,arguments)}}()).catch(ye=>{console.warn(`Something goes wrong when extracting the text: ${ye.message}`)}).finally(()=>{this.#c=!1,this.#d=!1,window.removeEventListener("keydown",Ce),this.container.style.cursor=Te}),W.preventDefault(),W.stopPropagation()}}setDocument(D){var W=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#i&&(this.#i.destroy(),this.#i=null)),this.pdfDocument=D,!D)return;const ee=D.numPages,fe=D.getPage(1),Q=D.getOptionalContentConfig(),Te=this.#l?D.getPermissions():Promise.resolve();if(ee>A.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Ce=this._scrollMode=f.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Ce})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:ee})},()=>{}),this._onBeforeDraw=Ce=>{const ye=this._pages[Ce.pageNumber-1];ye&&this.#e.push(ye)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Ce=>{Ce.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Ce.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([fe,Te]).then(([Ce,ye])=>{if(D!==this.pdfDocument)return;this._firstPageCapability.resolve(Ce),this._optionalContentConfigPromise=Q;const{annotationEditorMode:Ge,annotationMode:Le,textLayerMode:me}=this.#v(ye);if(me!==f.TextLayerMode.DISABLE){const oe=this.#o=document.createElement("div");oe.id="hiddenCopyElement",this.viewer.before(oe)}if(Ge!==m.AnnotationEditorType.DISABLE){const oe=Ge;D.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):X(oe)?(this.#i=new m.AnnotationEditorUIManager(this.container,this.viewer,this.#t,this.eventBus,D,this.pageColors),oe!==m.AnnotationEditorType.NONE&&this.#i.updateMode(oe)):console.error(`Invalid AnnotationEditor mode: ${oe}`)}const Z=this.#u.bind(this),M=this._scrollMode===f.ScrollMode.PAGE?null:this.viewer,N=this.currentScale,V=Ce.getViewport({scale:N*m.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",V.scale),("CanvasText"===this.pageColors?.foreground||"Canvas"===this.pageColors?.background)&&this.viewer.style.setProperty("--hcm-highligh-filter",D.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let oe=1;oe<=ee;++oe){const ce=new E.PDFPageView({container:M,eventBus:this.eventBus,id:oe,scale:N,defaultViewport:V.clone(),optionalContentConfigPromise:Q,renderingQueue:this.renderingQueue,textLayerMode:me,annotationMode:Le,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:Z});this._pages.push(ce)}const G=this._pages[0];G&&(G.setPdfPage(Ce),this.linkService.cachePageRef(1,Ce.ref)),this._scrollMode===f.ScrollMode.PAGE?this.#M():this._spreadMode!==f.SpreadMode.NONE&&this._updateSpreadMode(),this.#S().then(x(function*(){if(W.findController?.setDocument(D),W._scriptingManager?.setDocument(D),W.#o&&(W.#r=W.#w.bind(W,me),document.addEventListener("copy",W.#r)),W.#i&&W.eventBus.dispatch("annotationeditormodechanged",{source:W,mode:W.#n}),D.loadingParams.disableAutoFetch||ee>A.FORCE_LAZY_PAGE_INIT)return void W._pagesCapability.resolve();let oe=ee-1;if(oe<=0)W._pagesCapability.resolve();else for(let ce=2;ce<=ee;++ce){const re=D.getPage(ce).then(P=>{const K=W._pages[ce-1];K.pdfPage||K.setPdfPage(P),W.linkService.cachePageRef(ce,P.ref),0==--oe&&W._pagesCapability.resolve()},P=>{console.error(`Unable to get page ${ce} to initialize viewer`,P),0==--oe&&W._pagesCapability.resolve()});ce%A.PAUSE_EAGER_PAGE_INIT==0&&(yield re)}})),this.eventBus.dispatch("pagesinit",{source:this}),D.getMetadata().then(({info:oe})=>{D===this.pdfDocument&&oe.Language&&(this.viewer.lang=oe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Ce=>{console.error("Unable to initialize viewer",Ce),this._pagesCapability.reject(Ce)})}setPageLabels(D){if(this.pdfDocument){D?Array.isArray(D)&&this.pdfDocument.numPages===D.length?this._pageLabels=D:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let W=0,ee=this._pages.length;W<ee;W++)this._pages[W].setPageLabel(this._pageLabels?.[W]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=f.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new U(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new m.PromiseCapability,this._onePageRenderedCapability=new m.PromiseCapability,this._pagesCapability=new m.PromiseCapability,this._scrollMode=f.ScrollMode.VERTICAL,this._previousScrollMode=f.ScrollMode.UNKNOWN,this._spreadMode=f.SpreadMode.NONE,this.#p={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#g&&(document.removeEventListener("visibilitychange",this.#g),this.#g=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#o&&(document.removeEventListener("copy",this.#r),this.#r=null,this.#o.remove(),this.#o=null)}#M(){if(this._scrollMode!==f.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const D=this._currentPageNumber,W=this.#p,ee=this.viewer;if(ee.textContent="",W.pages.length=0,this._spreadMode!==f.SpreadMode.NONE||this.isInPresentationMode){const fe=new Set,Q=this._spreadMode-1;-1===Q?fe.add(D-1):D%2!==Q?(fe.add(D-1),fe.add(D)):(fe.add(D-2),fe.add(D-1));const Te=document.createElement("div");if(Te.className="spread",this.isInPresentationMode){const Ce=document.createElement("div");Ce.className="dummyPage",Te.append(Ce)}for(const Ce of fe){const ye=this._pages[Ce];ye&&(Te.append(ye.div),W.pages.push(ye))}ee.append(Te)}else{const fe=this._pages[D-1];ee.append(fe.div),W.pages.push(fe)}W.scrollDown=D>=W.previousPageNumber,W.previousPageNumber=D}_scrollUpdate(){0!==this.pagesCount&&this.update()}#b(D,W=null){const{div:ee,id:fe}=D;if(this._currentPageNumber!==fe&&this._setCurrentPageNumber(fe),this._scrollMode===f.ScrollMode.PAGE&&(this.#M(),this.update()),!W&&!this.isInPresentationMode){const Q=ee.offsetLeft+ee.clientLeft,Te=Q+ee.clientWidth,{scrollLeft:Ce,clientWidth:ye}=this.container;(this._scrollMode===f.ScrollMode.HORIZONTAL||Q<Ce||Te>Ce+ye)&&(W={left:0,top:0})}(0,f.scrollIntoView)(ee,W),!this._currentScaleValue&&this._location&&(this._location=null)}#L(D){return D===this._currentScale||Math.abs(D-this._currentScale)<1e-15}#I(D,W,{noScroll:ee=!1,preset:fe=!1,drawingDelay:Q=-1}){if(this._currentScaleValue=W.toString(),this.#L(D))return void(fe&&this.eventBus.dispatch("scalechanging",{source:this,scale:D,presetValue:W}));this.viewer.style.setProperty("--scale-factor",D*m.PixelsPerInch.PDF_TO_CSS_UNITS);const Te=Q>=0&&Q<1e3;if(this.refresh(!0,{scale:D,drawingDelay:Te?Q:-1}),Te&&(this.#f=setTimeout(()=>{this.#f=null,this.refresh()},Q)),this._currentScale=D,!ee){let ye,Ce=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ce=this._location.pageNumber,ye=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ce,destArray:ye,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:D,presetValue:fe?W:void 0}),this.defaultRenderingQueue&&this.update()}get#x(){return this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL?2:1}#C(D,W){let ee=parseFloat(D);if(ee>0)W.preset=!1,this.#I(ee,D,W);else{const fe=this._pages[this._currentPageNumber-1];if(!fe)return;let Q=f.SCROLLBAR_PADDING,Te=f.VERTICAL_PADDING;this.isInPresentationMode?(Q=Te=4,this._spreadMode!==f.SpreadMode.NONE&&(Q*=2)):this.removePageBorders?Q=Te=0:this._scrollMode===f.ScrollMode.HORIZONTAL&&([Q,Te]=[Te,Q]);const Ce=(this.container.clientWidth-Q)/fe.width*fe.scale/this.#x,ye=(this.container.clientHeight-Te)/fe.height*fe.scale;switch(D){case"page-actual":ee=1;break;case"page-width":ee=Ce;break;case"page-height":ee=ye;break;case"page-fit":ee=Math.min(Ce,ye);break;case"auto":const Ge=(0,f.isPortraitOrientation)(fe)?Ce:Math.min(ye,Ce);ee=Math.min(f.MAX_AUTO_SCALE,Ge);break;default:return void console.error(`#setScale: "${D}" is an unknown zoom value.`)}W.preset=!0,this.#I(ee,D,W)}}#O(){const D=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#C(this._currentScaleValue,{noScroll:!0}),this.#b(D)}pageLabelToPageNumber(D){if(!this._pageLabels)return null;const W=this._pageLabels.indexOf(D);return W<0?null:W+1}scrollPageIntoView({pageNumber:D,destArray:W=null,allowNegativeOffset:ee=!1,ignoreDestinationZoom:fe=!1}){if(!this.pdfDocument)return;const Q=Number.isInteger(D)&&this._pages[D-1];if(!Q)return void console.error(`scrollPageIntoView: "${D}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!W)return void this._setCurrentPageNumber(D,!0);let Le,me,Te=0,Ce=0,ye=0,Ge=0;const Z=Q.rotation%180!=0,M=(Z?Q.height:Q.width)/Q.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS,N=(Z?Q.width:Q.height)/Q.scale/m.PixelsPerInch.PDF_TO_CSS_UNITS;let V=0;switch(W[1].name){case"XYZ":Te=W[2],Ce=W[3],V=W[4],Te=null!==Te?Te:0,Ce=null!==Ce?Ce:N;break;case"Fit":case"FitB":V="page-fit";break;case"FitH":case"FitBH":Ce=W[2],V="page-width",null===Ce&&this._location?(Te=this._location.left,Ce=this._location.top):("number"!=typeof Ce||Ce<0)&&(Ce=N);break;case"FitV":case"FitBV":Te=W[2],ye=M,Ge=N,V="page-height";break;case"FitR":Te=W[2],Ce=W[3],ye=W[4]-Te,Ge=W[5]-Ce;let re=f.SCROLLBAR_PADDING,P=f.VERTICAL_PADDING;this.removePageBorders&&(re=P=0),Le=(this.container.clientWidth-re)/ye/m.PixelsPerInch.PDF_TO_CSS_UNITS,me=(this.container.clientHeight-P)/Ge/m.PixelsPerInch.PDF_TO_CSS_UNITS,V=Math.min(Math.abs(Le),Math.abs(me));break;default:return void console.error(`scrollPageIntoView: "${W[1].name}" is not a valid destination type.`)}if(fe||(V&&V!==this._currentScale?this.currentScaleValue=V:this._currentScale===f.UNKNOWN_SCALE&&(this.currentScaleValue=f.DEFAULT_SCALE_VALUE)),"page-fit"===V&&!W[4])return void this.#b(Q);const G=[Q.viewport.convertToViewportPoint(Te,Ce),Q.viewport.convertToViewportPoint(Te+ye,Ce+Ge)];let oe=Math.min(G[0][0],G[1][0]),ce=Math.min(G[0][1],G[1][1]);ee||(oe=Math.max(oe,0),ce=Math.max(ce,0)),this.#b(Q,{left:oe,top:ce})}_updateLocation(D){const W=this._currentScale,ee=this._currentScaleValue,fe=parseFloat(ee)===W?Math.round(1e4*W)/100:ee,Q=D.id,Ce=this.container,ye=this._pages[Q-1].getPagePoint(Ce.scrollLeft-D.x,Ce.scrollTop-D.y),Ge=Math.round(ye[0]),Le=Math.round(ye[1]);let me=`#page=${Q}`;this.isInPresentationMode||(me+=`&zoom=${fe},${Ge},${Le}`),this._location={pageNumber:Q,scale:fe,top:Le,left:Ge,rotation:this._pagesRotation,pdfOpenParams:me}}update(){const D=this._getVisiblePages(),W=D.views,ee=W.length;if(0===ee)return;const fe=Math.max(10,2*ee+1);this.#e.resize(fe,D.ids),this.renderingQueue.renderHighestPriority(D);const Q=this._spreadMode===f.SpreadMode.NONE&&(this._scrollMode===f.ScrollMode.PAGE||this._scrollMode===f.ScrollMode.VERTICAL),Te=this._currentPageNumber;let Ce=!1;for(const ye of W){if(ye.percent<100)break;if(ye.id===Te&&Q){Ce=!0;break}}this._setCurrentPageNumber(Ce?Te:W[0].id),this._updateLocation(D.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(D){return this.container.contains(D)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===f.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===f.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const D=this._scrollMode===f.ScrollMode.PAGE?this.#p.pages:this._pages,W=this._scrollMode===f.ScrollMode.HORIZONTAL;return(0,f.getVisibleElements)({scrollEl:this.container,views:D,sortByVisibility:!0,horizontal:W,rtl:W&&this._isContainerRtl})}cleanup(){for(const D of this._pages)D.renderingState!==f.RenderingStates.FINISHED&&D.reset()}_cancelRendering(){for(const D of this._pages)D.cancelRendering()}#y(D){var W=this;return x(function*(){if(D.pdfPage)return D.pdfPage;try{const ee=yield W.pdfDocument.getPage(D.id);return D.pdfPage||D.setPdfPage(ee),W.linkService._cachedPageNumber?.(ee.ref)||W.linkService.cachePageRef(D.id,ee.ref),ee}catch(ee){return console.error("Unable to get page for page view",ee),null}})()}#D(D){if(1===D.first?.id)return!0;if(D.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case f.ScrollMode.PAGE:return this.#p.scrollDown;case f.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(D){const W=D||this._getVisiblePages(),ee=this.#D(W),Q=this.renderingQueue.getHighestPriority(W,this._pages,ee,this._spreadMode!==f.SpreadMode.NONE&&this._scrollMode!==f.ScrollMode.HORIZONTAL);return!!Q&&(this.#y(Q).then(()=>{this.renderingQueue.renderView(Q)}),!0)}get hasEqualPageSizes(){const D=this._pages[0];for(let W=1,ee=this._pages.length;W<ee;++W){const fe=this._pages[W];if(fe.width!==D.width||fe.height!==D.height)return!1}return!0}getPagesOverview(){let D;return this._pages.map(W=>{const ee=W.pdfPage.getViewport({scale:1}),fe=(0,f.isPortraitOrientation)(ee);if(void 0===D)D=fe;else if(this.enablePrintAutoRotate&&fe!==D)return{width:ee.height,height:ee.width,rotation:(ee.rotation-90)%360};return{width:ee.width,height:ee.height,rotation:ee.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(D){if(!(D instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${D}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=D,this.refresh(!1,{optionalContentConfigPromise:D}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:D}))}get scrollMode(){return this._scrollMode}set scrollMode(D){if(this._scrollMode!==D){if(!(0,f.isValidScrollMode)(D))throw new Error(`Invalid scroll mode: ${D}`);this.pagesCount>A.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=D,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:D}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(D=null){const W=this._scrollMode,ee=this.viewer;ee.classList.toggle("scrollHorizontal",W===f.ScrollMode.HORIZONTAL),ee.classList.toggle("scrollWrapped",W===f.ScrollMode.WRAPPED),this.pdfDocument&&D&&(W===f.ScrollMode.PAGE?this.#M():this._previousScrollMode===f.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#C(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(D,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(D){if(this._spreadMode!==D){if(!(0,f.isValidSpreadMode)(D))throw new Error(`Invalid spread mode: ${D}`);this._spreadMode=D,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:D}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(D=null){if(!this.pdfDocument)return;const W=this.viewer,ee=this._pages;if(this._scrollMode===f.ScrollMode.PAGE)this.#M();else if(W.textContent="",this._spreadMode===f.SpreadMode.NONE)for(const fe of this._pages)W.append(fe.div);else{const fe=this._spreadMode-1;let Q=null;for(let Te=0,Ce=ee.length;Te<Ce;++Te)null===Q?(Q=document.createElement("div"),Q.className="spread",W.append(Q)):Te%2===fe&&(Q=Q.cloneNode(!1),W.append(Q)),Q.append(ee[Te].div)}D&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#C(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(D,!0),this.update())}_getPageAdvance(D,W=!1){switch(this._scrollMode){case f.ScrollMode.WRAPPED:{const{views:ee}=this._getVisiblePages(),fe=new Map;for(const{id:Q,y:Te,percent:Ce,widthPercent:ye}of ee){if(0===Ce||ye<100)continue;let Ge=fe.get(Te);Ge||fe.set(Te,Ge||=[]),Ge.push(Q)}for(const Q of fe.values()){const Te=Q.indexOf(D);if(-1===Te)continue;const Ce=Q.length;if(1===Ce)break;if(W)for(let ye=Te-1,Ge=0;ye>=Ge;ye--){const me=Q[ye+1]-1;if(Q[ye]<me)return D-me}else for(let ye=Te+1,Ge=Ce;ye<Ge;ye++){const me=Q[ye-1]+1;if(Q[ye]>me)return me-D}if(W){const ye=Q[0];if(ye<D)return D-ye+1}else{const ye=Q[Ce-1];if(ye>D)return ye-D+1}break}break}case f.ScrollMode.HORIZONTAL:break;case f.ScrollMode.PAGE:case f.ScrollMode.VERTICAL:{if(this._spreadMode===f.SpreadMode.NONE)break;const ee=this._spreadMode-1;if(W&&D%2!==ee)break;if(!W&&D%2===ee)break;const{views:fe}=this._getVisiblePages(),Q=W?D-1:D+1;for(const{id:Te,percent:Ce,widthPercent:ye}of fe)if(Te===Q){if(Ce>0&&100===ye)return 2;break}break}}return 1}nextPage(){const D=this._currentPageNumber,W=this.pagesCount;if(D>=W)return!1;const ee=this._getPageAdvance(D,!1)||1;return this.currentPageNumber=Math.min(D+ee,W),!0}previousPage(){const D=this._currentPageNumber;if(D<=1)return!1;const W=this._getPageAdvance(D,!0)||1;return this.currentPageNumber=Math.max(D-W,1),!0}increaseScale({drawingDelay:D,scaleFactor:W,steps:ee}={}){if(!this.pdfDocument)return;let fe=this._currentScale;if(W>1)fe=Math.round(fe*W*100)/100;else{ee??=1;do{fe=Math.ceil(10*(fe*f.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--ee>0&&fe<f.MAX_SCALE)}this.#C(Math.min(f.MAX_SCALE,fe),{noScroll:!1,drawingDelay:D})}decreaseScale({drawingDelay:D,scaleFactor:W,steps:ee}={}){if(!this.pdfDocument)return;let fe=this._currentScale;if(W>0&&W<1)fe=Math.round(fe*W*100)/100;else{ee??=1;do{fe=Math.floor(10*(fe/f.DEFAULT_SCALE_DELTA).toFixed(2))/10}while(--ee>0&&fe>f.MIN_SCALE)}this.#C(Math.max(f.MIN_SCALE,fe),{noScroll:!1,drawingDelay:D})}#T(D=this.container.clientHeight){D!==this.#h&&(this.#h=D,f.docStyle.setProperty("--viewer-container-height",`${D}px`))}#A(D){for(const W of D)if(W.target===this.container){this.#T(Math.floor(W.borderBoxSize[0].blockSize)),this.#s=null;break}}get containerTopLeft(){return this.#s||=[this.container.offsetTop,this.container.offsetLeft]}get annotationEditorMode(){return this.#i?this.#n:m.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:D,editId:W=null}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");if(this.#n!==D){if(!X(D))throw new Error(`Invalid AnnotationEditor mode: ${D}`);this.pdfDocument&&(this.#n=D,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:D}),this.#i.updateMode(D,W))}}set annotationEditorParams({type:D,value:W}){if(!this.#i)throw new Error("The AnnotationEditor is not enabled.");this.#i.updateParams(D,W)}refresh(D=!1,W=Object.create(null)){if(this.pdfDocument){for(const ee of this._pages)ee.update(W);null!==this.#f&&(clearTimeout(this.#f),this.#f=null),D||this.update()}}}},(ae,T,b)=>{Object.defineProperty(T,"__esModule",{value:!0}),T.PDFRenderingQueue=void 0;var m=b(4),f=b(2);T.PDFRenderingQueue=class E{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(C){this.pdfViewer=C}setThumbnailViewer(C){this.pdfThumbnailViewer=C}isHighestPriority(C){return this.highestPriorityPage===C.renderingId}renderHighestPriority(C){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(C)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(C,S,A,X=!1){const U=C.views,y=U.length;if(0===y)return null;for(let fe=0;fe<y;fe++){const Q=U[fe].view;if(!this.isViewFinished(Q))return Q}const B=C.first.id,D=C.last.id;if(D-B+1>y){const fe=C.ids;for(let Q=1,Te=D-B;Q<Te;Q++){const Ce=A?B+Q:D-Q;if(fe.has(Ce))continue;const ye=S[Ce-1];if(!this.isViewFinished(ye))return ye}}let W=A?D:B-2,ee=S[W];return ee&&!this.isViewFinished(ee)||X&&(W+=A?1:-1,ee=S[W],ee&&!this.isViewFinished(ee))?ee:null}isViewFinished(C){return C.renderingState===f.RenderingStates.FINISHED}renderView(C){switch(C.renderingState){case f.RenderingStates.FINISHED:return!1;case f.RenderingStates.PAUSED:this.highestPriorityPage=C.renderingId,C.resume();break;case f.RenderingStates.RUNNING:this.highestPriorityPage=C.renderingId;break;case f.RenderingStates.INITIAL:this.highestPriorityPage=C.renderingId,C.draw().finally(()=>{this.renderHighestPriority()}).catch(S=>{S instanceof m.RenderingCancelledException||console.error(`renderView: "${S}"`)})}return!0}}}],ve={};function de(ae){var T=ve[ae];if(void 0!==T)return T.exports;var b=ve[ae]={exports:{}};return ne[ae](b,b.exports,de),b.exports}var Se={};return(()=>{var ae=Se;Object.defineProperty(ae,"__esModule",{value:!0}),Object.defineProperty(ae,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(ae,"DownloadManager",{enumerable:!0,get:function(){return O.DownloadManager}}),Object.defineProperty(ae,"EventBus",{enumerable:!0,get:function(){return E.EventBus}}),Object.defineProperty(ae,"FindState",{enumerable:!0,get:function(){return T.FindState}}),Object.defineProperty(ae,"GenericL10n",{enumerable:!0,get:function(){return g.GenericL10n}}),Object.defineProperty(ae,"LinkTarget",{enumerable:!0,get:function(){return b.LinkTarget}}),Object.defineProperty(ae,"NullL10n",{enumerable:!0,get:function(){return C.NullL10n}}),Object.defineProperty(ae,"PDFFindController",{enumerable:!0,get:function(){return T.PDFFindController}}),Object.defineProperty(ae,"PDFHistory",{enumerable:!0,get:function(){return S.PDFHistory}}),Object.defineProperty(ae,"PDFLinkService",{enumerable:!0,get:function(){return b.PDFLinkService}}),Object.defineProperty(ae,"PDFPageView",{enumerable:!0,get:function(){return A.PDFPageView}}),Object.defineProperty(ae,"PDFScriptingManager",{enumerable:!0,get:function(){return X.PDFScriptingManager}}),Object.defineProperty(ae,"PDFSinglePageViewer",{enumerable:!0,get:function(){return U.PDFSinglePageViewer}}),Object.defineProperty(ae,"PDFViewer",{enumerable:!0,get:function(){return y.PDFViewer}}),Object.defineProperty(ae,"ProgressBar",{enumerable:!0,get:function(){return m.ProgressBar}}),Object.defineProperty(ae,"RenderingStates",{enumerable:!0,get:function(){return m.RenderingStates}}),Object.defineProperty(ae,"ScrollMode",{enumerable:!0,get:function(){return m.ScrollMode}}),Object.defineProperty(ae,"SimpleLinkService",{enumerable:!0,get:function(){return b.SimpleLinkService}}),Object.defineProperty(ae,"SpreadMode",{enumerable:!0,get:function(){return m.SpreadMode}}),Object.defineProperty(ae,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return B.StructTreeLayerBuilder}}),Object.defineProperty(ae,"TextLayerBuilder",{enumerable:!0,get:function(){return D.TextLayerBuilder}}),Object.defineProperty(ae,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(ae,"parseQueryString",{enumerable:!0,get:function(){return m.parseQueryString}});var T=de(1),b=de(5),m=de(2),f=de(6),O=de(8),E=de(9),g=de(10),C=de(7),S=de(12),A=de(13),X=de(21),U=de(24),y=de(25),B=de(16),D=de(19),W=de(20)})(),Se})(),De.exports=ve.pdfjsViewer=de()},640:()=>{},237:()=>{},492:()=>{},815:()=>{},671:()=>{},787:()=>{},293:De=>{function I(x,ne,ve,de,Se,ae,T){try{var b=x[ae](T),m=b.value}catch(f){return void ve(f)}b.done?ne(m):Promise.resolve(m).then(de,Se)}De.exports=function ge(x){return function(){var ne=this,ve=arguments;return new Promise(function(de,Se){var ae=x.apply(ne,ve);function T(m){I(ae,de,Se,T,b,"next",m)}function b(m){I(ae,de,Se,T,b,"throw",m)}T(void 0)})}},De.exports.__esModule=!0,De.exports.default=De.exports}},De=>{De(De.s=302)}]);